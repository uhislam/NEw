function validElementString(e){try{return 0!==angular.element(e).length}catch(e){return!1}}!function(w){"use strict";var u={objectMaxDepth:5};function n(e){if(!we(e))return u;ye(e.objectMaxDepth)&&(u.objectMaxDepth=d(e.objectMaxDepth)?e.objectMaxDepth:NaN)}function d(e){return _(e)&&0<e}function k(a,s){return s=s||Error,function(){for(var e=arguments[0],t=arguments[1],n="["+(a?a+":":"")+e+"] ",r=Le(arguments,2).map(function(e){return rt(e,u.objectMaxDepth)}),n=(n+=t.replace(/\{\d+\}/g,function(e){var t=+e.slice(1,-1);return t<r.length?r[t]:e}))+("\nhttp://errors.angularjs.org/1.6.5/"+(a?a+"/":"")+e),i=0,o="?";i<r.length;i++,o="&")n+=o+"p"+i+"="+encodeURIComponent(r[i]);return new s(n)}}var f=/^\/(.+)\/([a-z]*)$/,p="validity",H=Object.prototype.hasOwnProperty,T=function(e){return _e(e)?e.toLowerCase():e},E=function(e){return _e(e)?e.toUpperCase():e};"i"!=="I".toLowerCase()&&(T=function(e){return _e(e)?e.replace(/[A-Z]/g,function(e){return String.fromCharCode(32|e.charCodeAt(0))}):e},E=function(e){return _e(e)?e.replace(/[a-z]/g,function(e){return String.fromCharCode(-33&e.charCodeAt(0))}):e});var pe,i,m,g=[].slice,r=[].splice,A=[].push,v=Object.prototype.toString,O=Object.getPrototypeOf,M=k("ng"),y=w.angular||(w.angular={}),P=0;function R(e){var t;return null!=e&&!U(e)&&(ke(e)||_e(e)||pe&&e instanceof pe||_(t="length"in Object(e)&&e.length)&&(0<=t&&(t-1 in e||e instanceof Array)||"function"==typeof e.item))}function me(e,t,n){if(e)if(xe(e))for(i in e)"prototype"!==i&&"length"!==i&&"name"!==i&&e.hasOwnProperty(i)&&t.call(n,e[i],i,e);else if(ke(e)||R(e))for(var r="object"!=typeof e,i=0,o=e.length;i<o;i++)(r||i in e)&&t.call(n,e[i],i,e);else if(e.forEach&&e.forEach!==me)e.forEach(t,n,e);else if(z(e))for(i in e)t.call(n,e[i],i,e);else if("function"==typeof e.hasOwnProperty)for(i in e)e.hasOwnProperty(i)&&t.call(n,e[i],i,e);else for(i in e)H.call(e,i)&&t.call(n,e[i],i,e);return e}function D(e,t,n){for(var r=Object.keys(e).sort(),i=0;i<r.length;i++)t.call(n,e[r[i]],r[i])}function I(n){return function(e,t){n(t,e)}}function N(){return++P}function j(e,t){t?e.$$hashKey=t:delete e.$$hashKey}function L(e,t,n){for(var r=e.$$hashKey,i=0,o=t.length;i<o;++i){var a=t[i];if(we(a)||xe(a))for(var s=Object.keys(a),l=0,c=s.length;l<c;l++){var u=s[l],d=a[u];n&&we(d)?x(d)?e[u]=new Date(d.valueOf()):B(d)?e[u]=new RegExp(d):d.nodeName?e[u]=d.cloneNode(!0):G(d)?e[u]=d.clone():(we(e[u])||(e[u]=ke(d)?[]:{}),L(e[u],[d],!0)):e[u]=d}}return j(e,r),e}function ge(e){return L(e,g.call(arguments,1),!1)}function V(e){return L(e,g.call(arguments,1),!0)}function b(e){return parseInt(e,10)}var Oe=w.document.documentMode,$=Number.isNaN||function(e){return e!=e};function Me(e,t){return ge(Object.create(e),t)}function ve(){}function Pe(e){return e}function S(e){return function(){return e}}function F(e){return xe(e.toString)&&e.toString!==v}function be(e){return void 0===e}function ye(e){return void 0!==e}function we(e){return null!==e&&"object"==typeof e}function z(e){return null!==e&&"object"==typeof e&&!O(e)}function _e(e){return"string"==typeof e}function _(e){return"number"==typeof e}function x(e){return"[object Date]"===v.call(e)}ve.$inject=[],Pe.$inject=[];var ke=Array.isArray;function De(e){switch(v.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return 1;default:return e instanceof Error}}function xe(e){return"function"==typeof e}function B(e){return"[object RegExp]"===v.call(e)}function U(e){return e&&e.window===e}function Re(e){return e&&e.$evalAsync&&e.$watch}function Ie(e){return"boolean"==typeof e}function W(e){return e&&xe(e.then)}var q=/^\[object (?:Uint8|Uint8Clamped|Uint16|Uint32|Int8|Int16|Int32|Float32|Float64)Array]$/;var Ce=function(e){return _e(e)?e.trim():e},Y=function(e){return e.replace(/([-()[\]{}+?*.$^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")};function G(e){return!(!e||!(e.nodeName||e.prop&&e.attr&&e.find))}function Se(e){return T(e.nodeName||e[0]&&e[0].nodeName)}function K(e,t){return-1!==Array.prototype.indexOf.call(e,t)}function Ne(e,t){t=e.indexOf(t);return 0<=t&&e.splice(t,1),t}function X(e,n,t){var r,i=[],o=[];if(t=d(t)?t:NaN,n){if((r=n)&&_(r.length)&&q.test(v.call(r))||"[object ArrayBuffer]"===v.call(n))throw M("cpta","Can't copy! TypedArray destination cannot be mutated.");if(e===n)throw M("cpi","Can't copy! Source and destination are identical.");return ke(n)?n.length=0:me(n,function(e,t){"$$hashKey"!==t&&delete n[t]}),i.push(e),o.push(n),a(e,n,t)}return s(e,t);function a(e,t,n){if(--n<0)return"...";var r,i=t.$$hashKey;if(ke(e))for(var o=0,a=e.length;o<a;o++)t.push(s(e[o],n));else if(z(e))for(r in e)t[r]=s(e[r],n);else if(e&&"function"==typeof e.hasOwnProperty)for(r in e)e.hasOwnProperty(r)&&(t[r]=s(e[r],n));else for(r in e)H.call(e,r)&&(t[r]=s(e[r],n));return j(t,i),t}function s(e,t){if(!we(e))return e;var n=i.indexOf(e);if(-1!==n)return o[n];if(U(e)||Re(e))throw M("cpws","Can't copy! Making copies of Window or Scope instances is not supported.");var n=!1,r=function(e){switch(v.call(e)){case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Float32Array]":case"[object Float64Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return new e.constructor(s(e.buffer),e.byteOffset,e.length);case"[object ArrayBuffer]":return e.slice?e.slice(0):(t=new ArrayBuffer(e.byteLength),new Uint8Array(t).set(new Uint8Array(e)),t);case"[object Boolean]":case"[object Number]":case"[object String]":case"[object Date]":return new e.constructor(e.valueOf());case"[object RegExp]":var t=new RegExp(e.source,e.toString().match(/[^/]*$/)[0]);return t.lastIndex=e.lastIndex,t;case"[object Blob]":return new e.constructor([e],{type:e.type})}if(xe(e.cloneNode))return e.cloneNode(!0)}(e);return void 0===r&&(r=ke(e)?[]:Object.create(O(e)),n=!0),i.push(e),o.push(r),n?a(e,r,t):r}}function je(e,t){return e===t||e!=e&&t!=t}function Te(e,t){if(e===t)return!0;if(null!==e&&null!==t){if(e!=e&&t!=t)return!0;var n,r,i,o=typeof e;if(o==typeof t&&"object"==o){if(!ke(e)){if(x(e))return!!x(t)&&je(e.getTime(),t.getTime());if(B(e))return!!B(t)&&e.toString()===t.toString();if(Re(e)||Re(t)||U(e)||U(t)||ke(t)||x(t)||B(t))return!1;for(r in i=Ee(),e)if("$"!==r.charAt(0)&&!xe(e[r])){if(!Te(e[r],t[r]))return!1;i[r]=!0}for(r in t)if(!(r in i)&&"$"!==r.charAt(0)&&ye(t[r])&&!xe(t[r]))return!1;return!0}if(!ke(t))return!1;if((n=e.length)===t.length){for(r=0;r<n;r++)if(!Te(e[r],t[r]))return!1;return!0}}}return!1}var J=function(){var e;return ye(J.rules)||((e=w.document.querySelector("[ng-csp]")||w.document.querySelector("[data-ng-csp]"))?(e=e.getAttribute("ng-csp")||e.getAttribute("data-ng-csp"),J.rules={noUnsafeEval:!e||-1!==e.indexOf("no-unsafe-eval"),noInlineStyle:!e||-1!==e.indexOf("no-inline-style")}):J.rules={noUnsafeEval:function(){try{return new Function(""),!1}catch(e){return!0}}(),noInlineStyle:!1}),J.rules},Q=function(){if(ye(Q.name_))return Q.name_;for(var e,t,n,r=ue.length,i=0;i<r;++i)if(t=ue[i],e=w.document.querySelector("["+t.replace(":","\\:")+"jq]")){n=e.getAttribute(t+"jq");break}return Q.name_=n};function Z(e,t,n){return e.concat(g.call(t,n))}function Le(e,t){return g.call(e,t||0)}function Ve(e,t){var n=2<arguments.length?Le(arguments,2):[];return!xe(t)||t instanceof RegExp?t:n.length?function(){return arguments.length?t.apply(e,Z(n,arguments,0)):t.apply(e,n)}:function(){return arguments.length?t.apply(e,arguments):t.call(e)}}function ee(e,t){var n=t;return"string"==typeof e&&"$"===e.charAt(0)&&"$"===e.charAt(1)?n=void 0:U(t)?n="$WINDOW":t&&w.document===t?n="$DOCUMENT":Re(t)&&(n="$SCOPE"),n}function te(e,t){if(!be(e))return _(t)||(t=t?2:null),JSON.stringify(e,ee,t)}function ne(e){return _e(e)?JSON.parse(e):e}var re=/:/g;function ie(e,t){e=e.replace(re,"");e=Date.parse("Jan 01, 1970 00:00:00 "+e)/6e4;return $(e)?t:e}function oe(e,t,n){n=n?-1:1;var r=e.getTimezoneOffset(),t=ie(t,r);return e=e,n=n*(t-r),(e=new Date(e.getTime())).setMinutes(e.getMinutes()+n),e}function $e(e){e=pe(e).clone().empty();var t=pe("<div>").append(e).html();try{return e[0].nodeType===Ze?T(t):t.match(/^(<[^>]+>)/)[1].replace(/^<([\w-]+)/,function(e,t){return"<"+T(t)})}catch(e){return T(t)}}function ae(e){try{return decodeURIComponent(e)}catch(e){}}function se(e){var i={};return me((e||"").split("&"),function(e){var t,n,r;e&&(n=e=e.replace(/\+/g,"%20"),-1!==(t=e.indexOf("="))&&(n=e.substring(0,t),r=e.substring(t+1)),ye(n=ae(n))&&(r=!ye(r)||ae(r),H.call(i,n)?ke(i[n])?i[n].push(r):i[n]=[i[n],r]:i[n]=r))}),i}function le(e){var n=[];return me(e,function(e,t){ke(e)?me(e,function(e){n.push(o(t,!0)+(!0===e?"":"="+o(e,!0)))}):n.push(o(t,!0)+(!0===e?"":"="+o(e,!0)))}),n.length?n.join("&"):""}function ce(e){return o(e,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function o(e,t){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%20/g,t?"%20":"+")}var ue=["ng-","data-ng-","ng:","x-ng-"];de=w.document;var de,he=!(We=de.currentScript)||(We instanceof w.HTMLScriptElement||We instanceof w.SVGScriptElement)&&[(We=We.attributes).getNamedItem("src"),We.getNamedItem("href"),We.getNamedItem("xlink:href")].every(function(e){if(!e)return!0;if(!e.value)return!1;var t=de.createElement("a");if(t.href=e.value,de.location.origin===t.origin)return!0;switch(t.protocol){case"http:":case"https:":case"ftp:":case"blob:":case"file:":case"data:":return!0;default:return!1}});function fe(n,e){var r,i,t={};me(ue,function(e){e+="app";!r&&n.hasAttribute&&n.hasAttribute(e)&&(i=(r=n).getAttribute(e))}),me(ue,function(e){var t,e=e+"app";!r&&(t=n.querySelector("["+e.replace(":","\\:")+"]"))&&(i=(r=t).getAttribute(e))}),r&&(he?(t.strictDi=null!==function(e,t){for(var n,r=ue.length,i=0;i<r;++i)if(n=ue[i]+t,_e(n=e.getAttribute(n)))return n;return null}(r,"strict-di"),e(r,i?[i]:[],t)):w.console.error("Angular: disabling automatic bootstrap. <script> protocol indicates an extension, document.location.href does not match."))}function Fe(t,n,r){function i(){if((t=pe(t)).injector())throw e=t[0]===w.document?"document":$e(t),M("btstrpd","App already bootstrapped with this element '{0}'",e.replace(/</,"&lt;").replace(/>/,"&gt;"));(n=n||[]).unshift(["$provide",function(e){e.value("$rootElement",t)}]),r.debugInfoEnabled&&n.push(["$compileProvider",function(e){e.debugInfoEnabled(!0)}]),n.unshift("ng");var e=an(n,r.strictDi);return e.invoke(["$rootScope","$rootElement","$compile","$injector",function(e,t,n,r){e.$apply(function(){t.data("$injector",r),n(t)(e)})}]),e}r=ge({strictDi:!1},r=we(r)?r:{});var e=/^NG_ENABLE_DEBUG_INFO!/,o=/^NG_DEFER_BOOTSTRAP!/;if(w&&e.test(w.name)&&(r.debugInfoEnabled=!0,w.name=w.name.replace(e,"")),w&&!o.test(w.name))return i();w.name=w.name.replace(o,""),y.resumeBootstrap=function(e){return me(e,function(e){n.push(e)}),i()},xe(y.resumeDeferredBootstrap)&&y.resumeDeferredBootstrap()}function ze(){w.name="NG_ENABLE_DEBUG_INFO!"+w.name,w.location.reload()}function Be(e){e=y.element(e).injector();if(e)return e.get("$$testability");throw M("test","no injector found for element argument to getTestability")}var He=/[A-Z]/g;function Ue(e,n){return n=n||"_",e.replace(He,function(e,t){return(t?n:"")+e.toLowerCase()})}var We=!1;function qe(e,t,n){if(!e)throw M("areq","Argument '{0}' is {1}",t||"?",n||"required")}function Ye(e,t,n){qe(xe(e=n&&ke(e)?e[e.length-1]:e),t,"not a function, got "+(e&&"object"==typeof e?e.constructor.name||"Object":typeof e))}function Ge(e,t){if("hasOwnProperty"===e)throw M("badname","hasOwnProperty is not a valid {0} name",t)}function Ke(e,t,n){if(!t)return e;for(var r,i=t.split("."),o=e,a=i.length,s=0;s<a;s++)r=i[s],e=e&&(o=e)[r];return!n&&xe(e)?Ve(o,e):e}function Xe(e){for(var t,n=e[0],r=e[e.length-1],i=1;n!==r&&(n=n.nextSibling);i++)!t&&e[i]===n||(t=t||pe(g.call(e,0,i))).push(n);return t||e}function Ee(){return Object.create(null)}function Je(e){if(null==e)return"";switch(typeof e){case"string":break;case"number":e=""+e;break;default:e=!F(e)||ke(e)||x(e)?te(e):e.toString()}return e}var Qe=1,Ze=3,et=8,tt=9;function nt(e){var d=k("$injector"),h=k("ng");function n(e,t,n){return e[t]||(e[t]=n())}e=n(e,"angular",Object);return e.$$minErr=e.$$minErr||k,n(e,"module",function(){var t={};return function(s,l,c){var u={},e="module";if("hasOwnProperty"===s)throw h("badname","hasOwnProperty is not a valid {0} name",e);return l&&t.hasOwnProperty(s)&&(t[s]=null),n(t,s,function(){var o,e,t,n,a;if(l)return o=[],n=r("$injector","invoke","push",e=[]),a={_invokeQueue:o,_configBlocks:e,_runBlocks:t=[],info:function(e){if(ye(e)){if(we(e))return u=e,this;throw h("aobj","Argument '{0}' must be an object","value")}return u},requires:l,name:s,provider:i("$provide","provider"),factory:i("$provide","factory"),service:i("$provide","service"),value:r("$provide","value"),constant:r("$provide","constant","unshift"),decorator:i("$provide","decorator",e),animation:i("$animateProvider","register"),filter:i("$filterProvider","register"),controller:i("$controllerProvider","register"),directive:i("$compileProvider","directive"),component:i("$compileProvider","component"),config:n,run:function(e){return t.push(e),this}},c&&n(c),a;throw d("nomod","Module '{0}' is not available! You either misspelled the module name or forgot to load it. If registering a module ensure that you specify the dependencies as the second argument.",s);function r(e,t,n,r){return r=r||o,function(){return r[n||"push"]([e,t,arguments]),a}}function i(n,r,i){return i=i||o,function(e,t){return t&&xe(t)&&(t.$$moduleName=s),i.push([n,r,arguments]),a}}})}})}function C(e,t){if(ke(e)){t=t||[];for(var n=0,r=e.length;n<r;n++)t[n]=e[n]}else if(we(e))for(var i in t=t||{},e)"$"===i.charAt(0)&&"$"===i.charAt(1)||(t[i]=e[i]);return t||e}function rt(e,t){var n,r;return"function"==typeof e?e.toString().replace(/ \{[\s\S]*$/,""):be(e)?"undefined":"string"!=typeof e?(n=e,r=[],d(t=t)&&(n=y.copy(n,null,t)),JSON.stringify(n,function(e,t){if(we(t=ee(e,t))){if(0<=r.indexOf(t))return"...";r.push(t)}return t})):e}var it={full:"1.6.5",major:1,minor:6,dot:5,codeName:"toffee-salinization"};s.expando="ng339";var ot=s.cache={},at=1;s._data=function(e){return this.cache[e[this.expando]]||{}};var st=/-([a-z])/g,lt=/^-ms-/,ct={mouseleave:"mouseout",mouseenter:"mouseover"},ut=k("jqLite");function dt(e,t){return t.toUpperCase()}function ht(e){return e.replace(st,dt)}var ft=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,pt=/<|&#?\w+;/,mt=/<([\w:-]+)/,gt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,a={option:[1,'<select multiple="multiple">',"</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function vt(e){return!pt.test(e)}function bt(e){e=e.nodeType;return e===Qe||!e||e===tt}function yt(e,t){var n,r,i=t.createDocumentFragment(),o=[];if(vt(e))o.push(t.createTextNode(e));else{for(n=i.appendChild(t.createElement("div")),t=(mt.exec(e)||["",""])[1].toLowerCase(),t=a[t]||a._default,n.innerHTML=t[1]+e.replace(gt,"<$1></$2>")+t[2],r=t[0];r--;)n=n.lastChild;o=Z(o,n.childNodes),(n=i.firstChild).textContent=""}return i.textContent="",i.innerHTML="",me(o,function(e){i.appendChild(e)}),i}a.optgroup=a.option,a.tbody=a.tfoot=a.colgroup=a.caption=a.thead,a.th=a.td;var wt=w.Node.prototype.contains||function(e){return!!(16&this.compareDocumentPosition(e))};function s(e){if(e instanceof s)return e;var t,n,r;if(_e(e)&&(e=Ce(e),t=!0),!(this instanceof s)){if(t&&"<"!==e.charAt(0))throw ut("nosel","Looking up elements via selectors is not supported by jqLite! See: http://docs.angularjs.org/api/angular.element");return new s(e)}t?Ot(this,(t=e,n=n||w.document,(r=ft.exec(t))?[n.createElement(r[1])]:(r=yt(t,n))?r.childNodes:[])):xe(e)?It(e):Ot(this,e)}function _t(e){return e.cloneNode(!0)}function kt(e,t){!t&&bt(e)&&pe.cleanData([e]),e.querySelectorAll&&pe.cleanData(e.querySelectorAll("*"))}function xt(n,e,r,t){if(ye(t))throw ut("offargs","jqLite#off() does not support the `selector` argument");var t=St(n),i=t&&t.events,o=t&&t.handle;if(o)if(e){var a=function(e){var t=i[e];ye(r)&&Ne(t||[],r),ye(r)&&t&&0<t.length||(n.removeEventListener(e,o),delete i[e])};me(e.split(" "),function(e){a(e),ct[e]&&a(ct[e])})}else for(e in i)"$destroy"!==e&&n.removeEventListener(e,o),delete i[e]}function Ct(e,t){var n=e.ng339,r=n&&ot[n];r&&(t?delete r.data[t]:(r.handle&&(r.events.$destroy&&r.handle({},"$destroy"),xt(e)),delete ot[n],e.ng339=void 0))}function St(e,t){var n=e.ng339,r=n&&ot[n];return t&&!r&&(e.ng339=n=++at,r=ot[n]={events:{},data:{},handle:void 0}),r}function Tt(e,t,n){if(bt(e)){var r,i=ye(n),o=!i&&t&&!we(t),a=!t,e=St(e,!o),s=e&&e.data;if(i)s[ht(t)]=n;else{if(a)return s;if(o)return s&&s[ht(t)];for(r in t)s[ht(r)]=t[r]}}}function $t(e,t){return!!e.getAttribute&&-1<(" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").indexOf(" "+t+" ")}function Et(t,e){e&&t.setAttribute&&me(e.split(" "),function(e){t.setAttribute("class",Ce((" "+(t.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").replace(" "+Ce(e)+" "," ")))})}function At(e,t){var n;t&&e.setAttribute&&(n=(" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," "),me(t.split(" "),function(e){e=Ce(e),-1===n.indexOf(" "+e+" ")&&(n+=e+" ")}),e.setAttribute("class",Ce(n)))}function Ot(e,t){if(t)if(t.nodeType)e[e.length++]=t;else{var n=t.length;if("number"==typeof n&&t.window!==t){if(n)for(var r=0;r<n;r++)e[e.length++]=t[r]}else e[e.length++]=t}}function Mt(e,t){return Pt(e,"$"+(t||"ngController")+"Controller")}function Pt(e,t,n){e.nodeType===tt&&(e=e.documentElement);for(var r=ke(t)?t:[t];e;){for(var i=0,o=r.length;i<o;i++)if(ye(n=pe.data(e,r[i])))return n;e=e.parentNode||11===e.nodeType&&e.host}}function Dt(e){for(kt(e,!0);e.firstChild;)e.removeChild(e.firstChild)}function Rt(e,t){t||kt(e);t=e.parentNode;t&&t.removeChild(e)}function It(e){function t(){w.document.removeEventListener("DOMContentLoaded",t),w.removeEventListener("load",t),e()}"complete"===w.document.readyState?w.setTimeout(e):(w.document.addEventListener("DOMContentLoaded",t),w.addEventListener("load",t))}var Nt=s.prototype={ready:It,toString:function(){var t=[];return me(this,function(e){t.push(""+e)}),"["+t.join(", ")+"]"},eq:function(e){return pe(0<=e?this[e]:this[this.length+e])},length:0,push:A,sort:[].sort,splice:[].splice},jt={},Lt=(me("multiple,selected,checked,disabled,readOnly,required,open".split(","),function(e){jt[T(e)]=e}),{}),Vt=(me("input,select,option,textarea,button,form,details".split(","),function(e){Lt[e]=!0}),{ngMinlength:"minlength",ngMaxlength:"maxlength",ngMin:"min",ngMax:"max",ngPattern:"pattern",ngStep:"step"});function Ft(e,t){t=jt[t.toLowerCase()];return t&&Lt[Se(e)]&&t}function zt(e,t){var n;if(be(t))return(n=e.nodeType)===Qe||n===Ze?e.textContent:"";e.textContent=t}function Bt(s,l){function e(e,t){e.isDefaultPrevented=function(){return e.defaultPrevented};var n=l[t||e.type],r=n?n.length:0;if(r){be(e.immediatePropagationStopped)&&(i=e.stopImmediatePropagation,e.stopImmediatePropagation=function(){e.immediatePropagationStopped=!0,e.stopPropagation&&e.stopPropagation(),i&&i.call(e)}),e.isImmediatePropagationStopped=function(){return!0===e.immediatePropagationStopped};var i,o=n.specialHandlerWrapper||Ht;1<r&&(n=C(n));for(var a=0;a<r;a++)e.isImmediatePropagationStopped()||o(s,e,n[a])}}return e.elem=s,e}function Ht(e,t,n){n.call(e,t)}function Ut(e,t,n){var r=t.relatedTarget;r&&(r===e||wt.call(e,r))||n.call(e,t)}function Wt(){this.$get=function(){return ge(s,{hasClass:function(e,t){return $t(e=e.attr?e[0]:e,t)},addClass:function(e,t){return At(e=e.attr?e[0]:e,t)},removeClass:function(e,t){return Et(e=e.attr?e[0]:e,t)}})}}function qt(e,t){var n=e&&e.$$hashKey;return n?"function"==typeof n?e.$$hashKey():n:"function"==(n=typeof e)||"object"==n&&null!==e?e.$$hashKey=n+":"+(t||N)():n+":"+e}me({data:Tt,removeData:Ct,hasData:function(e){for(var t in ot[e.ng339])return!0;return!1},cleanData:function(e){for(var t=0,n=e.length;t<n;t++)Ct(e[t])}},function(e,t){s[t]=e}),me({data:Tt,inheritedData:Pt,scope:function(e){return pe.data(e,"$scope")||Pt(e.parentNode||e,["$isolateScope","$scope"])},isolateScope:function(e){return pe.data(e,"$isolateScope")||pe.data(e,"$isolateScopeNoTemplate")},controller:Mt,injector:function(e){return Pt(e,"$injector")},removeAttr:function(e,t){e.removeAttribute(t)},hasClass:$t,css:function(e,t,n){if(t=ht(t.replace(lt,"ms-")),!ye(n))return e.style[t];e.style[t]=n},attr:function(e,t,n){var r,i=e.nodeType;if(i!==Ze&&2!==i&&i!==et&&e.getAttribute)return i=T(t),r=jt[i],ye(n)?void(null===n||!1===n&&r?e.removeAttribute(t):e.setAttribute(t,r?i:n)):(n=e.getAttribute(t),null===(n=r&&null!==n?i:n)?void 0:n)},prop:function(e,t,n){if(!ye(n))return e[t];e[t]=n},text:(zt.$dv="",zt),val:function(e,t){var n;if(be(t))return e.multiple&&"select"===Se(e)?(n=[],me(e.options,function(e){e.selected&&n.push(e.value||e.text)}),n):e.value;e.value=t},html:function(e,t){if(be(t))return e.innerHTML;kt(e,!0),e.innerHTML=t},empty:Dt},function(c,e){s.prototype[e]=function(e,t){var n,r,i=this.length;if(c!==Dt&&be(2===c.length&&c!==$t&&c!==Mt?e:t)){if(we(e)){for(n=0;n<i;n++)if(c===Tt)c(this[n],e);else for(r in e)c(this[n],r,e[r]);return this}for(var o=be(l=c.$dv)?Math.min(i,1):i,a=0;a<o;a++)var s=c(this[a],e,t),l=l?l+s:s;return l}for(n=0;n<i;n++)c(this[n],e,t);return this}}),me({removeData:Ct,on:function(i,e,o,t){if(ye(t))throw ut("onargs","jqLite#on() does not support the `selector` or `eventData` parameters");if(bt(i))for(var t=St(i,!0),a=t.events,s=(s=t.handle)||(t.handle=Bt(i,a)),n=0<=e.indexOf(" ")?e.split(" "):[e],r=n.length,l=function(e,t,n){var r=a[e];r||((r=a[e]=[]).specialHandlerWrapper=t,"$destroy"===e||n||i.addEventListener(e,s)),r.push(o)};r--;)e=n[r],ct[e]?(l(ct[e],Ut),l(e,void 0,!0)):l(e)},off:xt,one:function(t,n,r){(t=pe(t)).on(n,function e(){t.off(n,r),t.off(n,e)}),t.on(n,r)},replaceWith:function(t,e){var n,r=t.parentNode;kt(t),me(new s(e),function(e){n?r.insertBefore(e,n.nextSibling):r.replaceChild(e,t),n=e})},children:function(e){var t=[];return me(e.childNodes,function(e){e.nodeType===Qe&&t.push(e)}),t},contents:function(e){return e.contentDocument||e.childNodes||[]},append:function(e,t){var n=e.nodeType;if(n===Qe||11===n)for(var r=0,i=(t=new s(t)).length;r<i;r++){var o=t[r];e.appendChild(o)}},prepend:function(t,e){var n;t.nodeType===Qe&&(n=t.firstChild,me(new s(e),function(e){t.insertBefore(e,n)}))},wrap:function(e,t){var n;e=e,t=pe(t).eq(0).clone()[0],(n=e.parentNode)&&n.replaceChild(t,e),t.appendChild(e)},remove:Rt,detach:function(e){Rt(e,!0)},after:function(e,t){var n=e,r=e.parentNode;if(r)for(var i=0,o=(t=new s(t)).length;i<o;i++){var a=t[i];r.insertBefore(a,n.nextSibling),n=a}},addClass:At,removeClass:Et,toggleClass:function(n,e,r){e&&me(e.split(" "),function(e){var t=r;((t=be(r)?!$t(n,e):t)?At:Et)(n,e)})},parent:function(e){e=e.parentNode;return e&&11!==e.nodeType?e:null},next:function(e){return e.nextElementSibling},find:function(e,t){return e.getElementsByTagName?e.getElementsByTagName(t):[]},clone:_t,triggerHandler:function(t,e,n){var r,i,o=e.type||e,a=St(t),a=a&&a.events,a=a&&a[o];a&&(r={preventDefault:function(){this.defaultPrevented=!0},isDefaultPrevented:function(){return!0===this.defaultPrevented},stopImmediatePropagation:function(){this.immediatePropagationStopped=!0},isImmediatePropagationStopped:function(){return!0===this.immediatePropagationStopped},stopPropagation:ve,type:o,target:t},e.type&&(r=ge(r,e)),o=C(a),i=n?[r].concat(n):[r],me(o,function(e){r.isImmediatePropagationStopped()||e.apply(t,i)}))}},function(a,e){s.prototype[e]=function(e,t,n){for(var r,i=0,o=this.length;i<o;i++)be(r)?ye(r=a(this[i],e,t,n))&&(r=pe(r)):Ot(r,a(this[i],e,t,n));return ye(r)?r:this}}),s.prototype.bind=s.prototype.on,s.prototype.unbind=s.prototype.off;var Yt=Object.create(null);function Gt(){this._keys=[],this._values=[],this._lastKey=NaN,this._lastIndex=-1}Gt.prototype={_idx:function(e){return e!==this._lastKey&&(this._lastKey=e,this._lastIndex=this._keys.indexOf(e)),this._lastIndex},_transformKey:function(e){return $(e)?Yt:e},get:function(e){e=this._transformKey(e);e=this._idx(e);if(-1!==e)return this._values[e]},set:function(e,t){e=this._transformKey(e);var n=this._idx(e);-1===n&&(n=this._lastIndex=this._keys.length),this._keys[n]=e,this._values[n]=t},delete:function(e){e=this._transformKey(e);e=this._idx(e);return-1!==e&&(this._keys.splice(e,1),this._values.splice(e,1),this._lastKey=NaN,this._lastIndex=-1,!0)}};var Kt=Gt,Xt=[function(){this.$get=[function(){return Kt}]}],Jt=/^([^(]+?)=>/,Qt=/^[^(]*\(\s*([^)]*)\)/m,Zt=/,/,en=/^\s*(_?)(\S+?)\1\s*$/,tn=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,nn=k("$injector");function rn(e){return Function.prototype.toString.call(e)}function on(e){e=rn(e).replace(tn,"");return e.match(Jt)||e.match(Qt)}function an(e,c){c=!0===c;var o={},a="Provider",s=[],l=new Kt,u={$provide:{provider:r(f),factory:r(i),service:r(function(e,t){return i(e,["$injector",function(e){return e.instantiate(t)}])}),value:r(function(e,t){return i(e,S(t),!1)}),constant:r(function(e,t){Ge(e,"constant"),u[e]=t,n[e]=t}),decorator:function(e,t){var n=d.get(e+a),r=n.$get;n.$get=function(){var e=h.invoke(r,n);return h.invoke(t,null,{$delegate:e})}}}},d=u.$injector=p(u,function(e,t){throw y.isString(t)&&s.push(t),nn("unpr","Unknown provider: {0}",s.join(" <- "))}),n={},t=p(n,function(e,t){t=d.get(e+a,t);return h.invoke(t.$get,t,void 0,e)}),h=t,e=(u["$injector"+a]={$get:S(t)},h.modules=d.modules=Ee(),function n(e){qe(be(e)||ke(e),"modulesToLoad","not an array");var r,i=[];me(e,function(t){if(!l.get(t)){l.set(t,!0);try{_e(t)?(r=m(t),h.modules[t]=r,i=i.concat(n(r.requires)).concat(r._runBlocks),e(r._invokeQueue),e(r._configBlocks)):xe(t)||ke(t)?i.push(d.invoke(t)):Ye(t,"module")}catch(e){throw ke(t)&&(t=t[t.length-1]),e.message&&e.stack&&-1===e.stack.indexOf(e.message)&&(e=e.message+"\n"+e.stack),nn("modulerr","Failed to instantiate module {0} due to:\n{1}",t,e.stack||e.message||e)}}function e(e){var t,n;for(t=0,n=e.length;t<n;t++){var r=e[t],i=d.get(r[0]);i[r[1]].apply(i,r[2])}}});return i}(e));return(h=t.get("$injector")).strictDi=c,me(e,function(e){e&&h.invoke(e)}),h;function r(n){return function(e,t){if(!we(e))return n(e,t);me(e,I(n))}}function f(e,t){if(Ge(e,"service"),(t=xe(t)||ke(t)?d.instantiate(t):t).$get)return u[e+a]=t;throw nn("pget","Provider '{0}' must define $get factory method.",e)}function i(e,t,n){return f(e,{$get:!1!==n?(r=e,i=t,function(){var e=h.invoke(i,this);if(be(e))throw nn("undef","Provider '{0}' must return a value from $get factory method.",r);return e}):t});var r,i}function p(n,r){function l(t,e){if(n.hasOwnProperty(t)){if(n[t]===o)throw nn("cdep","Circular dependency found: {0}",t+" <- "+s.join(" <- "));return n[t]}try{return s.unshift(t),n[t]=o,n[t]=r(t,e),n[t]}catch(e){throw n[t]===o&&delete n[t],e}finally{s.shift()}}function i(e,t,n){for(var r=[],i=an.$$annotate(e,c,n),o=0,a=i.length;o<a;o++){var s=i[o];if("string"!=typeof s)throw nn("itkn","Incorrect injection token! Expected service name as string, got {0}",s);r.push(t&&t.hasOwnProperty(s)?t[s]:l(s,n))}return r}return{invoke:function(e,t,n,r){return"string"==typeof n&&(r=n,n=null),n=i(e,n,r),function(e){var t;if(!Oe&&"function"==typeof e)return Ie(t=e.$$ngIsClass)?t:e.$$ngIsClass=/^(?:class\b|constructor\()/.test(rn(e))}(e=ke(e)?e[e.length-1]:e)?(n.unshift(null),new(Function.prototype.bind.apply(e,n))):e.apply(t,n)},instantiate:function(e,t,n){var r=ke(e)?e[e.length-1]:e;return(e=i(e,t,n)).unshift(null),new(Function.prototype.bind.apply(r,e))},get:l,annotate:an.$$annotate,has:function(e){return u.hasOwnProperty(e+a)||n.hasOwnProperty(e)}}}}function sn(){var e=!0;this.disableAutoScrolling=function(){e=!1},this.$get=["$window","$location","$rootScope",function(r,i,o){var a=r.document;function s(e){var t,n;e?(e.scrollIntoView(),xe(n=l.yOffset)?n=n():G(n)?(t=n[0],n="fixed"!==r.getComputedStyle(t).position?0:t.getBoundingClientRect().bottom):_(n)||(n=0),(t=n)&&(n=e.getBoundingClientRect().top,r.scrollBy(0,n-t))):r.scrollTo(0,0)}function l(e){var t,n,r;(e=_e(e)?e:_(e)?e.toString():i.hash())?(t=a.getElementById(e))||(n=a.getElementsByName(e),r=null,Array.prototype.some.call(n,function(e){if("a"===Se(e))return r=e,!0}),t=r)?s(t):"top"===e&&s(null):s(null)}return e&&o.$watch(function(){return i.hash()},function(e,t){var n;e===t&&""===e||(t=function(){o.$evalAsync(l)},"complete"===(n=n||w).document.readyState?n.setTimeout(t):pe(n).on("load",t))}),l}]}an.$$annotate=function(e,t,n){var r;if("function"==typeof e){if(!(r=e.$inject)){if(r=[],e.length){if(t)throw _e(n)&&n||(n=e.name||((t=on(t=e))?"function("+(t[1]||"").replace(/[\s\r\n]+/," ")+")":"fn")),nn("strictdi","{0} is not using explicit annotation and cannot be invoked in strict mode",n);me(on(e)[1].split(Zt),function(e){e.replace(en,function(e,t,n){r.push(n)})})}e.$inject=r}}else ke(e)?(t=e.length-1,Ye(e[t],"fn"),r=e.slice(0,t)):Ye(e,"fn",!0);return r};var ln=k("$animate"),cn=1,un="ng-animate";function dn(e,t){return e||t?e?t?(e=ke(e)?e.join(" "):e)+" "+(t=ke(t)?t.join(" "):t):e:t:""}function hn(e){return we(e)?e:{}}function fn(){this.$get=ve}function pn(){var c=new Kt,u=[];this.$get=["$$AnimateRunner","$rootScope",function(o,a){return{enabled:ve,on:ve,off:ve,pin:ve,push:function(e,t,n,r){r&&r(),(n=n||{}).from&&e.css(n.from),n.to&&e.css(n.to),(n.addClass||n.removeClass)&&(r=e,e=n.addClass,n=n.removeClass,i=c.get(r)||{},e=s(i,e,!0),n=s(i,n,!1),(e||n)&&(c.set(r,i),u.push(r),1===u.length&&a.$$postDigest(l)));var i,e=new o;return e.complete(),e}};function s(t,e,n){var r=!1;return e&&me(e=_e(e)?e.split(" "):ke(e)?e:[],function(e){e&&(r=!0,t[e]=n)}),r}function l(){me(u,function(e){var n,r,i,t,o,a=c.get(e);a&&(_e(t=e.attr("class"))&&(t=t.split(" ")),o=Ee(),me(t,function(e){e.length&&(o[e]=!0)}),n=o,i=r="",me(a,function(e,t){e!==!!n[t]&&(e?r+=(r.length?" ":"")+t:i+=(i.length?" ":"")+t)}),me(e,function(e){r&&At(e,r),i&&Et(e,i)}),c.delete(e))}),u.length=0}}]}function mn(){this.$get=["$$rAF",function(t){var n=[];function r(e){n.push(e),1<n.length||t(function(){for(var e=0;e<n.length;e++)n[e]();n=[]})}return function(){var t=!1;return r(function(){t=!0}),function(e){t?e():r(e)}}}]}function gn(){this.$get=["$q","$sniffer","$$animateAsyncRun","$$isDocumentHidden","$timeout",function(t,e,n,r,i){function o(e){this.setHost(e);var t=n();this._doneCallbacks=[],this._tick=function(e){r()?i(e,0,!1):t(e)},this._state=0}return o.chain=function(e,n){var r=0;!function t(){if(r===e.length)return void n(!0);e[r](function(e){!1===e?n(!1):(r++,t())})}()},o.all=function(t,n){var r=0,i=!0;function o(e){i=i&&e,++r===t.length&&n(i)}me(t,function(e){e.done(o)})},o.prototype={setHost:function(e){this.host=e||{}},done:function(e){2===this._state?e():this._doneCallbacks.push(e)},progress:ve,getPromise:function(){var e;return this.promise||((e=this).promise=t(function(t,n){e.done(function(e){(!1===e?n:t)()})})),this.promise},then:function(e,t){return this.getPromise().then(e,t)},catch:function(e){return this.getPromise().catch(e)},finally:function(e){return this.getPromise().finally(e)},pause:function(){this.host.pause&&this.host.pause()},resume:function(){this.host.resume&&this.host.resume()},end:function(){this.host.end&&this.host.end(),this._resolve(!0)},cancel:function(){this.host.cancel&&this.host.cancel(),this._resolve(!1)},complete:function(e){var t=this;0===t._state&&(t._state=1,t._tick(function(){t._resolve(e)}))},_resolve:function(t){2!==this._state&&(me(this._doneCallbacks,function(e){e(t)}),this._doneCallbacks.length=0,this._state=2)}},o}]}function vn(){this.$get=["$$rAF","$q","$$AnimateRunner",function(a,e,s){return function(e,t){var n=t||{};(n=n.$$prepared?n:X(n)).cleanupStyles&&(n.from=n.to=null),n.from&&(e.css(n.from),n.from=null);var r,i=new s;return{start:o,end:o};function o(){return a(function(){n.addClass&&(e.addClass(n.addClass),n.addClass=null),n.removeClass&&(e.removeClass(n.removeClass),n.removeClass=null),n.to&&(e.css(n.to),n.to=null),r||i.complete(),r=!0}),i}}}]}var bn=["$provide",function(r){var i=this,t=null,n=null;this.$$registeredAnimations=Object.create(null),this.register=function(e,t){if(e&&"."!==e.charAt(0))throw ln("notcsel","Expecting class selector starting with '.' got '{0}'.",e);var n=e+"-animation";i.$$registeredAnimations[e.substr(1)]=n,r.factory(n,t)},this.customFilter=function(e){return n=1===arguments.length?xe(e)?e:null:n},this.classNameFilter=function(e){if(1===arguments.length&&((t=e instanceof RegExp?e:null)&&new RegExp("[(\\s|\\/)]"+un+"[(\\s|\\/)]").test(t.toString())))throw t=null,ln("nongcls",'$animateProvider.classNameFilter(regex) prohibits accepting a regex value which matches/contains the "{0}" CSS class.',un);return t},this.$get=["$$animateQueue",function(o){function i(e,t,n){var r;(n=!n||!(r=function(e){for(var t=0;t<e.length;t++){var n=e[t];if(n.nodeType===cn)return n}}(n))||r.parentNode||r.previousElementSibling?n:null)?n.after(e):t.prepend(e)}return{on:o.on,off:o.off,pin:o.pin,enabled:o.enabled,cancel:function(e){e.end&&e.end()},enter:function(e,t,n,r){return t=t&&pe(t),n=n&&pe(n),i(e,t=t||n.parent(),n),o.push(e,"enter",hn(r))},move:function(e,t,n,r){return t=t&&pe(t),n=n&&pe(n),i(e,t=t||n.parent(),n),o.push(e,"move",hn(r))},leave:function(e,t){return o.push(e,"leave",hn(t),function(){e.remove()})},addClass:function(e,t,n){return(n=hn(n)).addClass=dn(n.addclass,t),o.push(e,"addClass",n)},removeClass:function(e,t,n){return(n=hn(n)).removeClass=dn(n.removeClass,t),o.push(e,"removeClass",n)},setClass:function(e,t,n,r){return(r=hn(r)).addClass=dn(r.addClass,t),r.removeClass=dn(r.removeClass,n),o.push(e,"setClass",r)},animate:function(e,t,n,r,i){return(i=hn(i)).from=i.from?ge(i.from,t):t,i.to=i.to?ge(i.to,n):n,i.tempClasses=dn(i.tempClasses,r=r||"ng-inline-animate"),o.push(e,"animate",i)}}}]}];function yn(o,e,t,a){var s=this,l=o.location,c=o.history,r=o.setTimeout,n=o.clearTimeout,i={},u=(s.isMock=!1,0),d=[];function h(e){try{e.apply(null,Le(arguments,1))}finally{if(0===--u)for(;d.length;)try{d.pop()()}catch(e){t.error(e)}}}s.$$completeOutstandingRequest=h,s.$$incOutstandingRequestCount=function(){u++},s.notifyWhenNoOutstandingRequests=function(e){0===u?e():d.push(e)};var f,p,m=l.href,g=e.find("base"),v=null,b=a.history?function(){try{return c.state}catch(e){}}:ve,y=(x(),s.url=function(e,t,n){var r,i;return be(n)&&(n=null),l!==o.location&&(l=o.location),c!==o.history&&(c=o.history),e?(r=p===n,(m!==e||a.history&&!r)&&(i=m&&pr(m)===pr(e),m=e,p=n,!a.history||i&&r?(i||(v=e),t?l.replace(e):i?l.hash=-1===(i=(r=e).indexOf("#"))?"":r.substr(i):l.href=e,l.href!==e&&(v=e)):(c[t?"replaceState":"pushState"](n,"",e),x()),v=v&&e),s):v||l.href.replace(/%27/g,"'")},s.state=function(){return f},[]),w=!1;function _(){v=null,C()}var k=null;function x(){Te(f=be(f=b())?null:f,k)&&(f=k),p=k=f}function C(){var e=p;x(),m===s.url()&&e===f||(m=s.url(),p=f,me(y,function(e){e(s.url(),f)}))}s.onUrlChange=function(e){return w||(a.history&&pe(o).on("popstate",_),pe(o).on("hashchange",_),w=!0),y.push(e),e},s.$$applicationDestroyed=function(){pe(o).off("hashchange popstate",_)},s.$$checkUrlChange=C,s.baseHref=function(){var e=g.attr("href");return e?e.replace(/^(https?:)?\/\/[^/]*/,""):""},s.defer=function(e,t){var n;return u++,n=r(function(){delete i[n],h(e)},t||0),i[n]=!0,n},s.defer.cancel=function(e){return!!i[e]&&(delete i[e],n(e),h(ve),!0)}}function wn(){this.$get=["$window","$log","$sniffer","$document",function(e,t,n,r){return new yn(e,r,t,n)}]}function _n(){this.$get=function(){var d={};function e(e,t){if(e in d)throw k("$cacheFactory")("iid","CacheId '{0}' is already taken!",e);var n=0,r=ge({},t,{id:e}),i=Ee(),o=t&&t.capacity||Number.MAX_VALUE,a=Ee(),s=null,l=null;return d[e]={put:function(e,t){if(!be(t))return o<Number.MAX_VALUE&&c(a[e]||(a[e]={key:e})),e in i||n++,i[e]=t,o<n&&this.remove(l.key),t},get:function(e){if(o<Number.MAX_VALUE){var t=a[e];if(!t)return;c(t)}return i[e]},remove:function(e){if(o<Number.MAX_VALUE){var t=a[e];if(!t)return;t===s&&(s=t.p),t===l&&(l=t.n),u(t.n,t.p),delete a[e]}e in i&&(delete i[e],n--)},removeAll:function(){i=Ee(),n=0,a=Ee(),s=l=null},destroy:function(){a=r=i=null,delete d[e]},info:function(){return ge({},r,{size:n})}};function c(e){e!==s&&(l?l===e&&(l=e.n):l=e,u(e.n,e.p),u(e,s),(s=e).n=null)}function u(e,t){e!==t&&(e&&(e.p=t),t&&(t.n=e))}}return e.info=function(){var n={};return me(d,function(e,t){n[t]=e.info()}),n},e.get=function(e){return d[e]},e}}function kn(){this.$get=["$cacheFactory",function(e){return e("templates")}]}var Ae=k("$compile");var xn=new function(){};function Cn(i,t){var j={},L="Directive",V=/^\s*directive:\s*([\w-]+)\s+(.*)$/,F=/(([\w-]+)(?::([^;]+))?;?)/,z=function(e){for(var t={},n=e.split(","),r=0;r<n.length;r++)t[n[r]]=!0;return t}("ngSrc,ngSrcset,src,srcset"),d=/^(?:(\^\^?)?(\?)?(\^\^?)?)?/,B=/^(on[a-z]+|formaction)$/,s=Ee();function m(e,r,i){var o=/^\s*([@&<]|=(\*?))(\??)\s*([\w$]*)\s*$/,a=Ee();return me(e,function(e,t){if(e in s)a[t]=s[e];else{var n=e.match(o);if(!n)throw Ae("iscp","Invalid {3} for directive '{0}'. Definition: {... {1}: '{2}' ...}",r,t,e,i?"controller bindings definition":"isolate scope definition");a[t]={mode:n[1][0],collection:"*"===n[2],optional:"?"===n[3],attrName:n[4]||t},n[4]&&(s[e]=a[t])}}),a}this.directive=function e(l,t){if(qe(l,"name"),Ge(l,"directive"),_e(l)){var n=l,r=n.charAt(0);if(!r||r!==T(r))throw Ae("baddir","Directive/Component name '{0}' is invalid. The first character must be a lowercase letter",n);if(n!==n.trim())throw Ae("baddir","Directive/Component name '{0}' is invalid. The name should not contain leading or trailing whitespaces",n);qe(t,"directiveFactory"),j.hasOwnProperty(l)||(j[l]=[],i.factory(l+L,["$injector","$exceptionHandler",function(o,a){var s=[];return me(j[l],function(e,t){try{var n=o.invoke(e);xe(n)?n={compile:S(n)}:!n.compile&&n.link&&(n.compile=S(n.link)),n.priority=n.priority||0,n.index=t,n.name=n.name||l,n.require=(i=(r=n).require||r.controller&&r.name,!ke(i)&&we(i)&&me(i,function(e,t){var n=e.match(d);e.substring(n[0].length)||(i[t]=n[0]+t)}),i),n.restrict=function(e,t){if(!e||_e(e)&&/[EACM]/.test(e))return e||"EA";throw Ae("badrestrict","Restrict property '{0}' of directive '{1}' is invalid",e,t)}(n.restrict,l),n.$$moduleName=e.$$moduleName,s.push(n)}catch(e){a(e)}var r,i}),s}])),j[l].push(t)}else me(l,I(e));return this},this.component=function e(t,i){var o;return _e(t)?(o=i.controller||function(){},me(i,function(e,t){"$"===t.charAt(0)&&(n[t]=e,xe(o)&&(o[t]=e))}),n.$inject=["$injector"],this.directive(t,n)):(me(t,I(Ve(this,e))),this);function n(r){function e(n){return xe(n)||ke(n)?function(e,t){return r.invoke(n,this,{$element:e,$attrs:t})}:n}var t=i.template||i.templateUrl?i.template:"",n={controller:o,controllerAs:function(e,t){if(t&&_e(t))return t;if(_e(e)){t=Pn.exec(e);if(t)return t[3]}}(i.controller)||i.controllerAs||"$ctrl",template:e(t),templateUrl:e(i.templateUrl),transclude:i.transclude,scope:{},bindToController:i.bindings||{},restrict:"E",require:i.require};return me(i,function(e,t){"$"===t.charAt(0)&&(n[t]=e)}),n}},this.aHrefSanitizationWhitelist=function(e){return ye(e)?(t.aHrefSanitizationWhitelist(e),this):t.aHrefSanitizationWhitelist()},this.imgSrcSanitizationWhitelist=function(e){return ye(e)?(t.imgSrcSanitizationWhitelist(e),this):t.imgSrcSanitizationWhitelist()};var l=!0,fe=!(this.debugInfoEnabled=function(e){return ye(e)?(l=e,this):l}),c=(this.preAssignBindingsEnabled=function(e){return ye(e)?(fe=e,this):fe},10),u=(this.onChangesTtl=function(e){return arguments.length?(c=e,this):c},!0),g=(this.commentDirectivesEnabled=function(e){return arguments.length?(u=e,this):u},!0);this.cssClassDirectivesEnabled=function(e){return arguments.length?(g=e,this):g},this.$get=["$injector","$interpolate","$exceptionHandler","$templateRequest","$parse","$controller","$rootScope","$sce","$animate","$$sanitizeUri",function(E,A,U,W,y,q,o,O,r,h){var a,p=/^\w/,f=w.document.createElement("div"),P=u,D=g,e=c;function s(){try{if(!--e)throw a=void 0,Ae("infchng","{0} $onChanges() iterations reached. Aborting!\n",c);o.$apply(function(){for(var t=[],e=0,n=a.length;e<n;++e)try{a[e]()}catch(e){t.push(e)}if(a=void 0,t.length)throw t})}finally{e++}}function Y(e,t){if(t)for(var n,r=Object.keys(t),i=0,o=r.length;i<o;i++)this[n=r[i]]=t[n];else this.$attr={};this.$$element=e}function G(e,t){try{e.addClass(t)}catch(e){}}Y.prototype={$normalize:En,$addClass:function(e){e&&0<e.length&&r.addClass(this.$$element,e)},$removeClass:function(e){e&&0<e.length&&r.removeClass(this.$$element,e)},$updateClass:function(e,t){var n=An(e,t),n=(n&&n.length&&r.addClass(this.$$element,n),An(t,e));n&&n.length&&r.removeClass(this.$$element,n)},$set:function(e,t,n,r){var i=Ft(this.$$element[0],e),o=Vt[e],a=e;if(i?(this.$$element.prop(e,t),r=i):o&&(this[o]=t,a=o),this[e]=t,r?this.$attr[e]=r:(r=this.$attr[e])||(this.$attr[e]=r=Ue(e,"-")),"a"===(i=Se(this.$$element))&&("href"===e||"xlinkHref"===e)||"img"===i&&"src"===e)this[e]=t=h(t,"src"===e);else if("img"===i&&"srcset"===e&&ye(t)){for(var s="",o=Ce(t),i=/\s/.test(o)?/(\s+\d+x\s*,|\s+\d+w\s*,|\s+,|,\s+)/:/(,)/,l=o.split(i),c=Math.floor(l.length/2),u=0;u<c;u++)var d=2*u,s=(s+=h(Ce(l[d]),!0))+(" "+Ce(l[1+d]));o=Ce(l[2*u]).split(/\s/);s+=h(Ce(o[0]),!0),2===o.length&&(s+=" "+Ce(o[1])),this[e]=t=s}!1!==n&&(null===t||be(t)?this.$$element.removeAttr(r):p.test(r)?this.$$element.attr(r,t):(i=this.$$element[0],o=r,e=t,f.innerHTML="<span "+o+">",o=f.firstChild.attributes,n=o[0],o.removeNamedItem(n.name),n.value=e,i.attributes.setNamedItem(n)));r=this.$$observers;r&&me(r[a],function(e){try{e(t)}catch(e){U(e)}})},$observe:function(e,t){var n=this,r=n.$$observers||(n.$$observers=Ee()),i=r[e]||(r[e]=[]);return i.push(t),o.$evalAsync(function(){i.$$inter||!n.hasOwnProperty(e)||be(n[e])||t(n[e])}),function(){Ne(i,t)}}};var t=A.startSymbol(),n=A.endSymbol(),K="{{"===t&&"}}"===n?Pe:function(e){return e.replace(/\{\{/g,t).replace(/}}/g,n)},R=/^ngAttr[A-Z]/,I=/^(.+)Start$/;return X.$$addBindingInfo=l?function(e,t){var n=e.data("$binding")||[];ke(t)?n=n.concat(t):n.push(t),e.data("$binding",n)}:ve,X.$$addBindingClass=l?function(e){G(e,"ng-binding")}:ve,X.$$addScopeInfo=l?function(e,t,n,r){e.data(n?r?"$isolateScopeNoTemplate":"$isolateScope":"$scope",t)}:ve,X.$$addScopeClass=l?function(e,t){G(e,t?"ng-isolate-scope":"ng-scope")}:ve,X.$$createComment=function(e,t){var n="";return l&&(n=" "+(e||"")+": ",t&&(n+=t+" ")),w.document.createComment(n)},X;function X(s,e,t,n,l){var c=J(s=s instanceof pe?s:pe(s),e,s,t,n,l),u=(X.$$addScopeClass(s),null);return function(e,t,n){if(!s)throw Ae("multilink","This element has already been linked.");qe(e,"scope"),l&&l.needsNewScope&&(e=e.$parent.$new());var r,i=(n=n||{}).parentBoundTranscludeFn,o=n.transcludeControllers,n=n.futureParentElement;if(i&&i.$$boundTransclude&&(i=i.$$boundTransclude),r="html"!==(u=u||function(e){e=e&&e[0];return e&&"foreignobject"!==Se(e)&&v.call(e).match(/SVG/)?"svg":"html"}(n))?pe(le(u,pe("<div>").append(s).html())):t?Nt.clone.call(s):s,o)for(var a in o)r.data("$"+a+"Controller",o[a].instance);return X.$$addScopeInfo(r,e),t&&t(r,e),c&&c(e,r,r,i),t||(s=c=null),r}}function J(e,p,t,n,r,i){for(var o,a,s,m,g=[],l=ke(e)||e instanceof pe,c=0;c<e.length;c++){if(a=new Y,11===Oe){u=b=v=f=h=d=void 0;var u,d=e,h=c,f=l,v=d[h],b=v.parentNode;if(v.nodeType===Ze)for(;;){if(!(u=b?v.nextSibling:d[h+1])||u.nodeType!==Ze)break;v.nodeValue=v.nodeValue+u.nodeValue,u.parentNode&&u.parentNode.removeChild(u),f&&u===d[h+1]&&d.splice(h+1,1)}}(o=(o=Z(e[c],[],a,0===c?n:void 0,r)).length?re(o,e[c],a,p,t,null,[],[],i):null)&&o.scope&&X.$$addScopeClass(a.$$element),a=o&&o.terminal||!(a=e[c].childNodes)||!a.length?null:J(a,o?(o.transcludeOnThisElement||!o.templateOnThisElement)&&o.transclude:p),(o||a)&&(g.push(c,o,a),s=!0,m=m||o),i=null}return s?function(e,t,n,r){var i,o,a,s,l,c,u,d,h;if(m){var f=t.length;for(h=new Array(f),l=0;l<g.length;l+=3)u=g[l],h[u]=t[u]}else h=t;for(l=0,c=g.length;l<c;)a=h[g[l++]],i=g[l++],o=g[l++],i?(i.scope?(s=e.$new(),X.$$addScopeInfo(pe(a),s)):s=e,d=i.transcludeOnThisElement?Q(e,i.transclude,r):!i.templateOnThisElement&&r?r:!r&&p?Q(e,p):null,i(o,s,a,n,d)):o&&o(e,a.childNodes,void 0,r)}:null}function Q(o,a,s){function e(e,t,n,r,i){return e||((e=o.$new(!1,i)).$$transcluded=!0),a(e,t,{parentBoundTranscludeFn:s,transcludeControllers:n,futureParentElement:r})}var t,n=e.$$slots=Ee();for(t in a.$$slots)a.$$slots[t]?n[t]=Q(o,a.$$slots[t],s):n[t]=null;return e}function Z(e,t,n,r,i){var o,a,s,l,c=e.nodeType,u=n.$attr;switch(c){case Qe:M(t,En(s=Se(e)),"E",r,i);for(var d,h=e.attributes,f=0,p=h&&h.length;f<p;f++){var m,g=!1,v=!1,b=(y=h[f]).name,y=y.value,w=En(b),w=((m=R.test(w))&&(b=b.replace(Tn,"").substr(8).replace(/_(.)/g,function(e,t){return t.toUpperCase()})),w.match(I));w&&function(e){if(j.hasOwnProperty(e))for(var t=E.get(e+L),n=0,r=t.length;n<r;n++)if(t[n].multiElement)return 1;return}(w[1])&&(v=(g=b).substr(0,b.length-5)+"end",b=b.substr(0,b.length-6)),u[d=En(b.toLowerCase())]=b,!m&&n.hasOwnProperty(d)||(n[d]=y,Ft(e,d)&&(n[d]=!0)),!function(e,t,o,a,n){var s=function(e,t){if("srcdoc"===t)return O.HTML;e=Se(e);if("src"===t||"ngSrc"===t){if(-1===["img","video","audio","source","track"].indexOf(e))return O.RESOURCE_URL}else if("xlinkHref"===t||"form"===e&&"action"===t||"link"===e&&"href"===t)return O.RESOURCE_URL}(e,a),r=!n,l=z[a]||n,c=A(o,r,s,l);if(c){if("multiple"===a&&"select"===Se(e))throw Ae("selmulti","Binding to the 'multiple' attribute is not supported. Element: {0}",$e(e));if(B.test(a))throw Ae("nodomevents","Interpolations for HTML DOM event attributes are disallowed.  Please use the ng- versions (such as ng-click instead of onclick) instead.");t.push({priority:100,compile:function(){return{pre:function(e,t,n){var r=n.$$observers||(n.$$observers=Ee()),i=n[a];i!==o&&(c=i&&A(i,!0,s,l),o=i),c&&(n[a]=c(e),(r[a]||(r[a]=[])).$$inter=!0,(n.$$observers&&n.$$observers[a].$$scope||e).$watch(c,function(e,t){"class"===a&&e!==t?n.$updateClass(e,t):n.$set(a,e)}))}}}})}}(e,t,y,d,m),M(t,d,"A",r,i,g,v)}if("input"===s&&"hidden"===e.getAttribute("type")&&e.setAttribute("autocomplete","off"),D&&(_e(a=we(a=e.className)?a.animVal:a)&&""!==a))for(;o=F.exec(a);)M(t,d=En(o[2]),"C",r,i)&&(n[d]=Ce(o[3])),a=a.substr(o.index+o[0].length);break;case Ze:s=t,_=e.nodeValue,(l=A(_,!0))&&s.push({priority:0,compile:function(e){var e=e.parent(),r=!!e.length;return r&&X.$$addBindingClass(e),function(e,t){var n=t.parent();r||X.$$addBindingClass(n),X.$$addBindingInfo(n,l.expressions),e.$watch(l,function(e){t[0].nodeValue=e})}}});break;case et:if(P){var _=e,k=t,x=n,C=r,S=i;try{var T,$=V.exec(_.nodeValue);$&&(T=En($[1]),M(k,T,"M",C,S)&&(x[T]=Ce($[2])))}catch(e){}}}return t.sort(N),t}function ee(e,t,n){var r=[],i=0;if(t&&e.hasAttribute&&e.hasAttribute(t)){do{if(!e)throw Ae("uterdir","Unterminated attribute, found '{0}' but no matching '{1}' found.",t,n)}while(e.nodeType===Qe&&(e.hasAttribute(t)&&i++,e.hasAttribute(n)&&i--),r.push(e),e=e.nextSibling,0<i)}else r.push(e);return pe(r)}function te(o,a,s){return function(e,t,n,r,i){return t=ee(t[0],a,s),o(e,t,n,r,i)}}function ne(e,t,n,r,i,o){var a;return e?X(t,n,r,i,o):function(){return a||(a=X(t,n,r,i,o),t=n=o=null),a.apply(this,arguments)}}function re(e,_,k,t,n,N,x,C,r){r=r||{};for(var i,o,a=-Number.MAX_VALUE,S=r.newScopeDirective,T=r.controllerDirectives,$=r.newIsolateScopeDirective,E=r.templateDirective,s=r.nonTlbTranscludeDirective,l=!1,c=!1,A=r.hasElementTranscludeDirective,u=k.$$element=pe(_),d=N,h=t,j=!1,f=!1,p=0,m=e.length;p<m;p++){var g,v=(g=e[p]).$$start,b=g.$$end;if(v&&(u=ee(_,v,b)),M=void 0,a>g.priority)break;if((o=g.scope)&&(g.templateUrl||(we(o)?(se("new/isolated scope",$||S,g,u),$=g):se("new/isolated scope",$,g,u)),S=S||g),i=g.name,!j&&(g.replace&&(g.templateUrl||g.template)||g.transclude&&!g.$$tlb)){for(var y,L=p+1;y=e[L++];)if(y.transclude&&!y.$$tlb||y.replace&&(y.templateUrl||y.template)){f=!0;break}j=!0}if(!g.templateUrl&&g.controller&&(T=T||Ee(),se("'"+i+"' controller",T[i],g,u),T[i]=g),o=g.transclude)if(l=!0,g.$$tlb||(se("transclusion",s,g,u),s=g),"element"===o)A=!0,a=g.priority,M=u,u=k.$$element=pe(X.$$createComment(i,k[i])),_=u[0],ce(n,Le(M),_),M[0].$$parentNode=M[0].parentNode,h=ne(f,M,t,a,d&&d.name,{nonTlbTranscludeDirective:s});else{var w=Ee();if(we(o)){var O,M=[],V=Ee(),P=Ee();for(O in me(o,function(e,t){var n="?"===e.charAt(0);e=n?e.substring(1):e,V[e]=t,w[t]=null,P[t]=n}),me(u.contents(),function(e){var t=V[En(Se(e))];(t?(P[t]=!0,w[t]=w[t]||[],w[t]):M).push(e)}),me(P,function(e,t){if(!e)throw Ae("reqslot","Required transclusion slot `{0}` was not filled.",t)}),w)w[O]&&(w[O]=ne(f,w[O],t))}else M=pe(_t(_)).contents();u.empty(),(h=ne(f,M,t,void 0,void 0,{needsNewScope:g.$$isolateScope||g.$$newScope})).$$slots=w}if(g.template)if(c=!0,se("template",E,g,u),o=xe((E=g).template)?g.template(u,k):g.template,o=K(o),g.replace){if(d=g,M=vt(o)?[]:On(le(g.templateNamespace,Ce(o))),_=M[0],1!==M.length||_.nodeType!==Qe)throw Ae("tplrt","Template for directive '{0}' must have exactly one root element. {1}",i,"");ce(n,u,_);var F={$attr:{}},z=Z(_,[],F),B=e.splice(p+1,e.length-(p+1));($||S)&&oe(z,$,S),e=e.concat(z).concat(B),ae(k,F),m=e.length}else u.html(o);if(g.templateUrl)c=!0,se("template",E,g,u),(E=g).replace&&(d=g),I=function(u,d,h,f,p,m,g,v){var b,y,w=[],_=d[0],k=u.shift(),x=Me(k,{templateUrl:null,transclude:null,replace:null,$$originalDirective:k}),C=xe(k.templateUrl)?k.templateUrl(d,h):k.templateUrl,S=k.templateNamespace;return d.empty(),W(C).then(function(e){var n,t;if(e=K(e),k.replace){if(t=vt(e)?[]:On(le(S,Ce(e))),n=t[0],1!==t.length||n.nodeType!==Qe)throw Ae("tplrt","Template for directive '{0}' must have exactly one root element. {1}",k.name,C);t={$attr:{}},ce(f,d,n);var r=Z(n,[],t);we(k.scope)&&oe(r,!0),u=r.concat(u),ae(h,t)}else n=_,d.html(e);for(u.unshift(x),b=re(u,n,h,p,d,k,m,g,v),me(f,function(e,t){e===n&&(f[t]=d[0])}),y=J(d[0].childNodes,p);w.length;){var i,o=w.shift(),a=w.shift(),s=w.shift(),l=w.shift(),c=d[0];o.$$destroyed||(a!==_&&(i=a.className,v.hasElementTranscludeDirective&&k.replace||(c=_t(n)),ce(s,pe(a),c),G(pe(c),i)),s=b.transcludeOnThisElement?Q(o,b.transclude,l):l,b(y,o,c,f,s))}w=null}).catch(function(e){De(e)&&U(e)}),function(e,t,n,r,i){var o=i;t.$$destroyed||(w?w.push(t,n,r,o):(b.transcludeOnThisElement&&(o=Q(t,b.transclude,i)),b(y,t,n,r,o)))}}(e.splice(p,e.length-p),u,k,n,l&&h,x,C,{controllerDirectives:T,newScopeDirective:S!==g&&S,newIsolateScopeDirective:$,templateDirective:E,nonTlbTranscludeDirective:s}),m=e.length;else if(g.compile)try{var D=g.compile(u,k,h),R=g.$$originalDirective||g;xe(D)?H(null,Ve(R,D),v,b):D&&H(Ve(R,D.pre),Ve(R,D.post),v,b)}catch(e){U(e,$e(u))}g.terminal&&(I.terminal=!0,a=Math.max(a,g.priority))}return I.scope=S&&!0===S.scope,I.transcludeOnThisElement=l,I.templateOnThisElement=c,I.transclude=h,r.hasElementTranscludeDirective=A,I;function H(e,t,n,r){e&&((e=n?te(e,n,r):e).require=g.require,e.directiveName=i,$!==g&&!g.$$isolateScope||(e=ue(e,{isolateScope:!0})),x.push(e)),t&&((t=n?te(t,n,r):t).require=g.require,t.directiveName=i,$!==g&&!g.$$isolateScope||(t=ue(t,{isolateScope:!0})),C.push(t))}function I(e,t,n,r,a){var i,o,s,l,c,u,d,h,f,p,m;for(m in _===n?h=(f=k).$$element:f=new Y(h=pe(n),k),c=t,$?l=t.$new(!0):S&&(c=t.$parent),a&&((d=function(e,t,n,r){var i;Re(e)||(r=n,n=t,t=e,e=void 0);A&&(i=u);n=n||(A?h.parent():h);{if(!r)return a(e,t,i,n,w);var o=a.$$slots[r];if(o)return o(e,t,i,n,w);if(be(o))throw Ae("noslot",'No parent directive that requires a transclusion with slot name "{0}". Element: {1}',r,$e(h))}}).$$boundTransclude=a,d.isSlotFilled=function(e){return!!a.$$slots[e]}),T&&(u=function(e,t,n,r,i,o,a){var s,l=Ee();for(s in r){var c=r[s],u={$scope:c===a||c.$$isolateScope?i:o,$element:e,$attrs:t,$transclude:n},d=c.controller,d=("@"===d&&(d=t[c.name]),q(d,u,!0,c.controllerAs));l[c.name]=d,e.data("$"+c.name+"Controller",d.instance)}return l}(h,f,d,T,l,t,$)),$&&(X.$$addScopeInfo(h,l,!0,!(E&&(E===$||E===$.$$originalDirective))),X.$$addScopeClass(h,!0),l.$$isolateBindings=$.$$isolateBindings,(p=he(t,f,l,l.$$isolateBindings,$)).removeWatches&&l.$on("$destroy",p.removeWatches)),u){var g,v=T[m],b=u[m],y=v.$$bindings.bindToController;fe?(b.bindingInfo=y?he(c,f,b.instance,y,v):{},(g=b())!==b.instance&&(b.instance=g,h.data("$"+v.name+"Controller",g),b.bindingInfo.removeWatches&&b.bindingInfo.removeWatches(),b.bindingInfo=he(c,f,b.instance,y,v))):(b.instance=b(),h.data("$"+v.name+"Controller",b.instance),b.bindingInfo=he(c,f,b.instance,y,v))}for(me(T,function(e,t){var n=e.require;e.bindToController&&!ke(n)&&we(n)&&ge(u[t].instance,ie(t,n,h,u))}),me(u,function(e){var t=e.instance;if(xe(t.$onChanges))try{t.$onChanges(e.bindingInfo.initialChanges)}catch(e){U(e)}if(xe(t.$onInit))try{t.$onInit()}catch(e){U(e)}xe(t.$doCheck)&&(c.$watch(function(){t.$doCheck()}),t.$doCheck()),xe(t.$onDestroy)&&c.$on("$destroy",function(){t.$onDestroy()})}),i=0,o=x.length;i<o;i++)de(s=x[i],s.isolateScope?l:t,h,f,s.require&&ie(s.directiveName,s.require,h,u),d);var w=t;for($&&($.template||null===$.templateUrl)&&(w=l),e&&e(w,n.childNodes,void 0,a),i=C.length-1;0<=i;i--)de(s=C[i],s.isolateScope?l:t,h,f,s.require&&ie(s.directiveName,s.require,h,u),d);me(u,function(e){e=e.instance;xe(e.$postLink)&&e.$postLink()})}}function ie(n,e,r,i){if(_e(e)){var t,o,a=e.match(d),s=e.substring(a[0].length),l=a[1]||a[3],a="?"===a[2];if("^^"===l?r=r.parent():o=(o=i&&i[s])&&o.instance,o||(t="$"+s+"Controller",o=l?r.inheritedData(t):r.data(t)),!o&&!a)throw Ae("ctreq","Controller '{0}', required by directive '{1}', can't be found!",s,n)}else if(ke(e)){o=[];for(var c=0,u=e.length;c<u;c++)o[c]=ie(n,e[c],r,i)}else we(e)&&(o={},me(e,function(e,t){o[t]=ie(n,e,r,i)}));return o||null}function oe(e,t,n){for(var r=0,i=e.length;r<i;r++)e[r]=Me(e[r],{$$isolateScope:t,$$newScope:n})}function M(e,t,n,r,i,o,a){if(t!==i){var s=null;if(j.hasOwnProperty(t))for(var l=E.get(t+L),c=0,u=l.length;c<u;c++){var d,h=l[c];(be(r)||r>h.priority)&&-1!==h.restrict.indexOf(n)&&((h=o?Me(h,{$$start:o,$$end:a}):h).$$bindings||(d=h.$$bindings=function(e,t){var n={isolateScope:null,bindToController:null};if(we(e.scope)&&(!0===e.bindToController?(n.bindToController=m(e.scope,t,!0),n.isolateScope={}):n.isolateScope=m(e.scope,t,!1)),we(e.bindToController)&&(n.bindToController=m(e.bindToController,t,!0)),n.bindToController&&!e.controller)throw Ae("noctrl","Cannot bind to controller without directive '{0}'s controller.",t);return n}(h,h.name),we(d.isolateScope)&&(h.$$isolateBindings=d.isolateScope)),e.push(h),s=h)}return s}}function ae(n,r){var i=r.$attr,o=n.$attr;me(n,function(e,t){"$"!==t.charAt(0)&&(r[t]&&r[t]!==e&&(e.length?e+=("style"===t?";":" ")+r[t]:e=r[t]),n.$set(t,e,!0,i[t]))}),me(r,function(e,t){n.hasOwnProperty(t)||"$"===t.charAt(0)||(n[t]=e,"class"!==t&&"style"!==t&&(o[t]=i[t]))})}function N(e,t){var n=t.priority-e.priority;return 0!=n?n:e.name!==t.name?e.name<t.name?-1:1:e.index-t.index}function se(e,t,n,r){function i(e){return e?" (module: "+e+")":""}if(t)throw Ae("multidir","Multiple directives [{0}{1}, {2}{3}] asking for {4} on: {5}",t.name,i(t.$$moduleName),n.name,i(n.$$moduleName),e,$e(r))}function le(e,t){switch(e=T(e||"html")){case"svg":case"math":var n=w.document.createElement("div");return n.innerHTML="<"+e+">"+t+"</"+e+">",n.childNodes[0].childNodes;default:return t}}function ce(e,t,n){var r,i=t[0],o=t.length,a=i.parentNode;if(e)for(d=0,r=e.length;d<r;d++)if(e[d]===i){e[d++]=n;for(var s=d,l=s+o-1,c=e.length;s<c;s++,l++)l<c?e[s]=e[l]:delete e[s];e.length-=o-1,e.context===i&&(e.context=n);break}a&&a.replaceChild(n,i);for(var u=w.document.createDocumentFragment(),d=0;d<o;d++)u.appendChild(t[d]);for(pe.hasData(i)&&(pe.data(n,pe.data(i)),pe(i).off("$destroy")),pe.cleanData(u.querySelectorAll("*")),d=1;d<o;d++)delete t[d];t[0]=n,t.length=1}function ue(e,t){return ge(function(){return e.apply(null,arguments)},e,t)}function de(e,t,n,r,i,o){try{e(t,n,r,i,o)}catch(e){U(e,$e(n))}}function he(h,f,p,e,m){var r,g=[],v={};function b(e,t,n){xe(p.$onChanges)&&!je(t,n)&&(a||(h.$$postDigest(s),a=[]),r||(r={},a.push(i)),r[e]&&(n=r[e].previousValue),r[e]=new Sn(n,t))}function i(){p.$onChanges(r),r=void 0}return me(e,function(e,n){var t,r,i,o,a,s,l,c,u=e.attrName,d=e.optional;switch(e.mode){case"@":d||H.call(f,u)||(p[n]=f[u]=void 0),t=f.$observe(u,function(e){var t;(_e(e)||Ie(e))&&(t=p[n],b(n,e,t),p[n]=e)}),f.$$observers[u].$$scope=h,_e(a=f[u])?p[n]=A(a)(h):Ie(a)&&(p[n]=a),v[n]=new Sn(xn,p[n]),g.push(t);break;case"=":if(!H.call(f,u)){if(d)break;f[u]=void 0}d&&!f[u]||(i=(r=y(f[u])).literal?Te:je,o=r.assign||function(){throw a=p[n]=r(h),Ae("nonassign","Expression '{0}' in attribute '{1}' used with directive '{2}' is non-assignable!",f[u],u,m.name)},a=p[n]=r(h),(s=function(e){return i(e,p[n])||(i(e,a)?o(h,e=p[n]):p[n]=e),a=e}).$stateful=!0,t=e.collection?h.$watchCollection(f[u],s):h.$watch(y(f[u],s),null,r.literal),g.push(t));break;case"<":if(!H.call(f,u)){if(d)break;f[u]=void 0}d&&!f[u]||(l=(r=y(f[u])).literal,c=p[n]=r(h),v[n]=new Sn(xn,p[n]),t=h.$watch(r,function(e,t){if(t===e){if(t===c||l&&Te(t,c))return;t=c}b(n,e,t),p[n]=e},l),g.push(t));break;case"&":(r=f.hasOwnProperty(u)?y(f[u]):ve)===ve&&d||(p[n]=function(e){return r(h,e)})}}),{initialChanges:v,removeWatches:g.length&&function(){for(var e=0,t=g.length;e<t;++e)g[e]()}}}}]}function Sn(e,t){this.previousValue=e,this.currentValue=t}Cn.$inject=["$provide","$$sanitizeUriProvider"],Sn.prototype.isFirstChange=function(){return this.previousValue===xn};var Tn=/^((?:x|data)[:\-_])/i,$n=/[:\-_]+(.)/g;function En(e){return e.replace(Tn,"").replace($n,dt)}function An(e,t){var n="",r=e.split(/\s+/),i=t.split(/\s+/);e:for(var o=0;o<r.length;o++){for(var a=r[o],s=0;s<i.length;s++)if(a===i[s])continue e;n+=(0<n.length?" ":"")+a}return n}function On(e){var t=(e=pe(e)).length;if(!(t<=1))for(;t--;){var n=e[t];(n.nodeType===et||n.nodeType===Ze&&""===n.nodeValue.trim())&&r.call(e,t,1)}return e}var Mn=k("$controller"),Pn=/^(\S+)(\s+as\s+([\w$]+))?$/;function Dn(){var u={},d=!1;this.has=function(e){return u.hasOwnProperty(e)},this.register=function(e,t){Ge(e,"controller"),we(e)?ge(u,e):u[e]=t},this.allowGlobals=function(){d=!0},this.$get=["$injector","$window",function(s,l){return function(t,n,e,r){var i,o,a;if(e=!0===e,r&&_e(r)&&(o=r),_e(t)){if(!(r=t.match(Pn)))throw Mn("ctrlfmt","Badly formed controller string '{0}'. Must match `__name__ as __id__` or `__name__`.",t);if(i=r[1],o=o||r[3],!(t=u.hasOwnProperty(i)?u[i]:Ke(n.$scope,i,!0)||(d?Ke(l,i,!0):void 0)))throw Mn("ctrlreg","The controller with the name '{0}' is not registered.",i);Ye(t,i,!0)}return e?(r=(ke(t)?t[t.length-1]:t).prototype,a=Object.create(r||null),o&&c(n,o,a,i||t.name),ge(function(){var e=s.invoke(t,a,n,i);return e!==a&&(we(e)||xe(e))&&(a=e,o&&c(n,o,a,i||t.name)),a},{instance:a,identifier:o})):(a=s.instantiate(t,n,i),o&&c(n,o,a,i||t.name),a)};function c(e,t,n,r){if(!e||!we(e.$scope))throw k("$controller")("noscp","Cannot export controller '{0}' as '{1}'! No $scope object provided via `locals`.",r,t);e.$scope[t]=n}}]}function Rn(){this.$get=["$window",function(e){return pe(e.document)}]}function In(){this.$get=["$document","$rootScope",function(e,t){var n=e[0],r=n&&n.hidden;function i(){r=n.hidden}return e.on("visibilitychange",i),t.$on("$destroy",function(){e.off("visibilitychange",i)}),function(){return r}}]}function Nn(){this.$get=["$log",function(n){return function(e,t){n.error.apply(n,arguments)}}]}function jn(){this.$get=["$document",function(t){return function(e){return e?!e.nodeType&&e instanceof pe&&(e=e[0]):e=t[0].body,e.offsetWidth+1}}]}var Ln="application/json",Vn={"Content-Type":Ln+";charset=utf-8"},Fn=/^\[|^\{(?!\{)/,zn={"[":/]$/,"{":/}$/},Bn=/^\)]\}',?\n/,Hn=k("$http");function Un(e){return we(e)?x(e)?e.toISOString():te(e):e}function Wn(){this.$get=function(){return function(e){var n;return e?(n=[],D(e,function(e,t){null===e||be(e)||(ke(e)?me(e,function(e){n.push(o(t)+"="+o(Un(e)))}):n.push(o(t)+"="+o(Un(e))))}),n.join("&")):""}}}function qn(){this.$get=function(){return function(e){var t;return e?(t=[],function n(e,r,i){if(null===e||be(e))return;ke(e)?me(e,function(e,t){n(e,r+"["+(we(e)?t:"")+"]")}):we(e)&&!x(e)?D(e,function(e,t){n(e,r+(i?"":"[")+t+(i?"":"]"))}):t.push(o(r)+"="+o(Un(e)))}(e,"",!0),t.join("&")):""}}}function Yn(t,e){if(_e(t)){var n=t.replace(Bn,"").trim();if(n){e=e("Content-Type");if(e&&0===e.indexOf(Ln)||(r=(e=n).match(Fn))&&zn[r[0]].test(e))try{t=ne(n)}catch(e){throw Hn("baddata",'Data must be a valid JSON object. Received: "{0}". Parse error: "{1}"',t,e)}}}var r;return t}function Gn(e){var t,n=Ee();function r(e,t){e&&(n[e]=n[e]?n[e]+", "+t:t)}return _e(e)?me(e.split("\n"),function(e){t=e.indexOf(":"),r(T(Ce(e.substr(0,t))),Ce(e.substr(t+1)))}):we(e)&&me(e,function(e,t){r(T(t),Ce(e))}),n}function Kn(t){var n;return function(e){return n=n||Gn(t),e?void 0===(e=n[T(e)])?null:e:n}}function Xn(t,n,r,e){return xe(e)?e(t,n,r):(me(e,function(e){t=e(t,n,r)}),t)}function Jn(e){return 200<=e&&e<300}function Qn(){var w=this.defaults={transformResponse:[Yn],transformRequest:[function(e){return we(e)&&"[object File]"!==v.call(e)&&"[object Blob]"!==v.call(e)&&"[object FormData]"!==v.call(e)?te(e):e}],headers:{common:{Accept:"application/json, text/plain, */*"},post:C(Vn),put:C(Vn),patch:C(Vn)},xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",paramSerializer:"$httpParamSerializer",jsonpCallbackParam:"callback"},_=!1,t=(this.useApplyAsync=function(e){return ye(e)?(_=!!e,this):_},this.interceptors=[]);this.$get=["$browser","$httpBackend","$$cookieReader","$cacheFactory","$rootScope","$q","$injector","$sce",function(s,f,p,e,m,g,l,v){var b=e("$http"),c=(w.paramSerializer=_e(w.paramSerializer)?l.get(w.paramSerializer):w.paramSerializer,[]);function y(e){if(!we(e))throw k("$http")("badreq","Http request configuration must be an object.  Received: {0}",e);var n,t,r,i;if(_e(v.valueOf(e.url)))return(n=ge({method:"get",transformRequest:w.transformRequest,transformResponse:w.transformResponse,paramSerializer:w.paramSerializer,jsonpCallbackParam:w.jsonpCallbackParam},e)).headers=function(e){var t,n,r,i=w.headers,o=ge({},e.headers);e:for(t in i=ge({},i.common,i[T(e.method)])){for(r in n=T(t),o)if(T(r)===n)continue e;o[t]=i[t]}return function(e,n){var r,i={};return me(e,function(e,t){xe(e)?null!=(r=e(n))&&(i[t]=r):i[t]=e}),i}(o,C(e))}(e),n.method=E(n.method),n.paramSerializer=_e(n.paramSerializer)?l.get(n.paramSerializer):n.paramSerializer,s.$$incOutstandingRequestCount(),t=[],r=[],i=g.resolve(n),me(c,function(e){(e.request||e.requestError)&&t.unshift(e.request,e.requestError),(e.response||e.responseError)&&r.push(e.response,e.responseError)}),i=o(i,t),(i=o(i=i.then(function(e){var n=e.headers,t=Xn(e.data,Kn(n),void 0,e.transformRequest);be(t)&&me(n,function(e,t){"content-type"===T(t)&&delete n[t]});be(e.withCredentials)&&!be(w.withCredentials)&&(e.withCredentials=w.withCredentials);return function(i,e){var o,t,a=g.defer(),n=a.promise,r=i.headers,s="jsonp"===T(i.method),l=i.url;s?l=v.getTrustedResourceUrl(l):_e(l)||(l=v.valueOf(l));l=function(e,t){0<t.length&&(e+=(-1===e.indexOf("?")?"?":"&")+t);return e}(l,i.paramSerializer(i.params)),s&&(l=function(e,t){if(/[&?][^=]+=JSON_CALLBACK/.test(e))throw Hn("badjsonp",'Illegal use of JSON_CALLBACK in url, "{0}"',e);if(new RegExp("[&?]"+t+"=").test(e))throw Hn("badjsonp",'Illegal use of callback param, "{0}", in url, "{1}"',t,e);return e+=(-1===e.indexOf("?")?"?":"&")+t+"=JSON_CALLBACK"}(l,i.jsonpCallbackParam));y.pendingRequests.push(i),n.then(h,h),!i.cache&&!w.cache||!1===i.cache||"GET"!==i.method&&"JSONP"!==i.method||(o=we(i.cache)?i.cache:we(w.cache)?w.cache:b);o&&(ye(t=o.get(l))?W(t)?t.then(d,d):ke(t)?u(t[1],t[0],C(t[2]),t[3]):u(t,200,{},"OK"):o.put(l,n));be(t)&&((s=ci(i.url)?p()[i.xsrfCookieName||w.xsrfCookieName]:void 0)&&(r[i.xsrfHeaderName||w.xsrfHeaderName]=s),f(i.method,l,e,function(e,t,n,r){o&&(Jn(e)?o.put(l,[e,t,Gn(n),r]):o.remove(l));function i(){u(t,e,n,r)}_?m.$applyAsync(i):(i(),m.$$phase||m.$apply())},r,i.timeout,i.withCredentials,i.responseType,c(i.eventHandlers),c(i.uploadEventHandlers)));return n;function c(e){var t;if(e)return t={},me(e,function(n,e){t[e]=function(e){function t(){n(e)}_?m.$applyAsync(t):m.$$phase?t():m.$apply(t)}}),t}function u(e,t,n,r){(Jn(t=-1<=t?t:0)?a.resolve:a.reject)({data:e,status:t,headers:Kn(n),config:i,statusText:r})}function d(e){u(e.data,e.status,C(e.headers()),e.statusText)}function h(){var e=y.pendingRequests.indexOf(i);-1!==e&&y.pendingRequests.splice(e,1)}}(e,t).then(a,a)}),r)).finally(function(){s.$$completeOutstandingRequest(ve)});throw k("$http")("badreq","Http request configuration url must be a string or a $sce trusted object.  Received: {0}",e.url);function o(e,t){for(var n=0,r=t.length;n<r;){var i=t[n++],o=t[n++];e=e.then(i,o)}return t.length=0,e}function a(e){var t=ge({},e);return t.data=Xn(e.data,e.headers,e.status,n.transformResponse),Jn(e.status)?t:g.reject(t)}}return me(t,function(e){c.unshift(_e(e)?l.get(e):l.invoke(e))}),y.pendingRequests=[],function(){me(arguments,function(n){y[n]=function(e,t){return y(ge({},t||{},{method:n,url:e}))}})}("get","delete","head","jsonp"),function(){me(arguments,function(r){y[r]=function(e,t,n){return y(ge({},n||{},{method:r,url:e,data:t}))}})}("post","put","patch"),y.defaults=w,y}]}function Zn(){this.$get=function(){return function(){return new w.XMLHttpRequest}}}function er(){this.$get=["$browser","$jsonpCallbacks","$document","$xhrFactory",function(e,t,n,r){return k=r,x=(_=e).defer,C=t,S=n[0],function(e,r,t,i,n,o,a,s,l,c){if(r=r||_.url(),"jsonp"===T(e))var u=C.createCallback(r),d=(p=u,m=function(e,t){var n=200===e&&C.getResponse(u);w(i,e,n,"",t),C.removeCallback(u)},f=(f=r).replace("JSON_CALLBACK",p),g=S.createElement("script"),v=null,g.type="text/javascript",g.src=f,g.async=!0,v=function(e){g.removeEventListener("load",v),g.removeEventListener("error",v),S.body.removeChild(g),g=null;var t=-1,n="unknown";e&&(n=(e="load"!==e.type||C.wasCalled(p)?e:{type:"error"}).type,t="error"===e.type?404:200),m&&m(t,n)},g.addEventListener("load",v),g.addEventListener("error",v),S.body.appendChild(g),v);else{var h=k(e,r),f=(h.open(e,r,!0),me(n,function(e,t){ye(e)&&h.setRequestHeader(t,e)}),h.onload=function(){var e=h.statusText||"",t="response"in h?h.response:h.responseText,n=1223===h.status?204:h.status;0===n&&(n=t?200:"file"===li(r).protocol?404:0),w(i,n,t,h.getAllResponseHeaders(),e)},function(){w(i,-1,null,null,"")});if(h.onerror=f,h.onabort=f,h.ontimeout=f,me(l,function(e,t){h.addEventListener(t,e)}),me(c,function(e,t){h.upload.addEventListener(t,e)}),a&&(h.withCredentials=!0),s)try{h.responseType=s}catch(e){if("json"!==s)throw e}h.send(be(t)?null:t)}var f,p,m,g,v,b;function y(){d&&d(),h&&h.abort()}function w(e,t,n,r,i){ye(b)&&x.cancel(b),d=h=null,e(t,n,r,i)}0<o?b=x(y,o):W(o)&&o.then(y)};var _,k,x,C,S}]}var tr=y.$interpolateMinErr=k("$interpolate");function nr(){var x="{{",C="}}";this.startSymbol=function(e){return e?(x=e,this):x},this.endSymbol=function(e){return e?(C=e,this):C},this.$get=["$parse","$exceptionHandler","$sce",function(g,v,b){var y=x.length,w=C.length,t=new RegExp(x.replace(/./g,e),"g"),n=new RegExp(C.replace(/./g,e),"g");function e(e){return"\\\\\\"+e}function _(e){return e.replace(t,x).replace(n,C)}function k(e,t,n,r){var i=e.$watch(function(e){return i(),r(e)},t,n);return i}function r(i,e,t,r){var n;if(!i.length||-1===i.indexOf(x))return e||((n=S(_(i))).exp=i,n.expressions=[],n.$$watchDelegate=k),n;r=!!r;for(var o,a,s,l,c=0,u=[],d=[],h=i.length,f=[],p=[];c<h;){if(-1===(a=i.indexOf(x,c))||-1===(o=i.indexOf(C,a+y))){c!==h&&f.push(_(i.substring(c)));break}c!==a&&f.push(_(i.substring(c,a))),a=i.substring(a+y,o),u.push(a),d.push(g(a,m)),c=o+w,p.push(f.length),f.push("")}return t&&1<f.length&&tr.throwNoconcat(i),!e||u.length?(s=function(e){for(var t=0,n=u.length;t<n;t++){if(r&&be(e[t]))return;f[p[t]]=e[t]}return f.join("")},l=function(e){return t?b.getTrusted(t,e):b.valueOf(e)},ge(function(e){var t=0,n=u.length,r=new Array(n);try{for(;t<n;t++)r[t]=d[t](e);return s(r)}catch(e){v(tr.interr(i,e))}},{exp:i,expressions:u,$$watchDelegate:function(r,i){var o;return r.$watchGroup(d,function(e,t){var n=s(e);xe(i)&&i.call(this,n,e!==t?o:n,r),o=n})}})):void 0;function m(e){try{return e=l(e),r&&!ye(e)?e:Je(e)}catch(e){v(tr.interr(i,e))}}}return r.startSymbol=function(){return x},r.endSymbol=function(){return C},r}]}function rr(){this.$get=["$rootScope","$window","$q","$$q","$browser",function(f,p,m,g,v){var b={};function e(e,t,n,r){var i=4<arguments.length,o=i?Le(arguments,4):[],a=p.setInterval,s=p.clearInterval,l=0,c=ye(r)&&!r,u=(c?g:m).defer(),d=u.promise;return n=ye(n)?n:0,d.$$intervalId=a(function(){c?v.defer(h):f.$evalAsync(h),u.notify(l++),0<n&&n<=l&&(u.resolve(l),s(d.$$intervalId),delete b[d.$$intervalId]),c||f.$apply()},t),b[d.$$intervalId]=u,d;function h(){i?e.apply(null,o):e(l)}}return e.cancel=function(e){return!!(e&&e.$$intervalId in b)&&(qr(b[e.$$intervalId].promise),b[e.$$intervalId].reject("canceled"),p.clearInterval(e.$$intervalId),delete b[e.$$intervalId],!0)},e}]}tr.throwNoconcat=function(e){throw tr("noconcat","Error while interpolating: {0}\nStrict Contextual Escaping disallows interpolations that concatenate multiple expressions when a trusted value is required.  See http://docs.angularjs.org/api/ng.$sce",e)},tr.interr=function(e,t){return tr("interr","Can't interpolate: {0}\n{1}",e,t.toString())};function ir(){this.$get=function(){var i=y.callbacks,o={};function a(e){function t(e){t.data=e,t.called=!0}return t.id=e,t}return{createCallback:function(e){var t="_"+(i.$$counter++).toString(36),n="angular.callbacks."+t,r=a(t);return o[n]=i[t]=r,n},wasCalled:function(e){return o[e].called},getResponse:function(e){return o[e].data},removeCallback:function(e){var t=o[e];delete i[t.id],delete o[e]}}}}var or=/^([^?#]*)(\?([^#]*))?(#(.*))?$/,ar={http:80,https:443,ftp:21},sr=k("$location");function lr(e){for(var t=e.split("/"),n=t.length;n--;)t[n]=ce(t[n]);return t.join("/")}function cr(e,t){e=li(e);t.$$protocol=e.protocol,t.$$host=e.hostname,t.$$port=b(e.port)||ar[e.protocol]||null}var ur=/^\s*[\\/]{2,}/;function dr(e,t){if(ur.test(e))throw sr("badpath",'Invalid url "{0}".',e);var n="/"!==e.charAt(0),e=li(e=n?"/"+e:e);t.$$path=decodeURIComponent(n&&"/"===e.pathname.charAt(0)?e.pathname.substring(1):e.pathname),t.$$search=se(e.search),t.$$hash=decodeURIComponent(e.hash),t.$$path&&"/"!==t.$$path.charAt(0)&&(t.$$path="/"+t.$$path)}function hr(e,t){return e.slice(0,t.length)===t}function fr(e,t){if(hr(t,e))return t.substr(e.length)}function pr(e){var t=e.indexOf("#");return-1===t?e:e.substr(0,t)}function mr(e){return e.replace(/(#.+)|#$/,"$1")}function gr(r,i,o){this.$$html5=!0,o=o||"",cr(r,this),this.$$parse=function(e){var t=fr(i,e);if(!_e(t))throw sr("ipthprfx",'Invalid url "{0}", missing path prefix "{1}".',e,i);dr(t,this),this.$$path||(this.$$path="/"),this.$$compose()},this.$$compose=function(){var e=le(this.$$search),t=this.$$hash?"#"+ce(this.$$hash):"";this.$$url=lr(this.$$path)+(e?"?"+e:"")+t,this.$$absUrl=i+this.$$url.substr(1),this.$$urlUpdatedByLocation=!0},this.$$parseLinkUrl=function(e,t){var n;return t&&"#"===t[0]?(this.hash(t.slice(1)),!0):(ye(t=fr(r,e))?(n=t,n=o&&ye(t=fr(o,t))?i+(fr("/",t)||t):r+n):ye(t=fr(i,e))?n=i+t:i===e+"/"&&(n=i),n&&this.$$parse(n),!!n)}}function vr(r,i,o){cr(r,this),this.$$parse=function(e){var t,n=fr(r,e)||fr(i,e);be(n)||"#"!==n.charAt(0)?this.$$html5?t=n:(t="",be(n)&&(r=e,this.replace())):be(t=fr(o,n))&&(t=n),dr(t,this),this.$$path=function(e,t,n){var r=/^\/[A-Z]:(\/.*)/;hr(t,n)&&(t=t.replace(n,""));if(r.exec(t))return e;return(n=r.exec(e))?n[1]:e}(this.$$path,t,r),this.$$compose()},this.$$compose=function(){var e=le(this.$$search),t=this.$$hash?"#"+ce(this.$$hash):"";this.$$url=lr(this.$$path)+(e?"?"+e:"")+t,this.$$absUrl=r+(this.$$url?o+this.$$url:""),this.$$urlUpdatedByLocation=!0},this.$$parseLinkUrl=function(e,t){return pr(r)===pr(e)&&(this.$$parse(e),!0)}}function br(r,i,o){this.$$html5=!0,vr.apply(this,arguments),this.$$parseLinkUrl=function(e,t){var n;return t&&"#"===t[0]?(this.hash(t.slice(1)),!0):(r===pr(e)?n=e:(t=fr(i,e))?n=r+o+t:i===e+"/"&&(n=i),n&&this.$$parse(n),!!n)},this.$$compose=function(){var e=le(this.$$search),t=this.$$hash?"#"+ce(this.$$hash):"";this.$$url=lr(this.$$path)+(e?"?"+e:"")+t,this.$$absUrl=r+o+this.$$url,this.$$urlUpdatedByLocation=!0}}var yr={$$absUrl:"",$$html5:!1,$$replace:!1,absUrl:wr("$$absUrl"),url:function(e){var t;return be(e)?this.$$url:(!(t=or.exec(e))[1]&&""!==e||this.path(decodeURIComponent(t[1])),(t[2]||t[1]||""===e)&&this.search(t[3]||""),this.hash(t[5]||""),this)},protocol:wr("$$protocol"),host:wr("$$host"),port:wr("$$port"),path:_r("$$path",function(e){return"/"===(e=null!==e?e.toString():"").charAt(0)?e:"/"+e}),search:function(n,e){switch(arguments.length){case 0:return this.$$search;case 1:if(_e(n)||_(n))n=n.toString(),this.$$search=se(n);else{if(!we(n))throw sr("isrcharg","The first argument of the `$location#search()` call must be a string or an object.");me(n=X(n,{}),function(e,t){null==e&&delete n[t]}),this.$$search=n}break;default:be(e)||null===e?delete this.$$search[n]:this.$$search[n]=e}return this.$$compose(),this},hash:_r("$$hash",function(e){return null!==e?e.toString():""}),replace:function(){return this.$$replace=!0,this}};function wr(e){return function(){return this[e]}}function _r(t,n){return function(e){return be(e)?this[t]:(this[t]=n(e),this.$$compose(),this)}}function kr(){var m="!",g={enabled:!1,requireBase:!0,rewriteLinks:!0};this.hashPrefix=function(e){return ye(e)?(m=e,this):m},this.html5Mode=function(e){return Ie(e)?(g.enabled=e,this):we(e)?(Ie(e.enabled)&&(g.enabled=e.enabled),Ie(e.requireBase)&&(g.requireBase=e.requireBase),(Ie(e.rewriteLinks)||_e(e.rewriteLinks))&&(g.rewriteLinks=e.rewriteLinks),this):g},this.$get=["$rootScope","$browser","$sniffer","$rootElement","$window",function(a,s,t,i,o){var e,n,r=s.baseHref(),l=s.url();if(g.enabled){if(!r&&g.requireBase)throw sr("nobase","$location in HTML5 mode requires a <base> tag to be present!");n=l.substring(0,l.indexOf("/",l.indexOf("//")+2))+(r||"/"),e=t.history?gr:br}else n=pr(l),e=vr;var c,u=(r=n).substr(0,pr(r).lastIndexOf("/")+1),d=((c=new e(n,u,"#"+m)).$$parseLinkUrl(l,l),c.$$state=s.state(),/^\s*(javascript|mailto):/i);function h(e,t,n){var r=c.url(),i=c.$$state;try{s.url(e,t,n),c.$$state=s.state()}catch(e){throw c.url(r),c.$$state=i,e}}i.on("click",function(e){var t=g.rewriteLinks;if(t&&!e.ctrlKey&&!e.metaKey&&!e.shiftKey&&2!==e.which&&2!==e.button){for(var n,r=pe(e.target);"a"!==Se(r[0]);)if(r[0]===i[0]||!(r=r.parent())[0])return;_e(t)&&be(r.attr(t))||(t=r.prop("href"),n=r.attr("href")||r.attr("xlink:href"),we(t)&&"[object SVGAnimatedString]"===t.toString()&&(t=li(t.animVal).href),d.test(t)||!t||r.attr("target")||e.isDefaultPrevented()||c.$$parseLinkUrl(t,n)&&(e.preventDefault(),c.absUrl()!==s.url()&&(a.$apply(),o.angular["ff-684208-preventDefault"]=!0)))}}),mr(c.absUrl())!==mr(l)&&s.url(c.absUrl(),!0);var f=!0;return s.onUrlChange(function(r,i){hr(r,u)?(a.$evalAsync(function(){var e,t=c.absUrl(),n=c.$$state;r=mr(r),c.$$parse(r),c.$$state=i,e=a.$broadcast("$locationChangeStart",r,t,i,n).defaultPrevented,c.absUrl()===r&&(e?(c.$$parse(t),c.$$state=n,h(t,!1,n)):(f=!1,p(t,n)))}),a.$$phase||a.$digest()):o.location.href=r}),a.$watch(function(){var n,e,r,i,o;(f||c.$$urlUpdatedByLocation)&&(c.$$urlUpdatedByLocation=!1,n=mr(s.url()),e=mr(c.absUrl()),r=s.state(),i=c.$$replace,o=n!==e||c.$$html5&&t.history&&r!==c.$$state,(f||o)&&(f=!1,a.$evalAsync(function(){var e=c.absUrl(),t=a.$broadcast("$locationChangeStart",e,n,c.$$state,r).defaultPrevented;c.absUrl()===e&&(t?(c.$$parse(n),c.$$state=r):(o&&h(e,i,r===c.$$state?null:c.$$state),p(n,r)))}))),c.$$replace=!1}),c;function p(e,t){a.$broadcast("$locationChangeSuccess",c.absUrl(),e,c.$$state,t)}}]}function xr(){var r=!0,o=this;this.debugEnabled=function(e){return ye(e)?(r=e,this):r},this.$get=["$window",function(t){var e,i=Oe||/\bEdge\//.test(t.navigator&&t.navigator.userAgent);return{log:n("log"),info:n("info"),warn:n("warn"),error:n("error"),debug:(e=n("debug"),function(){r&&e.apply(o,arguments)})};function n(e){var n=t.console||{},r=n[e]||n.log||ve;return function(){var t=[];return me(arguments,function(e){t.push((De(e=e)&&(e.stack&&i?e=e.message&&-1===e.stack.indexOf(e.message)?"Error: "+e.message+"\n"+e.stack:e.stack:e.sourceURL&&(e=e.message+"\n"+e.sourceURL+":"+e.line)),e))}),Function.prototype.apply.call(r,n,t)}}}]}me([br,vr,gr],function(t){t.prototype=Object.create(yr),t.prototype.state=function(e){if(!arguments.length)return this.$$state;if(t===gr&&this.$$html5)return this.$$state=be(e)?null:e,this.$$urlUpdatedByLocation=!0,this;throw sr("nostate","History API state support is available only in HTML5 mode and only in browsers supporting HTML5 History API")}});var Cr=k("$parse"),Sr={}.constructor.prototype.valueOf;function Tr(e){return e+""}var $r=Ee(),Er=(me("+ - * / % === !== == != < > <= >= && || ! = |".split(" "),function(e){$r[e]=!0}),{n:"\n",f:"\f",r:"\r",t:"\t",v:"\v","'":"'",'"':'"'}),Ar=function(e){this.options=e},h=(Ar.prototype={constructor:Ar,lex:function(e){for(this.text=e,this.index=0,this.tokens=[];this.index<this.text.length;){var t,n,r,i,o,a=this.text.charAt(this.index);'"'===a||"'"===a?this.readString(a):this.isNumber(a)||"."===a&&this.isNumber(this.peek())?this.readNumber():this.isIdentifierStart(this.peekMultichar())?this.readIdent():this.is(a,"(){}[].,;:?")?(this.tokens.push({index:this.index,text:a}),this.index++):this.isWhitespace(a)?this.index++:(n=(t=a+this.peek())+this.peek(2),o=$r[a],r=$r[t],i=$r[n],o||r||i?(this.tokens.push({index:this.index,text:o=i?n:r?t:a,operator:!0}),this.index+=o.length):this.throwError("Unexpected next character ",this.index,this.index+1))}return this.tokens},is:function(e,t){return-1!==t.indexOf(e)},peek:function(e){e=e||1;return this.index+e<this.text.length&&this.text.charAt(this.index+e)},isNumber:function(e){return"0"<=e&&e<="9"&&"string"==typeof e},isWhitespace:function(e){return" "===e||"\r"===e||"\t"===e||"\n"===e||"\v"===e||""===e},isIdentifierStart:function(e){return this.options.isIdentifierStart?this.options.isIdentifierStart(e,this.codePointAt(e)):this.isValidIdentifierStart(e)},isValidIdentifierStart:function(e){return"a"<=e&&e<="z"||"A"<=e&&e<="Z"||"_"===e||"$"===e},isIdentifierContinue:function(e){return this.options.isIdentifierContinue?this.options.isIdentifierContinue(e,this.codePointAt(e)):this.isValidIdentifierContinue(e)},isValidIdentifierContinue:function(e,t){return this.isValidIdentifierStart(e,t)||this.isNumber(e)},codePointAt:function(e){return 1===e.length?e.charCodeAt(0):(e.charCodeAt(0)<<10)+e.charCodeAt(1)-56613888},peekMultichar:function(){var e,t,n=this.text.charAt(this.index),r=this.peek();return r&&(e=n.charCodeAt(0),t=r.charCodeAt(0),55296<=e&&e<=56319&&56320<=t&&t<=57343)?n+r:n},isExpOperator:function(e){return"-"===e||"+"===e||this.isNumber(e)},throwError:function(e,t,n){n=n||this.index;t=ye(t)?"s "+t+"-"+this.index+" ["+this.text.substring(t,n)+"]":" "+n;throw Cr("lexerr","Lexer Error: {0} at column{1} in expression [{2}].",e,t,this.text)},readNumber:function(){for(var e="",t=this.index;this.index<this.text.length;){var n=T(this.text.charAt(this.index));if("."===n||this.isNumber(n))e+=n;else{var r=this.peek();if("e"===n&&this.isExpOperator(r))e+=n;else if(this.isExpOperator(n)&&r&&this.isNumber(r)&&"e"===e.charAt(e.length-1))e+=n;else{if(!this.isExpOperator(n)||r&&this.isNumber(r)||"e"!==e.charAt(e.length-1))break;this.throwError("Invalid exponent")}}this.index++}this.tokens.push({index:t,text:e,constant:!0,value:Number(e)})},readIdent:function(){var e=this.index;for(this.index+=this.peekMultichar().length;this.index<this.text.length;){var t=this.peekMultichar();if(!this.isIdentifierContinue(t))break;this.index+=t.length}this.tokens.push({index:e,text:this.text.slice(e,this.index),identifier:!0})},readString:function(e){for(var t=this.index,n=(this.index++,""),r=e,i=!1;this.index<this.text.length;){var o,a=this.text.charAt(this.index);if(r+=a,i)"u"===a?((o=this.text.substring(this.index+1,this.index+5)).match(/[\da-f]{4}/i)||this.throwError("Invalid unicode escape [\\u"+o+"]"),this.index+=4,n+=String.fromCharCode(parseInt(o,16))):n+=Er[a]||a,i=!1;else if("\\"===a)i=!0;else{if(a===e)return this.index++,void this.tokens.push({index:t,text:r,constant:!0,value:n});n+=a}this.index++}this.throwError("Unterminated quote",t)}},function(e,t){this.lexer=e,this.options=t});function Or(e,t){return void 0!==e?e:t}function Mr(e,t){return void 0===e?t:void 0===t?e:e+t}h.Program="Program",h.ExpressionStatement="ExpressionStatement",h.AssignmentExpression="AssignmentExpression",h.ConditionalExpression="ConditionalExpression",h.LogicalExpression="LogicalExpression",h.BinaryExpression="BinaryExpression",h.UnaryExpression="UnaryExpression",h.CallExpression="CallExpression",h.MemberExpression="MemberExpression",h.Identifier="Identifier",h.Literal="Literal",h.ArrayExpression="ArrayExpression",h.Property="Property",h.ObjectExpression="ObjectExpression",h.ThisExpression="ThisExpression",h.LocalsExpression="LocalsExpression",h.NGValueParameter="NGValueParameter",h.prototype={ast:function(e){this.text=e,this.tokens=this.lexer.lex(e);e=this.program();return 0!==this.tokens.length&&this.throwError("is an unexpected token",this.tokens[0]),e},program:function(){for(var e=[];;)if(0<this.tokens.length&&!this.peek("}",")",";","]")&&e.push(this.expressionStatement()),!this.expect(";"))return{type:h.Program,body:e}},expressionStatement:function(){return{type:h.ExpressionStatement,expression:this.filterChain()}},filterChain:function(){for(var e=this.expression();this.expect("|");)e=this.filter(e);return e},expression:function(){return this.assignment()},assignment:function(){var e=this.ternary();if(this.expect("=")){if(!Ir(e))throw Cr("lval","Trying to assign a value to a non l-value");e={type:h.AssignmentExpression,left:e,right:this.assignment(),operator:"="}}return e},ternary:function(){var e,t,n=this.logicalOR();return this.expect("?")&&(e=this.expression(),this.consume(":"))?(t=this.expression(),{type:h.ConditionalExpression,test:n,alternate:e,consequent:t}):n},logicalOR:function(){for(var e=this.logicalAND();this.expect("||");)e={type:h.LogicalExpression,operator:"||",left:e,right:this.logicalAND()};return e},logicalAND:function(){for(var e=this.equality();this.expect("&&");)e={type:h.LogicalExpression,operator:"&&",left:e,right:this.equality()};return e},equality:function(){for(var e,t=this.relational();e=this.expect("==","!=","===","!==");)t={type:h.BinaryExpression,operator:e.text,left:t,right:this.relational()};return t},relational:function(){for(var e,t=this.additive();e=this.expect("<",">","<=",">=");)t={type:h.BinaryExpression,operator:e.text,left:t,right:this.additive()};return t},additive:function(){for(var e,t=this.multiplicative();e=this.expect("+","-");)t={type:h.BinaryExpression,operator:e.text,left:t,right:this.multiplicative()};return t},multiplicative:function(){for(var e,t=this.unary();e=this.expect("*","/","%");)t={type:h.BinaryExpression,operator:e.text,left:t,right:this.unary()};return t},unary:function(){var e;return(e=this.expect("+","-","!"))?{type:h.UnaryExpression,operator:e.text,prefix:!0,argument:this.unary()}:this.primary()},primary:function(){var e,t;for(this.expect("(")?(e=this.filterChain(),this.consume(")")):this.expect("[")?e=this.arrayDeclaration():this.expect("{")?e=this.object():this.selfReferential.hasOwnProperty(this.peek().text)?e=X(this.selfReferential[this.consume().text]):this.options.literals.hasOwnProperty(this.peek().text)?e={type:h.Literal,value:this.options.literals[this.consume().text]}:this.peek().identifier?e=this.identifier():this.peek().constant?e=this.constant():this.throwError("not a primary expression",this.peek());t=this.expect("(","[",".");)"("===t.text?(e={type:h.CallExpression,callee:e,arguments:this.parseArguments()},this.consume(")")):"["===t.text?(e={type:h.MemberExpression,object:e,property:this.expression(),computed:!0},this.consume("]")):"."===t.text?e={type:h.MemberExpression,object:e,property:this.identifier(),computed:!1}:this.throwError("IMPOSSIBLE");return e},filter:function(e){for(var t=[e],e={type:h.CallExpression,callee:this.identifier(),arguments:t,filter:!0};this.expect(":");)t.push(this.expression());return e},parseArguments:function(){var e=[];if(")"!==this.peekToken().text)for(;e.push(this.filterChain()),this.expect(","););return e},identifier:function(){var e=this.consume();return e.identifier||this.throwError("is not a valid identifier",e),{type:h.Identifier,name:e.text}},constant:function(){return{type:h.Literal,value:this.consume().value}},arrayDeclaration:function(){var e=[];if("]"!==this.peekToken().text)for(;!this.peek("]")&&(e.push(this.expression()),this.expect(",")););return this.consume("]"),{type:h.ArrayExpression,elements:e}},object:function(){var e,t=[];if("}"!==this.peekToken().text)for(;!this.peek("}")&&(e={type:h.Property,kind:"init"},this.peek().constant?(e.key=this.constant(),e.computed=!1,this.consume(":"),e.value=this.expression()):this.peek().identifier?(e.key=this.identifier(),e.computed=!1,this.peek(":")?(this.consume(":"),e.value=this.expression()):e.value=e.key):this.peek("[")?(this.consume("["),e.key=this.expression(),this.consume("]"),e.computed=!0,this.consume(":"),e.value=this.expression()):this.throwError("invalid key",this.peek()),t.push(e),this.expect(",")););return this.consume("}"),{type:h.ObjectExpression,properties:t}},throwError:function(e,t){throw Cr("syntax","Syntax Error: Token '{0}' {1} at column {2} of the expression [{3}] starting at [{4}].",t.text,e,t.index+1,this.text,this.text.substring(t.index))},consume:function(e){if(0===this.tokens.length)throw Cr("ueoe","Unexpected end of expression: {0}",this.text);var t=this.expect(e);return t||this.throwError("is unexpected, expecting ["+e+"]",this.peek()),t},peekToken:function(){if(0===this.tokens.length)throw Cr("ueoe","Unexpected end of expression: {0}",this.text);return this.tokens[0]},peek:function(e,t,n,r){return this.peekAhead(0,e,t,n,r)},peekAhead:function(e,t,n,r,i){if(this.tokens.length>e){var e=this.tokens[e],o=e.text;if(o===t||o===n||o===r||o===i||!t&&!n&&!r&&!i)return e}return!1},expect:function(e,t,n,r){e=this.peek(e,t,n,r);return!!e&&(this.tokens.shift(),e)},selfReferential:{this:{type:h.ThisExpression},$locals:{type:h.LocalsExpression}}};var Pr=1,Dr=2;function l(e,t,n){var r,i,o,a=e.isPure=function(e,t){switch(e.type){case h.MemberExpression:if(e.computed)return!1;break;case h.UnaryExpression:return Pr;case h.BinaryExpression:return"+"!==e.operator&&Pr;case h.CallExpression:return!1}return void 0===t?Dr:t}(e,n);switch(e.type){case h.Program:r=!0,me(e.body,function(e){l(e.expression,t,a),r=r&&e.expression.constant}),e.constant=r;break;case h.Literal:e.constant=!0,e.toWatch=[];break;case h.UnaryExpression:l(e.argument,t,a),e.constant=e.argument.constant,e.toWatch=e.argument.toWatch;break;case h.BinaryExpression:l(e.left,t,a),l(e.right,t,a),e.constant=e.left.constant&&e.right.constant,e.toWatch=e.left.toWatch.concat(e.right.toWatch);break;case h.LogicalExpression:l(e.left,t,a),l(e.right,t,a),e.constant=e.left.constant&&e.right.constant,e.toWatch=e.constant?[]:[e];break;case h.ConditionalExpression:l(e.test,t,a),l(e.alternate,t,a),l(e.consequent,t,a),e.constant=e.test.constant&&e.alternate.constant&&e.consequent.constant,e.toWatch=e.constant?[]:[e];break;case h.Identifier:e.constant=!1,e.toWatch=[e];break;case h.MemberExpression:l(e.object,t,a),e.computed&&l(e.property,t,a),e.constant=e.object.constant&&(!e.computed||e.property.constant),e.toWatch=[e];break;case h.CallExpression:o=!!e.filter&&(o=e.callee.name,!t(o).$stateful),r=o,i=[],me(e.arguments,function(e){l(e,t,a),r=r&&e.constant,e.constant||i.push.apply(i,e.toWatch)}),e.constant=r,e.toWatch=o?i:[e];break;case h.AssignmentExpression:l(e.left,t,a),l(e.right,t,a),e.constant=e.left.constant&&e.right.constant,e.toWatch=[e];break;case h.ArrayExpression:r=!0,i=[],me(e.elements,function(e){l(e,t,a),r=r&&e.constant,e.constant||i.push.apply(i,e.toWatch)}),e.constant=r,e.toWatch=i;break;case h.ObjectExpression:r=!0,i=[],me(e.properties,function(e){l(e.value,t,a),r=r&&e.value.constant&&!e.computed,e.value.constant||i.push.apply(i,e.value.toWatch),e.computed&&(l(e.key,t,a),e.key.constant||i.push.apply(i,e.key.toWatch))}),e.constant=r,e.toWatch=i;break;case h.ThisExpression:case h.LocalsExpression:e.constant=!1,e.toWatch=[]}}function Rr(e){var t;return 1===e.length&&(1!==(t=(e=e[0].expression).toWatch).length||t[0]!==e)?t:void 0}function Ir(e){return e.type===h.Identifier||e.type===h.MemberExpression}function Nr(e){if(1===e.body.length&&Ir(e.body[0].expression))return{type:h.AssignmentExpression,left:e.body[0].expression,right:{type:h.NGValueParameter},operator:"="}}function jr(e){this.$filter=e}function Lr(e){this.$filter=e}function Vr(e,t,n){this.ast=new h(e,n),this.astCompiler=new(n.csp?Lr:jr)(t)}function Fr(e){return xe(e.valueOf)?e.valueOf():Sr.call(e)}function zr(){var n,r,p=Ee(),i={true:!0,false:!1,null:null,undefined:void 0};this.addLiteral=function(e,t){i[e]=t},this.setIdentifierFns=function(e,t){return n=e,r=t,this},this.$get=["$filter",function(a){var s={csp:J().noUnsafeEval,literals:X(i),isIdentifierStart:xe(n)&&n,isIdentifierContinue:xe(r)&&r};return function(e,t){var n,r,i;switch(typeof e){case"string":var o;return e=e.trim(),(n=p[i=e])||(":"===e.charAt(0)&&":"===e.charAt(1)&&(r=!0,e=e.substring(2)),o=new Vr(new Ar(s),a,s),(n=o.parse(e)).constant?n.$$watchDelegate=d:r?n.$$watchDelegate=n.literal?u:c:n.inputs&&(n.$$watchDelegate=l),p[i]=n),f(n,t);case"function":return f(e,t);default:return f(ve,t)}};function h(e,t,n){return null==e||null==t?e===t:!("object"==typeof e&&"object"==typeof(e=Fr(e))&&!n)&&(e===t||e!=e&&t!=t)}function l(e,t,n,o,r){var a,i,s=o.inputs;if(1===s.length)return i=h,s=s[0],e.$watch(function(e){var t=s(e);return h(t,i,s.isPure)||(a=o(e,void 0,void 0,[t]),i=t&&Fr(t)),a},t,n,r);for(var l=[],c=[],u=0,d=s.length;u<d;u++)l[u]=h,c[u]=null;return e.$watch(function(e){for(var t=!1,n=0,r=s.length;n<r;n++){var i=s[n](e);(t=t||!h(i,l[n],s[n].isPure))&&(c[n]=i,l[n]=i&&Fr(i))}return a=t?o(e,void 0,void 0,c):a},t,n,r)}function c(e,r,t,n,i){var o,a=n.inputs?l(e,s,t,n,i):e.$watch(function(e){return n(e)},s,t);return a;function s(e,t,n){o=e,xe(r)&&r(e,t,n),ye(e)&&n.$$postDigest(function(){ye(o)&&a()})}}function u(e,r,t,n){var i,o=e.$watch(function(e){return n(e)},function(e,t,n){i=e,xe(r)&&r(e,t,n),a(e)&&n.$$postDigest(function(){a(i)&&o()})},t);return o;function a(e){var t=!0;return me(e,function(e){ye(e)||(t=!1)}),t}}function d(e,t,n,r){var i=e.$watch(function(e){return i(),r(e)},t,n);return i}function f(i,o){var e,t,a;return o?(e=i.$$watchDelegate,a=!1,t=e!==u&&e!==c?function(e,t,n,r){n=a&&r?r[0]:i(e,t,n,r);return o(n,e,t)}:function(e,t,n,r){n=i(e,t,n,r),r=o(n,e,t);return ye(n)?r:n},a=!i.inputs,e&&e!==l?(t.$$watchDelegate=e,t.inputs=i.inputs):o.$stateful||(t.$$watchDelegate=l,t.inputs=i.inputs||[i]),t.inputs&&(t.inputs=t.inputs.map(function(t){return t.isPure===Dr?function(e){return t(e)}:t})),t):i}}]}function Br(){var n=!0;this.$get=["$rootScope","$exceptionHandler",function(t,e){return Ur(function(e){t.$evalAsync(e)},e,n)}],this.errorOnUnhandledRejections=function(e){return ye(e)?(n=e,this):n}}function Hr(){var n=!0;this.$get=["$browser","$exceptionHandler",function(t,e){return Ur(function(e){t.defer(e)},e,n)}],this.errorOnUnhandledRejections=function(e){return ye(e)?(n=e,this):n}}function Ur(s,a,l){var n=k("$q",TypeError),c=0,r=[];function i(){return new e}function e(){var t=this.promise=new o;this.resolve=function(e){h(t,e)},this.reject=function(e){f(t,e)},this.notify=function(e){m(t,e)}}function o(){this.$$state={status:0}}function u(){for(;!c&&r.length;){var e,t=r.shift();t.pur||(Wr(t),e="Possibly unhandled rejection: "+rt(t.value),De(t.value)?a(t.value,e):a(e))}}function d(a){!l||a.pending||2!==a.status||a.pur||(0===c&&0===r.length&&s(u),r.push(a)),!a.processScheduled&&a.pending&&(a.processScheduled=!0,++c,s(function(){var e,t,n=a,r=n.pending;n.processScheduled=!1,n.pending=void 0;try{for(var i=0,o=r.length;i<o;++i){Wr(n),t=r[i][0],e=r[i][n.status];try{xe(e)?h(t,e(n.value)):(1===n.status?h:f)(t,n.value)}catch(e){f(t,e)}}}finally{--c,l&&0===c&&s(u)}}))}function h(e,t){e.$$state.status||(t===e?p(e,n("qcycle","Expected promise to be resolved with value other than itself '{0}'",t)):function t(n,e){var r;var i=!1;try{(we(e)||xe(e))&&(r=e.then),xe(r)?(n.$$state.status=-1,r.call(e,o,a,s)):(n.$$state.value=e,n.$$state.status=1,d(n.$$state))}catch(e){a(e)}function o(e){i||(i=!0,t(n,e))}function a(e){i||(i=!0,p(n,e))}function s(e){m(n,e)}}(e,t))}function f(e,t){e.$$state.status||p(e,t)}function p(e,t){e.$$state.value=t,e.$$state.status=2,d(e.$$state)}function m(e,i){var o=e.$$state.pending;e.$$state.status<=0&&o&&o.length&&s(function(){for(var e,t,n=0,r=o.length;n<r;n++){t=o[n][0],e=o[n][3];try{m(t,xe(e)?e(i):i)}catch(e){a(e)}}})}function g(e){var t=new o;return f(t,e),t}function v(e,t,n){var r=null;try{xe(n)&&(r=n())}catch(e){return g(e)}return W(r)?r.then(function(){return t(e)},g):t(e)}function b(e,t,n,r){var i=new o;return h(i,e),i.then(t,n,r)}ge(o.prototype,{then:function(e,t,n){var r;return be(e)&&be(t)&&be(n)?this:(r=new o,this.$$state.pending=this.$$state.pending||[],this.$$state.pending.push([r,e,t,n]),0<this.$$state.status&&d(this.$$state),r)},catch:function(e){return this.then(null,e)},finally:function(t,e){return this.then(function(e){return v(e,y,t)},function(e){return v(e,g,t)},e)}});var y=b;function t(e){var t;if(xe(e))return t=new o,e(function(e){h(t,e)},function(e){f(t,e)}),t;throw n("norslvr","Expected resolverFn, got '{0}'",e)}return t.prototype=o.prototype,t.defer=i,t.reject=g,t.when=b,t.resolve=y,t.all=function(e){var n=new o,r=0,i=ke(e)?[]:{};return me(e,function(e,t){r++,b(e).then(function(e){i[t]=e,--r||h(n,i)},function(e){f(n,e)})}),0===r&&h(n,i),n},t.race=function(e){var t=i();return me(e,function(e){b(e).then(t.resolve,t.reject)}),t.promise},t}function Wr(e){e.pur=!0}function qr(e){Wr(e.$$state)}function Yr(){this.$get=["$window","$timeout",function(e,n){var r=e.requestAnimationFrame||e.webkitRequestAnimationFrame,i=e.cancelAnimationFrame||e.webkitCancelAnimationFrame||e.webkitCancelRequestAnimationFrame,e=!!r,t=e?function(e){var t=r(e);return function(){i(t)}}:function(e){var t=n(e,16.66,!1);return function(){n.cancel(t)}};return t.supported=e,t}]}function Gr(){var x=10,C=k("$rootScope"),S=null,T=null;this.digestTtl=function(e){return x=arguments.length?e:x},this.$get=["$exceptionHandler","$parse","$browser",function(h,f,p){function i(e){e.currentScope.$$destroyed=!0}function o(){this.$id=N(),this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null,(this.$root=this).$$destroyed=!1,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$$isolateBindings=null}o.prototype={constructor:o,$new:function(e,t){var n;function r(){this.$$watchers=this.$$nextSibling=this.$$childHead=this.$$childTail=null,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$id=N(),this.$$ChildScope=null}return t=t||this,e?(n=new o).$root=this.$root:(this.$$ChildScope||(this.$$ChildScope=(r.prototype=this,r)),n=new this.$$ChildScope),n.$parent=t,n.$$prevSibling=t.$$childTail,t.$$childHead?(t.$$childTail.$$nextSibling=n,t.$$childTail=n):t.$$childHead=t.$$childTail=n,!e&&t===this||n.$on("$destroy",i),n},$watch:function(e,t,n,r){var i,o,a,s=f(e);return s.$$watchDelegate?s.$$watchDelegate(this,t,n,s,e):(o=(i=this).$$watchers,a={fn:t,last:_,get:s,exp:r||e,eq:!!n},S=null,xe(t)||(a.fn=ve),o||((o=i.$$watchers=[]).$$digestWatchIndex=-1),o.unshift(a),o.$$digestWatchIndex++,l(this,1),function(){var e=Ne(o,a);0<=e&&(l(i,-1),e<o.$$digestWatchIndex&&o.$$digestWatchIndex--),S=null})},$watchGroup:function(e,r){var t,i=new Array(e.length),o=new Array(e.length),a=[],s=this,l=!1,n=!0;return e.length?1===e.length?this.$watch(e[0],function(e,t,n){o[0]=e,i[0]=t,r(o,e===t?o:i,n)}):(me(e,function(e,n){e=s.$watch(e,function(e,t){o[n]=e,i[n]=t,l||(l=!0,s.$evalAsync(c))});a.push(e)}),function(){for(;a.length;)a.shift()()}):(t=!0,s.$evalAsync(function(){t&&r(o,o,s)}),function(){t=!1});function c(){l=!1,n?(n=!1,r(o,o,s)):r(o,i,s)}},$watchCollection:function(e,n){t.$stateful=!0;var a,s,r,i=this,o=1<n.length,l=0,e=f(e,t),c=[],u={},d=!0,h=0;function t(e){var t,n,r,i;if(!be(a=e)){if(we(a))if(R(a)){s!==c&&(h=(s=c).length=0,l++),t=a.length,h!==t&&(l++,s.length=h=t);for(var o=0;o<t;o++)i=s[o],r=a[o],i!=i&&r!=r||i===r||(l++,s[o]=r)}else{for(n in s!==u&&(s=u={},h=0,l++),t=0,a)H.call(a,n)&&(t++,r=a[n],i=s[n],n in s?i!=i&&r!=r||i===r||(l++,s[n]=r):(h++,s[n]=r,l++));if(t<h)for(n in l++,s)H.call(a,n)||(h--,delete s[n])}else s!==a&&(s=a,l++);return l}}return this.$watch(e,function(){if(d?(d=!1,n(a,a,i)):n(a,r,i),o)if(we(a))if(R(a)){r=new Array(a.length);for(var e=0;e<a.length;e++)r[e]=a[e]}else for(var t in r={},a)H.call(a,t)&&(r[t]=a[t]);else r=a})},$digest:function(){var e,t,n,r,i,o,a,s=x,l=[];y("$digest"),p.$$checkUrlChange(),this===m&&null!==T&&(p.defer.cancel(T),k()),S=null;do{for(var c=!1,u=this,d=0;d<g.length;d++){try{(0,(a=g[d]).fn)(a.scope,a.locals)}catch(e){h(e)}S=null}g.length=0;e:do{if(r=u.$$watchers)for(r.$$digestWatchIndex=r.length;r.$$digestWatchIndex--;)try{if(e=r[r.$$digestWatchIndex])if((t=(0,e.get)(u))===(n=e.last)||(e.eq?Te(t,n):$(t)&&$(n))){if(e===S){c=!1;break e}}else c=!0,(S=e).last=e.eq?X(t,null):t,(0,e.fn)(t,n===_?t:n,u),s<5&&(l[o=4-s]||(l[o]=[]),l[o].push({msg:xe(e.exp)?"fn: "+(e.exp.name||e.exp.toString()):e.exp,newVal:t,oldVal:n}))}catch(e){h(e)}if(!(i=u.$$watchersCount&&u.$$childHead||u!==this&&u.$$nextSibling))for(;u!==this&&!(i=u.$$nextSibling);)u=u.$parent}while(u=i);if((c||g.length)&&!s--)throw w(),C("infdig","{0} $digest() iterations reached. Aborting!\nWatchers fired in the last 5 iterations: {1}",x,l)}while(c||g.length);for(w();b<v.length;)try{v[b++]()}catch(e){h(e)}v.length=b=0,p.$$checkUrlChange()},$destroy:function(){if(!this.$$destroyed){var e,t=this.$parent;for(e in this.$broadcast("$destroy"),this.$$destroyed=!0,this===m&&p.$$applicationDestroyed(),l(this,-this.$$watchersCount),this.$$listenerCount)a(this,this.$$listenerCount[e],e);t&&t.$$childHead===this&&(t.$$childHead=this.$$nextSibling),t&&t.$$childTail===this&&(t.$$childTail=this.$$prevSibling),this.$$prevSibling&&(this.$$prevSibling.$$nextSibling=this.$$nextSibling),this.$$nextSibling&&(this.$$nextSibling.$$prevSibling=this.$$prevSibling),this.$destroy=this.$digest=this.$apply=this.$evalAsync=this.$applyAsync=ve,this.$on=this.$watch=this.$watchGroup=function(){return ve},this.$$listeners={},this.$$nextSibling=null,!function e(t){9===Oe&&(t.$$childHead&&e(t.$$childHead),t.$$nextSibling&&e(t.$$nextSibling)),t.$parent=t.$$nextSibling=t.$$prevSibling=t.$$childHead=t.$$childTail=t.$root=t.$$watchers=null}(this)}},$eval:function(e,t){return f(e)(this,t)},$evalAsync:function(e,t){m.$$phase||g.length||p.defer(function(){g.length&&m.$digest()}),g.push({scope:this,fn:f(e),locals:t})},$$postDigest:function(e){v.push(e)},$apply:function(e){try{y("$apply");try{return this.$eval(e)}finally{w()}}catch(e){h(e)}finally{try{m.$digest()}catch(e){throw h(e),e}}},$applyAsync:function(e){var t=this;e&&n.push(function(){t.$eval(e)}),e=f(e),null===T&&(T=p.defer(function(){m.$apply(k)}))},$on:function(t,n){for(var r=this.$$listeners[t],e=(r||(this.$$listeners[t]=r=[]),r.push(n),this);e.$$listenerCount[t]||(e.$$listenerCount[t]=0),e.$$listenerCount[t]++,e=e.$parent;);var i=this;return function(){var e=r.indexOf(n);-1!==e&&(r[e]=null,a(i,1,t))}},$emit:function(e,t){var n,r,i,o=[],a=this,s=!1,l={name:e,targetScope:a,stopPropagation:function(){s=!0},preventDefault:function(){l.defaultPrevented=!0},defaultPrevented:!1},c=Z([l],arguments,1);do{for(n=a.$$listeners[e]||o,l.currentScope=a,r=0,i=n.length;r<i;r++)if(n[r])try{n[r].apply(null,c)}catch(e){h(e)}else n.splice(r,1),r--,i--;if(s)return l.currentScope=null,l}while(a=a.$parent);return l.currentScope=null,l},$broadcast:function(e,t){var n=this,r=n,i=n,o={name:e,targetScope:n,preventDefault:function(){o.defaultPrevented=!0},defaultPrevented:!1};if(n.$$listenerCount[e]){for(var a,s,l,c=Z([o],arguments,1);r=i;){for(s=0,l=(a=(o.currentScope=r).$$listeners[e]||[]).length;s<l;s++)if(a[s])try{a[s].apply(null,c)}catch(e){h(e)}else a.splice(s,1),s--,l--;if(!(i=r.$$listenerCount[e]&&r.$$childHead||r!==n&&r.$$nextSibling))for(;r!==n&&!(i=r.$$nextSibling);)r=r.$parent}o.currentScope=null}return o}};var m=new o,g=m.$$asyncQueue=[],v=m.$$postDigestQueue=[],n=m.$$applyAsyncQueue=[],b=0;return m;function y(e){if(m.$$phase)throw C("inprog","{0} already in progress",m.$$phase);m.$$phase=e}function w(){m.$$phase=null}function l(e,t){for(;e.$$watchersCount+=t,e=e.$parent;);}function a(e,t,n){for(;e.$$listenerCount[n]-=t,0===e.$$listenerCount[n]&&delete e.$$listenerCount[n],e=e.$parent;);}function _(){}function k(){for(;n.length;)try{n.shift()()}catch(e){h(e)}T=null}}]}function Kr(){var r=/^\s*(https?|ftp|mailto|tel|file):/,i=/^\s*((https?|ftp|file|blob):|data:image\/)/;this.aHrefSanitizationWhitelist=function(e){return ye(e)?(r=e,this):r},this.imgSrcSanitizationWhitelist=function(e){return ye(e)?(i=e,this):i},this.$get=function(){return function(e,t){var t=t?i:r,n=li(e).href;return""===n||n.match(t)?e:"unsafe:"+n}}}jr.prototype={compile:function(e){var i=this,t=(this.state={nextId:0,filters:{},fn:{vars:[],body:[],own:{}},assign:{vars:[],body:[],own:{}},inputs:[]},l(e,i.$filter),""),n=(this.stage="assign",(n=Nr(e))&&(this.state.computing="assign",r=this.nextId(),this.recurse(n,r),this.return_(r),t="fn.assign="+this.generateFunction("assign","s,v,l")),Rr(e.body)),r=(i.stage="inputs",me(n,function(e,t){var n="fn"+t,r=(i.state[n]={vars:[],body:[],own:{}},i.state.computing=n,i.nextId());i.recurse(e,r),i.return_(r),i.state.inputs.push({name:n,isPure:e.isPure}),e.watchId=t}),this.state.computing="fn",this.stage="main",this.recurse(e),'"'+this.USE+" "+this.STRICT+'";\n'+this.filterPrefix()+"var fn="+this.generateFunction("fn","s,l,a,i")+t+this.watchFns()+"return fn;"),n=new Function("$filter","getStringValue","ifDefined","plus",r)(this.$filter,Tr,Or,Mr);return this.state=this.stage=void 0,n},USE:"use",STRICT:"strict",watchFns:function(){var t=[],e=this.state.inputs,n=this;return me(e,function(e){t.push("var "+e.name+"="+n.generateFunction(e.name,"s")),e.isPure&&t.push(e.name,".isPure="+JSON.stringify(e.isPure)+";")}),e.length&&t.push("fn.inputs=["+e.map(function(e){return e.name}).join(",")+"];"),t.join("")},generateFunction:function(e,t){return"function("+t+"){"+this.varsPrefix(e)+this.body(e)+"};"},filterPrefix:function(){var n=[],r=this;return me(this.state.filters,function(e,t){n.push(e+"=$filter("+r.escape(t)+")")}),n.length?"var "+n.join(",")+";":""},varsPrefix:function(e){return this.state[e].vars.length?"var "+this.state[e].vars.join(",")+";":""},body:function(e){return this.state[e].body.join("")},recurse:function(n,t,e,r,i,o){var a,s,l,c,u,d=this;if(r=r||ve,!o&&ye(n.watchId))t=t||this.nextId(),this.if_("i",this.lazyAssign(t,this.computedMember("i",n.watchId)),this.lazyRecurse(n,t,e,r,i,!0));else switch(n.type){case h.Program:me(n.body,function(e,t){d.recurse(e.expression,void 0,void 0,function(e){s=e}),t!==n.body.length-1?d.current().body.push(s,";"):d.return_(s)});break;case h.Literal:c=this.escape(n.value),this.assign(t,c),r(t||c);break;case h.UnaryExpression:this.recurse(n.argument,void 0,void 0,function(e){s=e}),c=n.operator+"("+this.ifDefined(s,0)+")",this.assign(t,c),r(c);break;case h.BinaryExpression:this.recurse(n.left,void 0,void 0,function(e){a=e}),this.recurse(n.right,void 0,void 0,function(e){s=e}),c="+"===n.operator?this.plus(a,s):"-"===n.operator?this.ifDefined(a,0)+n.operator+this.ifDefined(s,0):"("+a+")"+n.operator+"("+s+")",this.assign(t,c),r(c);break;case h.LogicalExpression:t=t||this.nextId(),d.recurse(n.left,t),d.if_("&&"===n.operator?t:d.not(t),d.lazyRecurse(n.right,t)),r(t);break;case h.ConditionalExpression:t=t||this.nextId(),d.recurse(n.test,t),d.if_(t,d.lazyRecurse(n.alternate,t),d.lazyRecurse(n.consequent,t)),r(t);break;case h.Identifier:t=t||this.nextId(),e&&(e.context="inputs"===d.stage?"s":this.assign(this.nextId(),this.getHasOwnProperty("l",n.name)+"?l:s"),e.computed=!1,e.name=n.name),d.if_("inputs"===d.stage||d.not(d.getHasOwnProperty("l",n.name)),function(){d.if_("inputs"===d.stage||"s",function(){i&&1!==i&&d.if_(d.isNull(d.nonComputedMember("s",n.name)),d.lazyAssign(d.nonComputedMember("s",n.name),"{}")),d.assign(t,d.nonComputedMember("s",n.name))})},t&&d.lazyAssign(t,d.nonComputedMember("l",n.name))),r(t);break;case h.MemberExpression:a=e&&(e.context=this.nextId())||this.nextId(),t=t||this.nextId(),d.recurse(n.object,a,void 0,function(){d.if_(d.notNull(a),function(){n.computed?(s=d.nextId(),d.recurse(n.property,s),d.getStringValue(s),i&&1!==i&&d.if_(d.not(d.computedMember(a,s)),d.lazyAssign(d.computedMember(a,s),"{}")),c=d.computedMember(a,s),d.assign(t,c),e&&(e.computed=!0,e.name=s)):(i&&1!==i&&d.if_(d.isNull(d.nonComputedMember(a,n.property.name)),d.lazyAssign(d.nonComputedMember(a,n.property.name),"{}")),c=d.nonComputedMember(a,n.property.name),d.assign(t,c),e&&(e.computed=!1,e.name=n.property.name))},function(){d.assign(t,"undefined")}),r(t)},!!i);break;case h.CallExpression:t=t||this.nextId(),n.filter?(s=d.filter(n.callee.name),l=[],me(n.arguments,function(e){var t=d.nextId();d.recurse(e,t),l.push(t)}),c=s+"("+l.join(",")+")",d.assign(t,c),r(t)):(s=d.nextId(),a={},l=[],d.recurse(n.callee,s,a,function(){d.if_(d.notNull(s),function(){me(n.arguments,function(e){d.recurse(e,n.constant?void 0:d.nextId(),void 0,function(e){l.push(e)})}),c=a.name?d.member(a.context,a.name,a.computed)+"("+l.join(",")+")":s+"("+l.join(",")+")",d.assign(t,c)},function(){d.assign(t,"undefined")}),r(t)}));break;case h.AssignmentExpression:s=this.nextId(),a={},this.recurse(n.left,void 0,a,function(){d.if_(d.notNull(a.context),function(){d.recurse(n.right,s),c=d.member(a.context,a.name,a.computed)+n.operator+s,d.assign(t,c),r(t||c)})},1);break;case h.ArrayExpression:l=[],me(n.elements,function(e){d.recurse(e,n.constant?void 0:d.nextId(),void 0,function(e){l.push(e)})}),c="["+l.join(",")+"]",this.assign(t,c),r(t||c);break;case h.ObjectExpression:u=!(l=[]),me(n.properties,function(e){e.computed&&(u=!0)}),u?(t=t||this.nextId(),this.assign(t,"{}"),me(n.properties,function(e){e.computed?(a=d.nextId(),d.recurse(e.key,a)):a=e.key.type===h.Identifier?e.key.name:""+e.key.value,s=d.nextId(),d.recurse(e.value,s),d.assign(d.member(t,a,e.computed),s)})):(me(n.properties,function(t){d.recurse(t.value,n.constant?void 0:d.nextId(),void 0,function(e){l.push(d.escape(t.key.type===h.Identifier?t.key.name:""+t.key.value)+":"+e)})}),c="{"+l.join(",")+"}",this.assign(t,c)),r(t||c);break;case h.ThisExpression:this.assign(t,"s"),r(t||"s");break;case h.LocalsExpression:this.assign(t,"l"),r(t||"l");break;case h.NGValueParameter:this.assign(t,"v"),r(t||"v")}},getHasOwnProperty:function(e,t){var n=e+"."+t,r=this.current().own;return r.hasOwnProperty(n)||(r[n]=this.nextId(!1,e+"&&("+this.escape(t)+" in "+e+")")),r[n]},assign:function(e,t){if(e)return this.current().body.push(e,"=",t,";"),e},filter:function(e){return this.state.filters.hasOwnProperty(e)||(this.state.filters[e]=this.nextId(!0)),this.state.filters[e]},ifDefined:function(e,t){return"ifDefined("+e+","+this.escape(t)+")"},plus:function(e,t){return"plus("+e+","+t+")"},return_:function(e){this.current().body.push("return ",e,";")},if_:function(e,t,n){var r;!0===e?t():((r=this.current().body).push("if(",e,"){"),t(),r.push("}"),n&&(r.push("else{"),n(),r.push("}")))},not:function(e){return"!("+e+")"},isNull:function(e){return e+"==null"},notNull:function(e){return e+"!=null"},nonComputedMember:function(e,t){return/^[$_a-zA-Z][$_a-zA-Z0-9]*$/.test(t)?e+"."+t:e+'["'+t.replace(/[^$_a-zA-Z0-9]/g,this.stringEscapeFn)+'"]'},computedMember:function(e,t){return e+"["+t+"]"},member:function(e,t,n){return n?this.computedMember(e,t):this.nonComputedMember(e,t)},getStringValue:function(e){this.assign(e,"getStringValue("+e+")")},lazyRecurse:function(e,t,n,r,i,o){var a=this;return function(){a.recurse(e,t,n,r,i,o)}},lazyAssign:function(e,t){var n=this;return function(){n.assign(e,t)}},stringEscapeRegex:/[^ a-zA-Z0-9]/g,stringEscapeFn:function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)},escape:function(e){if(_e(e))return"'"+e.replace(this.stringEscapeRegex,this.stringEscapeFn)+"'";if(_(e))return e.toString();if(!0===e)return"true";if(!1===e)return"false";if(null===e)return"null";if(void 0===e)return"undefined";throw Cr("esc","IMPOSSIBLE")},nextId:function(e,t){var n="v"+this.state.nextId++;return e||this.current().vars.push(n+(t?"="+t:"")),n},current:function(){return this.state[this.state.computing]}},Lr.prototype={compile:function(e){var r,i,o=this,t=(l(e,o.$filter),(t=Nr(e))&&(r=this.recurse(t)),Rr(e.body)),a=(t&&(i=[],me(t,function(e,t){var n=o.recurse(e);n.isPure=e.isPure,e.input=n,i.push(n),e.watchId=t})),[]),t=(me(e.body,function(e){a.push(o.recurse(e.expression))}),0===e.body.length?ve:1===e.body.length?a[0]:function(t,n){var r;return me(a,function(e){r=e(t,n)}),r});return r&&(t.assign=function(e,t,n){return r(e,n,t)}),i&&(t.inputs=i),t},recurse:function(e,l,t){var o,c,u,n=this;if(e.input)return this.inputs(e.input,e.watchId);switch(e.type){case h.Literal:return this.value(e.value,l);case h.UnaryExpression:return c=this.recurse(e.argument),this["unary"+e.operator](c,l);case h.BinaryExpression:case h.LogicalExpression:return o=this.recurse(e.left),c=this.recurse(e.right),this["binary"+e.operator](o,c,l);case h.ConditionalExpression:return this["ternary?:"](this.recurse(e.test),this.recurse(e.alternate),this.recurse(e.consequent),l);case h.Identifier:return n.identifier(e.name,l,t);case h.MemberExpression:return o=this.recurse(e.object,!1,!!t),e.computed||(c=e.property.name),e.computed&&(c=this.recurse(e.property)),e.computed?this.computedMember(o,c,l,t):this.nonComputedMember(o,c,l,t);case h.CallExpression:return u=[],me(e.arguments,function(e){u.push(n.recurse(e))}),e.filter&&(c=this.$filter(e.callee.name)),e.filter||(c=this.recurse(e.callee,!0)),e.filter?function(e,t,n,r){for(var i=[],o=0;o<u.length;++o)i.push(u[o](e,t,n,r));var a=c.apply(void 0,i,r);return l?{context:void 0,name:void 0,value:a}:a}:function(e,t,n,r){var i,o=c(e,t,n,r);if(null!=o.value){for(var a=[],s=0;s<u.length;++s)a.push(u[s](e,t,n,r));i=o.value.apply(o.context,a)}return l?{value:i}:i};case h.AssignmentExpression:return o=this.recurse(e.left,!0,1),c=this.recurse(e.right),function(e,t,n,r){var i=o(e,t,n,r),e=c(e,t,n,r);return i.context[i.name]=e,l?{value:e}:e};case h.ArrayExpression:return u=[],me(e.elements,function(e){u.push(n.recurse(e))}),function(e,t,n,r){for(var i=[],o=0;o<u.length;++o)i.push(u[o](e,t,n,r));return l?{value:i}:i};case h.ObjectExpression:return u=[],me(e.properties,function(e){e.computed?u.push({key:n.recurse(e.key),computed:!0,value:n.recurse(e.value)}):u.push({key:e.key.type===h.Identifier?e.key.name:""+e.key.value,computed:!1,value:n.recurse(e.value)})}),function(e,t,n,r){for(var i={},o=0;o<u.length;++o)u[o].computed?i[u[o].key(e,t,n,r)]=u[o].value(e,t,n,r):i[u[o].key]=u[o].value(e,t,n,r);return l?{value:i}:i};case h.ThisExpression:return function(e){return l?{value:e}:e};case h.LocalsExpression:return function(e,t){return l?{value:t}:t};case h.NGValueParameter:return function(e,t,n){return l?{value:n}:n}}},"unary+":function(i,o){return function(e,t,n,r){e=ye(e=i(e,t,n,r))?+e:0;return o?{value:e}:e}},"unary-":function(i,o){return function(e,t,n,r){e=ye(e=i(e,t,n,r))?-e:-0;return o?{value:e}:e}},"unary!":function(i,o){return function(e,t,n,r){e=!i(e,t,n,r);return o?{value:e}:e}},"binary+":function(i,o,a){return function(e,t,n,r){e=Mr(i(e,t,n,r),o(e,t,n,r));return a?{value:e}:e}},"binary-":function(o,a,s){return function(e,t,n,r){var i=o(e,t,n,r),e=a(e,t,n,r),t=(ye(i)?i:0)-(ye(e)?e:0);return s?{value:t}:t}},"binary*":function(i,o,a){return function(e,t,n,r){e=i(e,t,n,r)*o(e,t,n,r);return a?{value:e}:e}},"binary/":function(i,o,a){return function(e,t,n,r){e=i(e,t,n,r)/o(e,t,n,r);return a?{value:e}:e}},"binary%":function(i,o,a){return function(e,t,n,r){e=i(e,t,n,r)%o(e,t,n,r);return a?{value:e}:e}},"binary===":function(i,o,a){return function(e,t,n,r){e=i(e,t,n,r)===o(e,t,n,r);return a?{value:e}:e}},"binary!==":function(i,o,a){return function(e,t,n,r){e=i(e,t,n,r)!==o(e,t,n,r);return a?{value:e}:e}},"binary==":function(i,o,a){return function(e,t,n,r){e=i(e,t,n,r)==o(e,t,n,r);return a?{value:e}:e}},"binary!=":function(i,o,a){return function(e,t,n,r){e=i(e,t,n,r)!=o(e,t,n,r);return a?{value:e}:e}},"binary<":function(i,o,a){return function(e,t,n,r){e=i(e,t,n,r)<o(e,t,n,r);return a?{value:e}:e}},"binary>":function(i,o,a){return function(e,t,n,r){e=i(e,t,n,r)>o(e,t,n,r);return a?{value:e}:e}},"binary<=":function(i,o,a){return function(e,t,n,r){e=i(e,t,n,r)<=o(e,t,n,r);return a?{value:e}:e}},"binary>=":function(i,o,a){return function(e,t,n,r){e=i(e,t,n,r)>=o(e,t,n,r);return a?{value:e}:e}},"binary&&":function(i,o,a){return function(e,t,n,r){e=i(e,t,n,r)&&o(e,t,n,r);return a?{value:e}:e}},"binary||":function(i,o,a){return function(e,t,n,r){e=i(e,t,n,r)||o(e,t,n,r);return a?{value:e}:e}},"ternary?:":function(i,o,a,s){return function(e,t,n,r){e=(i(e,t,n,r)?o:a)(e,t,n,r);return s?{value:e}:e}},value:function(e,t){return function(){return t?{context:void 0,name:void 0,value:e}:e}},identifier:function(i,o,a){return function(e,t,n,r){t=t&&i in t?t:e,a&&1!==a&&t&&null==t[i]&&(t[i]={}),e=t?t[i]:void 0;return o?{context:t,name:i,value:e}:e}},computedMember:function(s,l,c,u){return function(e,t,n,r){var i,o,a=s(e,t,n,r);return null!=a&&(i=l(e,t,n,r),i+="",u&&1!==u&&a&&!a[i]&&(a[i]={}),o=a[i]),c?{context:a,name:i,value:o}:o}},nonComputedMember:function(i,o,a,s){return function(e,t,n,r){e=i(e,t,n,r),s&&1!==s&&e&&null==e[o]&&(e[o]={}),t=null!=e?e[o]:void 0;return a?{context:e,name:o,value:t}:t}},inputs:function(i,o){return function(e,t,n,r){return r?r[o]:i(e,t,n)}}},Vr.prototype={constructor:Vr,parse:function(e){var t,e=this.ast.ast(e),n=this.astCompiler.compile(e);return n.literal=0===(t=e).body.length||1===t.body.length&&(t.body[0].expression.type===h.Literal||t.body[0].expression.type===h.ArrayExpression||t.body[0].expression.type===h.ObjectExpression),n.constant=e.constant,n}};var Xr=k("$sce"),c={HTML:"html",CSS:"css",URL:"url",RESOURCE_URL:"resourceUrl",JS:"js"},Jr=/_([a-z])/g;function Qr(e){return e.replace(Jr,dt)}function Zr(e){var t=[];return ye(e)&&me(e,function(e){t.push(function(e){if("self"===e)return e;if(_e(e)){if(-1<e.indexOf("***"))throw Xr("iwcard","Illegal sequence *** in string matcher.  String: {0}",e);return e=Y(e).replace(/\\\*\\\*/g,".*").replace(/\\\*/g,"[^:/.?&;]*"),new RegExp("^"+e+"$")}if(B(e))return new RegExp("^"+e.source+"$");throw Xr("imatcher",'Matchers may only be "self", string patterns or RegExp objects')}(e))}),t}function ei(){this.SCE_CONTEXTS=c;var a=["self"],s=[];this.resourceUrlWhitelist=function(e){return a=arguments.length?Zr(e):a},this.resourceUrlBlacklist=function(e){return s=arguments.length?Zr(e):s},this.$get=["$injector",function(e){var r=function(e){throw Xr("unsafe","Attempting to use an unsafe value in a safe context.")};function o(e,t){return"self"===e?ci(t):e.exec(t.href)}function t(e){function t(e){this.$$unwrapTrustedValue=function(){return e}}return(t.prototype=e?new e:t.prototype).valueOf=function(){return this.$$unwrapTrustedValue()},t.prototype.toString=function(){return this.$$unwrapTrustedValue().toString()},t}e.has("$sanitize")&&(r=e.get("$sanitize"));var n=t(),i={};return i[c.HTML]=t(n),i[c.CSS]=t(n),i[c.URL]=t(n),i[c.JS]=t(n),i[c.RESOURCE_URL]=t(i[c.URL]),{trustAs:function(e,t){var n=i.hasOwnProperty(e)?i[e]:null;if(!n)throw Xr("icontext","Attempted to trust a value in invalid context. Context: {0}; Value: {1}",e,t);if(null===t||be(t)||""===t)return t;if("string"!=typeof t)throw Xr("itype","Attempted to trust a non-string value in a content requiring a string: Context: {0}",e);return new n(t)},getTrusted:function(e,t){if(null===t||be(t)||""===t)return t;var n=i.hasOwnProperty(e)?i[e]:null;if(n&&t instanceof n)return t.$$unwrapTrustedValue();if(e===c.RESOURCE_URL){if(function(e){for(var t=li(e.toString()),n=!1,r=0,i=a.length;r<i;r++)if(o(a[r],t)){n=!0;break}if(n)for(r=0,i=s.length;r<i;r++)if(o(s[r],t)){n=!1;break}return n}(t))return t;throw Xr("insecurl","Blocked loading resource from url not allowed by $sceDelegate policy.  URL: {0}",t.toString())}if(e===c.HTML)return r(t);throw Xr("unsafe","Attempting to use an unsafe value in a safe context.")},valueOf:function(e){return e instanceof n?e.$$unwrapTrustedValue():e}}}]}function ti(){var t=!0;this.enabled=function(e){return t=arguments.length?!!e:t},this.$get=["$parse","$sceDelegate",function(r,e){if(t&&Oe<8)throw Xr("iequirks","Strict Contextual Escaping does not support Internet Explorer version < 11 in quirks mode.  You can fix this by adding the text <!doctype html> to the top of your HTML document.  See http://docs.angularjs.org/api/ng.$sce for more information.");var i=C(c),n=(i.isEnabled=function(){return t},i.trustAs=e.trustAs,i.getTrusted=e.getTrusted,i.valueOf=e.valueOf,t||(i.trustAs=i.getTrusted=function(e,t){return t},i.valueOf=Pe),i.parseAs=function(t,e){var n=r(e);return n.literal&&n.constant?n:r(e,function(e){return i.getTrusted(t,e)})},i.parseAs),o=i.getTrusted,a=i.trustAs;return me(c,function(t,e){e=T(e);i[Qr("parse_as_"+e)]=function(e){return n(t,e)},i[Qr("get_trusted_"+e)]=function(e){return o(t,e)},i[Qr("trust_as_"+e)]=function(e){return a(t,e)}}),i}]}function ni(){this.$get=["$window","$document",function(e,t){var n={},r=!(!(e.nw&&e.nw.process)&&e.chrome&&(e.chrome.app&&e.chrome.app.runtime||!e.chrome.app&&e.chrome.runtime&&e.chrome.runtime.id))&&e.history&&e.history.pushState,i=b((/android (\d+)/.exec(T((e.navigator||{}).userAgent))||[])[1]),e=/Boxee/i.test((e.navigator||{}).userAgent),o=t[0]||{},t=o.body&&o.body.style,a=!1,s=!1;return t&&(a=!!("transition"in t||"webkitTransition"in t),s=!!("animation"in t||"webkitAnimation"in t)),{history:!(!r||i<4||e),hasEvent:function(e){var t;return("input"!==e||!Oe)&&(be(n[e])&&(t=o.createElement("div"),n[e]="on"+e in t),n[e])},csp:J(),transitions:a,animations:s,android:i}}]}var ri=k("$compile");function ii(){var c;this.httpOptions=function(e){return e?(c=e,this):c},this.$get=["$exceptionHandler","$templateCache","$http","$q","$sce",function(r,i,o,a,s){function l(t,n){l.totalPendingRequests++,_e(t)&&!be(i.get(t))||(t=s.getTrustedResourceUrl(t));var e=o.defaults&&o.defaults.transformResponse;return ke(e)?e=e.filter(function(e){return e!==Yn}):e===Yn&&(e=null),o.get(t,ge({cache:i,transformResponse:e},c)).finally(function(){l.totalPendingRequests--}).then(function(e){return i.put(t,e.data),e.data},function(e){n||(e=ri("tpload","Failed to load template: {0} (HTTP status: {1} {2})",t,e.status,e.statusText),r(e));return a.reject(e)})}return l.totalPendingRequests=0,l}]}function oi(){this.$get=["$rootScope","$browser","$location",function(t,n,r){var e={findBindings:function(e,n,r){var e=e.getElementsByClassName("ng-binding"),i=[];return me(e,function(t){var e=y.element(t).data("$binding");e&&me(e,function(e){r?new RegExp("(^|\\s)"+Y(n)+"(\\s|\\||$)").test(e)&&i.push(t):-1!==e.indexOf(n)&&i.push(t)})}),i},findModels:function(e,t,n){for(var r=["ng-","data-ng-","ng\\:"],i=0;i<r.length;++i){var o=e.querySelectorAll("["+r[i]+"model"+(n?"=":"*=")+'"'+t+'"]');if(o.length)return o}},getLocation:function(){return r.url()},setLocation:function(e){e!==r.url()&&(r.url(e),t.$digest())},whenStable:function(e){n.notifyWhenNoOutstandingRequests(e)}};return e}]}function ai(){this.$get=["$rootScope","$browser","$q","$$q","$exceptionHandler",function(s,l,c,u,d){var h={};function e(e,t,n){xe(e)||(n=t,t=e,e=ve);var r=Le(arguments,3),i=ye(n)&&!n,o=(i?u:c).defer(),a=o.promise,n=l.defer(function(){try{o.resolve(e.apply(null,r))}catch(e){o.reject(e),d(e)}finally{delete h[a.$$timeoutId]}i||s.$apply()},t);return a.$$timeoutId=n,h[n]=o,a}return e.cancel=function(e){return!!(e&&e.$$timeoutId in h)&&(qr(h[e.$$timeoutId].promise),h[e.$$timeoutId].reject("canceled"),delete h[e.$$timeoutId],l.defer.cancel(e.$$timeoutId))},e}]}var t=w.document.createElement("a"),si=li(w.location.href);function li(e){return Oe&&(t.setAttribute("href",e),e=t.href),t.setAttribute("href",e),{href:t.href,protocol:t.protocol?t.protocol.replace(/:$/,""):"",host:t.host,search:t.search?t.search.replace(/^\?/,""):"",hash:t.hash?t.hash.replace(/^#/,""):"",hostname:t.hostname,port:t.port,pathname:"/"===t.pathname.charAt(0)?t.pathname:"/"+t.pathname}}function ci(e){e=_e(e)?li(e):e;return e.protocol===si.protocol&&e.host===si.host}function ui(){this.$get=S(w)}function di(e){var a=e[0]||{},s={},l="";function c(t){try{return decodeURIComponent(t)}catch(e){return t}}return function(){var e,t,n,r,i,o=function(e){try{return e.cookie||""}catch(e){return""}}(a);if(o!==l)for(e=(l=o).split("; "),s={},n=0;n<e.length;n++)0<(r=(t=e[n]).indexOf("="))&&(i=c(t.substring(0,r)),be(s[i])&&(s[i]=c(t.substring(r+1))));return s}}function hi(){this.$get=di}function fi(r){function i(e,t){var n;return we(e)?(n={},me(e,function(e,t){n[t]=i(t,e)}),n):r.factory(e+"Filter",t)}this.register=i,this.$get=["$injector",function(t){return function(e){return t.get(e+"Filter")}}],i("currency",bi),i("date",Ai),i("filter",pi),i("json",Oi),i("limitTo",Di),i("lowercase",Mi),i("number",yi),i("orderBy",Ii),i("uppercase",Pi)}function pi(){return function(e,t,n,r){if(!R(e)){if(null==e)return e;throw k("filter")("notarray","Expected array but received: {0}",e)}var i,o;switch(r=r||"$",gi(t)){case"function":i=t;break;case"boolean":case"null":case"number":case"string":o=!0;case"object":i=function(t,n,r,i){var o=we(t)&&r in t;!0===n?n=Te:xe(n)||(n=function(e,t){return!be(e)&&(null===e||null===t?e===t:!(we(t)||we(e)&&!F(e))&&(e=T(""+e),t=T(""+t),-1!==e.indexOf(t)))});return function(e){return o&&!we(e)?mi(e,t[r],n,r,!1):mi(e,t,n,r,i)}}(t,n,r,o);break;default:return e}return Array.prototype.filter.call(e,i)}}function mi(e,t,n,r,i,o){var a,s=gi(e),l=gi(t);if("string"===l&&"!"===t.charAt(0))return!mi(e,t.substring(1),n,r,i);if(ke(e))return e.some(function(e){return mi(e,t,n,r,i)});switch(s){case"object":if(i){for(a in e)if(a.charAt&&"$"!==a.charAt(0)&&mi(e[a],t,n,r,!0))return!0;return!o&&mi(e,t,n,r,!1)}if("object"!==l)return n(e,t);for(a in t){var c=t[a];if(!xe(c)&&!be(c)){var u=a===r;if(!mi(u?e:e[a],c,n,r,u,u))return!1}}return!0;case"function":return!1;default:return n(e,t)}}function gi(e){return null===e?"null":typeof e}di.$inject=["$document"],fi.$inject=["$provide"];var vi="0";function bi(e){var r=e.NUMBER_FORMATS;return function(e,t,n){return be(t)&&(t=r.CURRENCY_SYM),be(n)&&(n=r.PATTERNS[1].maxFrac),null==e?e:wi(e,r.PATTERNS[1],r.GROUP_SEP,r.DECIMAL_SEP,n).replace(/\u00A4/g,t)}}function yi(e){var n=e.NUMBER_FORMATS;return function(e,t){return null==e?e:wi(e,n.PATTERNS[0],n.GROUP_SEP,n.DECIMAL_SEP,t)}}function wi(e,t,n,r,i){if(!_e(e)&&!_(e)||isNaN(e))return"";var o=!isFinite(e),a=!1,s=Math.abs(e)+"",l="";if(o)l="";else{var c=o=function(e){var t,n,r,i,o,a=0;for(0<(r=(e=-1<(n=e.indexOf("."))?e.replace(".",""):e).search(/e/i))?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charAt(r)===vi;r++);if(r===(o=e.length))t=[0],n=1;else{for(o--;e.charAt(o)===vi;)o--;for(n-=r,t=[],i=0;r<=o;r++,i++)t[i]=+e.charAt(r)}return 22<n&&(t=t.splice(0,21),a=n-1,n=1),{d:t,e:a,i:n}}(s),u=i,s=t.minFrac,i=t.maxFrac,d=c.d,h=d.length-c.i,f=(u=be(u)?Math.min(Math.max(s,h),i):+u)+c.i,s=d[f];if(0<f){d.splice(Math.max(c.i,f));for(var p=f;p<d.length;p++)d[p]=0}else{h=Math.max(0,h),c.i=1,d.length=Math.max(1,f=u+1),d[0]=0;for(var m=1;m<f;m++)d[m]=0}if(5<=s)if(f-1<0){for(var g=0;f<g;g--)d.unshift(0),c.i++;d.unshift(1),c.i++}else d[f-1]++;for(;h<Math.max(0,u);h++)d.push(0);(i=d.reduceRight(function(e,t,n,r){return r[n]=(t+=e)%10,Math.floor(t/10)},0))&&(d.unshift(i),c.i++);for(var v=o.d,b=o.i,s=o.e,i=[],a=v.reduce(function(e,t){return e&&!t},!0);b<0;)v.unshift(0),b++;0<b?i=v.splice(b,v.length):(i=v,v=[0]);var y=[];for(v.length>=t.lgSize&&y.unshift(v.splice(-t.lgSize,v.length).join(""));v.length>t.gSize;)y.unshift(v.splice(-t.gSize,v.length).join(""));v.length&&y.unshift(v.join("")),l=y.join(n),i.length&&(l+=r+i.join("")),s&&(l+="e+"+s)}return e<0&&!a?t.negPre+l+t.negSuf:t.posPre+l+t.posSuf}function _i(e,t,n,r){var i="";for((e<0||r&&e<=0)&&(r?e=1-e:(e=-e,i="-")),e=""+e;e.length<t;)e=vi+e;return i+(e=n?e.substr(e.length-t):e)}function e(t,n,r,i,o){return r=r||0,function(e){e=e["get"+t]();return(0<r||-r<e)&&(e+=r),_i(e=0===e&&-12===r?12:e,n,i,o)}}function ki(n,r,i){return function(e,t){e=e["get"+n]();return t[E((i?"STANDALONE":"")+(r?"SHORT":"")+n)][e]}}function xi(e){var t=new Date(e,0,1).getDay();return new Date(e,0,(t<=4?5:12)-t)}function Ci(n){return function(e){var t=xi(e.getFullYear()),e=(e=e,new Date(e.getFullYear(),e.getMonth(),e.getDate()+(4-e.getDay())));return _i(1+Math.round((+e-+t)/6048e5),n)}}function Si(e,t){return e.getFullYear()<=0?t.ERAS[0]:t.ERAS[1]}bi.$inject=["$locale"];var Ti={yyyy:e("FullYear",4,0,!(yi.$inject=["$locale"]),!0),yy:e("FullYear",2,0,!0,!0),y:e("FullYear",1,0,!1,!0),MMMM:ki("Month"),MMM:ki("Month",!0),MM:e("Month",2,1),M:e("Month",1,1),LLLL:ki("Month",!1,!0),dd:e("Date",2),d:e("Date",1),HH:e("Hours",2),H:e("Hours",1),hh:e("Hours",2,-12),h:e("Hours",1,-12),mm:e("Minutes",2),m:e("Minutes",1),ss:e("Seconds",2),s:e("Seconds",1),sss:e("Milliseconds",3),EEEE:ki("Day"),EEE:ki("Day",!0),a:function(e,t){return e.getHours()<12?t.AMPMS[0]:t.AMPMS[1]},Z:function(e,t,n){var r=0<=(n=-1*n)?"+":"";return r+=_i(Math[0<n?"floor":"ceil"](n/60),2)+_i(Math.abs(n%60),2)},ww:Ci(2),w:Ci(1),G:Si,GG:Si,GGG:Si,GGGG:function(e,t){return e.getFullYear()<=0?t.ERANAMES[0]:t.ERANAMES[1]}},$i=/((?:[^yMLdHhmsaZEwG']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|L+|d+|H+|h+|m+|s+|a|Z|G+|w+))([\s\S]*)/,Ei=/^-?\d+$/;function Ai(m){var g=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;return function(t,e,n){var r,i,o,a,s,l,c,u,d,h="",f=[];if(e=m.DATETIME_FORMATS[e=e||"mediumDate"]||e,!x(t=_(t=_e(t)?Ei.test(t)?b(t):(d=(o=t).match(g))?(a=new Date(0),u=c=0,l=d[8]?a.setUTCFullYear:a.setFullYear,s=d[8]?a.setUTCHours:a.setHours,d[9]&&(c=b(d[9]+d[10]),u=b(d[9]+d[11])),l.call(a,b(d[1]),b(d[2])-1,b(d[3])),l=b(d[4]||0)-c,c=b(d[5]||0)-u,u=b(d[6]||0),d=Math.round(1e3*parseFloat("0."+(d[7]||0))),s.call(a,l,c,u,d),a):o:t)?new Date(t):t)||!isFinite(t.getTime()))return t;for(;e;)e=(i=$i.exec(e))?(f=Z(f,i,1)).pop():(f.push(e),null);var p=t.getTimezoneOffset();return n&&(p=ie(n,p),t=oe(t,n,!0)),me(f,function(e){r=Ti[e],h+=r?r(t,m.DATETIME_FORMATS,p):"''"===e?"'":e.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),h}}function Oi(){return function(e,t){return te(e,t=be(t)?2:t)}}Ai.$inject=["$locale"];var Mi=S(T),Pi=S(E);function Di(){return function(e,t,n){return t=(Math.abs(Number(t))===1/0?Number:b)(t),!$(t)&&R(e=_(e)?e.toString():e)?(n=(n=!n||isNaN(n)?0:b(n))<0?Math.max(0,e.length+n):n,0<=t?Ri(e,n,n+t):0===n?Ri(e,t,e.length):Ri(e,Math.max(0,n+t),n)):e}}function Ri(e,t,n){return _e(e)?e.slice(t,n):g.call(e,t,n)}function Ii(i){return function(e,t,n,r){if(null!=e){if(!R(e))throw k("orderBy")("notarray","Expected array but received: {0}",e);var o=(t=0===(t=ke(t)?t:[t]).length?["+"]:t).map(function(e){var t,n=1,r=Pe;return xe(e)?r=e:_e(e)&&("+"!==e.charAt(0)&&"-"!==e.charAt(0)||(n="-"===e.charAt(0)?-1:1,e=e.substring(1)),""!==e&&(r=i(e)).constant&&(t=r(),r=function(e){return e[t]})),{get:r,descending:n}}),a=n?-1:1,s=xe(r)?r:c,t=Array.prototype.map.call(e,function(r,i){return{value:r,tieBreaker:{value:i,type:"number",index:i},predicateValues:o.map(function(e){var e=e.get(r),t=i,n=typeof e;return null===e?(n="string",e="null"):"object"===n&&(e=function(e){if(xe(e.valueOf)&&l(e=e.valueOf()))return e;F(e)&&l(e=e.toString());return e}(e)),{value:e,type:n,index:t}})}});t.sort(function(e,t){for(var n=0,r=o.length;n<r;n++){var i=s(e.predicateValues[n],t.predicateValues[n]);if(i)return i*o[n].descending*a}return(s(e.tieBreaker,t.tieBreaker)||c(e.tieBreaker,t.tieBreaker))*a}),e=t.map(function(e){return e.value})}return e};function l(e){switch(typeof e){case"number":case"boolean":case"string":return 1;default:return}}function c(e,t){var n,r,i=0,o=e.type,a=t.type;return o===a?(n=e.value,r=t.value,"string"===o?(n=n.toLowerCase(),r=r.toLowerCase()):"object"===o&&(we(n)&&(n=e.index),we(r)&&(r=t.index)),n!==r&&(i=n<r?-1:1)):i=o<a?-1:1,i}}function Ni(e){return(e=xe(e)?{link:e}:e).restrict=e.restrict||"AC",S(e)}Ii.$inject=["$parse"];var ji=S({restrict:"E",compile:function(e,t){if(!t.href&&!t.xlinkHref)return function(e,t){var n;"a"===t[0].nodeName.toLowerCase()&&(n="[object SVGAnimatedString]"===v.call(t.prop("href"))?"xlink:href":"href",t.on("click",function(e){t.attr(n)||e.preventDefault()}))}}}),Li={},Vi=(me(jt,function(e,r){var i,t;function o(e,t,n){e.$watch(n[i],function(e){n.$set(r,!!e)})}"multiple"!==e&&(i=En("ng-"+r),t="checked"===e?function(e,t,n){n.ngModel!==n[i]&&o(e,0,n)}:o,Li[i]=function(){return{restrict:"A",priority:100,link:t}})}),me(Vt,function(e,i){Li[i]=function(){return{priority:100,link:function(e,t,n){if("ngPattern"===i&&"/"===n.ngPattern.charAt(0)){var r=n.ngPattern.match(f);if(r)return void n.$set("ngPattern",new RegExp(r[1],r[2]))}e.$watch(n[i],function(e){n.$set(i,e)})}}}}),me(["src","srcset","href"],function(o){var a=En("ng-"+o);Li[a]=function(){return{priority:99,link:function(e,t,n){var r=o,i=o;"href"===o&&"[object SVGAnimatedString]"===v.call(t.prop("href"))&&(i="xlinkHref",n.$attr[i]="xlink:href",r=null),n.$observe(a,function(e){e?(n.$set(i,e),Oe&&r&&t.prop(r,n[i])):"href"===o&&n.$set(i,null)})}}}}),{$addControl:ve,$$renameControl:function(e,t){e.$name=t},$removeControl:ve,$setValidity:ve,$setDirty:ve,$setPristine:ve,$setSubmitted:ve}),Fi="ng-pending",zi="ng-submitted";function Bi(e,t,n,r,i){this.$$controls=[],this.$error={},this.$$success={},this.$pending=void 0,this.$name=i(t.name||t.ngForm||"")(n),this.$dirty=!1,this.$pristine=!0,this.$valid=!0,this.$invalid=!1,this.$submitted=!1,this.$$parentForm=Vi,this.$$element=e,this.$$animate=r,qi(this)}Bi.$inject=["$element","$attrs","$scope","$animate","$interpolate"],Bi.prototype={$rollbackViewValue:function(){me(this.$$controls,function(e){e.$rollbackViewValue()})},$commitViewValue:function(){me(this.$$controls,function(e){e.$commitViewValue()})},$addControl:function(e){Ge(e.$name,"input"),this.$$controls.push(e),e.$name&&(this[e.$name]=e),e.$$parentForm=this},$$renameControl:function(e,t){var n=e.$name;this[n]===e&&delete this[n],(this[t]=e).$name=t},$removeControl:function(n){n.$name&&this[n.$name]===n&&delete this[n.$name],me(this.$pending,function(e,t){this.$setValidity(t,null,n)},this),me(this.$error,function(e,t){this.$setValidity(t,null,n)},this),me(this.$$success,function(e,t){this.$setValidity(t,null,n)},this),Ne(this.$$controls,n),n.$$parentForm=Vi},$setDirty:function(){this.$$animate.removeClass(this.$$element,Fo),this.$$animate.addClass(this.$$element,zo),this.$dirty=!0,this.$pristine=!1,this.$$parentForm.$setDirty()},$setPristine:function(){this.$$animate.setClass(this.$$element,Fo,zo+" "+zi),this.$dirty=!1,this.$pristine=!0,this.$submitted=!1,me(this.$$controls,function(e){e.$setPristine()})},$setUntouched:function(){me(this.$$controls,function(e){e.$setUntouched()})},$setSubmitted:function(){this.$$animate.addClass(this.$$element,zi),this.$submitted=!0,this.$$parentForm.$setSubmitted()}},Yi({clazz:Bi,set:function(e,t,n){var r=e[t];r?-1===r.indexOf(n)&&r.push(n):e[t]=[n]},unset:function(e,t,n){var r=e[t];r&&(Ne(r,n),0===r.length&&delete e[t])}});function Hi(n){return["$timeout","$parse",function(l,t){return{name:"form",restrict:n?"EAC":"E",require:["form","^^?form"],controller:Bi,compile:function(e,t){e.addClass(Fo).addClass(Lo);var s=t.name?"name":!(!n||!t.ngForm)&&"ngForm";return{pre:function(t,e,n,r){var i,o=r[0];"action"in n||(e[0].addEventListener("submit",i=function(e){t.$apply(function(){o.$commitViewValue(),o.$setSubmitted()}),e.preventDefault()}),e.on("$destroy",function(){l(function(){e[0].removeEventListener("submit",i)},0,!1)}));(r[1]||o.$$parentForm).$addControl(o);var a=s?c(o.$name):ve;s&&(a(t,o),n.$observe(s,function(e){o.$name!==e&&(a(t,void 0),o.$$parentForm.$$renameControl(o,e),(a=c(o.$name))(t,o))})),e.on("$destroy",function(){o.$$parentForm.$removeControl(o),a(t,void 0),ge(o,Vi)})}}}};function c(e){return""===e?t('this[""]').assign:t(e).assign||ve}}]}var Ui=Hi(),Wi=Hi(!0);function qi(e){e.$$classCache={},e.$$classCache[Vo]=!(e.$$classCache[Lo]=e.$$element.hasClass(Lo))}function Yi(e){var t=e.clazz,s=e.set,l=e.unset;function c(e,t,n){n&&!e.$$classCache[t]?(e.$$animate.addClass(e.$$element,t),e.$$classCache[t]=!0):!n&&e.$$classCache[t]&&(e.$$animate.removeClass(e.$$element,t),e.$$classCache[t]=!1)}function u(e,t,n){t=t?"-"+Ue(t,"-"):"",c(e,Lo+t,!0===n),c(e,Vo+t,!1===n)}t.prototype.$setValidity=function(e,t,n){var r,i,o,a;be(t)?(r=e,i=n,(o=this)[a="$pending"]||(o[a]={}),s(o[a],r,i)):(o=e,a=n,(r=this)[i="$pending"]&&l(r[i],o,a),Gi(r[i])&&(r[i]=void 0)),(Ie(t)?t?(l(this.$error,e,n),s):(s(this.$error,e,n),l):(l(this.$error,e,n),l))(this.$$success,e,n),this.$pending?(c(this,Fi,!0),this.$valid=this.$invalid=void 0,u(this,"",null)):(c(this,Fi,!1),this.$valid=Gi(this.$error),this.$invalid=!this.$valid,u(this,"",this.$valid)),u(this,e,t=this.$pending&&this.$pending[e]?void 0:!this.$error[e]&&(!!this.$$success[e]||null)),this.$$parentForm.$setValidity(e,t,this)}}function Gi(e){if(e)for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}var Ki=/^\d{4,}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+(?:[+-][0-2]\d:[0-5]\d|Z)$/,Xi=/^[a-z][a-z\d.+-]*:\/*(?:[^:@]+(?::[^@]+)?@)?(?:[^\s:/?#]+|\[[a-f\d:]+])(?::\d+)?(?:\/[^?#]*)?(?:\?[^#]*)?(?:#.*)?$/i,Ji=/^(?=.{1,254}$)(?=.{1,64}@)[-!#$%&'*+/0-9=?A-Z^_`a-z{|}~]+(\.[-!#$%&'*+/0-9=?A-Z^_`a-z{|}~]+)*@[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?(\.[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?)*$/,Qi=/^\s*(-|\+)?(\d+|(\d*(\.\d*)))([eE][+-]?\d+)?\s*$/,A=/^(\d{4,})-(\d{2})-(\d{2})$/,Zi=/^(\d{4,})-(\d\d)-(\d\d)T(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,eo=/^(\d{4,})-W(\d\d)$/,to=/^(\d{4,})-(\d\d)$/,no=/^(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,ro="keydown wheel mousedown",io=Ee(),oo=(me("date,datetime-local,month,time,week".split(","),function(e){io[e]=!0}),{text:function(e,t,n,r,i,o){so(0,t,n,r,i,o),ao(r)},date:co("date",A,lo(A,["yyyy","MM","dd"]),"yyyy-MM-dd"),"datetime-local":co("datetimelocal",Zi,lo(Zi,["yyyy","MM","dd","HH","mm","ss","sss"]),"yyyy-MM-ddTHH:mm:ss.sss"),time:co("time",no,lo(no,["HH","mm","ss","sss"]),"HH:mm:ss.sss"),week:co("week",eo,function(e,t){if(x(e))return e;if(_e(e)){eo.lastIndex=0;var n,r,i,o,a,s,e=eo.exec(e);if(e)return n=+e[1],e=+e[2],a=o=i=r=0,s=xi(n),e=7*(e-1),t&&(r=t.getHours(),i=t.getMinutes(),o=t.getSeconds(),a=t.getMilliseconds()),new Date(n,0,s.getDate()+e,r,i,o,a)}return NaN},"yyyy-Www"),month:co("month",to,lo(to,["yyyy","MM"]),"yyyy-MM"),number:function(e,t,n,r,i,o){var a,s,l;uo(0,t,0,r),ho(r),so(0,t,n,r,i,o),(ye(n.min)||n.ngMin)&&(r.$validators.min=function(e){return r.$isEmpty(e)||be(a)||a<=e},n.$observe("min",function(e){a=fo(e),r.$validate()}));(ye(n.max)||n.ngMax)&&(r.$validators.max=function(e){return r.$isEmpty(e)||be(s)||e<=s},n.$observe("max",function(e){s=fo(e),r.$validate()}));(ye(n.step)||n.ngStep)&&(r.$validators.step=function(e,t){return r.$isEmpty(t)||be(l)||go(t,a||0,l)},n.$observe("step",function(e){l=fo(e),r.$validate()}))},url:function(e,t,n,r,i,o){so(0,t,n,r,i,o),ao(r),r.$$parserName="url",r.$validators.url=function(e,t){e=e||t;return r.$isEmpty(e)||Xi.test(e)}},email:function(e,t,n,r,i,o){so(0,t,n,r,i,o),ao(r),r.$$parserName="email",r.$validators.email=function(e,t){e=e||t;return r.$isEmpty(e)||Ji.test(e)}},radio:function(e,n,r,i){var o=!r.ngTrim||"false"!==Ce(r.ngTrim);be(r.name)&&n.attr("name",N());n.on("click",function(e){var t;n[0].checked&&(t=r.value,o&&(t=Ce(t)),i.$setViewValue(t,e&&e.type))}),i.$render=function(){var e=r.value;o&&(e=Ce(e)),n[0].checked=e===i.$viewValue},r.$observe("value",i.$render)},range:function(e,n,r,i,t,o){uo(0,n,0,i),ho(i),so(0,n,r,i,t,o);var a=i.$$hasNativeValidators&&"range"===n[0].type,s=a?0:void 0,l=a?100:void 0,c=a?1:void 0,u=n[0].validity,e=ye(r.min),t=ye(r.max),o=ye(r.step),d=i.$render;i.$render=a&&ye(u.rangeUnderflow)&&ye(u.rangeOverflow)?function(){d(),i.$setViewValue(n.val())}:d,e&&(i.$validators.min=a?function(){return!0}:function(e,t){return i.$isEmpty(t)||be(s)||s<=t},h("min",function(e){s=fo(e),$(i.$modelValue)||(a?((e=n.val())<s&&(e=s,n.val(e)),i.$setViewValue(e)):i.$validate())}));t&&(i.$validators.max=a?function(){return!0}:function(e,t){return i.$isEmpty(t)||be(l)||t<=l},h("max",function(e){l=fo(e),$(i.$modelValue)||(a?(e=n.val(),l<e&&(n.val(l),e=l<s?s:l),i.$setViewValue(e)):i.$validate())}));o&&(i.$validators.step=a?function(){return!u.stepMismatch}:function(e,t){return i.$isEmpty(t)||be(c)||go(t,s||0,c)},h("step",function(e){c=fo(e),$(i.$modelValue)||(a&&i.$viewValue!==n.val()?i.$setViewValue(n.val()):i.$validate())}));function h(e,t){n.attr(e,r[e]),r.$observe(e,t)}},checkbox:function(e,t,n,r,i,o,a,s){var l=vo(s,e,"ngTrueValue",n.ngTrueValue,!0),c=vo(s,e,"ngFalseValue",n.ngFalseValue,!1);t.on("click",function(e){r.$setViewValue(t[0].checked,e&&e.type)}),r.$render=function(){t[0].checked=r.$viewValue},r.$isEmpty=function(e){return!1===e},r.$formatters.push(function(e){return Te(e,l)}),r.$parsers.push(function(e){return e?l:c})},hidden:ve,button:ve,submit:ve,reset:ve,file:ve});function ao(t){t.$formatters.push(function(e){return t.$isEmpty(e)?e:e.toString()})}function so(e,n,r,i,t,o){var a,s,l,c=T(n[0].type),u=(t.android||(a=!1,n.on("compositionstart",function(){a=!0}),n.on("compositionend",function(){a=!1,u()})),function(e){var t;s&&(o.defer.cancel(s),s=null),a||(t=n.val(),e=e&&e.type,"password"===c||r.ngTrim&&"false"===r.ngTrim||(t=Ce(t)),(i.$viewValue!==t||""===t&&i.$$hasNativeValidators)&&i.$setViewValue(t,e))});t.hasEvent("input")?n.on("input",u):(l=function(e,t,n){s=s||o.defer(function(){s=null,t&&t.value===n||u(e)})},n.on("keydown",function(e){var t=e.keyCode;91===t||15<t&&t<19||37<=t&&t<=40||l(e,this,this.value)}),t.hasEvent("paste")&&n.on("paste cut",l)),n.on("change",u),io[c]&&i.$$hasNativeValidators&&c===r.type&&n.on(ro,function(e){var t,n,r;s||(t=this[p],n=t.badInput,r=t.typeMismatch,s=o.defer(function(){s=null,t.badInput===n&&t.typeMismatch===r||u(e)}))}),i.$render=function(){var e=i.$isEmpty(i.$viewValue)?"":i.$viewValue;n.val()!==e&&n.val(e)}}function lo(r,i){return function(e,t){var n;if(x(e))return e;if(_e(e)){if('"'===e.charAt(0)&&'"'===e.charAt(e.length-1)&&(e=e.substring(1,e.length-1)),Ki.test(e))return new Date(e);if(r.lastIndex=0,e=r.exec(e))return e.shift(),n=t?{yyyy:t.getFullYear(),MM:t.getMonth()+1,dd:t.getDate(),HH:t.getHours(),mm:t.getMinutes(),ss:t.getSeconds(),sss:t.getMilliseconds()/1e3}:{yyyy:1970,MM:1,dd:1,HH:0,mm:0,ss:0,sss:0},me(e,function(e,t){t<i.length&&(n[i[t]]=+e)}),new Date(n.yyyy,n.MM-1,n.dd,n.HH,n.mm,n.ss||0,1e3*n.sss||0)}return NaN}}function co(f,p,m,g){return function(e,t,n,r,i,o,a){uo(0,t,0,r),so(0,t,n,r,i,o);var s,l,c,u=r&&r.$options.getOption("timezone");function d(e){return e&&(!e.getTime||e.getTime()===e.getTime())}function h(e){return ye(e)&&!x(e)?m(e)||void 0:e}r.$$parserName=f,r.$parsers.push(function(e){return r.$isEmpty(e)?null:p.test(e)?(e=m(e,s),u?oe(e,u):e):void 0}),r.$formatters.push(function(e){if(e&&!x(e))throw qo("datefmt","Expected `{0}` to be a date",e);return d(e)?((s=e)&&u&&(s=oe(s,u,!0)),a("date")(e,g,u)):(s=null,"")}),(ye(n.min)||n.ngMin)&&(r.$validators.min=function(e){return!d(e)||be(l)||m(e)>=l},n.$observe("min",function(e){l=h(e),r.$validate()})),(ye(n.max)||n.ngMax)&&(r.$validators.max=function(e){return!d(e)||be(c)||m(e)<=c},n.$observe("max",function(e){c=h(e),r.$validate()}))}}function uo(e,n,t,r){var i=n[0];(r.$$hasNativeValidators=we(i.validity))&&r.$parsers.push(function(e){var t=n.prop(p)||{};return t.badInput||t.typeMismatch?void 0:e})}function ho(t){t.$$parserName="number",t.$parsers.push(function(e){return t.$isEmpty(e)?null:Qi.test(e)?parseFloat(e):void 0}),t.$formatters.push(function(e){if(!t.$isEmpty(e)){if(!_(e))throw qo("numfmt","Expected `{0}` to be a number",e);e=e.toString()}return e})}function fo(e){return ye(e)&&!_(e)&&(e=parseFloat(e)),$(e)?void 0:e}function po(e){return(0|e)===e}function mo(e){var t=e.toString(),n=t.indexOf(".");if(-1!==n)return t.length-n-1;if(-1<e&&e<1){n=/e-(\d+)$/.exec(t);if(n)return Number(n[1])}return 0}function go(e,t,n){var r,i,o,e=Number(e),a=!po(e),s=!po(t),l=!po(n);return(a||s||l)&&(i=a?mo(e):0,o=s?mo(t):0,r=l?mo(n):0,i=Math.max(i,o,r),e*=o=Math.pow(10,i),t*=o,n*=o,a&&(e=Math.round(e)),s&&(t=Math.round(t)),l&&(n=Math.round(n))),(e-t)%n==0}function vo(e,t,n,r,i){if(ye(r)){if((e=e(r)).constant)return e(t);throw qo("constexpr","Expected constant expression for `{0}`, but saw `{1}`.",n,r)}return i}function bo(){function r(e,t,n){var r=ye(n)?n:9===Oe?"":null;e.prop("value",r),t.$set("value",n)}return{restrict:"A",priority:100,compile:function(e,t){return wo.test(t.ngValue)?function(e,t,n){r(t,n,e.$eval(n.ngValue))}:function(e,t,n){e.$watch(n.ngValue,function(e){r(t,n,e)})}}}}var yo=["$browser","$sniffer","$filter","$parse",function(i,o,a,s){return{restrict:"E",require:["?ngModel"],link:{pre:function(e,t,n,r){r[0]&&(oo[T(n.type)]||oo.text)(e,t,n,r[0],o,i,a,s)}}}}],wo=/^(true|false|\d+)$/,_o=["$compile",function(r){return{restrict:"AC",compile:function(e){return r.$$addBindingClass(e),function(e,t,n){r.$$addBindingInfo(t,n.ngBind),t=t[0],e.$watch(n.ngBind,function(e){t.textContent=Je(e)})}}}}],ko=["$interpolate","$compile",function(i,o){return{compile:function(e){return o.$$addBindingClass(e),function(e,t,n){var r=i(t.attr(n.$attr.ngBindTemplate));o.$$addBindingInfo(t,r.expressions),t=t[0],n.$observe("ngBindTemplate",function(e){t.textContent=be(e)?"":e})}}}}],xo=["$sce","$parse","$compile",function(o,n,a){return{restrict:"A",compile:function(e,t){var r=n(t.ngBindHtml),i=n(t.ngBindHtml,function(e){return o.valueOf(e)});return a.$$addBindingClass(e),function(t,n,e){a.$$addBindingInfo(n,e.ngBindHtml),t.$watch(i,function(){var e=r(t);n.html(o.getTrustedHtml(e)||"")})}}}}],Co=S({restrict:"A",require:"ngModel",link:function(e,t,n,r){r.$viewChangeListeners.push(function(){e.$eval(n.ngChange)})}});function So(h,f){var p;return h="ngClass"+h,["$parse",function(d){return{restrict:"AC",link:function(e,t,i){var o,n=i[h].trim(),r=":"===n.charAt(0)&&":"===n.charAt(1),n=d(n,r?b:v),a=r?function(e){e=v(e);e!==o&&u(e)}:u,s=t.data("$classCounts"),l=!0;function c(e,t){var n=[];return me(e,function(e){(0<t||s[e])&&(s[e]=(s[e]||0)+t,s[e]===+(0<t)&&n.push(e))}),n.join(" ")}function u(e){var t,n,r;l===f&&(n=e,t=g(t=o),n=g(n),r=m(t,n),n=m(n,t),t=c(r,-1),r=c(n,1),i.$addClass(r),i.$removeClass(t)),o=e}s||(s=Ee(),t.data("$classCounts",s)),"ngClass"!==h&&(p=p||d("$index",function(e){return 1&e}),e.$watch(p,function(e){(e===f?function(e){e=c(g(e),1),i.$addClass(e)}:function(e){e=c(g(e),-1),i.$removeClass(e)})(o);l=e})),e.$watch(n,a,r)}}}];function m(e,t){if(!e||!e.length)return[];if(!t||!t.length)return e;var n=[];e:for(var r=0;r<e.length;r++){for(var i=e[r],o=0;o<t.length;o++)if(i===t[o])continue e;n.push(i)}return n}function g(e){return e&&e.split(" ")}function v(t){var e=t;return ke(t)?e=t.map(v).join(" "):we(t)&&(e=Object.keys(t).filter(function(e){return t[e]}).join(" ")),e}function b(t){var n,e=t;return ke(t)?e=t.map(b):we(t)&&(n=!1,e=Object.keys(t).filter(function(e){e=t[e];return!n&&be(e)&&(n=!0),e}),n&&e.push(void 0)),e}}function To(){return{restrict:"A",priority:100,require:"ngModel",link:function(e,t,n,r){var i=n.ngList||", ",o="false"!==n.ngTrim,a=o?Ce(i):i;r.$parsers.push(function(e){var t;if(!be(e))return t=[],e&&me(e.split(a),function(e){e&&t.push(o?Ce(e):e)}),t}),r.$formatters.push(function(e){if(ke(e))return e.join(i)}),r.$isEmpty=function(e){return!e||!e.length}}}}var $o=So("",!0),Eo=So("Odd",0),Ao=So("Even",1),Oo=Ni({compile:function(e,t){t.$set("ngCloak",void 0),e.removeClass("ng-cloak")}}),Mo=[function(){return{restrict:"A",scope:!0,controller:"@",priority:500}}],Po={},Do={blur:!0,focus:!0},Ro=(me("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "),function(o){var a=En("ng-"+o);Po[a]=["$parse","$rootScope",function(n,i){return{restrict:"A",compile:function(e,t){var r=n(t[a]);return function(n,e){e.on(o,function(e){function t(){r(n,{$event:e})}Do[o]&&i.$$phase?n.$evalAsync(t):n.$apply(t)})}}}}]}),["$animate","$compile",function(l,c){return{multiElement:!0,transclude:"element",priority:600,terminal:!0,restrict:"A",$$tlb:!0,link:function(e,n,r,t,i){var o,a,s;e.$watch(r.ngIf,function(e){e?a||i(function(e,t){a=t,e[e.length++]=c.$$createComment("end ngIf",r.ngIf),o={clone:e},l.enter(e,n.parent(),n)}):(s&&(s.remove(),s=null),a&&(a.$destroy(),a=null),o&&(s=Xe(o.clone),l.leave(s).done(function(e){!1!==e&&(s=null)}),o=null))})}}}]),Io=["$templateRequest","$anchorScroll","$animate",function(m,g,v){return{restrict:"ECA",priority:400,terminal:!0,transclude:"element",controller:y.noop,compile:function(e,t){var n=t.ngInclude||t.src,f=t.onload||"",p=t.autoscroll;return function(o,a,e,s,l){function c(){t&&(t.remove(),t=null),u&&(u.$destroy(),u=null),d&&(v.leave(d).done(function(e){!1!==e&&(t=null)}),t=d,d=null)}var u,t,d,h=0;o.$watch(n,function(n){function r(e){!1===e||!ye(p)||p&&!o.$eval(p)||g()}var i=++h;n?(m(n,!0).then(function(e){var t;o.$$destroyed||i===h&&(t=o.$new(),s.template=e,e=l(t,function(e){c(),v.enter(e,null,a).done(r)}),d=e,(u=t).$emit("$includeContentLoaded",n),o.$eval(f))},function(){o.$$destroyed||i===h&&(c(),o.$emit("$includeContentError",n))}),o.$emit("$includeContentRequested",n)):(c(),s.template=null)})}}}}],No=["$compile",function(i){return{restrict:"ECA",priority:-400,require:"ngInclude",link:function(e,t,n,r){v.call(t[0]).match(/SVG/)?(t.empty(),i(yt(r.template,w.document).childNodes)(e,function(e){t.append(e)},{futureParentElement:t})):(t.html(r.template),i(t.contents())(e))}}}],jo=Ni({priority:450,compile:function(){return{pre:function(e,t,n){e.$eval(n.ngInit)}}}}),Lo="ng-valid",Vo="ng-invalid",Fo="ng-pristine",zo="ng-dirty",Bo="ng-untouched",Ho="ng-touched",Uo="ng-empty",Wo="ng-not-empty",qo=k("ngModel");function Yo(e,t,n,r,i,o,a,s,l){var c;this.$viewValue=Number.NaN,this.$modelValue=Number.NaN,this.$$rawModelValue=void 0,this.$validators={},this.$asyncValidators={},this.$parsers=[],this.$formatters=[],this.$viewChangeListeners=[],this.$untouched=!0,this.$touched=!1,this.$pristine=!0,this.$dirty=!1,this.$valid=!0,this.$invalid=!1,this.$error={},this.$$success={},this.$pending=void 0,this.$name=l(n.name||"",!1)(e),this.$$parentForm=Vi,this.$options=Qo,this.$$parsedNgModel=i(n.ngModel),this.$$parsedNgModelAssign=this.$$parsedNgModel.assign,this.$$ngModelGet=this.$$parsedNgModel,this.$$ngModelSet=this.$$parsedNgModelAssign,this.$$pendingDebounce=null,this.$$parserValid=void 0,this.$$currentValidationRunId=0,Object.defineProperty(this,"$$scope",{value:e}),this.$$attr=n,this.$$element=r,this.$$animate=o,this.$$timeout=a,this.$$parse=i,this.$$q=s,this.$$exceptionHandler=t,qi(this),(c=this).$$scope.$watch(function(e){e=c.$$ngModelGet(e);if(e!==c.$modelValue&&(c.$modelValue==c.$modelValue||e==e)){c.$modelValue=c.$$rawModelValue=e,c.$$parserValid=void 0;for(var t=c.$formatters,n=t.length,r=e;n--;)r=t[n](r);c.$viewValue!==r&&(c.$$updateEmptyClasses(r),c.$viewValue=c.$$lastCommittedViewValue=r,c.$render(),c.$$runValidators(c.$modelValue,c.$viewValue,ve))}return e})}Yo.$inject=["$scope","$exceptionHandler","$attrs","$element","$parse","$animate","$timeout","$q","$interpolate"],Yo.prototype={$$initGetterSetters:function(){if(this.$options.getOption("getterSetter")){var n=this.$$parse(this.$$attr.ngModel+"()"),r=this.$$parse(this.$$attr.ngModel+"($$$p)");this.$$ngModelGet=function(e){var t=this.$$parsedNgModel(e);return t=xe(t)?n(e):t},this.$$ngModelSet=function(e,t){xe(this.$$parsedNgModel(e))?r(e,{$$$p:t}):this.$$parsedNgModelAssign(e,t)}}else if(!this.$$parsedNgModel.assign)throw qo("nonassign","Expression '{0}' is non-assignable. Element: {1}",this.$$attr.ngModel,$e(this.$$element))},$render:ve,$isEmpty:function(e){return be(e)||""===e||null===e||e!=e},$$updateEmptyClasses:function(e){this.$isEmpty(e)?(this.$$animate.removeClass(this.$$element,Wo),this.$$animate.addClass(this.$$element,Uo)):(this.$$animate.removeClass(this.$$element,Uo),this.$$animate.addClass(this.$$element,Wo))},$setPristine:function(){this.$dirty=!1,this.$pristine=!0,this.$$animate.removeClass(this.$$element,zo),this.$$animate.addClass(this.$$element,Fo)},$setDirty:function(){this.$dirty=!0,this.$pristine=!1,this.$$animate.removeClass(this.$$element,Fo),this.$$animate.addClass(this.$$element,zo),this.$$parentForm.$setDirty()},$setUntouched:function(){this.$touched=!1,this.$untouched=!0,this.$$animate.setClass(this.$$element,Bo,Ho)},$setTouched:function(){this.$touched=!0,this.$untouched=!1,this.$$animate.setClass(this.$$element,Ho,Bo)},$rollbackViewValue:function(){this.$$timeout.cancel(this.$$pendingDebounce),this.$viewValue=this.$$lastCommittedViewValue,this.$render()},$validate:function(){var e,t,n,r,i,o;$(this.$modelValue)||(e=this.$$lastCommittedViewValue,t=this.$$rawModelValue,n=this.$valid,r=this.$modelValue,i=this.$options.getOption("allowInvalid"),(o=this).$$runValidators(t,e,function(e){i||n===e||(o.$modelValue=e?t:void 0,o.$modelValue!==r&&o.$$writeModelToScope())}))},$$runValidators:function(n,r,t){this.$$currentValidationRunId++;var i,o,a,s=this.$$currentValidationRunId,l=this;function c(e,t){s===l.$$currentValidationRunId&&l.$setValidity(e,t)}function e(e){s===l.$$currentValidationRunId&&t(e)}!function(){var e=l.$$parserName||"parse";{if(!be(l.$$parserValid))return l.$$parserValid||(me(l.$validators,function(e,t){c(t,null)}),me(l.$asyncValidators,function(e,t){c(t,null)})),c(e,l.$$parserValid),l.$$parserValid;c(e,null)}return 1}()||(i=!0,me(l.$validators,function(e,t){e=Boolean(e(n,r));i=i&&e,c(t,e)}),!i&&(me(l.$asyncValidators,function(e,t){c(t,null)}),1))?e(!1):(o=[],a=!0,me(l.$asyncValidators,function(e,t){e=e(n,r);if(!W(e))throw qo("nopromise","Expected asynchronous validator to return a promise but got '{0}' instead.",e);c(t,void 0),o.push(e.then(function(){c(t,!0)},function(){c(t,a=!1)}))}),o.length?l.$$q.all(o).then(function(){e(a)},ve):e(!0))},$commitViewValue:function(){var e=this.$viewValue;this.$$timeout.cancel(this.$$pendingDebounce),(this.$$lastCommittedViewValue!==e||""===e&&this.$$hasNativeValidators)&&(this.$$updateEmptyClasses(e),this.$$lastCommittedViewValue=e,this.$pristine&&this.$setDirty(),this.$$parseAndValidate())},$$parseAndValidate:function(){var t=this.$$lastCommittedViewValue,n=this;if(this.$$parserValid=!be(t)||void 0,this.$$parserValid)for(var e=0;e<this.$parsers.length;e++)if(be(t=this.$parsers[e](t))){this.$$parserValid=!1;break}$(this.$modelValue)&&(this.$modelValue=this.$$ngModelGet(this.$$scope));var r=this.$modelValue,i=this.$options.getOption("allowInvalid");function o(){n.$modelValue!==r&&n.$$writeModelToScope()}this.$$rawModelValue=t,i&&(this.$modelValue=t,o()),this.$$runValidators(t,this.$$lastCommittedViewValue,function(e){i||(n.$modelValue=e?t:void 0,o())})},$$writeModelToScope:function(){this.$$ngModelSet(this.$$scope,this.$modelValue),me(this.$viewChangeListeners,function(e){try{e()}catch(e){this.$$exceptionHandler(e)}},this)},$setViewValue:function(e,t){this.$viewValue=e,this.$options.getOption("updateOnDefault")&&this.$$debounceViewValueCommit(t)},$$debounceViewValueCommit:function(e){var t=this.$options.getOption("debounce"),n=(_(t[e])?t=t[e]:_(t.default)&&(t=t.default),this.$$timeout.cancel(this.$$pendingDebounce),this);0<t?this.$$pendingDebounce=this.$$timeout(function(){n.$commitViewValue()},t):this.$$scope.$root.$$phase?this.$commitViewValue():this.$$scope.$apply(function(){n.$commitViewValue()})},$overrideModelOptions:function(e){this.$options=this.$options.createChild(e)}},Yi({clazz:Yo,set:function(e,t){e[t]=!0},unset:function(e,t){delete e[t]}});var Go=["$rootScope",function(a){return{restrict:"A",require:["ngModel","^?form","^?ngModelOptions"],controller:Yo,priority:1,compile:function(e){return e.addClass(Fo).addClass(Bo).addClass(Lo),{pre:function(e,t,n,r){var i=r[0],o=r[1]||i.$$parentForm,r=r[2];r&&(i.$options=r.$options),i.$$initGetterSetters(),o.$addControl(i),n.$observe("name",function(e){i.$name!==e&&i.$$parentForm.$$renameControl(i,e)}),e.$on("$destroy",function(){i.$$parentForm.$removeControl(i)})},post:function(e,t,n,r){var i=r[0];function o(){i.$setTouched()}i.$options.getOption("updateOn")&&t.on(i.$options.getOption("updateOn"),function(e){i.$$debounceViewValueCommit(e&&e.type)}),t.on("blur",function(){i.$touched||(a.$$phase?e.$evalAsync(o):e.$apply(o))})}}}}}],Ko=/(\s+|^)default(\s+|$)/;function Xo(e){this.$$options=e}Xo.prototype={getOption:function(e){return this.$$options[e]},createChild:function(n){var r=!1;return me(n=ge({},n),function(e,t){"$inherit"===e?"*"===t?r=!0:(n[t]=this.$$options[t],"updateOn"===t&&(n.updateOnDefault=this.$$options.updateOnDefault)):"updateOn"===t&&(n.updateOnDefault=!1,n[t]=Ce(e.replace(Ko,function(){return n.updateOnDefault=!0," "})))},this),r&&(delete n["*"],Zo(n,this.$$options)),Zo(n,Qo.$$options),new Xo(n)}};function Jo(){function e(e,t){this.$$attrs=e,this.$$scope=t}return e.$inject=["$attrs","$scope"],e.prototype={$onInit:function(){var e=this.parentCtrl?this.parentCtrl.$options:Qo,t=this.$$scope.$eval(this.$$attrs.ngModelOptions);this.$options=e.createChild(t)}},{restrict:"A",priority:10,require:{parentCtrl:"?^^ngModelOptions"},bindToController:!0,controller:e}}var Qo=new Xo({updateOn:"",updateOnDefault:!0,debounce:0,getterSetter:!1,allowInvalid:!1,timezone:null});function Zo(n,e){me(e,function(e,t){ye(n[t])||(n[t]=e)})}var ea=Ni({terminal:!0,priority:1e3}),ta=k("ngOptions"),na=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?(?:\s+disable\s+when\s+([\s\S]+?))?\s+for\s+(?:([$\w][$\w]*)|(?:\(\s*([$\w][$\w]*)\s*,\s*([$\w][$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/,ra=["$compile","$document","$parse",function(m,g,_){var v=w.document.createElement("option"),b=w.document.createElement("optgroup");return{restrict:"A",terminal:!0,require:["select","ngModel"],link:{pre:function(e,t,n,r){r[0].registerOption=ve},post:function(e,o,t,n){for(var a=n[0],s=n[1],l=t.multiple,r=0,i=o.children(),c=i.length;r<c;r++)if(""===i[r].value){a.hasEmptyOption=!0,a.emptyOption=i.eq(r);break}o.empty();var u,n=!!a.emptyOption,d=(pe(v.cloneNode(!1)).val("?"),function(e,t,c){var n,r,i,u,o,d,a,h,f,p,m,g,v,s,b,l=e.match(na);if(l)return n=l[5]||l[7],r=l[6],i=/ as /.test(l[0])&&l[1],u=l[9],o=_(l[2]?l[1]:n),d=i&&_(i)||o,a=u&&_(u),h=u?function(e,t){return a(c,t)}:function(e){return qt(e)},f=function(e,t){return h(e,b(e,t))},p=_(l[2]||l[1]),m=_(l[3]||""),g=_(l[4]||""),v=_(l[8]),s={},b=r?function(e,t){return s[r]=t,s[n]=e,s}:function(e){return s[n]=e,s},{trackBy:u,getTrackByValue:f,getWatchables:_(v,function(e){for(var t=[],n=w(e=e||[]),r=n.length,i=0;i<r;i++){var o=e===n?i:n[i],a=e[o],o=b(a,o),a=h(a,o);t.push(a),(l[2]||l[1])&&(a=p(c,o),t.push(a)),l[4]&&(a=g(c,o),t.push(a))}return t}),getOptions:function(){for(var e=[],t={},n=v(c)||[],r=w(n),i=r.length,o=0;o<i;o++){var a=n===r?o:r[o],s=n[a],s=b(s,a),a=d(c,s),l=h(a,s),a=new y(l,a,p(c,s),m(c,s),g(c,s));e.push(a),t[l]=a}return{items:e,selectValueMap:t,getOptionFromViewValue:function(e){return t[f(e)]},getViewValueFromOption:function(e){return u?X(e.viewValue):e.viewValue}}}};throw ta("iexp","Expected expression in form of '_select_ (as _label_)? for (_key_,)?_value_ in _collection_' but got '{0}'. Element: {1}",e,$e(t));function y(e,t,n,r,i){this.selectValue=e,this.viewValue=t,this.label=n,this.group=r,this.disabled=i}function w(e){var t;if(!r&&R(e))t=e;else for(var n in t=[],e)e.hasOwnProperty(n)&&"$"!==n.charAt(0)&&t.push(n);return t}}(t.ngOptions,o,e)),h=g[0].createDocumentFragment();function f(e,t){var n=v.cloneNode(!1),t=(t.appendChild(n),e),e=n;(t.element=e).disabled=t.disabled,t.label!==e.label&&(e.label=t.label,e.textContent=t.label),e.value=t.selectValue}function p(e){var e=u.getOptionFromViewValue(e),t=e&&e.element;return t&&!t.selected&&(t.selected=!0),e}a.generateUnknownOptionValue=function(e){return"?"},l?(a.writeValue=function(e){var t;u&&(t=e&&e.map(p)||[],u.items.forEach(function(e){e.element.selected&&!K(t,e)&&(e.element.selected=!1)}))},a.readValue=function(){var e=o.val()||[],t=[];return me(e,function(e){e=u.selectValueMap[e];e&&!e.disabled&&t.push(u.getViewValueFromOption(e))}),t},d.trackBy&&e.$watchCollection(function(){if(ke(s.$viewValue))return s.$viewValue.map(function(e){return d.getTrackByValue(e)})},function(){s.$render()})):(a.writeValue=function(e){var t,n;u&&(t=o[0].options[o[0].selectedIndex],n=u.getOptionFromViewValue(e),t&&t.removeAttribute("selected"),n?(o[0].value!==n.selectValue&&(a.removeUnknownOption(),o[0].value=n.selectValue,n.element.selected=!0),n.element.setAttribute("selected","selected")):a.selectUnknownOrEmptyOption(e))},a.readValue=function(){var e=u.selectValueMap[o.val()];return e&&!e.disabled?(a.unselectEmptyOption(),a.removeUnknownOption(),u.getViewValueFromOption(e)):null},d.trackBy&&e.$watch(function(){return d.getTrackByValue(s.$viewValue)},function(){s.$render()})),n&&(m(a.emptyOption)(e),o.prepend(a.emptyOption),a.emptyOption[0].nodeType===et?(a.hasEmptyOption=!1,a.registerOption=function(e,t){""===t.val()&&(a.hasEmptyOption=!0,a.emptyOption=t,a.emptyOption.removeClass("ng-scope"),s.$render(),t.on("$destroy",function(){var e=a.$isEmptyOptionSelected();a.hasEmptyOption=!1,a.emptyOption=void 0,e&&s.$render()}))}):a.emptyOption.removeClass("ng-scope")),e.$watchCollection(d.getWatchables,function(){var e=u&&a.readValue();if(u)for(var t=u.items.length-1;0<=t;t--){var n=u.items[t];ye(n.group)?Rt(n.element.parentNode):Rt(n.element)}u=d.getOptions();var r={};{var i;u.items.forEach(function(e){var t;ye(e.group)?((t=r[e.group])||(t=b.cloneNode(!1),h.appendChild(t),t.label=null===e.group?"null":e.group,r[e.group]=t),f(e,t)):f(e,h)}),o[0].appendChild(h),s.$render(),s.$isEmpty(e)||(i=a.readValue(),(d.trackBy||l?Te(e,i):e===i)||(s.$setViewValue(i),s.$render()))}})}}}}],ia=["$locale","$interpolate","$log",function(p,m,g){var v=/{}/g,b=/^when(Minus)?(.+)$/;return{link:function(r,i,o){var a,e=o.count,s=o.$attr.when&&i.attr(o.$attr.when),l=o.offset||0,c=r.$eval(s)||{},u={},t=m.startSymbol(),n=m.endSymbol(),d=t+e+"-"+l+n,h=y.noop;function f(e){i.text(e||"")}me(o,function(e,t){var n=b.exec(t);n&&(n=(n[1]?"-":"")+T(n[2]),c[n]=i.attr(o.$attr[t]))}),me(c,function(e,t){u[t]=m(e.replace(v,d))}),r.$watch(e,function(e){var t=parseFloat(e),n=$(t);(t=n||t in c?t:p.pluralCat(t-l))===a||n&&$(a)||(h(),be(n=u[t])?(null!=e&&g.debug("ngPluralize: no rule defined for '"+t+"' in "+s),h=ve,f()):h=r.$watch(n,f),a=t)})}}}],oa=["$parse","$animate","$compile",function(s,O,l){function M(e,t,n,r,i,o,a){e[n]=r,i&&(e[i]=o),e.$index=t,e.$first=0===t,e.$last=t===a-1,e.$middle=!(e.$first||e.$last),e.$odd=!(e.$even=0==(1&t))}var P="$$NG_REMOVED",D=k("ngRepeat");return{restrict:"A",multiElement:!0,transclude:"element",priority:1e3,terminal:!0,$$tlb:!0,compile:function(e,t){var k=t.ngRepeat,x=l.$$createComment("end ngRepeat",k),t=k.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/);if(!t)throw D("iexp","Expected expression in form of '_item_ in _collection_[ track by _id_]' but got '{0}'.",k);var n=t[1],r=t[2],C=t[3],i=t[4];if(!(t=n.match(/^(?:(\s*[$\w]+)|\(\s*([$\w]+)\s*,\s*([$\w]+)\s*\))$/)))throw D("iidexp","'_item_' in '_item_ in _collection_' should be an identifier or '(_key_, _value_)' expression, but got '{0}'.",n);var o,S,T,$,a,E=t[3]||t[1],A=t[2];if(!C||/^[$a-zA-Z_][$a-zA-Z0-9_]*$/.test(C)&&!/^(null|undefined|this|\$index|\$first|\$middle|\$last|\$even|\$odd|\$parent|\$root|\$id)$/.test(C))return a={$id:qt},i?o=s(i):(T=function(e,t){return qt(t)},$=function(e){return e}),function(b,y,e,t,w){o&&(S=function(e,t,n){return A&&(a[A]=e),a[E]=t,a.$index=n,o(b,a)});var _=Ee();b.$watchCollection(r,function(e){var n,t,r,i,o,a,s,l,c,u,d,h,f,p,m=y[0],g=Ee();if(C&&(b[C]=e),R(e))c=e,l=S||T;else for(var v in l=S||$,c=[],e)H.call(e,v)&&"$"!==v.charAt(0)&&c.push(v);for(i=c.length,d=new Array(i),n=0;n<i;n++)if(o=e===c?n:c[n],a=e[o],s=l(o,a,n),_[s])u=_[s],delete _[s],g[s]=u,d[n]=u;else{if(g[s])throw me(d,function(e){e&&e.scope&&(_[e.id]=e)}),D("dupes","Duplicates in a repeater are not allowed. Use 'track by' expression to specify unique keys. Repeater: {0}, Duplicate key: {1}, Duplicate value: {2}",k,s,a);d[n]={id:s,scope:void 0,clone:void 0},g[s]=!0}for(f in _){if(h=Xe((u=_[f]).clone),O.leave(h),h[0].parentNode)for(n=0,t=h.length;n<t;n++)h[n][P]=!0;u.scope.$destroy()}for(n=0;n<i;n++)if(o=e===c?n:c[n],a=e[o],(u=d[n]).scope){for(r=m;(r=r.nextSibling)&&r[P];);u.clone[0]!==r&&O.move(Xe(u.clone),null,m),m=(p=u).clone[p.clone.length-1],M(u.scope,n,E,a,A,o,i)}else w(function(e,t){u.scope=t;t=x.cloneNode(!1);e[e.length++]=t,O.enter(e,null,m),m=t,u.clone=e,g[u.id]=u,M(u.scope,n,E,a,A,o,i)});_=g})};throw D("badident","alias '{0}' is invalid --- must be a valid JS identifier which is not a reserved name.",C)}}}],aa="ng-hide",sa="ng-hide-animate",la=["$animate",function(r){return{restrict:"A",multiElement:!0,link:function(e,t,n){e.$watch(n.ngShow,function(e){r[e?"removeClass":"addClass"](t,aa,{tempClasses:sa})})}}}],ca=["$animate",function(r){return{restrict:"A",multiElement:!0,link:function(e,t,n){e.$watch(n.ngHide,function(e){r[e?"addClass":"removeClass"](t,aa,{tempClasses:sa})})}}}],ua=Ni(function(e,n,t){e.$watch(t.ngStyle,function(e,t){t&&e!==t&&me(t,function(e,t){n.css(t,"")}),e&&n.css(e)},!0)}),da=["$animate","$compile",function(c,u){return{require:"ngSwitch",controller:["$scope",function(){this.cases={}}],link:function(e,t,n,i){var o,n=n.ngSwitch||n.on,a=[],s=[],l=[];e.$watch(n,function(e){for(var t,n;s.length;)c.cancel(s.pop());for(t=0,n=l.length;t<n;++t){var r=Xe(a[t].clone);l[t].$destroy(),(s[t]=c.leave(r)).done(function(t,n){return function(e){!1!==e&&t.splice(n,1)}}(s,t))}a.length=0,l.length=0,(o=i.cases["!"+e]||i.cases["?"])&&me(o,function(n){n.transclude(function(e,t){l.push(t);t=n.element;e[e.length++]=u.$$createComment("end ngSwitchWhen"),a.push({clone:e}),c.enter(e,t.parent(),t)})})})}}}],ha=Ni({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(e,t,n,r,i){me(n.ngSwitchWhen.split(n.ngSwitchWhenSeparator).sort().filter(function(e,t,n){return n[t-1]!==e}),function(e){r.cases["!"+e]=r.cases["!"+e]||[],r.cases["!"+e].push({transclude:i,element:t})})}}),fa=Ni({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(e,t,n,r,i){r.cases["?"]=r.cases["?"]||[],r.cases["?"].push({transclude:i,element:t})}}),pa=k("ngTransclude"),ma=["$compile",function(t){return{restrict:"EAC",terminal:!0,compile:function(e){var a=t(e.contents());return e.empty(),function(e,n,t,r,i){if(!i)throw pa("orphan","Illegal use of ngTransclude directive in the template! No parent directive that requires a transclusion found. Element: {0}",$e(n));t.ngTransclude===t.$attr.ngTransclude&&(t.ngTransclude="");t=t.ngTransclude||t.ngTranscludeSlot;function o(){a(e,function(e){n.append(e)})}i(function(e,t){e.length&&function(e){for(var t=0,n=e.length;t<n;t++){var r=e[t];if(r.nodeType!==Ze||r.nodeValue.trim())return 1}}(e)?n.append(e):(o(),t.$destroy())},null,t),t&&!i.isSlotFilled(t)&&o()}}}}],ga=["$templateCache",function(n){return{restrict:"E",terminal:!0,compile:function(e,t){"text/ng-template"===t.type&&(t=t.id,e=e[0].text,n.put(t,e))}}}],va={$setViewValue:ve,$render:ve};function ba(e,t){e.prop("selected",t),e.attr("selected",t)}function ya(){return{restrict:"E",require:["select","?ngModel"],controller:Sa,priority:1,link:{pre:function(e,r,t,n){var i,o,a=n[0],s=n[1];s?(a.ngModelCtrl=s,r.on("change",function(){a.removeUnknownOption(),e.$apply(function(){s.$setViewValue(a.readValue())})}),t.multiple&&(a.multiple=!0,a.readValue=function(){var t=[];return me(r.find("option"),function(e){e.selected&&!e.disabled&&(e=e.value,t.push(e in a.selectValueMap?a.selectValueMap[e]:e))}),t},a.writeValue=function(n){me(r.find("option"),function(e){var t=!!n&&(K(n,e.value)||K(n,a.selectValueMap[e.value]));t!==e.selected&&ba(pe(e),t)})},o=NaN,e.$watch(function(){o!==s.$viewValue||Te(i,s.$viewValue)||(i=C(s.$viewValue),s.$render()),o=s.$viewValue}),s.$isEmpty=function(e){return!e||0===e.length})):a.registerOption=ve},post:function(e,t,n,r){var i,o=r[1];o&&(i=r[0],o.$render=function(){i.writeValue(o.$viewValue)})}}}}function wa(){return{restrict:"A",require:"?ngModel",link:function(e,t,n,r){r&&(n.required=!0,r.$validators.required=function(e,t){return!n.required||!r.$isEmpty(t)},n.$observe("required",function(){r.$validate()}))}}}function _a(){return{restrict:"A",require:"?ngModel",link:function(e,t,n,r){var i,o;r&&(o=n.ngPattern||n.pattern,n.$observe("pattern",function(e){if((e=_e(e)&&0<e.length?new RegExp("^"+e+"$"):e)&&!e.test)throw k("ngPattern")("noregexp","Expected {0} to be a RegExp but was {1}. Element: {2}",o,e,$e(t));i=e||void 0,r.$validate()}),r.$validators.pattern=function(e,t){return r.$isEmpty(t)||be(i)||i.test(t)})}}}function ka(){return{restrict:"A",require:"?ngModel",link:function(e,t,n,r){var i;r&&(i=-1,n.$observe("maxlength",function(e){e=b(e);i=$(e)?-1:e,r.$validate()}),r.$validators.maxlength=function(e,t){return i<0||r.$isEmpty(t)||t.length<=i})}}}function xa(){return{restrict:"A",require:"?ngModel",link:function(e,t,n,r){var i;r&&(i=0,n.$observe("minlength",function(e){i=b(e)||0,r.$validate()}),r.$validators.minlength=function(e,t){return r.$isEmpty(t)||t.length>=i})}}}var Ca,Sa=["$element","$scope",function(n,t){var s=this,r=new Kt,e=(s.selectValueMap={},s.ngModelCtrl=va,s.multiple=!1,s.unknownOption=pe(w.document.createElement("option")),s.hasEmptyOption=!1,s.emptyOption=void 0,s.renderUnknownOption=function(e){e=s.generateUnknownOptionValue(e);s.unknownOption.val(e),n.prepend(s.unknownOption),ba(s.unknownOption,!0),n.val(e)},s.updateUnknownOption=function(e){e=s.generateUnknownOptionValue(e);s.unknownOption.val(e),ba(s.unknownOption,!0),n.val(e)},s.generateUnknownOptionValue=function(e){return"? "+qt(e)+" ?"},s.removeUnknownOption=function(){s.unknownOption.parent()&&s.unknownOption.remove()},s.selectEmptyOption=function(){s.emptyOption&&(n.val(""),ba(s.emptyOption,!0))},s.unselectEmptyOption=function(){s.hasEmptyOption&&ba(s.emptyOption,!1)},t.$on("$destroy",function(){s.renderUnknownOption=ve}),s.readValue=function(){var e=n.val(),e=e in s.selectValueMap?s.selectValueMap[e]:e;return s.hasOption(e)?e:null},s.writeValue=function(e){var t=n[0].options[n[0].selectedIndex];t&&ba(pe(t),!1),s.hasOption(e)?(s.removeUnknownOption(),t=qt(e),n.val(t in s.selectValueMap?t:e),t=n[0].options[n[0].selectedIndex],ba(pe(t),!0)):s.selectUnknownOrEmptyOption(e)},s.addOption=function(e,t){t[0].nodeType!==et&&(Ge(e,'"option value"'),""===e&&(s.hasEmptyOption=!0,s.emptyOption=t),t=r.get(e)||0,r.set(e,t+1),l())},s.removeOption=function(e){var t=r.get(e);t&&(1===t?(r.delete(e),""===e&&(s.hasEmptyOption=!1,s.emptyOption=void 0)):r.set(e,t-1))},s.hasOption=function(e){return!!r.get(e)},s.$hasEmptyOption=function(){return s.hasEmptyOption},s.$isUnknownOptionSelected=function(){return n[0].options[0]===s.unknownOption[0]},s.$isEmptyOptionSelected=function(){return s.hasEmptyOption&&n[0].options[n[0].selectedIndex]===s.emptyOption[0]},!(s.selectUnknownOrEmptyOption=function(e){null==e&&s.emptyOption?(s.removeUnknownOption(),s.selectEmptyOption()):s.unknownOption.parent().length?s.updateUnknownOption(e):s.renderUnknownOption(e)}));function l(){e||(e=!0,t.$$postDigest(function(){e=!1,s.ngModelCtrl.$render()}))}var i=!1;function c(e){i||(i=!0,t.$$postDigest(function(){t.$$destroyed||(i=!1,s.ngModelCtrl.$setViewValue(s.readValue()),e&&s.ngModelCtrl.$render())}))}s.registerOption=function(e,r,i,t,n){var o,a;i.$attr.ngValue?(a=NaN,i.$observe("value",function(e){var t,n=r.prop("selected");ye(a)&&(s.removeOption(o),delete s.selectValueMap[a],t=!0),a=qt(e),o=e,s.selectValueMap[a]=e,s.addOption(e,r),r.attr("value",a),t&&n&&c()})):t?i.$observe("value",function(e){s.readValue();var t,n=r.prop("selected");ye(o)&&(s.removeOption(o),t=!0),o=e,s.addOption(e,r),t&&n&&c()}):n?e.$watch(n,function(e,t){i.$set("value",e);var n=r.prop("selected");t!==e&&s.removeOption(t),s.addOption(e,r),t&&n&&c()}):s.addOption(i.value,r),i.$observe("disabled",function(e){("true"===e||e&&r.prop("selected"))&&(s.multiple?c(!0):(s.ngModelCtrl.$setViewValue(null),s.ngModelCtrl.$render()))}),r.on("$destroy",function(){var e=s.readValue(),t=i.value;s.removeOption(t),l(),(s.multiple&&e&&-1!==e.indexOf(t)||e===t)&&c(!0)})}}],Ta=["$interpolate",function(n){return{restrict:"E",priority:100,compile:function(e,t){var o,a;return ye(t.ngValue)||(ye(t.value)?o=n(t.value,!0):(a=n(e.text(),!0))||t.$set("value",e.text())),function(e,t,n){var r="$selectController",i=t.parent(),i=i.data(r)||i.parent().data(r);i&&i.registerOption(e,t,n,o,a)}}}}];w.angular.bootstrap?w.console&&console.log("WARNING: Tried to load angular more than once."):(We||(A=Q(),(i=be(A)?w.jQuery:A?w[A]:void 0)&&i.fn.on?(ge((pe=i).fn,{scope:Nt.scope,isolateScope:Nt.isolateScope,controller:Nt.controller,injector:Nt.injector,inheritedData:Nt.inheritedData}),Ca=i.cleanData,i.cleanData=function(e){for(var t,n,r=0;null!=(n=e[r]);r++)(t=i._data(n,"events"))&&t.$destroy&&i(n).triggerHandler("$destroy");Ca(e)}):pe=s,y.element=pe,We=!0),ge(y,{errorHandlingConfig:n,bootstrap:Fe,copy:X,extend:ge,merge:V,equals:Te,element:pe,forEach:me,injector:an,noop:ve,bind:Ve,toJson:te,fromJson:ne,identity:Pe,isUndefined:be,isDefined:ye,isString:_e,isFunction:xe,isObject:we,isNumber:_,isElement:G,isArray:ke,version:it,isDate:x,lowercase:T,uppercase:E,callbacks:{$$counter:0},getTestability:Be,reloadWithDebugInfo:ze,$$minErr:k,$$csp:J,$$encodeUriSegment:ce,$$encodeUriQuery:o,$$stringify:Je}),(m=nt(w))("ng",["ngLocale"],["$provide",function(e){e.provider({$$sanitizeUri:Kr}),e.provider("$compile",Cn).directive({a:ji,input:yo,textarea:yo,form:Ui,script:ga,select:ya,option:Ta,ngBind:_o,ngBindHtml:xo,ngBindTemplate:ko,ngClass:$o,ngClassEven:Ao,ngClassOdd:Eo,ngCloak:Oo,ngController:Mo,ngForm:Wi,ngHide:ca,ngIf:Ro,ngInclude:Io,ngInit:jo,ngNonBindable:ea,ngPluralize:ia,ngRepeat:oa,ngShow:la,ngStyle:ua,ngSwitch:da,ngSwitchWhen:ha,ngSwitchDefault:fa,ngOptions:ra,ngTransclude:ma,ngModel:Go,ngList:To,ngChange:Co,pattern:_a,ngPattern:_a,required:wa,ngRequired:wa,minlength:xa,ngMinlength:xa,maxlength:ka,ngMaxlength:ka,ngValue:bo,ngModelOptions:Jo}).directive({ngInclude:No}).directive(Li).directive(Po),e.provider({$anchorScroll:sn,$animate:bn,$animateCss:vn,$$animateJs:fn,$$animateQueue:pn,$$AnimateRunner:gn,$$animateAsyncRun:mn,$browser:wn,$cacheFactory:_n,$controller:Dn,$document:Rn,$$isDocumentHidden:In,$exceptionHandler:Nn,$filter:fi,$$forceReflow:jn,$interpolate:nr,$interval:rr,$http:Qn,$httpParamSerializer:Wn,$httpParamSerializerJQLike:qn,$httpBackend:er,$xhrFactory:Zn,$jsonpCallbacks:ir,$location:kr,$log:xr,$parse:zr,$rootScope:Gr,$q:Br,$$q:Hr,$sce:ti,$sceDelegate:ei,$sniffer:ni,$templateCache:kn,$templateRequest:ii,$$testability:oi,$timeout:ai,$window:ui,$$rAF:Yr,$$jqLite:Wt,$$Map:Xt,$$cookieReader:hi})}]).info({angularVersion:"1.6.5"}),y.module("ngLocale",[],["$provide",function(e){var o="one",a="other";e.value("$locale",{DATETIME_FORMATS:{AMPMS:["AM","PM"],DAY:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],ERANAMES:["Before Christ","Anno Domini"],ERAS:["BC","AD"],FIRSTDAYOFWEEK:6,MONTH:["January","February","March","April","May","June","July","August","September","October","November","December"],SHORTDAY:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],SHORTMONTH:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],STANDALONEMONTH:["January","February","March","April","May","June","July","August","September","October","November","December"],WEEKENDRANGE:[5,6],fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",medium:"MMM d, y h:mm:ss a",mediumDate:"MMM d, y",mediumTime:"h:mm:ss a",short:"M/d/yy h:mm a",shortDate:"M/d/yy",shortTime:"h:mm a"},NUMBER_FORMATS:{CURRENCY_SYM:"$",DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{gSize:3,lgSize:3,maxFrac:3,minFrac:0,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""},{gSize:3,lgSize:3,maxFrac:2,minFrac:2,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""}]},id:"en-us",localeID:"en_US",pluralCat:function(e,t){var n,r,i=0|e;return e=e,void 0===(t=t)&&(t=Math.min((r=e,-1==(n=(r+="").indexOf("."))?0:r.length-n-1),3)),r=Math.pow(10,t),1==i&&0=={v:t,f:(e*r|0)%r}.v?o:a}})}]),pe(function(){fe(w.document,Fe)}))}(window),window.angular.$$csp().noInlineStyle||window.angular.element(document.head).prepend('<style type="text/css">@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide:not(.ng-hide-animate){display:none !important;}ng\\:form{display:block;}.ng-animate-shim{visibility:hidden;}.ng-anchor{position:absolute;}</style>'),!function(e,t){"use strict";"function"==typeof define&&define.amd?define(["angular"],t):t(e)}(window.angular||null,function(x){"use strict";function e(a){var e=t("afterCreated",{});return e=t("afterReloadData",e),e=t("datasetChanged",e),t("pagesChanged",e);function t(e,t){var n,r,i=e.charAt(0).toUpperCase()+e.substring(1),o={};return o["on"+i]=(n=e,function(i){var t,o=x.identity,e=a;return 2===arguments.length?x.isFunction(arguments[1].$new)?e=arguments[1]:o=arguments[1]:2<arguments.length&&(e=arguments[1],o=arguments[2]),x.isObject(o)&&(t=o,o=function(e){return e===t}),e.$on("ngTable:"+n,function(e,t){var n,r;t.isNullInstance||(n=arguments,r=2,n=Array.prototype.slice.call(n,null==r?1:r),r=[t].concat(n),o.apply(this,r)&&i.apply(this,r))})}),o["publish"+i]=(r=e,function(){var e=["ngTable:"+r].concat(Array.prototype.slice.call(arguments));a.$broadcast.apply(a,e)}),x.extend(t,o)}}function t(){var r,e={defaultBaseUrl:"ng-table/filters/",defaultExt:".html",aliasUrls:{}};function t(){r=e}function n(){var e,n={config:e,getTemplateUrl:function(e,t){x.isObject(e)&&(e=e.id);return-1===e.indexOf("/")?n.getUrlForAlias(e,t):e},getUrlForAlias:function(e){return r.aliasUrls[e]||r.defaultBaseUrl+e+r.defaultExt}};return Object.defineProperty(n,"config",{get:function(){return e=e||x.copy(r)},enumerable:!0}),n}this.$get=n,this.resetConfigs=t,this.setConfig=function(e){var t=x.extend({},r,e);t.aliasUrls=x.extend({},r.aliasUrls,e.aliasUrls),r=t},t(),n.$inject=[]}function n(){var n=this;function e(t){var a={applyFilter:!0,applySort:!0,applyPaging:!0};return e.applyPaging=c,e.getFilterFn=r,e.getOrderByFn=s,e;function r(e){e=e.settings().filterOptions;return x.isFunction(e.filterFn)?e.filterFn:t(e.filterFilterName||n.filterFilterName)}function s(){return t(n.sortingFilterName)}function l(e,t){var a,n;return t.hasFilter()?(a=t.filter(!0),n=Object.keys(a).reduce(function(e,t){var n,r,i,o;return n=e,r=a[t],t=(t=t).split("."),i=t[t.length-1],o=n,t.slice(0,t.length-1).forEach(function(e){o.hasOwnProperty(e)||(o[e]={}),o=o[e]}),o[i]=r,e=n},{}),r(t).call(t,e,n,t.settings().filterOptions.filterComparator)):e}function c(e,t){var n=e.slice((t.page()-1)*t.count(),t.page()*t.count());return t.total(e.length),n}function e(e,t){var n,r,i,o;return null==e?[]:(e=(n=x.extend({},a,t.settings().dataOptions)).applyFilter?l(e,t):e,o=n.applySort?(r=e,i=(i=t).orderBy(),o=s(),i.length?o(r,i):r):e,n.applyPaging?c(o,t):o)}}n.$get=e,n.filterFilterName="filter",n.sortingFilterName="orderBy",e.$inject=["$filter"]}function r(i){return{restrict:"A",require:"ngTable",link:function(t,e,n){var r=i(n.ngTableColumnsBinding).assign;r&&t.$watch("$columns",function(e){e=(e||[]).slice(0);r(t,e)})}}}function i(e,t){e.config=t,e.getFilterCellCss=function(e,t){return"horizontal"!==t?"s12":(t=Object.keys(e).length,"s"+parseInt(12/t,10))},e.getFilterPlaceholderValue=function(e){return x.isObject(e)?e.placeholder:""}}function o(){return{restrict:"E",replace:!0,templateUrl:"ng-table/filterRow.html",scope:!0,controller:"ngTableFilterRowController"}}function a(n){var r=[];function i(t){return n.$columns.filter(function(e){return e.groupable(n)===t})[0]}function e(e){return x.isFunction(e)?e.title:e.title(n)}function t(){var e=n.$columns.filter(function(e){return e.groupable(n)});return r.concat(e)}function o(){return n.$columns.filter(function(e){return e.show(n)})}function a(e){var t;s(e)?(t=n.params.hasGroup(n.$selGroup,"asc")?"desc":n.params.hasGroup(n.$selGroup,"desc")?"":"asc",n.params.group(n.$selGroup,t)):e.groupable?n.params.group(e.groupable(n)):n.params.group(e)}function s(e){return e.groupable?e.groupable(n)===n.$selGroup:e===n.$selGroup}function l(e){var t=i(n.$selGroup);t&&t.show.assign&&t.show.assign(n,!0),x.isFunction(e)?(r=[e],n.$selGroup=e,n.$selGroupTitle=e.title):(e=i(t=Object.keys(e||{})[0]))&&(n.$selGroupTitle=e.title(n),n.$selGroup=t,e.show.assign&&e.show.assign(n,!1))}function c(){return n.params.settings().groupOptions.isExpanded=!n.params.settings().groupOptions.isExpanded,n.params.reload()}n.getGroupables=t,n.getGroupTitle=e,n.getVisibleColumns=o,n.groupBy=a,n.isSelectedGroup=s,n.toggleDetail=c,n.$watch("params.group()",l,!0)}function s(){return{restrict:"E",replace:!0,templateUrl:"ng-table/groupRow.html",scope:!0,controller:"ngTableGroupRowController",controllerAs:"dctrl"}}function l(o){o.sortBy=function(e,t){var n,r,i,e=e.sortable&&e.sortable();e&&(n=o.params.settings().defaultSort,r="asc"===n?"desc":"asc",i=o.params.sorting()&&o.params.sorting()[e]&&o.params.sorting()[e]===n,(t=t.ctrlKey||t.metaKey?o.params.sorting():{})[e]=i?r:n,o.params.parameters({sorting:t}))}}function c(){return{restrict:"E",replace:!0,templateUrl:"ng-table/sorterRow.html",scope:!0,controller:"ngTableSorterRowController"}}function u(){return{restrict:"A",controller:d}}function d(t,e,n,r){var i={};function o(){!function(e){e=x.isFunction(e.data)?e.data():e.data;return r.when(e)}(i).then(function(e){e&&!function(e){for(var t,n=0;n<e.length;n++){var r=e[n];if(r&&""===r.id){t=!0;break}}return t}(e)&&e.unshift({id:"",title:""}),t.$selectData=e=e||[]})}i=e(n.ngTableSelectFilterDs)(t),t.$watch(function(){return i.data},o)}return x.module("ngTable",[]),x.module("ngTable").value("ngTableDefaults",{params:{},settings:{}}),x.module("ngTable").factory("ngTableEventsChannel",e),e.$inject=["$rootScope"],x.module("ngTable").provider("ngTableFilterConfig",t),t.$inject=[],x.module("ngTable").provider("ngTableDefaultGetData",n),n.$inject=[],x.module("ngTable").factory("ngTableColumn",[function(){return{buildColumn:function(r,n,i){var e,o=Object.create(r),t={class:a(""),filter:a(!1),groupable:a(!1),filterData:x.noop,headerTemplateURL:a(!1),headerTitle:a(""),sortable:a(!1),show:a(!0),title:a(""),titleAlt:a("")};for(e in t)void 0===o[e]&&(o[e]=t[e]),x.isFunction(o[e])||function(n){function e(){if(1!==arguments.length||s(arguments[0]))return r[n];e.assign(null,arguments[0])}e.assign=function(e,t){r[n]=t},o[n]=e}(e),!function(e){var t=o[e];o[e]=function(){var e;if(1!==arguments.length||s(arguments[0]))return e=Object.create(arguments[0]||n),x.extend(e,{$column:o,$columns:i}),t.call(r,e);t.assign(null,arguments[0])},t.assign&&(o[e].assign=t.assign)}(e);return o}};function a(e){function t(){if(1!==arguments.length||s(arguments[0]))return n;t.assign(null,arguments[0])}var n=e;return t.assign=function(e,t){n=t},t}function s(e){return null!=e&&x.isFunction(e.$new)}}]),x.module("ngTable").factory("NgTableParams",["$q","$log","$filter","ngTableDefaults","ngTableDefaultGetData","ngTableEventsChannel",function(v,b,e,y,w,_){function k(e){return!isNaN(parseFloat(e))&&isFinite(e)}return function(e,t){"boolean"==typeof e&&(this.isNullInstance=!0);function u(){g.debugMode&&b.debug&&b.debug.apply(b,arguments)}var r,i,n,o=this,a=!1,s=[],l={filterComparator:void 0,filterDelay:500,filterDelayThreshold:1e4,filterFilterName:void 0,filterFn:void 0,filterLayout:"stack"},c={getData:function(e){return w(e.settings().dataset,e)},getGroups:function(i){var o,e=i.group(),a=void 0;{var t;x.isFunction(e)?a=(o=e).sortDirection:(t=Object.keys(e)[0],a=e[t],o=function(e){return function e(t,n){"string"==typeof n&&(n=n.split("."));if(void 0===t)return;if(0===n.length)return t;if(null===t)return;return e(t[n[0]],n.slice(1))}(e,t)})}var s=i.settings(),n=s.dataOptions;return s.dataOptions={applyPaging:!1},v.when(s.getData(i)).then(function(e){var t,n={},r=(x.forEach(e,function(e){var t=o(e);n[t]=n[t]||{data:[],$hideRows:!s.groupOptions.isExpanded,value:t},n[t].data.push(e)}),[]);for(t in n)r.push(n[t]);return a&&(r=w.getOrderByFn()(r,d({value:a}))),w.applyPaging(r,i)}).finally(function(){s.dataOptions=n})}};function d(e){var t,n=[];for(t in e)n.push(("asc"===e[t]?"+":"-")+t);return n}function h(){var e={params:m};return x.isFunction(m.group)&&(e.groupSortDirection=m.group.sortDirection),e}function f(){var e=m.filter&&m.filter.$,t=r&&r.params.filter&&r.params.filter.$;return!x.equals(e,t)}function p(e){return(g.interceptors||[]).reduce(function(e,t){var n=t.response&&t.response.bind(t)||v.when,r=t.responseError&&t.responseError.bind(t)||v.reject;return e.then(function(e){return n(e,o)},function(e){return r(e,o)})},e)}this.data=[],this.parameters=function(e,t){if(t=t||!1,x.isDefined(e)){for(var n in e){var r=e[n];if(t&&0<=n.indexOf("[")){for(var i=n.split(/\[(.*)\]/).reverse(),o="",a=0,s=i.length;a<s;a++){var l,c=i[a];""!==c&&(l=r,(r={})[o=c]=k(l)?parseFloat(l):l)}"sorting"===o&&(m[o]={}),m[o]=x.extend(m[o]||{},r[o])}else m[n]="group"===n?function(e){var t=g.groupOptions&&g.groupOptions.defaultSort;{if(x.isFunction(e))null==e.sortDirection&&(e.sortDirection=t);else{var n;if(x.isString(e))return(n={})[e]=t,n;if(x.isObject(e))for(var r in e)null==e[r]&&(e[r]=t)}return e}}(e[n]):k(e[n])?parseFloat(e[n]):e[n]}return u("ngTable: set parameters",m),this}return m},this.settings=function(e){var t,n;return x.isDefined(e)?(e.filterOptions&&(e.filterOptions=x.extend({},g.filterOptions,e.filterOptions)),e.groupOptions&&(e.groupOptions=x.extend({},g.groupOptions,e.groupOptions)),x.isArray(e.dataset)&&(e.total=e.dataset.length),t=g.dataset,g=x.extend(g,e),x.isArray(e.dataset)&&g.filterOptions.filterDelay===l.filterDelay&&g.total<=g.filterOptions.filterDelayThreshold&&g.getData===c.getData&&(g.filterOptions.filterDelay=0),e.hasOwnProperty("dataset")&&e.dataset!=t&&(a&&this.page(1),a=!1,n=function(){_.publishDatasetChanged(o,e.dataset,t)},s?s.push(n):n()),u("ngTable: set settings",g),this):g},this.page=function(e){return x.isDefined(e)?this.parameters({page:e}):m.page},this.total=function(e){return x.isDefined(e)?this.settings({total:e}):g.total},this.count=function(e){return x.isDefined(e)?this.parameters({count:e,page:1}):m.count},this.filter=function(e){if(x.isDefined(e)&&x.isObject(e))return this.parameters({filter:e,page:1});if(!0!==e)return m.filter;for(var t=Object.keys(m.filter),n={},r=0;r<t.length;r++){var i=m.filter[t[r]];null!=i&&""!==i&&(n[t[r]]=i)}return n},this.group=function(e,t){var n,r;return x.isDefined(e)?(n={page:1},x.isFunction(e)&&x.isDefined(t)?(e.sortDirection=t,n.group=e):x.isDefined(e)&&x.isDefined(t)?((r={})[e]=t,n.group=r):n.group=e,this.parameters(n),this):m.group},this.sorting=function(e){var t;return 2==arguments.length?((t={})[e]=arguments[1],this.parameters({sorting:t}),this):x.isDefined(e)?this.parameters({sorting:e}):m.sorting},this.isSortBy=function(e,t){return void 0!==t?x.isDefined(m.sorting[e])&&m.sorting[e]==t:x.isDefined(m.sorting[e])},this.orderBy=function(){return d(m.sorting)},this.generatePagesArray=function(e,t,n,r){var i,o;if(arguments.length||(e=this.page(),t=this.total(),n=this.count()),o=[],1<(i=Math.ceil(t/n))){o.push({type:"prev",number:Math.max(1,e-1),active:1<e}),o.push({type:"first",number:1,active:1<e,current:1===e}),t=Math.round((g.paginationMaxBlocks-g.paginationMinBlocks)/2),a=Math.max(2,e-t);for(var a,s=Math.min(i-1,e+2*t-(e-a)),l=a=Math.max(2,a-(2*t-(s-a)));l<=s;)l===a&&2!==l||l===s&&l!==i-1?o.push({type:"more",active:!1}):o.push({type:"page",number:l,active:e!==l,current:e===l}),l++;o.push({type:"last",number:i,active:e!==i,current:e===i}),o.push({type:"next",number:Math.min(i,e+1),active:e<i})}return o},this.isDataReloadRequired=function(){return!a||!x.equals(h(),r)||f()},this.hasFilter=function(){return 0<Object.keys(this.filter(!0)).length},this.hasGroup=function(e,t){return null==e?x.isFunction(m.group)||0<Object.keys(m.group).length:x.isFunction(e)?null==t?m.group===e:m.group===e&&e.sortDirection===t:null==t?-1!==Object.keys(m.group).indexOf(e):m.group[e]===t},this.hasFilterChanges=function(){var e=r&&r.params.filter;return!x.equals(m.filter,e)||f()},this.url=function(n){var e,r=(n=n||!1)?[]:{};for(e in m)if(m.hasOwnProperty(e)){var t,i=m[e],o=encodeURIComponent(e);if("object"==typeof i)for(var a in i)l(i[a],e)&&(t=o+"["+encodeURIComponent(a)+"]",s(i[a],t));else!x.isFunction(i)&&l(i,e)&&s(i,o)}return r;function s(e,t){n?r.push(t+"="+encodeURIComponent(e)):r[t]=encodeURIComponent(e)}function l(e,t){return"group"===t||x.isDefined(e)&&""!==e}},this.reload=function(){var t=this,e=null,n=(g.$loading=!0,r=x.copy(h()),a=!0,e=t.hasGroup()?p(v.when(g.getGroups(t))):p(v.when(g.getData(t))),u("ngTable: reload data"),t.data);return e.then(function(e){return g.$loading=!1,i=null,t.data=e,_.publishAfterReloadData(t,e,n),t.reloadPages(),e}).catch(function(e){return i=r,v.reject(e)})},this.hasErrorState=function(){return!(!i||!x.equals(i,h()))},this.reloadPages=function(){var e=n,t=o.generatePagesArray(o.page(),o.total(),o.count());x.equals(e,t)||(n=t,_.publishPagesChanged(this,t,e))};var m={page:1,count:10,filter:{},sorting:{},group:{}},g=(x.extend(m,y.params),{$loading:!1,dataset:null,total:0,defaultSort:"desc",filterOptions:x.copy(l),groupOptions:x.copy({defaultSort:"asc",isExpanded:!0}),counts:[10,25,50,100],interceptors:[],paginationMaxBlocks:11,paginationMinBlocks:5,sortingIndicator:"span"});return this.settings(c),this.settings(y.settings),this.settings(t),this.parameters(e,!0),_.publishAfterCreated(this),x.forEach(s,function(e){e()}),s=null,this}}]),x.module("ngTable").controller("ngTableController",["$scope","NgTableParams","$timeout","$parse","$compile","$attrs","$element","ngTableColumn","ngTableEventsChannel",function(o,e,n,r,i,a,s,l,t){o.$filterRow={},o.$loading=!1,o.hasOwnProperty("params")||(o.params=new e(!0)),o.params.settings().$scope=o,c=0;var c,u=function(e,t){n.cancel(c),c=n(e,t)};function d(){if(o.$columns){for(var e=o.$columns,t=function(e){return e.show(o)&&e.filter(o)},n=!1,r=0;r<e.length;r++){var i=e[r];if(t(i)){n=!0;break}}return n}return!1}function h(e){return o.params===e}o.$watch("params",function(e,t){e!==t&&e&&e.reload()},!1),o.$watch("params.isDataReloadRequired()",function(e){var t,n;e&&!o.params.hasErrorState()&&(e=(t=(o.params.settings().$scope=o).params).settings().filterOptions,t.hasFilterChanges()?(n=function(){t.page(1),t.reload()},e.filterDelay?u(n,e.filterDelay):n()):t.reload())}),this.compileDirectiveTemplates=function(){var e,t,n;s.hasClass("ng-table")||(o.templates={header:a.templateHeader||"ng-table/header.html",pagination:a.templatePagination||"ng-table/pager.html"},s.addClass("ng-table"),e=null,t=!1,x.forEach(s.children(),function(e){"THEAD"===e.tagName&&(t=!0)}),t||(e=x.element(document.createElement("thead")).attr("ng-include","templates.header"),s.prepend(e)),n=x.element(document.createElement("div")).attr({"ng-table-pagination":"params","template-url":"templates.pagination"}),s.after(n),e&&i(e)(o),i(n)(o))},this.loadFilterData=function(e){x.forEach(e,function(t){var e,n=t.filterData(o);if(n)return x.isObject(n)&&(x.isObject(n.promise)||x.isFunction(n.then))?(e=x.isFunction(n.then)?n:n.promise,delete t.filterData,e.then(function(e){x.isArray(e)||x.isFunction(e)||x.isObject(e)||(e=[]),t.data=e})):t.data=n;delete t.filterData})},this.buildColumns=function(e){var t=[];return(e||[]).forEach(function(e){t.push(l.buildColumn(e,o,t))}),t},this.parseNgTableDynamicExpr=function(e){if(!e||-1<e.indexOf(" with "))return{tableParams:(e=e.split(/\s+with\s+/))[0],columns:e[1]};throw new Error("Parse error (expected example: ng-table-dynamic='tableParams with cols')")},this.setupBindingsToInternalScope=function(e){var t,n=r(e);o.$watch(n,function(e){x.isUndefined(e)||(o.paramsModel=n,o.params=e)},!1),a.showFilter?o.$parent.$watch(a.showFilter,function(e){o.show_filter=e}):o.$watch(d,function(e){o.show_filter=e}),a.disableFilter&&o.$parent.$watch(a.disableFilter,function(e){o.$filterRow.disabled=e}),o.$groupRow={},a.showGroup?(t=r(a.showGroup),o.$parent.$watch(t,function(e){o.$groupRow.show=e}),t.assign&&o.$watch("$groupRow.show",function(e){t.assign(o.$parent,e)})):o.$watch("params.hasGroup()",function(e){o.$groupRow.show=e})},t.onAfterReloadData(function(e,t){var n=(o.$columns||[]).filter(function(e){return e.show(o)});e.hasGroup()?(o.$groups=t||[],o.$groups.visibleColumnCount=n.length):(o.$data=t||[],o.$data.visibleColumnCount=n.length)},o,h),t.onPagesChanged(function(e,t){o.pages=t},o,h)}]),x.module("ngTable").directive("ngTable",["$q","$parse",function(e,s){return{restrict:"A",priority:1001,scope:!0,controller:"ngTableController",compile:function(e){var i,o=[],a=0,t=[];if(x.forEach(e.find("tr"),function(e){t.push(x.element(e))}),e=t.filter(function(e){return!e.hasClass("ng-table-group")})[0],i=t.filter(function(e){return e.hasClass("ng-table-group")})[0],e)return x.forEach(e.find("td"),function(e){var t,n,r=x.element(e);r.attr("ignore-cell")&&"true"===r.attr("ignore-cell")||(e=function(e){var r,i=t(e);if(i)return(e=function(e){return void 0!==r?r:s(i)(e)}).assign=function(e,t){var n=s(i);n.assign?n.assign(e.$parent,t):r=t},e},(n=(t=function(e){return r.attr("x-data-"+e)||r.attr("data-"+e)||r.attr(e)})("title-alt")||t("title"))&&r.attr("data-title-text","{{"+n+"}}"),o.push({id:a++,title:e("title"),titleAlt:e("title-alt"),headerTitle:e("header-title"),sortable:e("sortable"),class:e("header-class"),filter:e("filter"),groupable:e("groupable"),headerTemplateURL:e("header"),filterData:e("filter-data"),show:r.attr("ng-if")?e("ng-if"):void 0}),(i||r.attr("ng-if"))&&(n="ng-if",e="$columns["+(o.length-1)+"].show(this)",r.attr("x-data-"+n)?r.attr("x-data-"+n,e):r.attr("data"+n)?r.attr("data"+n,e):r.attr(n,e)))}),function(e,t,n,r){e.$columns=o=r.buildColumns(o),r.setupBindingsToInternalScope(n.ngTable),r.loadFilterData(o),r.compileDirectiveTemplates()}}}}]),x.module("ngTable").directive("ngTableDynamic",[function(){return{restrict:"A",priority:1001,scope:!0,controller:"ngTableController",compile:function(e){var t;if(x.forEach(e.find("tr"),function(e){(e=x.element(e)).hasClass("ng-table-group")||t||(t=e)}),t)return x.forEach(t.find("td"),function(e){var t,e=x.element(e);t="title",e.attr("x-data-"+t)||e.attr("data-"+t)||e.attr(t)||e.attr("data-title-text","{{$columns[$index].titleAlt(this) || $columns[$index].title(this)}}"),e.attr("ng-if")||e.attr("ng-if","$columns[$index].show(this)")}),function(t,e,n,r){n=r.parseNgTableDynamicExpr(n.ngTableDynamic);r.setupBindingsToInternalScope(n.tableParams),r.compileDirectiveTemplates(),t.$watchCollection(n.columns,function(e){t.$columns=r.buildColumns(e),r.loadFilterData(t.$columns)})}}}}]),x.module("ngTable").directive("ngTableColumnsBinding",r),r.$inject=["$parse"],x.module("ngTable").directive("ngTablePagination",["$compile","ngTableEventsChannel",function(r,e){return{restrict:"A",scope:{params:"=ngTablePagination",templateUrl:"="},replace:!1,link:function(t,n){e.onAfterReloadData(function(e){t.pages=e.generatePagesArray()},t,function(e){return e===t.params}),t.$watch("templateUrl",function(e){x.isUndefined(e)||((e=x.element(document.createElement("div"))).attr({"ng-include":"templateUrl"}),n.append(e),r(e)(t))})}}}]),x.module("ngTable").controller("ngTableFilterRowController",i),i.$inject=["$scope","ngTableFilterConfig"],x.module("ngTable").directive("ngTableFilterRow",o),o.$inject=[],x.module("ngTable").controller("ngTableGroupRowController",a),a.$inject=["$scope"],x.module("ngTable").directive("ngTableGroupRow",s),s.$inject=[],x.module("ngTable").controller("ngTableSorterRowController",l),l.$inject=["$scope"],x.module("ngTable").directive("ngTableSorterRow",c),c.$inject=[],x.module("ngTable").directive("ngTableSelectFilterDs",u),u.$inject=[],d.$inject=["$scope","$parse","$attrs","$q"],x.module("ngTable").run(["$templateCache",function(e){e.put("ng-table/filterRow.html",'<tr ng-show="show_filter" class="ng-table-filters"> <th data-title-text="{{$column.titleAlt(this) || $column.title(this)}}" ng-repeat="$column in $columns" ng-if="$column.show(this)" class="filter {{$column.class(this)}}" ng-class="params.settings().filterOptions.filterLayout===\'horizontal\' ? \'filter-horizontal\' : \'\'"> <div ng-repeat="(name, filter) in $column.filter(this)" ng-include="config.getTemplateUrl(filter)" class="filter-cell" ng-class="[getFilterCellCss($column.filter(this), params.settings().filterOptions.filterLayout), $last ? \'last\' : \'\']"> </div> </th> </tr> '),e.put("ng-table/filters/number.html",'<input type="number" name="{{name}}" ng-disabled="$filterRow.disabled" ng-model="params.filter()[name]" class="input-filter form-control" placeholder="{{getFilterPlaceholderValue(filter, name)}}"/> '),e.put("ng-table/filters/select-multiple.html",'<select ng-options="data.id as data.title for data in $column.data" ng-disabled="$filterRow.disabled" multiple ng-multiple="true" ng-model="params.filter()[name]" class="filter filter-select-multiple form-control" name="{{name}}"> </select> '),e.put("ng-table/filters/select.html",'<select ng-options="data.id as data.title for data in $selectData" ng-table-select-filter-ds="$column" ng-disabled="$filterRow.disabled" ng-model="params.filter()[name]" class="filter filter-select form-control" name="{{name}}"> <option style="display:none" value=""></option> </select> '),e.put("ng-table/filters/text.html",'<input type="text" name="{{name}}" ng-disabled="$filterRow.disabled" ng-model="params.filter()[name]" class="input-filter form-control" placeholder="{{getFilterPlaceholderValue(filter, name)}}"/> '),e.put("ng-table/groupRow.html",'<tr ng-if="params.hasGroup()" ng-show="$groupRow.show" class="ng-table-group-header"> <th colspan="{{getVisibleColumns().length}}" class="sortable" ng-class="{ \'sort-asc\': params.hasGroup($selGroup, \'asc\'), \'sort-desc\':params.hasGroup($selGroup, \'desc\') }"> <a href="" ng-click="isSelectorOpen=!isSelectorOpen" class="ng-table-group-selector"> <strong class="sort-indicator">{{$selGroupTitle}}</strong> <button class="btn btn-default btn-xs ng-table-group-close" ng-click="$groupRow.show=false; $event.preventDefault(); $event.stopPropagation();"> <span class="glyphicon glyphicon-remove"></span> </button> <button class="btn btn-default btn-xs ng-table-group-toggle" ng-click="toggleDetail(); $event.preventDefault(); $event.stopPropagation();"> <span class="glyphicon" ng-class="{ \'glyphicon-resize-small\': params.settings().groupOptions.isExpanded, \'glyphicon-resize-full\': !params.settings().groupOptions.isExpanded }"></span> </button> </a> <div class="list-group" ng-if="isSelectorOpen"> <a href="" class="list-group-item" ng-repeat="group in getGroupables()" ng-click="groupBy(group)"> <strong>{{ getGroupTitle(group)}}</strong> <strong ng-class="isSelectedGroup(group) && \'sort-indicator\'"></strong> </a> </div> </th> </tr> '),e.put("ng-table/header.html","<ng-table-group-row></ng-table-group-row> <ng-table-sorter-row></ng-table-sorter-row> <ng-table-filter-row></ng-table-filter-row> "),e.put("ng-table/pager.html",'<div class="ng-cloak ng-table-pager" ng-if="params.data.length"> <div ng-if="params.settings().counts.length" class="ng-table-counts btn-group pull-right"> <button ng-repeat="count in params.settings().counts" type="button" ng-class="{\'active\':params.count()==count}" ng-click="params.count(count)" class="btn btn-default"> <span ng-bind="count"></span> </button> </div> <ul ng-if="pages.length" class="pagination ng-table-pagination"> <li ng-class="{\'disabled\': !page.active && !page.current, \'active\': page.current}" ng-repeat="page in pages" ng-switch="page.type"> <a ng-switch-when="prev" ng-click="params.page(page.number)" href="">&laquo;</a> <a ng-switch-when="first" ng-click="params.page(page.number)" href=""><span ng-bind="page.number"></span></a> <a ng-switch-when="page" ng-click="params.page(page.number)" href=""><span ng-bind="page.number"></span></a> <a ng-switch-when="more" ng-click="params.page(page.number)" href="">&#8230;</a> <a ng-switch-when="last" ng-click="params.page(page.number)" href=""><span ng-bind="page.number"></span></a> <a ng-switch-when="next" ng-click="params.page(page.number)" href="">&raquo;</a> </li> </ul> </div> '),e.put("ng-table/sorterRow.html",'<tr class="ng-table-sort-header"> <th title="{{$column.headerTitle(this)}}" ng-repeat="$column in $columns" ng-class="{ \'sortable\': $column.sortable(this), \'sort-asc\': params.sorting()[$column.sortable(this)]==\'asc\', \'sort-desc\': params.sorting()[$column.sortable(this)]==\'desc\' }" ng-click="sortBy($column, $event)" ng-if="$column.show(this)" ng-init="template=$column.headerTemplateURL(this)" class="header {{$column.class(this)}}"> <div ng-if="!template" class="ng-table-header" ng-class="{\'sort-indicator\': params.settings().sortingIndicator==\'div\'}"> <span ng-bind="$column.title(this)" ng-class="{\'sort-indicator\': params.settings().sortingIndicator==\'span\'}"></span> </div> <div ng-if="template" ng-include="template"></div> </th> </tr> ')}]),x.module("ngTable")}),!function(y,k){"use strict";var w,_,x,C,S,T,$,E,A,O,M=k.$$minErr("$sanitize");k.module("ngSanitize",[]).provider("$sanitize",function(){var t=!1,r=!1,n=(this.$get=["$$sanitizeUri",function(n){return t=!0,r&&_(u,l),function(e){var t=[];return A(e,O(t,function(e,t){return!/^unsafe:/.test(n(e,t))})),t.join("")}}],this.enableSvg=function(e){return S(e)?(r=e,this):r},this.addValidElements=function(e){return t||(C(e)&&(e={htmlElements:e}),m(l,e.svgElements),m(s,e.htmlVoidElements),m(u,e.htmlVoidElements),m(u,e.htmlElements)),this},this.addValidAttrs=function(e){return t||_(h,p(e,!0)),this},w=k.bind,_=k.extend,x=k.forEach,C=k.isArray,S=k.isDefined,T=k.$$lowercase,$=k.noop,A=function(e,t){null==e?e="":"string"!=typeof e&&(e=""+e);var n=g(e);if(!n)return"";var r=5;do{if(0===r)throw M("uinput","Failed to sanitize html because the input is unstable")}while(r--,e=n.innerHTML,n=g(e),e!==n.innerHTML);var i,o=n.firstChild;for(;o;){switch(o.nodeType){case 1:t.start(o.nodeName.toLowerCase(),function(e){for(var t={},n=0,r=e.length;n<r;n++){var i=e[n];t[i.name]=i.value}return t}(o.attributes));break;case 3:t.chars(o.textContent)}if(!((i=o.firstChild)||(1===o.nodeType&&t.end(o.nodeName.toLowerCase()),i=b("nextSibling",o))))for(;null==i&&(o=b("parentNode",o))!==n;)i=b("nextSibling",o),1===o.nodeType&&t.end(o.nodeName.toLowerCase());o=i}for(;o=n.firstChild;)n.removeChild(o)},O=function(e,o){var t=!1,a=w(e,e.push);return{start:function(i,e){i=T(i),(t=!t&&c[i]?i:t)||!0!==u[i]||(a("<"),a(i),x(e,function(e,t){var n=T(t),r="img"===i&&"src"===n||"background"===n;!0!==h[n]||!0===d[n]&&!o(e,r)||(a(" "),a(t),a('="'),a(v(e)),a('"'))}),a(">"))},end:function(e){e=T(e),t||!0!==u[e]||!0===s[e]||(a("</"),a(e),a(">")),e==t&&(t=!1)},chars:function(e){t||a(v(e))}}},E=y.Node.prototype.contains||function(e){return!!(16&this.compareDocumentPosition(e))},/[\uD800-\uDBFF][\uDC00-\uDFFF]/g),i=/([^#-~ |!])/g,s=f("area,br,col,hr,img,wbr"),e=f("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),o=f("rp,rt"),a=_({},o,e),e=_({},e,f("address,article,aside,blockquote,caption,center,del,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,map,menu,nav,ol,pre,section,table,ul")),o=_({},o,f("a,abbr,acronym,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,q,ruby,rp,rt,s,samp,small,span,strike,strong,sub,sup,time,tt,u,var")),l=f("circle,defs,desc,ellipse,font-face,font-face-name,font-face-src,g,glyph,hkern,image,linearGradient,line,marker,metadata,missing-glyph,mpath,path,polygon,polyline,radialGradient,rect,stop,svg,switch,text,title,tspan"),c=f("script,style"),u=_({},s,e,o,a),d=f("background,cite,href,longdesc,src,xlink:href,xml:base"),e=f("abbr,align,alt,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,coords,dir,face,headers,height,hreflang,hspace,ismap,lang,language,nohref,nowrap,rel,rev,rows,rowspan,rules,scope,scrolling,shape,size,span,start,summary,tabindex,target,title,type,valign,value,vspace,width"),o=f("accent-height,accumulate,additive,alphabetic,arabic-form,ascent,baseProfile,bbox,begin,by,calcMode,cap-height,class,color,color-rendering,content,cx,cy,d,dx,dy,descent,display,dur,end,fill,fill-rule,font-family,font-size,font-stretch,font-style,font-variant,font-weight,from,fx,fy,g1,g2,glyph-name,gradientUnits,hanging,height,horiz-adv-x,horiz-origin-x,ideographic,k,keyPoints,keySplines,keyTimes,lang,marker-end,marker-mid,marker-start,markerHeight,markerUnits,markerWidth,mathematical,max,min,offset,opacity,orient,origin,overline-position,overline-thickness,panose-1,path,pathLength,points,preserveAspectRatio,r,refX,refY,repeatCount,repeatDur,requiredExtensions,requiredFeatures,restart,rotate,rx,ry,slope,stemh,stemv,stop-color,stop-opacity,strikethrough-position,strikethrough-thickness,stroke,stroke-dasharray,stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,stroke-width,systemLanguage,target,text-anchor,to,transform,type,u1,u2,underline-position,underline-thickness,unicode,unicode-range,units-per-em,values,version,viewBox,visibility,width,widths,x,x-height,x1,x2,xlink:actuate,xlink:arcrole,xlink:role,xlink:show,xlink:title,xlink:type,xml:base,xml:lang,xml:space,xmlns,xmlns:xlink,y,y1,y2,zoomAndPan",!0),h=_({},d,o,e);function f(e,t){return p(e.split(","),t)}function p(e,t){for(var n={},r=0;r<e.length;r++)n[t?T(e[r]):e[r]]=!0;return n}function m(e,t){t&&t.length&&_(e,p(t))}var g=function(n,t){if(function(){try{return i("")}catch(e){}}())return i;var e,r;if(t&&t.implementation)return e=t.implementation.createHTMLDocument("inert"),r=(e.documentElement||e.getDocumentElement()).querySelector("body"),function(e){r.innerHTML=e,t.documentMode&&function e(t){for(;t;){if(t.nodeType===y.Node.ELEMENT_NODE)for(var n=t.attributes,r=0,i=n.length;r<i;r++){var o=n[r],a=o.name.toLowerCase();"xmlns:ns1"!==a&&0!==a.lastIndexOf("ns1:",0)||(t.removeAttributeNode(o),r--,i--)}var s=t.firstChild;s&&e(s),t=b("nextSibling",t)}}(r);return r};throw M("noinert","Can't create an inert html document");function i(e){e="<remove></remove>"+e;try{var t=(new n.DOMParser).parseFromString(e,"text/html").body;return t.firstChild.remove(),t}catch(e){}}}(y,y.document);function v(e){return e.replace(/&/g,"&amp;").replace(n,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(i,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function b(e,t){e=t[e];if(e&&E.call(t,e))throw M("elclob","Failed to sanitize html because the element is clobbered: {0}",t.outerHTML||t.outerText);return e}}).info({angularVersion:"1.8.3"}),k.module("ngSanitize").filter("linky",["$sanitize",function(p){var m=/((s?ftp|https?):\/\/|(www\.)|(mailto:)?[A-Za-z0-9._%+-]+@)\S*[^\s.;,(){}<>"\u201d\u2019]/i,g=/^mailto:/i,v=k.$$minErr("linky"),b=k.isDefined,y=k.isFunction,w=k.isObject,_=k.isString;return function(e,t,n){if(null==e||""===e)return e;if(!_(e))throw v("notstring","Expected string but received: {0}",e);for(var r,i,o,a=y(n)?n:w(n)?function(){return n}:function(){return{}},s=e,l=[];r=s.match(m);){i=r[0],r[2]||r[4]||(i=(r[3]?"http://":"mailto:")+i),o=r.index,f(s.substr(0,o)),h=c=d=u=void 0;var c,u=i,d=r[0].replace(g,""),h=a(u);for(c in l.push("<a "),h)l.push(c+'="'+h[c]+'" ');!b(t)||"target"in h||l.push('target="',t,'" '),l.push('href="',u.replace(/"/g,"&quot;"),'">'),f(d),l.push("</a>"),s=s.substring(o+r[0].length)}return f(s),p(l.join(""));function f(e){var t;e&&l.push((e=e,O(t=[],$).chars(e),t.join("")))}}}])}(window,window.angular),!function(u,e){"use strict";var Z,ee,j=1,te="-add",ne="-remove",ve="ng-",x="ng-animate",L="$$ngAnimateChildren",be=void 0===u.ontransitionend&&void 0!==u.onwebkittransitionend?(Z="WebkitTransition","webkitTransitionEnd transitionend"):(Z="transition","transitionend"),ye=void 0===u.onanimationend&&void 0!==u.onwebkitanimationend?(ee="WebkitAnimation","webkitAnimationEnd animationend"):(ee="animation","animationend"),r="Duration",we="TimingFunction",o="PlayState",n=ee+"Delay",re=ee+r,i=Z+"Delay",t=Z+r,a=e.$$minErr("ng");function f(e,t,n){if(!e)throw a("areq","Argument '{0}' is {1}",t||"?",n||"required")}function C(e,t){return e||t?e?t?(e=me(e)?e.join(" "):e)+" "+(t=me(t)?t.join(" "):t):e:t:""}function ie(e,n,r){var i="";return e=me(e)?e:e&&H(e)&&e.length?e.split(/\s+/):[],pe(e,function(e,t){e&&0<e.length&&(i=i+(0<t?" ":"")+(r?n+e:e+n))}),i}function Y(e){if(e instanceof W)switch(e.length){case 0:return e;case 1:if(e[0].nodeType===j)return e;break;default:return W(d(e))}if(e.nodeType===j)return W(e)}function d(e){if(!e[0])return e;for(var t=0;t<e.length;t++){var n=e[t];if(n.nodeType===j)return n}}function V(a){return function(e,t){var n,r,i,o;t.addClass&&(n=a,r=t.addClass,pe(e,function(e){n.addClass(e,r)}),t.addClass=null),t.removeClass&&(i=a,o=t.removeClass,pe(e,function(e){i.removeClass(e,o)}),t.removeClass=null)}}function oe(e){var t;return(e=e||{}).$$prepared||(t=e.domOperation||ge,e.domOperation=function(){e.$$domOperationFired=!0,t(),t=ge},e.$$prepared=!0),e}function ae(e,t){_e(e,t),ke(e,t)}function _e(e,t){t.from&&(e.css(t.from),t.from=null)}function ke(e,t){t.to&&(e.css(t.to),t.to=null)}function F(e,t,n){var i,r,o,a=t.options||{},n=n.options||{},s=(a.addClass||"")+" "+(n.addClass||""),l=(a.removeClass||"")+" "+(n.removeClass||""),l=(i=e.attr("class"),e=s,s=l,r={},i=c(i),e=c(e),pe(e,function(e,t){r[t]=1}),s=c(s),pe(s,function(e,t){r[t]=1===r[t]?null:-1}),o={addClass:"",removeClass:""},pe(r,function(e,t){var n,r;1===e?(n="addClass",r=!i[t]||i[t+ne]):-1===e&&(n="removeClass",r=i[t]||i[t+te]),r&&(o[n].length&&(o[n]+=" "),o[n]+=t)}),o);function c(e){H(e)&&(e=e.split(" "));var t={};return pe(e,function(e){e.length&&(t[e]=!0)}),t}n.preparationClasses&&(a.preparationClasses=z(n.preparationClasses,a.preparationClasses),delete n.preparationClasses);e=a.domOperation!==ge?a.domOperation:null;return p(a,n),e&&(a.domOperation=e),l.addClass?a.addClass=l.addClass:a.addClass=null,l.removeClass?a.removeClass=l.removeClass:a.removeClass=null,t.addClass=a.addClass,t.removeClass=a.removeClass,a}function se(e){return e instanceof W?e[0]:e}function le(e,t){t=t?"-"+t+"s":"";ue(e,[i,t])}function ce(e,t){var t=t?"paused":"",n=ee+o;return ue(e,[n,t]),[n,t]}function ue(e,t){var n=t[0],t=t[1];e.style[n]=t}function z(e,t){return e?t?e+" "+t:e:t}var s=["$interpolate",function(o){return{link:function(e,t,n){var r=n.ngAnimateChildren;function i(e){t.data(L,e="on"===e||"true"===e)}H(r)&&0===r.length?t.data(L,!0):(i(o(r)(e)),n.$observe("ngAnimateChildren",i))}}}],de="$$animateCss",l={transitionDuration:t,transitionDelay:i,transitionProperty:Z+"Property",animationDuration:re,animationDelay:n,animationIterationCount:ee+"IterationCount"},xe={transitionDuration:t,transitionDelay:i,animationDuration:re,animationDelay:n};function he(e,t){return[t?n:i,e+"s"]}function Ce(e,t,n){var i=Object.create(null),o=e.getComputedStyle(t)||{};return pe(n,function(e,t){var n,r,e=o[e];e&&(("-"===(n=e.charAt(0))||"+"===n||0<=n)&&(r=0,n=(n=e).split(/\s*,\s*/),pe(n,function(e){"s"===e.charAt(e.length-1)&&(e=e.substring(0,e.length-1)),e=parseFloat(e)||0,r=r?Math.max(e,r):e}),e=r),0===e&&(e=null),i[t]=e)}),i}function fe(e){return 0===e||null!=e}function Se(e,t){var n=Z,e=e+"s";return t?n+=r:e+=" linear all",[n,e]}function c(){var n=Object.create(null);return{flush:function(){n=Object.create(null)},count:function(e){e=n[e];return e?e.total:0},get:function(e){e=n[e];return e&&e.value},put:function(e,t){n[e]?n[e].total++:n[e]={total:1,value:t}}}}function Te(t,n,e){pe(e,function(e){t[e]=G(t[e])?t[e]:n.style.getPropertyValue(e)})}var $e,p,pe,me,G,h,w,B,H,U,W,ge,t=["$animateProvider",function(e){var J=c(),Q=c();this.$get=["$window","$$jqLite","$$AnimateRunner","$timeout","$$forceReflow","$sniffer","$$rAFScheduler","$$animateQueue",function(z,B,H,U,n,W,t,q){var Y=V(B),i=0;function G(e,t){var n="$$ngAnimateParentKey",r=e.parentNode;return(r[n]||(r[n]=++i))+"-"+e.getAttribute("class")+"-"+t}var r=[];function K(e){r.push(e),t.waitUntilQuiet(function(){J.flush(),Q.flush();for(var e=n(),t=0;t<r.length;t++)r[t](e);r.length=0})}function X(e,t,n){e=e,n=n,i=l,(r=J.get(n))||"infinite"===(r=Ce(z,e,i)).animationIterationCount&&(r.animationIterationCount=1),J.put(n,r);var r,e=r,i=e.animationDelay,n=e.transitionDelay;return e.maxDelay=i&&n?Math.max(i,n):i||n,e.maxDuration=Math.max(e.animationDuration*e.animationIterationCount,e.transitionDuration),e}return function(a,e){var s=e||{},l=(s.$$prepared||(s=oe($e(s))),{}),c=se(a);if(!c||!c.parentNode||!q.enabled())return I();var u,r,i,n,d,h,f,p,m=[],e=a.attr("class"),t=(_={},(t=s)&&(t.to||t.from)&&(_.to=t.to,_.from=t.from),_),g=[];if(0===s.duration||!W.animations&&!W.transitions)return I();var v,b,o,y,w,_=s.event&&me(s.event)?s.event.join(" "):s.event,k="",x="",C=(_&&s.structural?k=ie(_,ve,!0):_&&(k=_),s.addClass&&(x+=ie(s.addClass,te)),s.removeClass&&(x.length&&(x+=" "),x+=ie(s.removeClass,ne)),s.applyClassesEarly&&x.length&&Y(a,s),[k,x].join(" ").trim()),S=e+" "+C,N=ie(C,"-active"),_=t.to&&0<Object.keys(t.to).length;if(!(0<(s.keyframeStyle||"").length)&&!_&&!C)return I();b=0<s.stagger?{transitionDelay:k=parseFloat(s.stagger),animationDelay:k,transitionDuration:0,animationDuration:0}:(v=G(c,S),e=c,t=C,k=v,y=xe,0<J.count(k)&&((o=Q.get(k))||(t=ie(t,"-stagger"),B.addClass(e,t),(o=Ce(z,e,y)).animationDuration=Math.max(o.animationDuration,0),o.transitionDuration=Math.max(o.transitionDuration,0),B.removeClass(e,t),Q.put(k,o))),o||{}),s.$$skipPreparationClasses||B.addClass(a,C),s.transitionStyle&&(y=[Z,s.transitionStyle],ue(c,y),m.push(y)),0<=s.duration&&(w=0<c.style[Z].length,e=Se(s.duration,w),ue(c,e),m.push(e)),s.keyframeStyle&&(t=[ee,s.keyframeStyle],ue(c,t),m.push(t));var T,$=b?0<=s.staggerIndex?s.staggerIndex:J.count(v):0,k=0===$,E=(k&&!s.skipBlocking&&le(c,9999),X(c,0,v)),A=E.maxDelay,O=Math.max(A,0),M=E.maxDuration,P={};return P.hasTransitions=0<E.transitionDuration,P.hasAnimations=0<E.animationDuration,P.hasTransitionAll=P.hasTransitions&&"all"===E.transitionProperty,P.applyTransitionDuration=_&&(P.hasTransitions&&!P.hasTransitionAll||P.hasAnimations&&!P.hasTransitions),P.applyAnimationDuration=s.duration&&P.hasAnimations,P.applyTransitionDelay=fe(s.delay)&&(P.applyTransitionDuration||P.hasTransitions),P.applyAnimationDelay=fe(s.delay)&&P.hasAnimations,P.recalculateTimingStyles=0<x.length,(P.applyTransitionDuration||P.applyAnimationDuration)&&(M=s.duration?parseFloat(s.duration):M,P.applyTransitionDuration&&(P.hasTransitions=!0,E.transitionDuration=M,w=0<c.style[Z+"Property"].length,m.push(Se(M,w))),P.applyAnimationDuration&&(P.hasAnimations=!0,E.animationDuration=M,m.push([re,M+"s"]))),0!==M||P.recalculateTimingStyles?(null!=s.delay&&("boolean"!=typeof s.delay&&(T=parseFloat(s.delay),O=Math.max(T,0)),P.applyTransitionDelay&&m.push(he(T)),P.applyAnimationDelay&&m.push(he(T,!0))),null==s.duration&&0<E.transitionDuration&&(P.recalculateTimingStyles=P.recalculateTimingStyles||k),h=1e3*O,f=1e3*M,s.skipBlocking||(P.blockTransition=0<E.transitionDuration,P.blockKeyframeAnimation=0<E.animationDuration&&0<b.animationDelay&&0===b.animationDuration),s.from&&(s.cleanupStyles&&Te(l,c,Object.keys(s.from)),_e(a,s)),P.blockTransition||P.blockKeyframeAnimation?L(M):s.skipBlocking||le(c,!1),{$$willAnimate:!0,end:D,start:function(){if(!u)return n=new H(d={end:D,cancel:j,resume:null,pause:null}),K(F),n}}):I();function D(){R()}function j(){R(!0)}function R(e){var t;u||i&&r||(r=!(u=!0),s.$$skipPreparationClasses||B.removeClass(a,C),B.removeClass(a,N),ce(c,!1),le(c,!1),pe(m,function(e){c.style[e[0]]=""}),Y(a,s),ae(a,s),Object.keys(l).length&&pe(l,function(e,t){e?c.style.setProperty(t,e):c.style.removeProperty(t)}),s.onDone&&s.onDone(),g&&g.length&&a.off(g.join(" "),V),(t=a.data(de))&&(U.cancel(t[0].timer),a.removeData(de)),n&&n.complete(!e))}function L(e){P.blockTransition&&le(c,e),P.blockKeyframeAnimation&&ce(c,!!e)}function I(){return n=new H({end:D,cancel:j}),K(ge),R(),{$$willAnimate:!1,start:function(){return n},end:D}}function V(e){e.stopPropagation();var e=e.originalEvent||e,t=e.$manualTimeStamp||Date.now(),e=parseFloat(e.elapsedTime.toFixed(3));Math.max(t-p,0)>=h&&M<=e&&(i=!0,R())}function F(){var e,t;function n(){if(!u){if(L(!1),pe(m,function(e){var t=e[0],e=e[1];c.style[t]=e}),Y(a,s),B.addClass(a,N),P.recalculateTimingStyles){if(S=c.getAttribute("class")+" "+C,v=G(c,S),E=X(c,0,v),A=E.maxDelay,O=Math.max(A,0),0===(M=E.maxDuration))return void R();P.hasTransitions=0<E.transitionDuration,P.hasAnimations=0<E.animationDuration}P.applyAnimationDelay&&(A="boolean"!=typeof s.delay&&fe(s.delay)?parseFloat(s.delay):A,O=Math.max(A,0),E.animationDelay=A,T=he(A,!0),m.push(T),c.style[T[0]]=T[1]),h=1e3*O,f=1e3*M,s.easing&&(n=s.easing,P.hasTransitions&&(t=Z+we,m.push([t,n]),c.style[t]=n),P.hasAnimations&&(t=ee+we,m.push([t,n]),c.style[t]=n)),E.transitionDuration&&g.push(be),E.animationDuration&&g.push(ye),p=Date.now();var e,t=h+1.5*f,n=p+t,r=a.data(de)||[],i=!0;r.length&&((i=n>(e=r[0]).expectedEndTime)?U.cancel(e.timer):r.push(R)),i&&(e=U(o,t,!1),r[0]={timer:e,expectedEndTime:n},r.push(R),a.data(de,r)),g.length&&a.on(g.join(" "),V),s.to&&(s.cleanupStyles&&Te(l,c,Object.keys(s.to)),ke(a,s))}}function o(){var e=a.data(de);if(e){for(var t=1;t<e.length;t++)e[t]();a.removeData(de)}}u||(c.parentNode?(e=function(e){var t,n;i?r&&e&&(r=!1,R()):(r=!e,E.animationDuration&&(e=ce(c,r),r?m.push(e):(e=e,n=(t=m).indexOf(e),0<=e&&t.splice(n,1))))},(t=0<$&&(E.transitionDuration&&0===b.transitionDuration||E.animationDuration&&0===b.animationDuration)&&Math.max(b.animationDelay,b.transitionDelay))?U(n,Math.floor(t*$*1e3),!1):n(),d.resume=function(){e(!0)},d.pause=function(){e(!1)}):R())}}}]}],m=["$$animationProvider",function(e){e.drivers.push("$$animateCssDriver");var v="ng-animate-shim",b="ng-anchor-out";this.$get=["$animateCss","$rootScope","$$AnimateRunner","$rootElement","$sniffer","$$jqLite","$document",function(d,e,h,t,n,r,i){var f,p;return n.animations||n.transitions?(f=i[0].body,n=se(t),p=W((i=n).parentNode&&11===i.parentNode.nodeType||f.contains(n)?n:f),function(e){{var t,n,r,i,o,a;if(e.from&&e.to)return t=e.from,n=e.to,e.classes,r=e.anchors,i=s(t),o=s(n),a=[],pe(r,function(e){e=function(t,n){var r=W(se(t).cloneNode(!0)),i=m(l(r));t.addClass(v),n.addClass(v),r.addClass("ng-anchor"),p.append(r);var o,e=function(){var e=d(r,{addClass:b,delay:!0,from:s(t)});return e.$$willAnimate?e:null}();if(!e&&!(o=c()))return u();var a=e||o;return{start:function(){var e,t=a.start();return t.done(function(){if(t=null,!o&&(o=c()))return(t=o.start()).done(function(){t=null,u(),e.complete()}),t;u(),e.complete()}),e=new h({end:n,cancel:n});function n(){t&&t.end()}}};function s(e){var n={},r=se(e).getBoundingClientRect();return pe(["width","height","top","left"],function(e){var t=r[e];switch(e){case"top":t+=f.scrollTop;break;case"left":t+=f.scrollLeft}n[e]=Math.floor(t)+"px"}),n}function l(e){return e.attr("class")||""}function c(){var e=m(l(n)),t=g(e,i),e=g(i,e),t=d(r,{to:s(n),addClass:"ng-anchor-in "+t,removeClass:b+" "+e,delay:!0});return t.$$willAnimate?t:null}function u(){r.remove(),t.removeClass(v),n.removeClass(v)}}(e.out,e.in);e&&a.push(e)}),i||o||0!==a.length?{start:function(){var t=[],n=(i&&t.push(i.start()),o&&t.push(o.start()),pe(a,function(e){t.push(e.start())}),new h({end:e,cancel:e}));return h.all(t,function(e){n.complete(e)}),n;function e(){pe(t,function(e){e.end()})}}}:void 0}return s(e)}):ge;function m(e){return e.replace(/\bng-\S+\b/g,"")}function g(e,t){return H(e)&&(e=e.split(" ")),H(t)&&(t=t.split(" ")),e.filter(function(e){return-1===t.indexOf(e)}).join(" ")}function s(e){var t=e.element,n=e.options||{},e=(e.structural&&(n.event=e.event,n.structural=!0,n.applyClassesEarly=!0,"leave"===e.event&&(n.onDone=n.domOperation)),n.preparationClasses&&(n.event=z(n.event,n.preparationClasses)),d(t,n));return e.$$willAnimate?e:null}}]}],g=["$animateProvider",function(y){this.$get=["$injector","$$AnimateRunner","$$jqLite",function(g,v,e){var b=V(e);return function(e,t,n,r){var i,o,a,s,l,c=!1,u=(3===arguments.length&&B(n)&&(r=n,n=null),r=oe(r),n||(n=e.attr("class")||"",r.addClass&&(n+=" "+r.addClass),r.removeClass&&(n+=" "+r.removeClass)),r.addClass),d=r.removeClass,n=function(e){e=me(e)?e:e.split(" ");for(var t=[],n={},r=0;r<e.length;r++){var i=e[r],o=y.$$registeredAnimations[i];o&&!n[i]&&(t.push(g.get(o)),n[i]=!0)}return t}(n);if(n.length&&(s="leave"===t?(a="leave","afterLeave"):(a="before"+t.charAt(0).toUpperCase()+t.substr(1),t),"enter"!==t&&"move"!==t&&(i=m(e,t,r,n,a)),o=m(e,t,r,n,s)),i||o)return{$$willAnimate:!0,end:function(){return l?l.end():(f(),(l=new v).complete(!0)),l},start:function(){var t,e;return l||(l=new v,e=[],i&&e.push(function(e){t=i(e)}),e.length?e.push(function(e){h(),e(!0)}):h(),o&&e.push(function(e){t=o(e)}),l.setHost({end:function(){r()},cancel:function(){r(!0)}}),v.chain(e,n)),l;function n(e){f(),l.complete(e)}function r(e){c||((t||ge)(e),n(e))}}};function h(){r.domOperation(),b(e,r)}function f(){c=!0,h(),ae(e,r)}function p(a,s,l,e,t){var n=[];return pe(e,function(e){var o=e[t];o&&n.push(function(){function t(e){n||(n=!0,(i||ge)(e),r.complete(!e))}var n=!1,r=new v({end:function(){t()},cancel:function(){t(!0)}}),i=function(e,t,n,r,i){var o;switch(n){case"animate":o=[t,r.from,r.to,i];break;case"setClass":o=[t,u,d,i];break;case"addClass":o=[t,u,i];break;case"removeClass":o=[t,d,i];break;default:o=[t,i]}if(o.push(r),n=e.apply(e,o))if((n=w(n.start)?n.start():n)instanceof v)n.done(i);else if(w(n))return n;return ge}(o,a,s,l,function(e){t(!1===e)});return r})}),n}function m(e,t,n,r,i){var o,a,s=p(e,t,n,r,i);if(0===s.length&&("beforeSetClass"===i?(o=p(e,"removeClass",n,r,"beforeRemoveClass"),a=p(e,"addClass",n,r,"beforeAddClass")):"setClass"===i&&(o=p(e,"removeClass",n,r,"removeClass"),a=p(e,"addClass",n,r,"addClass")),o&&(s=s.concat(o)),a&&(s=s.concat(a))),0!==s.length)return function(e){var n=[];return s.length&&pe(s,function(e){n.push(e())}),n.length?v.all(n,e):e(),function(t){pe(n,function(e){t?e.cancel():e.end()})}}}}}]}],v=["$$animationProvider",function(e){e.drivers.push("$$animateJsDriver"),this.$get=["$$animateJs","$$AnimateRunner",function(i,o){return function(e){var r,i;return e.from&&e.to?(r=t(e.from),i=t(e.to),r||i?{start:function(){var e=[],t=(r&&e.push(r.start()),i&&e.push(i.start()),o.all(e,function(e){t.complete(e)}),new o({end:n(),cancel:n()}));return t;function n(){return function(){pe(e,function(e){e.end()})}}}}:void 0):t(e)};function t(e){var t=e.element,n=e.event,r=e.options,e=e.classes;return i(t,n,e,r)}}]}],q="data-ng-animate",K="$ngAnimatePin",b=["$animateProvider",function(c){var i=" ",r=this.rules={skip:[],cancel:[],join:[]};function o(e,t){var n,r;if(e&&t)return n=(t=t)?(t=t.split(i),r=Object.create(null),pe(t,function(e){r[e]=!0}),r):null,e.split(i).some(function(e){return n[e]})}function I(e,t,n){return r[e].some(function(e){return e(t,n)})}function N(e,t){var n=0<(e.addClass||"").length,e=0<(e.removeClass||"").length;return t?n&&e:n||e}r.join.push(function(e,t){return!e.structural&&N(e)}),r.skip.push(function(e,t){return!e.structural&&!N(e)}),r.skip.push(function(e,t){return"leave"===t.event&&e.structural}),r.skip.push(function(e,t){return t.structural&&2===t.state&&!e.structural}),r.cancel.push(function(e,t){return t.structural&&e.structural}),r.cancel.push(function(e,t){return 2===t.state&&e.structural}),r.cancel.push(function(e,t){var n,r;return!t.structural&&(n=e.addClass,e=e.removeClass,r=t.addClass,t=t.removeClass,!(U(n)&&U(e)||U(r)&&U(t))&&(o(n,t)||o(e,r)))}),this.$get=["$$rAF","$rootScope","$rootElement","$document","$$Map","$$animation","$$AnimateRunner","$templateRequest","$$jqLite","$$forceReflow","$$isDocumentHidden",function(g,v,b,y,e,w,_,t,n,r,k){var x=new e,C=new e,S=null;function i(){return!0}var o=v.$watch(function(){return 0===t.totalPendingRequests},function(e){e&&(o(),v.$$postDigest(function(){v.$$postDigest(function(){null===S&&(S=!0)})}))}),T=Object.create(null),e=c.customFilter(),a=c.classNameFilter(),$=e||i,E=a?function(e,t){e=[e.getAttribute("class"),t.addClass,t.removeClass].join(" ");return a.test(e)}:i,A=V(n);function O(e,t){F(e,t,{})}var M=u.Node.prototype.contains||function(e){return this===e||!!(16&this.compareDocumentPosition(e))};function s(e,t,n){var r=d(t);return e.filter(function(e){return!(e.node===r&&(!n||e.callback===n))})}function P(e,t){"close"!==e||t.parentNode||l.off(t)}var l={on:function(e,t,n){var r=d(t);T[e]=T[e]||[],T[e].push({node:r,callback:n}),W(t).on("$destroy",function(){x.get(r)||l.off(e,t,n)})},off:function(e,t,n){if(1!==arguments.length||H(e)){var r=T[e];r&&(T[e]=1===arguments.length?null:s(r,t,n))}else for(var i in t=e,T)T[i]=s(T[i],t)},pin:function(e,t){f(h(e),"element","not an element"),f(h(t),"parentElement","not an element"),e.data(K,t)},push:function(e,t,n,r){(n=n||{}).domOperation=r;var i=e,o=t,a=$e(r=n),c=Y(i),u=se(c),d=u&&u.parentNode,s=(a=oe(a),new _),h=function(){var t=!1;return function(e){t?e():v.$$postDigest(function(){t=!0,e()})}}();if(me(a.addClass)&&(a.addClass=a.addClass.join(" ")),a.addClass&&!H(a.addClass)&&(a.addClass=null),me(a.removeClass)&&(a.removeClass=a.removeClass.join(" ")),a.removeClass&&!H(a.removeClass)&&(a.removeClass=null),a.from&&!B(a.from)&&(a.from=null),a.to&&!B(a.to)&&(a.to=null),S&&u&&$(u,o,r)&&E(u,a)){var l=0<=["enter","move","leave"].indexOf(o),r=k(),e=r||C.get(u),t=!e&&x.get(u)||{},n=!!t.state;if(e=e||n&&1===t.state?e:!function(e,t){var n,r=y[0].body,i=se(b),o=e===r||"HTML"===e.nodeName,a=e===i,s=!1,l=C.get(e),c=W.data(e,K);c&&(t=se(c));for(;t&&(a=a||t===i,t.nodeType===j);){var u=x.get(t)||{};if(!s){var d=C.get(t);if(!0===d&&!1!==l){l=!0;break}!1===d&&(l=!1),s=u.structural}if(!U(n)&&!0!==n||(d=W.data(t,L),G(d)&&(n=d)),s&&!1===n)break;if((o=o||t===r)&&a)break;t=!a&&(c=W.data(t,K))?se(c):t.parentNode}return(!s||n)&&!0!==l&&a&&o}(u,d))r&&p(s,o,"start"),m(),r&&p(s,o,"close");else{l&&!function(e){e=e.querySelectorAll("["+q+"]");pe(e,function(e){var t=parseInt(e.getAttribute(q),10),n=x.get(e);if(n)switch(t){case 2:n.runner.end();case 1:x.delete(e)}})}(u);e={structural:l,element:c,event:o,addClass:a.addClass,removeClass:a.removeClass,close:m,options:a,runner:s};if(n){if(I("skip",e,t))return 2===t.state?(m(),s):(F(c,t,e),t.runner);r=I("cancel",e,t);if(r)if(2===t.state)t.runner.end();else{if(!t.structural)return F(c,t,e),t.runner;t.close()}else if(I("join",e,t)){if(2!==t.state)return function(e,t,n){var r="";t&&(r=ie(t,ve,!0)),n.addClass&&(r=z(r,ie(n.addClass,te))),(r=n.removeClass?z(r,ie(n.removeClass,ne)):r).length&&(n.preparationClasses=r,e.addClass(r))}(c,l?o:null,a),o=e.event=t.event,a=F(c,t,e),t.runner;O(c,e)}}else O(c,e);var f,n=e.structural;(n=n||"animate"===e.event&&0<Object.keys(e.options.to||{}).length||N(e))?(f=(t.counter||0)+1,e.counter=f,R(u,1,e),v.$$postDigest(function(){c=Y(i);var e=!(t=x.get(u)),t=t||{},n=0<(c.parent()||[]).length&&("animate"===t.event||t.structural||N(t));e||t.counter!==f||!n?(e&&(A(c,a),ae(c,a)),(e||l&&t.event!==o)&&(a.domOperation(),s.end()),n||D(u)):(o=!t.structural&&N(t,!0)?"setClass":t.event,R(u,2),e=w(c,o,t.options),s.setHost(e),p(s,o,"start",{}),e.done(function(e){m(!e);e=x.get(u);e&&e.counter===f&&D(u),p(s,o,"close",{})}))})):(m(),D(u))}}else m();return s;function p(e,a,s,l){h(function(){t=d,n=u,i=[],(e=T[r=a])&&pe(e,function(e){(M.call(e.node,n)||"leave"===r&&M.call(e.node,t))&&i.push(e.callback)});var t,n,r,i,e,o=i;o.length?g(function(){pe(o,function(e){e(c,s,l)}),P(s,u)}):P(s,u)}),e.progress(a,s,l)}function m(e){var t,n;t=c,(n=a).preparationClasses&&(t.removeClass(n.preparationClasses),n.preparationClasses=null),n.activeClasses&&(t.removeClass(n.activeClasses),n.activeClasses=null),A(c,a),ae(c,a),a.domOperation(),s.complete(!e)}},enabled:function(e,t){var n,r=arguments.length;return 0===r?t=!!S:h(e)?(n=se(e),1===r?t=!C.get(n):C.set(n,!t)):t=S=!!e,t}};return l;function D(e){e.removeAttribute(q),x.delete(e)}function R(e,t,n){(n=n||{}).state=t,e.setAttribute(q,t);t=x.get(e),t=t?p(t,n):n;x.set(e,t)}}]}],y=["$animateProvider",function(e){var y="ng-animate-ref",w=this.drivers=[],_="$$animationRunner";function k(e){return e.data(_)}this.$get=["$$jqLite","$rootScope","$injector","$$AnimateRunner","$$Map","$$rAFScheduler",function(u,d,h,f,p,m){var g=[],v=V(u);function b(e){for(var o={children:[]},a=new p,t=0;t<e.length;t++){var n=e[t];a.set(n.domNode,e[t]={domNode:n.domNode,fn:n.fn,children:[]})}for(t=0;t<e.length;t++)!function e(t){if(t.processed)return t;t.processed=!0;var n=t.domNode;var r=n.parentNode;a.set(n,t);var i;for(;r;){if(i=a.get(r)){i.processed||(i=e(i));break}r=r.parentNode}(i||o).children.push(t);return t}(e[t]);var r,i=o,s=[],l=[];for(r=0;r<i.children.length;r++)l.push(i.children[r]);var c=l.length,u=0,d=[];for(r=0;r<l.length;r++){var h=l[r];c<=0&&(c=u,u=0,s.push(d),d=[]),d.push(h.fn),h.children.forEach(function(e){u++,l.push(e)}),c--}return d.length&&s.push(d),s}return function(t,n,r){r=oe(r);var e,i,o,a=0<=["enter","move","leave"].indexOf(n),s=new f({end:function(){c()},cancel:function(){c(!0)}});return w.length?(e=(t.data(_,s),C(t.attr("class"),C(r.addClass,r.removeClass))),(i=r.tempClasses)&&(e+=" "+i,r.tempClasses=null),a&&(o="ng-"+n+"-prepare",u.addClass(t,o)),g.push({element:t,classes:e,event:n,structural:a,options:r,beforeStart:function(){t.addClass(x),i&&u.addClass(t,i);o&&(u.removeClass(t,o),o=null)},close:c}),t.on("$destroy",l),1<g.length||d.$$postDigest(function(){var s,l,a,c,u,t=[],e=(pe(g,function(e){k(e.element)?t.push(e):e.close()}),g.length=0,l=[],a={},pe(s=t,function(e,n){var r,i,t=se(e.element),o=e.event,o=0<=["enter","move"].indexOf(o),t=e.structural?(t=(t=t).hasAttribute(y)?[t]:t.querySelectorAll("[ng-animate-ref]"),r=[],pe(t,function(e){var t=e.getAttribute(y);t&&t.length&&r.push(e)}),r):[];t.length?(i=o?"to":"from",pe(t,function(e){var t=e.getAttribute(y);a[t]=a[t]||{},a[t][i]={animationID:n,element:W(e)}})):l.push(e)}),c={},u={},pe(a,function(e,t){var n,r,i,o,a=e.from,e=e.to;a&&e?(n=s[a.animationID],r=s[e.animationID],i=a.animationID.toString(),u[i]||((o=u[i]={structural:!0,beforeStart:function(){n.beforeStart(),r.beforeStart()},close:function(){n.close(),r.close()},classes:function(e,t){e=e.split(" "),t=t.split(" ");for(var n=[],r=0;r<e.length;r++){var i=e[r];if("ng-"!==i.substring(0,3))for(var o=0;o<t.length;o++)if(i===t[o]){n.push(i);break}}return n.join(" ")}(n.classes,r.classes),from:n,to:r,anchors:[]}).classes.length?l.push(o):(l.push(n),l.push(r))),u[i].anchors.push({out:a.element,in:e.element})):(i=(o=(a||e).animationID).toString(),c[i]||(c[i]=!0,l.push(s[o])))}),l),n=[];pe(e,function(o){n.push({domNode:se((o.from||o).element),fn:function(){o.beforeStart();var e,t,n,r=o.close;function i(e){e=k(e);e&&e.setHost(n)}k(o.anchors?o.from.element||o.to.element:o.element)&&(e=function(e){for(var t=w.length-1;0<=t;t--){var n=w[t],n=h.get(n)(e);if(n)return n}}(o))&&(t=e.start),t?((e=t()).done(function(e){r(!e)}),n=e,(t=o).from&&t.to?(i(t.from.element),i(t.to.element)):i(t.element)):r()}})}),m(b(n))})):c(),s;function l(){var e=k(t);!e||"leave"===n&&r.$$domOperationFired||e.end()}function c(e){t.off("$destroy",l),t.removeData(_),v(t,r),ae(t,r),r.domOperation(),i&&u.removeClass(t,i),t.removeClass(x),s.complete(!e)}}}]}];e.module("ngAnimate",[],function(){ge=e.noop,$e=e.copy,p=e.extend,W=e.element,pe=e.forEach,me=e.isArray,H=e.isString,B=e.isObject,U=e.isUndefined,G=e.isDefined,w=e.isFunction,h=e.isElement}).info({angularVersion:"1.6.5"}).directive("ngAnimateSwap",["$animate","$rootScope",function(s,e){return{restrict:"A",transclude:"element",terminal:!0,priority:600,link:function(t,n,e,r,i){var o,a;t.$watchCollection(e.ngAnimateSwap||e.for,function(e){o&&s.leave(o),a&&(a.$destroy(),a=null),!e&&0!==e||(a=t.$new(),i(a,function(e){o=e,s.enter(e,null,n)}))})}}}]).directive("ngAnimateChildren",s).factory("$$rAFScheduler",["$$rAF",function(n){var r,i;function e(e){r=r.concat(e),o()}return r=e.queue=[],e.waitUntilQuiet=function(e){i&&i(),i=n(function(){i=null,e(),o()})},e;function o(){if(r.length){for(var e=r.shift(),t=0;t<e.length;t++)e[t]();i||n(function(){i||o()})}}}]).provider("$$animateQueue",b).provider("$$animation",y).provider("$animateCss",t).provider("$$animateCssDriver",m).provider("$$animateJs",g).provider("$$animateJsDriver",v)}(window,window.angular),!function(l){"use strict";var V=l.$$minErr("$resource"),s=/^(\.[a-zA-Z_$@][0-9a-zA-Z_$@]*)+$/;function F(e,t){if(null==(n=t)||""===n||"hasOwnProperty"===n||!s.test("."+n))throw V("badmember",'Dotted member path "@{0}" is invalid.',t);for(var n,r=t.split("."),i=0,o=r.length;i<o&&l.isDefined(e);i++){var a=r[i];e=null!==e?e[a]:void 0}return e}function z(e,n){for(var t in n=n||{},l.forEach(n,function(e,t){delete n[t]}),e)!e.hasOwnProperty(t)||"$"===t.charAt(0)&&"$"===t.charAt(1)||(n[t]=e[t])}l.module("ngResource",["ng"]).info({angularVersion:"1.6.5"}).provider("$resource",function(){var h=/^https?:\/\/\[[^\]]*][^/]*/,s=this;this.defaults={stripTrailingSlashes:!0,cancellable:!1,actions:{get:{method:"GET"},save:{method:"POST"},query:{method:"GET",isArray:!0},remove:{method:"DELETE"},delete:{method:"DELETE"}}},this.$get=["$http","$log","$q","$timeout",function(O,e,M,P){var D=l.noop,R=l.forEach,I=l.extend,N=l.copy,j=l.isArray,c=l.isDefined,L=l.isFunction,o=l.isNumber,u=l.$$encodeUriQuery,d=l.$$encodeUriSegment;function a(e,t){this.template=e,this.defaults=I({},s.defaults,t),this.urlParams={}}return a.prototype={setUrlParams:function(n,r,e){var i,o,a=this,s=e||a.template,t="",l=a.urlParams=Object.create(null);R(s.split(/\W/),function(e){if("hasOwnProperty"===e)throw V("badname","hasOwnProperty is not a valid parameter name.");!new RegExp("^\\d+$").test(e)&&e&&new RegExp("(^|[^\\\\]):"+e+"(\\W|$)").test(s)&&(l[e]={isQueryParamValue:new RegExp("\\?.*=:"+e+"(?:\\W|$)").test(s)})}),s=(s=s.replace(/\\:/g,":")).replace(h,function(e){return t=e,""}),r=r||{},R(a.urlParams,function(e,t){i=(r.hasOwnProperty(t)?r:a.defaults)[t],s=c(i)&&null!==i?(o=e.isQueryParamValue?u(i,!0):d(i),s.replace(new RegExp(":"+t+"(\\W|$)","g"),function(e,t){return o+t})):s.replace(new RegExp("(/?):"+t+"(\\W|$)","g"),function(e,t,n){return"/"===n.charAt(0)?n:t+n})}),s=(s=a.defaults.stripTrailingSlashes?s.replace(/\/+$/,"")||"/":s).replace(/\/\.(?=\w+($|\?))/,"."),n.url=t+s.replace(/\/(\\|%5C)\./,"/."),R(r,function(e,t){a.urlParams[t]||(n.params=n.params||{},n.params[t]=e)})}},function t(n,T,r,i){var $=new a(n,i);function E(e){return e.resource}function A(e){z(e||{},this)}return r=I({},s.defaults.actions,r),A.prototype.toJSON=function(){var e=I({},this);return delete e.$promise,delete e.$resolved,delete e.$cancelRequest,e},R(r,function(_,k){var x=!0===_.hasBody||!1!==_.hasBody&&/^(POST|PUT|PATCH)$/i.test(_.method),C=_.timeout,S=(c(_.cancellable)?_:$.defaults).cancellable;C&&!o(C)&&(e.debug("ngResource:\n  Only numeric values are allowed as `timeout`.\n  Promises are not supported in $resource, because the same value would be used for multiple requests. If you are looking for a way to cancel requests, you should use the `cancellable` option."),delete _.timeout,C=null),A[k]=function(e,t,n,r){var i,o,a,s={};switch(arguments.length){case 4:a=r,o=n;case 3:case 2:if(!L(t)){s=e,i=t,o=n;break}if(L(e)){o=e,a=t;break}o=t,a=n;case 1:L(e)?o=e:x?i=e:s=e;break;case 0:break;default:throw V("badargs","Expected up to 4 arguments [params, data, success, error], got {0} arguments",arguments.length)}var l,c,u,d,h,f=this instanceof A,p=f?i:_.isArray?[]:new A(i),m={},g=_.interceptor&&_.interceptor.response||E,v=_.interceptor&&_.interceptor.responseError||void 0,b=!!a,y=!!v,w=(R(_,function(e,t){switch(t){default:m[t]=N(e);break;case"params":case"isArray":case"interceptor":case"cancellable":}}),!f&&S&&(l=M.defer(),m.timeout=l.promise,C&&(c=P(l.resolve,C))),x&&(m.data=i),$.setUrlParams(m,I({},(u=i,d=_.params||{},h={},d=I({},T,d),R(d,function(e,t){L(e)&&(e=e(u)),h[t]=e&&e.charAt&&"@"===e.charAt(0)?F(u,e.substr(1)):e}),h),s),_.url),O(m).then(function(e){var t,n=e.data;if(n){if(j(n)!==!!_.isArray)throw V("badcfg","Error in resource configuration for action `{0}`. Expected response to contain an {1} but got an {2} (Request: {3} {4})",k,_.isArray?"array":"object",j(n)?"array":"object",m.method,m.url);_.isArray?(p.length=0,R(n,function(e){"object"==typeof e?p.push(new A(e)):p.push(e)})):(t=p.$promise,z(n,p),p.$promise=t)}return e.resource=p,e}));return w=(w=w.finally(function(){p.$resolved=!0,!f&&S&&(p.$cancelRequest=D,P.cancel(c),l=c=m.timeout=null)})).then(function(e){var t=g(e);return(o||D)(t,e.headers,e.status,e.statusText),t},b||y?function(e){return b&&!y&&w.catch(D),b&&a(e),y?v(e):M.reject(e)}:void 0),f?w:(p.$promise=w,p.$resolved=!1,S&&(p.$cancelRequest=function(e){w.catch(D),l.resolve(e)}),p)},A.prototype["$"+k]=function(e,t,n){return L(e)&&(n=t,t=e,e={}),(e=A[k].call(this,e,this,t,n)).$promise||e}}),A.bind=function(e){return e=I({},T,e),t(n,e,r,i)},A}}]})}((window,window.angular)),!function(e){"use strict";var y,h,s,r;function t(){return["$animate",function(d){return{restrict:"AE",transclude:"element",priority:1,terminal:!0,require:"^^ngMessages",link:function(e,r,t,i,n){function o(e){a=e?h(e)?e:e.split(/[\s,]+/):null,i.reRender()}var a,s,l,c=r[0],u=t.ngMessage||t.when,t=t.ngMessageExp||t.whenExp;t?(o(e.$eval(t)),e.$watchCollection(t,o)):o(u),i.register(c,l={test:function(e){var t=a;if(t)return h(t)?0<=t.indexOf(e):t.hasOwnProperty(e)},attach:function(){s||n(function(e,t){d.enter(e,null,r);var n=(s=e).$$attachId=i.getAttachId();s.on("$destroy",function(){s&&s.$$attachId===n&&(i.deregister(c),l.detach()),t.$destroy()})})},detach:function(){var e;s&&(e=s,s=null,d.leave(e))}})}}}]}e.module("ngMessages",[],function(){y=e.forEach,h=e.isArray,s=e.isString,r=e.element}).info({angularVersion:"1.6.5"}).directive("ngMessages",["$animate",function(m){var g="ng-inactive";return{require:"ngMessages",restrict:"AE",controller:["$element","$scope","$attrs",function(c,u,d){var h,f,p=this,o=0,e=0,a=(this.getAttachId=function(){return e++},this.messages={});function s(e,t){for(var n=t,r=[];n&&n!==e;){var i=n.$$ngMessageNode;if(i&&i.length)return a[i];n.childNodes.length&&-1===r.indexOf(n)?(r.push(n),n=n.childNodes[n.childNodes.length-1]):n.previousSibling?n=n.previousSibling:(n=n.parentNode,r.push(n))}}this.render=function(e){h=!1,f=e=e||{};for(var t=v(u,d.ngMessagesMultiple)||v(u,d.multiple),n=[],r={},i=p.head,o=!1,a=0;null!=i;){a++;var s=i.message,l=!1;o||y(e,function(e,t){l||!b(e)||!s.test(t)||r[t]||(r[t]=!0,l=!0,s.attach())}),l?o=!t:n.push(s),i=i.next}y(n,function(e){e.detach()}),n.length!==a?m.setClass(c,"ng-active",g):m.setClass(c,g,"ng-active")},u.$watchCollection(d.ngMessages||d.for,p.render),c.on("$destroy",function(){y(a,function(e){e.message.detach()})}),this.reRender=function(){h||(h=!0,u.$evalAsync(function(){h&&f&&p.render(f)}))},this.register=function(e,t){var n=o.toString(),t=(a[n]={message:t},c[0]),r=e,i=n;i=a[i],p.head?(t=s(t,r))?(i.next=t.next,t.next=i):(i.next=p.head,p.head=i):p.head=i,e.$$ngMessageNode=n,o++,p.reRender()},this.deregister=function(e){var t=e.$$ngMessageNode,n=(delete e.$$ngMessageNode,c[0]),r=t;r=a[r],(n=s(n,e))?n.next=r.next:p.head=r.next,delete a[t],p.reRender()}}]};function v(e,t){return s(t)&&0===t.length||b(e.$eval(t))}function b(e){return s(e)?e.length:!!e}}]).directive("ngMessagesInclude",["$templateRequest","$document","$compile",function(i,n,o){return{restrict:"AE",require:"^^ngMessages",link:function(t,n,e){var r=e.ngMessagesInclude||e.src;i(r).then(function(e){t.$$destroyed||(s(e)&&!e.trim()?a(n,r):o(e)(t,function(e){n.after(e),a(n,r)}))})}};function a(e,t){t=o.$$createComment?o.$$createComment("ngMessagesInclude",t):n[0].createComment(" ngMessagesInclude: "+t+" "),t=r(t);e.after(t),e.remove()}}]).directive("ngMessage",t()).directive("ngMessageExp",t())}((window,window.angular)),!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("angular")):"function"==typeof define&&define.amd?define(["exports","angular"],t):t(e["@uirouter/angularjs"]=e["@uirouter/angularjs"]||{},e.angular)}(this,function(g,N){"use strict";var j=angular,x=N&&N.module?N:j;function L(n){var e=[].slice.apply(arguments,[1]),r=n.length;return function e(t){return t.length>=r?n.apply(null,t):function(){return e(t.concat([].slice.apply(arguments)))}}(e)}function V(){var n=arguments,r=n.length-1;return function(){for(var e=r,t=n[r].apply(this,arguments);e--;)t=n[e].call(this,t);return t}}function F(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return V.apply(null,[].slice.call(arguments).reverse())}var v=function(t){return function(e){return e&&e[t]}},z=L(function(e,t,n){return n&&n[e]===t}),C=function(e){return F.apply(null,e.split(".").map(v))},B=function(n){return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return!n.apply(null,e)}};function H(n,r){return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return n.apply(null,e)&&r.apply(null,e)}}function U(n,r){return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return n.apply(null,e)||r.apply(null,e)}}function W(n){return function(e){return e.reduce(function(e,t){return e&&!!n(t)},!0)}}function q(n){return function(e){return e.reduce(function(e,t){return e||!!n(t)},!1)}}function Y(t){return function(e){return t===e}}var a=function(t){return function(e){return null!=e&&e.constructor===t||e instanceof t}},s=function(e){return function(){return e}};function G(t,n){return function(e){return e[t].apply(e,n)}}function K(n){return function(e){for(var t=0;t<n.length;t++)if(n[t][0](e))return n[t][1](e)}}J.prototype.matches=function(e){return this.regexp.test("."+e)},J.is=function(e){return!!/[!,*]+/.exec(e)},J.fromString=function(e){return J.is(e)?new J(e):null};var X=J;function J(e){this.text=e,this.glob=e.split(".");e=this.text.split(".").map(function(e){return"**"===e?"(?:|(?:\\.[^.]*)*)":"*"===e?"\\.[^.]*":"\\."+e}).join("");this.regexp=new RegExp("^"+e+"$")}Z.create=function(e){e=Z.isStateClass(e)?new e:e;var t=be(be(e,Z.prototype));return e.$$state=function(){return t},t.self=e,t.__stateObjectCache={nameGlob:X.fromString(t.name)},t},Z.prototype.is=function(e){return this===e||this.self===e||this.fqn()===e},Z.prototype.fqn=function(){var e;return this.parent&&this.parent instanceof this.constructor&&(e=this.parent.fqn())?e+"."+this.name:this.name},Z.prototype.root=function(){return this.parent&&this.parent.root()||this},Z.prototype.parameters=function(t){return((t=Ce(t,{inherit:!0,matchingKeys:null})).inherit&&this.parent&&this.parent.parameters()||[]).concat(Ne(this.params)).filter(function(e){return!t.matchingKeys||t.matchingKeys.hasOwnProperty(e.id)})},Z.prototype.parameter=function(e,t){return void 0===t&&(t={}),this.url&&this.url.parameter(e,t)||Me(Ne(this.params),z("id",e))||t.inherit&&this.parent&&this.parent.parameter(e)},Z.prototype.toString=function(){return this.fqn()},Z.isStateClass=function(e){return d(e)&&!0===e.__uiRouterState},Z.isState=function(e){return h(e.__stateObjectCache)};var Q=Z;function Z(e){return Z.create(e||{})}function ee(t){return function(e){return typeof e===t}}function te(e){return null===e}function ne(e){return"[object Date]"===ie.call(e)}function re(e){return"[object RegExp]"===ie.call(e)}var ie=Object.prototype.toString,oe=ee("undefined"),S=B(oe),ae=U(te,oe),d=ee("function"),se=ee("number"),b=ee("string"),h=function(e){return null!==e&&"object"==typeof e},y=Array.isArray,le=Q.isState;function ce(e){var t,n;return y(e)&&e.length?(t=e.slice(0,-1),n=e.slice(-1),!(t.filter(B(b)).length||n.filter(B(d)).length)):d(e)}function ue(e){return function(){throw new Error(e+"(): No coreservices implementation for UI-Router is loaded.")}}var de=H(h,F(v("then"),d)),u={$q:void 0,$injector:void 0},j=("undefined"==typeof window?{}:window).angular||{},he=j.fromJson||JSON.parse.bind(JSON),fe=j.toJson||JSON.stringify.bind(JSON),pe=j.copy||function(e,t){t&&Object.keys(t).forEach(function(e){return delete t[e]});t=t||{};return w(t,e)},me=j.forEach||function(t,n,e){if(y(t))return t.forEach(n,e);Object.keys(t).forEach(function(e){return n(t[e],e)})},w=Object.assign||Ye,ge=j.equals||Ge;function m(e){return e}function ve(){}function l(t,r,n,e,i){void 0===i&&(i=!1);function o(e){return t()[e].bind(n())}return(e=e||Object.keys(t())).reduce(function(e,t){var n;return e[t]=i?(n=t,function(){return r[n]=o(n),r[n].apply(null,arguments)}):o(t),e},r)}var be=function(e,t){return w(Object.create(e),t)},ye=L(we);function we(e,t){return-1!==e.indexOf(t)}var f=L(_e);function _e(e,t){t=e.indexOf(t);return 0<=t&&e.splice(t,1),e}j=L(ke);function ke(e,t){return e.push(t),t}function xe(t){return t.slice().forEach(function(e){"function"==typeof e&&e(),f(t,e)})}function Ce(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=t.concat({}).reverse(),r=w.apply(null,r);return w({},r,$e(e||{},Object.keys(r)))}function Se(e,t){return w(e,t)}function Te(e,t){var n,r=[];for(n in e.path){if(e.path[n]!==t.path[n])break;r.push(e.path[n])}return r}function $e(e,t){var n,r={};for(n in e)-1!==t.indexOf(n)&&(r[n]=e[n]);return r}function Ee(n,e){return Object.keys(n).filter(B(ye(e))).reduce(function(e,t){return e[t]=n[t],e},{})}function Ae(e,t){return _(e,v(t))}function Oe(e,n){var t=y(e),r=t?[]:{},i=t?function(e){return r.push(e)}:function(e,t){return r[t]=e};return me(e,function(e,t){n(e,t)&&i(e,t)}),r}function Me(e,n){var r;return me(e,function(e,t){r||n(e,t)&&(r=e)}),r}var Pe=_;function _(e,n){var r=y(e)?[]:{};return me(e,function(e,t){return r[t]=n(e,t)}),r}function De(e,t){return e&&t}function Re(e,t){return e||t}function Ie(e,t){return y(t)?e.concat(t.reduce(Ie,[])):je(e,t)}var Ne=function(t){return Object.keys(t).map(function(e){return t[e]})},p=function(e,t){return e.concat(t)};function je(e,t){return e.push(t),e}function Le(e,t){return ye(e,t)?e:je(e,t)}function Ve(e){return e.reduce(p,[])}function Fe(e){return e.reduce(Ie,[])}var ze=He,Be=He;function He(n,r){return void 0===r&&(r="assert failure"),function(e){var t=n(e);if(t)return t;throw new Error(d(r)?r(e):r)}}function Ue(t){return Object.keys(t).map(function(e){return[e,t[e]]})}function We(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(0===e.length)return[];for(var n=e.reduce(function(e,t){return Math.min(t.length,e)},9007199254740991),r=[],i=0;i<n;i++)switch(e.length){case 1:r.push([e[0][i]]);break;case 2:r.push([e[0][i],e[1][i]]);break;case 3:r.push([e[0][i],e[1][i],e[2][i]]);break;case 4:r.push([e[0][i],e[1][i],e[2][i],e[3][i]]);break;default:r.push(e.map(function(e){return e[i]}))}return r}function qe(e,t){var n,r;if(y(t)&&(n=t[0],r=t[1]),b(n))return e[n]=r,e;throw new Error("invalid parameters to applyPairs")}function k(e){return e.length&&e[e.length-1]||void 0}function Ye(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];if(n)for(var r=Object.keys(n),i=0;i<r.length;i++)e[r[i]]=n[r[i]]}return e}function Ge(e,t){if(e!==t){if(null===e||null===t)return!1;if(e==e||t==t){var n=typeof e;if(n!=typeof t||"object"!=n)return!1;var r,i=[e,t];if(W(y)(i))return n=t,(r=e).length===n.length&&We(r,n).reduce(function(e,t){return e&&Ge(t[0],t[1])},!0);if(W(ne)(i))return e.getTime()===t.getTime();if(W(re)(i))return e.toString()===t.toString();if(!W(d)(i)){if([d,y,ne,re].map(q).reduce(function(e,t){return e||!!t(i)},!1))return!1;var o,a={};for(o in e){if(!Ge(e[o],t[o]))return!1;a[o]=!0}for(o in t)if(!a[o])return!1}}}return!0}function Ke(n,r){return void 0===r&&(r=s(!0)),function(e,t){return r(e)&&r(t)?n(e)-n(t):0}}function Xe(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(n,r){return e.reduce(function(e,t){return e||t(n,r)},0)}}function Je(e){return e.catch(function(e){return 0})&&e}function Qe(e){return Je(u.$q.reject(e))}et.prototype.enqueue=function(e){var t=this._items;return t.push(e),this._limit&&t.length>this._limit&&t.shift(),e},et.prototype.dequeue=function(){if(this.size())return this._items.splice(0,1)[0]},et.prototype.clear=function(){var e=this._items;return this._items=[],e},et.prototype.size=function(){return this._items.length},et.prototype.remove=function(e){e=this._items.indexOf(e);return-1<e&&this._items.splice(e,1)[0]},et.prototype.peekTail=function(){return this._items[this._items.length-1]},et.prototype.peekHead=function(){if(this.size())return this._items[0]};var Ze=et;function et(e,t){void 0===t&&(t=null),this._items=e=void 0===e?[]:e,this._limit=t}(e=g.RejectType||(g.RejectType={}))[e.SUPERSEDED=2]="SUPERSEDED",e[e.ABORTED=3]="ABORTED",e[e.INVALID=4]="INVALID",e[e.IGNORED=5]="IGNORED",e[e.ERROR=6]="ERROR";var tt=0,T=(n.prototype.toString=function(){var e=(e=this.detail)&&e.toString!==Object.prototype.toString?e.toString():A(e);return"Transition Rejection($id: "+this.$id+" type: "+this.type+", message: "+this.message+", detail: "+e+")"},n.prototype.toPromise=function(){return w(Qe(this),{_transitionRejection:this})},n.isRejectionPromise=function(e){return e&&"function"==typeof e.then&&a(n)(e._transitionRejection)},n.superseded=function(e,t){e=new n(g.RejectType.SUPERSEDED,"The transition has been superseded by a different transition",e);return t&&t.redirected&&(e.redirected=!0),e},n.redirected=function(e){return n.superseded(e,{redirected:!0})},n.invalid=function(e){return new n(g.RejectType.INVALID,"This transition is invalid",e)},n.ignored=function(e){return new n(g.RejectType.IGNORED,"The transition was ignored",e)},n.aborted=function(e){return new n(g.RejectType.ABORTED,"The transition has been aborted",e)},n.errored=function(e){return new n(g.RejectType.ERROR,"The transition errored",e)},n.normalize=function(e){return a(n)(e)?e:n.errored(e)},n);function n(e,t,n){this.$id=tt++,this.type=e,this.message=t,this.detail=n}function nt(e){var t;return e?(t=e.creationContext?e.creationContext.name||"(root)":"(none)","[ui-view#"+e.id+" "+e.$type+":"+e.fqn+" ("+e.name+"@"+t+")]"):"ui-view (defunct)"}function rt(e){return se(e)?g.Category[e]:g.Category[g.Category[e]]}(e=g.Category||(g.Category={}))[e.RESOLVE=0]="RESOLVE",e[e.TRANSITION=1]="TRANSITION",e[e.HOOK=2]="HOOK",e[e.UIVIEW=3]="UIVIEW",e[e.VIEWCONFIG=4]="VIEWCONFIG";function it(e){return"Transition #"+ot(e)+"-"+at(e)}var ot=C("$id"),at=C("router.$id"),e=(t.prototype._set=function(t,e){var n=this;(e=e.length?e:Object.keys(g.Category).map(function(e){return parseInt(e,10)}).filter(function(e){return!isNaN(e)}).map(function(e){return g.Category[e]})).map(rt).forEach(function(e){return n._enabled[e]=t})},t.prototype.enable=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._set(!0,e)},t.prototype.disable=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._set(!1,e)},t.prototype.enabled=function(e){return!!this._enabled[rt(e)]},t.prototype.traceTransitionStart=function(e){this.enabled(g.Category.TRANSITION)&&console.log(it(e)+": Started  -> "+A(e))},t.prototype.traceTransitionIgnored=function(e){this.enabled(g.Category.TRANSITION)&&console.log(it(e)+": Ignored  <> "+A(e))},t.prototype.traceHookInvocation=function(e,t,n){var r;this.enabled(g.Category.HOOK)&&(r=C("traceData.hookType")(n)||"internal",n=C("traceData.context.state.name")(n)||C("traceData.context")(n)||"unknown",e=Bt(e.registeredHook.callback),console.log(it(t)+":   Hook -> "+r+" context: "+n+", "+Vt(200,e)))},t.prototype.traceHookResult=function(e,t,n){this.enabled(g.Category.HOOK)&&console.log(it(t)+":   <- Hook returned: "+Vt(200,A(e)))},t.prototype.traceResolvePath=function(e,t,n){this.enabled(g.Category.RESOLVE)&&console.log(it(n)+":         Resolving "+e+" ("+t+")")},t.prototype.traceResolvableResolved=function(e,t){this.enabled(g.Category.RESOLVE)&&console.log(it(t)+":               <- Resolved  "+e+" to: "+Vt(200,A(e.data)))},t.prototype.traceError=function(e,t){this.enabled(g.Category.TRANSITION)&&console.log(it(t)+": <- Rejected "+A(t)+", reason: "+e)},t.prototype.traceSuccess=function(e,t){this.enabled(g.Category.TRANSITION)&&console.log(it(t)+": <- Success  "+A(t)+", final state: "+e.name)},t.prototype.traceUIViewEvent=function(e,t,n){void 0===n&&(n=""),this.enabled(g.Category.UIVIEW)&&console.log("ui-view: "+Ft(30,e)+" "+nt(t)+n)},t.prototype.traceUIViewConfigUpdated=function(e,t){this.enabled(g.Category.UIVIEW)&&this.traceUIViewEvent("Updating",e," with ViewConfig from context='"+t+"'")},t.prototype.traceUIViewFill=function(e,t){this.enabled(g.Category.UIVIEW)&&this.traceUIViewEvent("Fill",e," with: "+Vt(200,t))},t.prototype.traceViewSync=function(e){this.enabled(g.Category.VIEWCONFIG)&&(e=e.map(function(e){var t=e[0],e=e[1];return{"ui-view fqn":t.$type+":"+t.fqn,"state: view name":e&&e.viewDecl.$context.name+": "+e.viewDecl.$name+" ("+e.viewDecl.$type+")"}}).sort(function(e,t){return e["ui-view fqn"].localeCompare(t["ui-view fqn"])}),console.table(e))},t.prototype.traceViewServiceEvent=function(e,t){var n;this.enabled(g.Category.VIEWCONFIG)&&console.log("VIEWCONFIG: "+e+" "+(e=t.viewDecl,n=e.$context.name||"(root)","[View#"+t.$id+" from '"+n+"' state]: target ui-view: '"+e.$uiViewName+"@"+e.$uiViewContextAnchor+"'"))},t.prototype.traceViewServiceUIViewEvent=function(e,t){this.enabled(g.Category.VIEWCONFIG)&&console.log("VIEWCONFIG: "+e+" "+nt(t))},t);function t(){this._enabled={},this.approximateDigests=0}var $=new e,st=((r=g.TransitionHookPhase||(g.TransitionHookPhase={}))[r.CREATE=0]="CREATE",r[r.BEFORE=1]="BEFORE",r[r.RUN=2]="RUN",r[r.SUCCESS=3]="SUCCESS",r[r.ERROR=4]="ERROR",(r=g.TransitionHookScope||(g.TransitionHookScope={}))[r.TRANSITION=0]="TRANSITION",r[r.STATE=1]="STATE",lt.prototype.name=function(){return this._definition&&this._definition.name||this._identifier},lt.prototype.identifier=function(){return this._identifier},lt.prototype.params=function(){return this._params},lt.prototype.$state=function(){return this._definition},lt.prototype.state=function(){return this._definition&&this._definition.self},lt.prototype.options=function(){return this._options},lt.prototype.exists=function(){return!(!this._definition||!this._definition.self)},lt.prototype.valid=function(){return!this.error()},lt.prototype.error=function(){var e=this.options().relative;return!this._definition&&e?(e=e.name||e,"Could not resolve '"+this.name()+"' from state '"+e+"'"):this._definition?this._definition.self?void 0:"State '"+this.name()+"' has an invalid definition":"No such state '"+this.name()+"'"},lt.prototype.toString=function(){return"'"+this.name()+"'"+fe(this.params())},lt.isDef=function(e){return e&&e.state&&(b(e.state)||b(e.state.name))},lt);function lt(e,t,n,r){void 0===r&&(r={}),this._identifier=e,this._definition=t,this._options=r,this._params=n||{}}var ct={current:ve,transition:null,traceData:{},bind:null},ut=(o.prototype.logError=function(e){this.transition.router.stateService.defaultErrorHandler()(e)},o.prototype.invokeHook=function(){var t=this,n=this.registeredHook;if(!n._deregistered){var e=this.getNotCurrentRejection();if(e)return e;var e=this.options,r=($.traceHookInvocation(this,this.transition,e),function(e){return n.eventType.getErrorHandler(t)(e)}),i=function(e){return n.eventType.getResultHandler(t)(e)};try{var o=n.callback.call(e.bind,t.transition,t.stateContext);return!this.type.synchronous&&de(o)?o.catch(function(e){return T.normalize(e).toPromise()}).then(i,r):i(o)}catch(e){return r(T.normalize(e))}}},o.prototype.handleHookResult=function(e){var t=this,n=this.getNotCurrentRejection();return n||(de(e)?e.then(function(e){return t.handleHookResult(e)}):($.traceHookResult(e,this.transition,this.options),!1===e?T.aborted("Hook aborted transition").toPromise():a(st)(e)?T.redirected(e).toPromise():void 0))},o.prototype.getNotCurrentRejection=function(){var e=this.transition.router;return e._disposed?T.aborted("UIRouter instance #"+e.$id+" has been stopped (disposed)").toPromise():this.transition._aborted?T.aborted().toPromise():this.isSuperseded()?T.superseded(this.options.current()).toPromise():void 0},o.prototype.toString=function(){var e=this.options,t=this.registeredHook;return(C("traceData.hookType")(e)||"internal")+" context: "+(C("traceData.context.state.name")(e)||C("traceData.context")(e)||"unknown")+", "+Vt(200,Ht(t.callback))},o.chain=function(e,t){return e.reduce(function(e,t){return e.then(function(){return t.invokeHook()})},t||u.$q.when())},o.invokeHooks=function(e,t){for(var n=0;n<e.length;n++){var r,i=e[n].invokeHook();if(de(i))return r=e.slice(n+1),o.chain(r,i).then(t)}return t()},o.runAllHooks=function(e){e.forEach(function(e){return e.invokeHook()})},o.HANDLE_RESULT=function(t){return function(e){return t.handleHookResult(e)}},o.LOG_REJECTED_RESULT=function(t){return function(e){de(e)&&e.catch(function(e){return t.logError(T.normalize(e))})}},o.LOG_ERROR=function(t){return function(e){return t.logError(e)}},o.REJECT_ERROR=function(e){return Qe},o.THROW_ERROR=function(e){return function(e){throw e}},o);function o(e,t,n,r){var i=this;this.transition=e,this.stateContext=t,this.registeredHook=n,this.options=r,this.isSuperseded=function(){return i.type.hookPhase===g.TransitionHookPhase.RUN&&!i.options.transition.isActive()},this.options=Ce(r,ct),this.type=n.eventType}function dt(e,t){var i=b(t)?[t]:t;return!!(d(i)?i:function(e){for(var t=i,n=0;n<t.length;n++){var r=new X(t[n]);if(r&&r.matches(e.name)||!r&&t[n]===e.name)return!0}return!1})(e)}ft.prototype._matchingNodes=function(e,t){return!0===t||(e=e.filter(function(e){return dt(e.state,t)})).length?e:null},ft.prototype._getDefaultMatchCriteria=function(){return _(this.tranSvc._pluginapi._getPathTypes(),function(){return!0})},ft.prototype._getMatchingNodes=function(i){var o=this,a=w(this._getDefaultMatchCriteria(),this.matchCriteria);return Ne(this.tranSvc._pluginapi._getPathTypes()).reduce(function(e,t){var n=t.scope===g.TransitionHookScope.STATE,r=i[t.name]||[],n=n?r:[k(r)];return e[t.name]=o._matchingNodes(n,a[t.name]),e},{})},ft.prototype.matches=function(e){e=this._getMatchingNodes(e);return Ne(e).every(m)?e:null};var ht=ft;function ft(e,t,n,r,i){void 0===i&&(i={}),this.tranSvc=e,this.eventType=t,this.callback=n,this.matchCriteria=r,this.priority=i.priority||0,this.bind=i.bind||null,this._deregistered=!1}function pt(e,i,o){var a=(e._registeredHooks=e._registeredHooks||{})[o.name]=[];function t(e,t,n){var r=new ht(i,o,t,e,n=void 0===n?{}:n);return a.push(r),function(){r._deregistered=!0,f(a)(r)}}return e[o.name]=t}gt.prototype.buildHooksForPhase=function(e){var t=this;return this.transition.router.transitionService._pluginapi._getEvents(e).map(function(e){return t.buildHooks(e)}).reduce(p,[]).filter(m)},gt.prototype.buildHooks=function(i){var o,a=this.transition,e=a.treeChanges(),t=this.getMatchingHooks(i,e);return t?(o={transition:a,current:a.options().current},t.map(function(r){return r.matches(e)[i.criteriaMatchPath.name].map(function(e){var t=w({bind:r.bind,traceData:{hookType:i.name,context:e}},o),n=i.criteriaMatchPath.scope===g.TransitionHookScope.STATE?e.state.self:null,n=new ut(a,n,r,t);return{hook:r,node:e,transitionHook:n}})}).reduce(p,[]).sort(function(r){void 0===r&&(r=!1);return function(e,t){var n=r?-1:1,n=(e.node.state.path.length-t.node.state.path.length)*n;return 0!=n?n:t.hook.priority-e.hook.priority}}(i.reverseSort)).map(function(e){return e.transitionHook})):[]},gt.prototype.getMatchingHooks=function(t,n){var e=t.hookPhase===g.TransitionHookPhase.CREATE,r=this.transition.router.transitionService;return(e?[r]:[this.transition,r]).map(function(e){return e.getHooks(t.name)}).filter(ze(y,"broken event named: "+t.name)).reduce(p,[]).filter(function(e){return e.matches(n)})};var mt=gt;function gt(e){this.transition=e}bt.prototype.is=function(e,t){return!0},bt.prototype.encode=function(e,t){return e},bt.prototype.decode=function(e,t){return e},bt.prototype.equals=function(e,t){return e==t},bt.prototype.$subPattern=function(){var e=this.pattern.toString();return e.substr(1,e.length-2)},bt.prototype.toString=function(){return"{ParamType:"+this.name+"}"},bt.prototype.$normalize=function(e){return this.is(e)?e:this.decode(e)},bt.prototype.$asArray=function(e,t){if(!e)return this;if("auto"!==e||t)return new yt(this,e);throw new Error("'auto' array mode is for query parameters only")};var vt=bt;function bt(e){this.pattern=/.*/,this.inherit=!0,w(this,e)}function yt(r,i){var o=this;function a(e){return y(e)?e:S(e)?[e]:[]}function s(n,r){return function(e){if(y(e)&&0===e.length)return e;e=_(a(e),n);if(!0===r)return 0===Oe(e,function(e){return!e}).length;var t=e;switch(t.length){case 0:return;case 1:return"auto"===i?t[0]:t;default:return t}}}function l(o){return function(e,t){var n=a(e),r=a(t);if(n.length!==r.length)return!1;for(var i=0;i<n.length;i++)if(!o(n[i],r[i]))return!1;return!0}}["encode","decode","equals","$normalize"].forEach(function(e){var t=r[e].bind(r),n="equals"===e?l:s;o[e]=n(t)}),w(this,{dynamic:r.dynamic,name:r.name,pattern:r.pattern,inherit:r.inherit,is:s(r.is.bind(r),!0),$arrayMode:i})}var wt=Object.prototype.hasOwnProperty,_t=function(e){return 0===["value","type","squash","array","dynamic"].filter(wt.bind(e||{})).length};(r=g.DefType||(g.DefType={}))[r.PATH=0]="PATH",r[r.SEARCH=1]="SEARCH",r[r.CONFIG=2]="CONFIG";xt.prototype.isDefaultValue=function(e){return this.isOptional&&this.type.equals(this.value(),e)},xt.prototype.value=function(e){var i=this;if(e=function(e){for(var t=0,n=i.replace;t<n.length;t++){var r=n[t];if(r.from===e)return r.to}return e}(e),oe(e)){if(i._defaultValueCache)return i._defaultValueCache.defaultValue;if(!u.$injector)throw new Error("Injectable functions cannot be called at configuration time");var t=u.$injector.invoke(i.config.$$fn);if(null==t||i.type.is(t))return i.config.$$fn.__cacheable&&(i._defaultValueCache={defaultValue:t}),t;throw new Error("Default value ("+t+") for parameter '"+i.id+"' is not an instance of ParamType ("+i.type.name+")")}return this.type.$normalize(e)},xt.prototype.isSearch=function(){return this.location===g.DefType.SEARCH},xt.prototype.validates=function(e){return!(!oe(e)&&null!==e||!this.isOptional)||(e=this.type.$normalize(e),!!this.type.is(e)&&(e=this.type.encode(e),!(b(e)&&!this.type.pattern.exec(e))))},xt.prototype.toString=function(){return"{Param:"+this.id+" "+this.type+" squash: '"+this.squash+"' optional: "+this.isOptional+"}"},xt.values=function(e,t){void 0===t&&(t={});for(var n={},r=0,i=e;r<i.length;r++){var o=i[r];n[o.id]=o.value(t[o.id])}return n},xt.changed=function(e,t,n){return void 0===t&&(t={}),void 0===n&&(n={}),e.filter(function(e){return!e.type.equals(t[e.id],n[e.id])})},xt.equals=function(e,t,n){return 0===xt.changed(e,t=void 0===t?{}:t,n=void 0===n?{}:n).length},xt.validates=function(e,t){return void 0===t&&(t={}),e.map(function(e){return e.validates(t[e.id])}).reduce(De,!0)};var kt=xt;function xt(e,t,n,r,i){function o(){return a.value}a=_t(a=n)?{value:a}:a,o.__cacheable=!0,t=function(e,t,n,r,i){if(e.type&&t&&"string"!==t.name)throw new Error("Param '"+r+"' has two type configurations.");return e.type&&t&&"string"===t.name&&i.type(e.type)?i.type(e.type):t||(e.type?e.type instanceof vt?e.type:i.type(e.type):(r=n===g.DefType.CONFIG?"any":n===g.DefType.PATH?"path":n===g.DefType.SEARCH?"query":"string",i.type(r)))}(n=w(a,{$$fn:ce(a.value)?a.value:o}),t,r,e,i.paramTypes),u={array:r===g.DefType.SEARCH&&"auto"},d=e.match(/\[\]$/)?{array:!0}:{};var a,s,l,c,u=w(u,d,n).array,d=(t=u?t.$asArray(u,r===g.DefType.SEARCH):t,void 0!==n.value||r===g.DefType.SEARCH),h=S(n.dynamic)?!!n.dynamic:!!t.dynamic,f=S(n.raw)?!!n.raw:!!t.raw,i=function(e,t,n){if(e=e.squash,!t||!1===e)return!1;if(!S(e)||null==e)return n;if(!0===e||b(e))return e;throw new Error("Invalid squash policy: '"+e+"'. Valid policies: false, true, or arbitrary string")}(n,d,i.defaultSquashPolicy()),p=(s=u,m=i,l=[{from:"",to:(l=d)||s?void 0:""},{from:null,to:d||s?void 0:""}],s=y((p=n).replace)?p.replace:[],b(m)&&s.push({from:m,to:void 0}),c=_(s,v("from")),Oe(l,function(e){return-1===c.indexOf(e.from)}).concat(s)),m=S(n.inherit)?!!n.inherit:!!t.inherit;w(this,{id:e,type:t,location:r,isOptional:d,dynamic:h,raw:f,squash:i,replace:p,inherit:m,array:u,config:n})}St.prototype.applyRawParams=function(n){return this.paramValues=this.paramSchema.reduce(function(e,t){return qe(e,[t.id,t.value(n[t.id])])},{}),this},St.prototype.parameter=function(e){return Me(this.paramSchema,z("id",e))},St.prototype.equals=function(e,t){e=this.diff(e,t);return e&&0===e.length},St.prototype.diff=function(e,t){return this.state===e.state&&(t=t?t(this):this.paramSchema,kt.changed(t,this.paramValues,e.paramValues))},St.clone=function(e){return new St(e)};var Ct=St;function St(e){var t;e instanceof St?(this.state=(t=e).state,this.paramSchema=t.paramSchema.slice(),this.paramValues=w({},t.paramValues),this.resolvables=t.resolvables.slice(),this.views=t.views&&t.views.slice()):(this.state=t=e,this.paramSchema=t.parameters({inherit:!1}),this.paramValues={},this.resolvables=t.resolvables.map(function(e){return e.clone()}))}E.makeTargetState=function(e){var t=k(e).state;return new st(t,t,e.map(v("paramValues")).reduce(Se,{}))},E.buildPath=function(e){var t=e.params();return e.$state().path.map(function(e){return new Ct(e).applyRawParams(t)})},E.buildToPath=function(e,t){var n=E.buildPath(t);return t.options().inherit?E.inheritParams(e,n,Object.keys(t.params())):n},E.applyViewConfigs=function(r,i,t){i.filter(function(e){return ye(t,e.state)}).forEach(function(t){var e=Ne(t.state.views||{}),n=E.subPath(i,function(e){return e===t}),e=e.map(function(e){return r.createViewConfig(n,e)});t.views=e.reduce(p,[])})},E.inheritParams=function(o,e,a){void 0===a&&(a=[]);var s=o.map(function(e){return e.paramSchema}).reduce(p,[]).filter(function(e){return!e.inherit}).map(v("id"));return e.map(function(e){var t=$e(n=w({},e&&e.paramValues),a),n=Ee(n,a),r=Ee((i=o,r=e.state,i=Me(i,z("state",r)),w({},i&&i.paramValues)||{}),s),i=w(n,r,t);return new Ct(e.state).applyRawParams(i)})},E.treeChanges=function(e,n,t){for(var r,i,o=0,a=Math.min(e.length,n.length);o<a&&e[o].state!==t&&(r=e[o],i=n[o],r.equals(i,E.nonDynamicParams));)o++;var s,l=(s=e).slice(0,o),c=s.slice(o),u=l.map(function(e,t){return(e=Ct.clone(e)).paramValues=n[t].paramValues,e}),d=n.slice(o);return{from:s,to:u.concat(d),retained:l,exiting:c,entering:d}},E.matching=function(e,t,r){var i=!1;return We(e,t).reduce(function(e,t){var n=t[0],t=t[1];return(i=i||!n.equals(t,r))?e:e.concat(n)},[])},E.equals=function(e,t,n){return e.length===t.length&&E.matching(e,t,n).length===e.length},E.subPath=function(e,t){t=Me(e,t),t=e.indexOf(t);return-1===t?void 0:e.slice(0,t+1)},E.nonDynamicParams=function(e){return e.state.parameters({inherit:!1}).filter(function(e){return!e.dynamic})},E.paramValues=function(e){return e.reduce(function(e,t){return w(e,t.paramValues)},{})};var Tt=E;function E(){}var $t={when:"LAZY",async:"WAIT"},c=(Et.prototype.getPolicy=function(e){var t=this.policy||{},e=e&&e.resolvePolicy||{};return{when:t.when||e.when||$t.when,async:t.async||e.async||$t.async}},Et.prototype.resolve=function(t,n){var r=this,e=u.$q,i=t.findNode(this),i=i&&i.state,i="RXWAIT"===this.getPolicy(i).async?function(e){var t=e.cache(1);return t.take(1).toPromise().then(function(){return t})}:m;return this.promise=e.when().then(function(){return e.all(t.getDependencies(r).map(function(e){return e.get(t,n)}))}).then(function(e){return r.resolveFn.apply(null,e)}).then(i).then(function(e){return r.data=e,r.resolved=!0,$.traceResolvableResolved(r,n),r.data})},Et.prototype.get=function(e,t){return this.promise||this.resolve(e,t)},Et.prototype.toString=function(){return"Resolvable(token: "+A(this.token)+", requires: ["+this.deps.map(A)+"])"},Et.prototype.clone=function(){return new Et(this)},Et.fromData=function(e,t){return new Et(e,function(){return t},null,null,t)},Et);function Et(e,t,n,r,i){if(this.resolved=!1,this.promise=void 0,e instanceof Et)w(this,e);else if(d(t)){if(ae(e))throw new Error("new Resolvable(): token argument is required");if(!d(t))throw new Error("new Resolvable(): resolveFn argument must be a function");this.token=e,this.policy=r,this.resolveFn=t,this.deps=n||[],this.data=i,this.resolved=void 0!==i,this.promise=this.resolved?u.$q.when(this.data):void 0}else if(h(e)&&e.token&&d(e.resolveFn))return new Et(e.token,e.resolveFn,e.deps,e.policy,e.data)}var At={when:{LAZY:"LAZY",EAGER:"EAGER"},async:{WAIT:"WAIT",NOWAIT:"NOWAIT",RXWAIT:"RXWAIT"}},r=At.when,Ot=[r.EAGER,r.LAZY],Mt=[r.EAGER],Pt="Native Injector",Dt=(Rt.prototype.getTokens=function(){return this._path.reduce(function(e,t){return e.concat(t.resolvables.map(function(e){return e.token}))},[]).reduce(Le,[])},Rt.prototype.getResolvable=function(t){return k(this._path.map(function(e){return e.resolvables}).reduce(p,[]).filter(function(e){return e.token===t}))},Rt.prototype.getPolicy=function(e){var t=this.findNode(e);return e.getPolicy(t.state)},Rt.prototype.subContext=function(t){return new Rt(Tt.subPath(this._path,function(e){return e.state===t}))},Rt.prototype.addResolvables=function(e,t){var t=Me(this._path,z("state",t)),n=e.map(function(e){return e.token});t.resolvables=t.resolvables.filter(function(e){return-1===n.indexOf(e.token)}).concat(e)},Rt.prototype.resolvePath=function(e,a){function s(t,n){return function(e){return ye(t,l.getPolicy(e)[n])}}var l=this,c=(ye(Ot,e=void 0===e?"LAZY":e)?e:"LAZY")===At.when.EAGER?Mt:Ot,e=($.traceResolvePath(this._path,e,a),this._path.reduce(function(e,t){function n(t){return t.get(o,a).then(function(e){return{token:t.token,value:e}})}var r=t.resolvables.filter(s(c,"when")),i=r.filter(s(["NOWAIT"],"async")),r=r.filter(B(s(["NOWAIT"],"async"))),o=l.subContext(t.state);return i.forEach(n),e.concat(r.map(n))},[]));return u.$q.all(e)},Rt.prototype.injector=function(){return this._injector||(this._injector=new It(this))},Rt.prototype.findNode=function(t){return Me(this._path,function(e){return ye(e.resolvables,t)})},Rt.prototype.getDependencies=function(t){var r=this,n=this.findNode(t),i=(Tt.subPath(this._path,function(e){return e===n})||this._path).reduce(function(e,t){return e.concat(t.resolvables)},[]).filter(function(e){return e!==t});return t.deps.map(function(t){var e=i.filter(function(e){return e.token===t});if(e.length)return k(e);var n=r.injector().getNative(t);if(n)return new c(t,function(){return n},[],n);throw new Error("Could not find Dependency Injection token: "+A(t))})},Rt);function Rt(e){this._path=e}Nt.prototype.get=function(e){var t=this.context.getResolvable(e);if(t){if("NOWAIT"===this.context.getPolicy(t).async)return t.get(this.context);if(t.resolved)return t.data;throw new Error("Resolvable async .get() not complete:"+A(t.token))}return this.native&&this.native.get(e)},Nt.prototype.getAsync=function(e){var t=this.context.getResolvable(e);return t?t.get(this.context):u.$q.when(this.native.get(e))},Nt.prototype.getNative=function(e){return this.native&&this.native.get(e)};var It=Nt;function Nt(e){this.context=e,this.native=this.get(Pt)||u.$injector}var jt=v("self"),Lt=(i.prototype.onBefore=function(e,t,n){},i.prototype.onStart=function(e,t,n){},i.prototype.onExit=function(e,t,n){},i.prototype.onRetain=function(e,t,n){},i.prototype.onEnter=function(e,t,n){},i.prototype.onFinish=function(e,t,n){},i.prototype.onSuccess=function(e,t,n){},i.prototype.onError=function(e,t,n){},i.prototype.createTransitionHookRegFns=function(){var t=this;this.router.transitionService._pluginapi._getEvents().filter(function(e){return e.hookPhase!==g.TransitionHookPhase.CREATE}).forEach(function(e){return pt(t,t.router.transitionService,e)})},i.prototype.getHooks=function(e){return this._registeredHooks[e]},i.prototype.applyViewConfigs=function(e){var t=this._treeChanges.entering.map(function(e){return e.state});Tt.applyViewConfigs(e.transitionService.$view,this._treeChanges.to,t)},i.prototype.$from=function(){return k(this._treeChanges.from).state},i.prototype.$to=function(){return k(this._treeChanges.to).state},i.prototype.from=function(){return this.$from().self},i.prototype.to=function(){return this.$to().self},i.prototype.targetState=function(){return this._targetState},i.prototype.is=function(e){return e instanceof i?this.is({to:e.$to().name,from:e.$from().name}):!(e.to&&!dt(this.$to(),e.to)||e.from&&!dt(this.$from(),e.from))},i.prototype.params=function(e){return void 0===e&&(e="to"),Object.freeze(this._treeChanges[e].map(v("paramValues")).reduce(Se,{}))},i.prototype.injector=function(t,e){e=this._treeChanges[e=void 0===e?"to":e];return t&&(e=Tt.subPath(e,function(e){return e.state===t||e.state.name===t})),new Dt(e).injector()},i.prototype.getResolveTokens=function(e){return new Dt(this._treeChanges[e=void 0===e?"to":e]).getTokens()},i.prototype.addResolvable=function(e,t){void 0===t&&(t=""),e=a(c)(e)?e:new c(e);var n="string"==typeof t?t:t.name,t=this._treeChanges.to,r=Me(t,function(e){return e.state.name===n});new Dt(t).addResolvables([e],r.state)},i.prototype.redirectedFrom=function(){return this._options.redirectedFrom||null},i.prototype.originalTransition=function(){var e=this.redirectedFrom();return e&&e.originalTransition()||this},i.prototype.options=function(){return this._options},i.prototype.entering=function(){return _(this._treeChanges.entering,v("state")).map(jt)},i.prototype.exiting=function(){return _(this._treeChanges.exiting,v("state")).map(jt).reverse()},i.prototype.retained=function(){return _(this._treeChanges.retained,v("state")).map(jt)},i.prototype.views=function(e,t){e=this._treeChanges[e=void 0===e?"entering":e];return(e=t?e.filter(z("state",t)):e).map(v("views")).filter(m).reduce(p,[])},i.prototype.treeChanges=function(e){return e?this._treeChanges[e]:this._treeChanges},i.prototype.redirect=function(e){for(var t=1,n=this;null!=(n=n.redirectedFrom());)if(20<++t)throw new Error("Too many consecutive Transition redirects (20+)");var r,i={redirectedFrom:this,source:"redirect"},i=("url"===this.options().source&&!1!==e.options().location&&(i.location="replace"),w({},this.options(),e.options(),i)),i=(e=new st(e.identifier(),e.$state(),e.params(),i),this.router.transitionService.create(this._treeChanges.from,e)),o=this._treeChanges.entering,a=i._treeChanges.entering;return Tt.matching(a,o,Tt.nonDynamicParams).filter(B((r=e.options().reloadState,function(e){return r&&e.state.includes[r.name]}))).forEach(function(e,t){e.resolvables=o[t].resolvables}),i},i.prototype._changedParams=function(){var e=this._treeChanges;if(!this._options.reload&&!e.exiting.length&&!e.entering.length&&e.to.length===e.from.length){var t=We(e.to,e.from).map(function(e){return e[0].state!==e[1].state}).reduce(Re,!1);if(!t)return We(e.to.map(function(e){return e.paramSchema}),(t=[e.to,e.from].map(function(e){return e.map(function(e){return e.paramValues})}))[0],t[1]).map(function(e){var t=e[0],n=e[1],e=e[2];return kt.changed(t,n,e)}).reduce(p,[])}},i.prototype.dynamic=function(){var e=this._changedParams();return!!e&&e.map(function(e){return e.dynamic}).reduce(Re,!1)},i.prototype.ignored=function(){return!!this._ignoredReason()},i.prototype._ignoredReason=function(){function e(e,t){return e.length===t.length&&(t=Tt.matching(e,t),e.length===t.filter(function(e){return!n||!e.state.includes[n.name]}).length)}var t=this.router.globals.transition,n=this._options.reloadState,r=this.treeChanges(),t=t&&t.treeChanges();return t&&e(t.to,r.to)&&e(t.exiting,r.exiting)?"SameAsPending":0===r.exiting.length&&0===r.entering.length&&e(r.from,r.to)?"SameAsCurrent":void 0},i.prototype.run=function(){var t=this,n=ut.runAllHooks,r=function(e){return t._hookBuilder.buildHooksForPhase(e)},e=r(g.TransitionHookPhase.BEFORE);return ut.invokeHooks(e,function(){var e=t.router.globals;return e.lastStartedTransitionId=t.$id,e.transition=t,e.transitionHistory.enqueue(t),$.traceTransitionStart(t),u.$q.when(void 0)}).then(function(){var e=r(g.TransitionHookPhase.RUN);return ut.invokeHooks(e,function(){return u.$q.when(void 0)})}).then(function(){$.traceSuccess(t.$to(),t),t.success=!0,t._deferred.resolve(t.to()),n(r(g.TransitionHookPhase.SUCCESS))},function(e){$.traceError(e,t),t.success=!1,t._deferred.reject(e),t._error=e,n(r(g.TransitionHookPhase.ERROR))}),this.promise},i.prototype.valid=function(){return!this.error()||void 0!==this.success},i.prototype.abort=function(){oe(this.success)&&(this._aborted=!0)},i.prototype.error=function(){var t,e,n=this.$to();return n.self.abstract?"Cannot transition to abstract state '"+n.name+"'":(e=n.parameters(),t=this.params(),(e=e.filter(function(e){return!e.validates(t[e.id])})).length?"Param values not valid for state '"+n.name+"'. Invalid params: [ "+e.map(function(e){return e.id}).join(", ")+" ]":!1===this.success?this._error:void 0)},i.prototype.toString=function(){function e(e){return null!==e["#"]&&void 0!==e["#"]?e:Ee(e,["#"])}var t=this.from(),n=this.to();return"Transition#"+this.$id+"( '"+(h(t)?t.name:t)+"'"+fe(e(this._treeChanges.from.map(v("paramValues")).reduce(Se,{})))+" -> "+(this.valid()?"":"(X) ")+"'"+(h(n)?n.name:n)+"'"+fe(e(this.params()))+" )"},i.diToken=i);function i(e,t,n){var r=this;if(this._deferred=u.$q.defer(),this.promise=this._deferred.promise,this._registeredHooks={},this._hookBuilder=new mt(this),this.isActive=function(){return r.router.globals.transition===r},this.router=n,!(this._targetState=t).valid())throw new Error(t.error());this._options=w({current:s(this)},t.options()),this.$id=n.transitionService._transitionCount++;t=Tt.buildToPath(e,t),this._treeChanges=Tt.treeChanges(e,t,this._options.reloadState),this.createTransitionHookRegFns(),e=this._hookBuilder.buildHooksForPhase(g.TransitionHookPhase.CREATE);ut.invokeHooks(e,function(){return null}),this.applyViewConfigs(n)}function Vt(e,t){return t.length<=e?t:t.substr(0,e-3)+"..."}function Ft(e,t){for(;t.length<e;)t+=" ";return t}function zt(e){return e.replace(/^([A-Z])/,function(e){return e.toLowerCase()}).replace(/([A-Z])/g,function(e){return"-"+e.toLowerCase()})}function Bt(e){var t=Ht(e),n=t.match(/^(function [^ ]+\([^)]*\))/),n=n?n[1]:t,t=e.name||"";return t&&n.match(/function \(/)?"function "+t+n.substr(9):n}function Ht(e){e=y(e)?e.slice(-1)[0]:e;return e&&e.toString()||"undefined"}var Ut=null,Wt=function(e){var t=T.isRejectionPromise;return(Ut=Ut||K([[B(S),s("undefined")],[te,s("null")],[de,s("[Promise]")],[t,function(e){return e._transitionRejection.toString()}],[a(T),G("toString")],[a(Lt),G("toString")],[a(c),G("toString")],[ce,Bt],[s(!0),m]]))(e)};function A(e){var n=[];return JSON.stringify(e,function(e,t){if(h(t)){if(-1!==n.indexOf(t))return"[circular ref]";n.push(t)}return Wt(t)}).replace(/\\"/g,'"')}function qt(n){return function(e){var t;return e?-1===(t=e.indexOf(n))?[e,""]:[e.substr(0,t),e.substr(t+1)]:["",""]}}function Yt(e){var t=new RegExp("("+e+")","g");return function(e){return e.split(t).filter(m)}}function Gt(e,t){return b(k(e))&&b(t)?e.slice(0,-1).concat(k(e)+t):je(e,t)}Xt.prototype.dispose=function(){this.types={}},Xt.prototype.type=function(e,t,n){if(!S(t))return this.types[e];if(this.types.hasOwnProperty(e))throw new Error("A type named '"+e+"' has already been defined.");return this.types[e]=new vt(w({name:e},t)),n&&(this.typeQueue.push({name:e,def:n}),this.enqueue||this._flushTypeQueue()),this},Xt.prototype._flushTypeQueue=function(){for(;this.typeQueue.length;){var e=this.typeQueue.shift();if(e.pattern)throw new Error("You cannot override a type's .pattern at runtime.");w(this.types[e.name],u.$injector.invoke(e.def))}};var Kt=Xt;function Xt(){this.enqueue=!0,this.typeQueue=[],this.defaultTypes=$e(Xt.prototype,["hash","string","query","path","int","bool","date","json","any"]);this.types=be(_(this.defaultTypes,function(e,t){return new vt(w({name:t},e))}),{})}function Jt(e){function t(e){return null!=e?e.toString():e}var n={encode:t,decode:t,is:a(String),pattern:/.*/,equals:function(e,t){return e==t}};return w({},n,e)}w(Kt.prototype,{string:Jt({}),path:Jt({pattern:/[^/]*/}),query:Jt({}),hash:Jt({inherit:!1}),int:Jt({decode:function(e){return parseInt(e,10)},is:function(e){return!ae(e)&&this.decode(e.toString())===e},pattern:/-?\d+/}),bool:Jt({encode:function(e){return e?1:0},decode:function(e){return 0!==parseInt(e,10)},is:a(Boolean),pattern:/0|1/}),date:Jt({encode:function(e){return this.is(e)?[e.getFullYear(),("0"+(e.getMonth()+1)).slice(-2),("0"+e.getDate()).slice(-2)].join("-"):void 0},decode:function(e){return this.is(e)?e:(e=this.capture.exec(e))?new Date(e[1],e[2]-1,e[3]):void 0},is:function(e){return e instanceof Date&&!isNaN(e.valueOf())},equals:function(n,r){return["getFullYear","getMonth","getDate"].reduce(function(e,t){return e&&n[t]()===r[t]()},!0)},pattern:/[0-9]{4}-(?:0[1-9]|1[0-2])-(?:0[1-9]|[1-2][0-9]|3[0-1])/,capture:/([0-9]{4})-(0[1-9]|1[0-2])-(0[1-9]|[1-2][0-9]|3[0-1])/}),json:Jt({encode:fe,decode:he,is:a(Object),equals:ge,pattern:/[^/]*/}),any:Jt({encode:m,decode:m,is:function(){return!0},equals:ge})});Zt.prototype.$inherit=function(e,t,n){var r,i,o=Te(t,n),a={},s=[];for(i in o)if(o[i]&&o[i].params&&(r=Object.keys(o[i].params)).length)for(var l in r)0<=s.indexOf(r[l])||(s.push(r[l]),a[r[l]]=this[r[l]]);return w({},a,e)};var Qt=Zt;function Zt(e){w(this,e=void 0===e?{}:e)}var en=function(e){var t;return!!b(e)&&{val:(t="^"===e.charAt(0))?e.substring(1):e,root:t}};function tn(e){return e.name}function nn(e){return e.self.$$state=function(){return e},e.self}function rn(e){return e.parent&&e.parent.data&&(e.data=e.self.data=be(e.parent.data,e.data)),e.data}function on(e){return e.parent?e.parent.path.concat(e):[e]}function an(e){var t=e.parent?w({},e.parent.includes):{};return t[e.name]=!0,t}function sn(e){function t(e){return e.provide||e.token}var n,r,i=K([[v("resolveFn"),function(e){return new c(t(e),e.resolveFn,e.deps,e.policy)}],[v("useFactory"),function(e){return new c(t(e),e.useFactory,e.deps||e.dependencies,e.policy)}],[v("useClass"),function(e){return new c(t(e),function(){return new e.useClass},[],e.policy)}],[v("useValue"),function(e){return new c(t(e),function(){return e.useValue},[],e.policy,e.useValue)}],[v("useExisting"),function(e){return new c(t(e),m,[e.useExisting],e.policy)}]]),o=K([[F(v("val"),b),function(e){return new c(e.token,m,[e.val],e.policy)}],[F(v("val"),y),function(e){return new c(e.token,k(e.val),e.val.slice(0,-1),e.policy)}],[F(v("val"),d),function(e){return new c(e.token,e.val,(t=e.val,n=u.$injector,t.$inject||n&&n.annotate(t,n.strictDi)||"deferred"),e.policy);var t,n}]]),i=K([[a(c),function(e){return e}],[function(e){return!(!e.token||!e.resolveFn)},i],[function(e){return!(!e.provide&&!e.token||!(e.useValue||e.useFactory||e.useExisting||e.useClass))},i],[function(e){return!!(e&&e.val&&(b(e.val)||y(e.val)||d(e.val)))},o],[s(!0),function(e){throw new Error("Invalid resolve value: "+A(e))}]]),o=e.resolve;return(y(o)?o:(n=o,r=e.resolvePolicy||{},Object.keys(n||{}).map(function(e){return{token:e,val:n[e],deps:void 0,policy:r[e]}}))).map(i)}cn.prototype.builder=function(e,t){var n=this.builders,r=n[e]||[];return b(e)&&!S(t)?1<r.length?r:r[0]:b(e)&&d(t)?(n[e]=r,n[e].push(t),function(){return n[e].splice(n[e].indexOf(t,1))&&null}):void 0},cn.prototype.build=function(e){var t,n,r=this.matcher,i=this.builders,o=this.parentName(e);if(o&&!r.find(o,void 0,!1))return null;for(t in i)i.hasOwnProperty(t)&&(n=i[t].reduce(function(t,n){return function(e){return n(e,t)}},ve),e[t]=n(e));return e},cn.prototype.parentName=function(e){var t=e.name||"",n=t.split(".");if("**"===n.pop()&&n.pop(),n.length){if(e.parent)throw new Error("States that specify the 'parent:' property should not have a '.' in their name ("+t+")");return n.join(".")}return e.parent?b(e.parent)?e.parent:e.parent.name:""},cn.prototype.name=function(e){var t=e.name;return-1===t.indexOf(".")&&e.parent&&(e=b(e.parent)?e.parent:e.parent.name)?e+"."+t:t};var ln=cn;function cn(t,e){this.matcher=t;function n(){return t.find("")}function r(e){return""===e.name}var i,o,a,s,l=this;this.builders={name:[tn],self:[nn],parent:[function(e){return r(e)?null:t.find(l.parentName(e))||n()}],data:[rn],url:[(s=n,function(e){var n=e,t=(n&&n.url&&n.name&&n.name.match(/\.\*\*$/)&&(n.url+="{remainder:any}"),en(n.url)),r=e.parent,i=t?a.compile(t.val,{params:e.params||{},paramMap:function(e,t){return e=!1===n.reloadOnSearch&&t?w(e||{},{dynamic:!0}):e}}):n.url;if(!i)return null;if(a.isMatcher(i))return t&&t.root?i:(r&&r.navigable||s()).url.append(i);throw new Error("Invalid url '"+i+"' in state '"+e+"'")})],navigable:[(o=r,function(e){return!o(e)&&e.url?e:e.parent?e.parent.navigable:null})],params:[(i=(a=e).paramFactory,function(e){var t=e.url&&e.url.parameters({inherit:!1})||[],e=Ne(Pe(Ee(e.params||{},t.map(v("id"))),function(e,t){return i.fromConfig(t,null,e)}));return t.concat(e).map(function(e){return[e.id,e]}).reduce(qe,{})})],views:[],path:[on],includes:[an],resolvables:[sn]}}dn.prototype.isRelative=function(e){return 0===(e=e||"").indexOf(".")||0===e.indexOf("^")},dn.prototype.find=function(e,t,n){var r,i;if(void 0===n&&(n=!0),e||""===e)return r=b(e),i=r?e:e.name,this.isRelative(i)&&(i=this.resolvePath(i,t)),!(t=this._states[i])||!r&&(r||t!==e&&t.self!==e)?r&&n?(1<(e=Ne(this._states).filter(function(e){return e.__stateObjectCache.nameGlob&&e.__stateObjectCache.nameGlob.matches(i)})).length&&console.log("stateMatcher.find: Found multiple matches for "+i+" using glob: ",e.map(function(e){return e.name})),e[0]):void 0:t},dn.prototype.resolvePath=function(e,t){if(!t)throw new Error("No reference point given for path '"+e+"'");for(var n=this.find(t),r=e.split("."),i=0,o=r.length,a=n;i<o;i++)if(""===r[i]&&0===i)a=n;else{if("^"!==r[i])break;if(!a.parent)throw new Error("Path '"+e+"' not valid for state '"+n.name+"'");a=a.parent}t=r.slice(i).join(".");return a.name+(a.name&&t?".":"")+t};var un=dn;function dn(e){this._states=e}fn.prototype.dispose=function(){this.queue=[]},fn.prototype.register=function(e){var t=this.queue,e=Q.create(e),n=e.name;if(!b(n))throw new Error("State must have a valid name");if(this.states.hasOwnProperty(n)||ye(t.map(v("name")),n))throw new Error("State '"+n+"' is already defined");return t.push(e),this.flush(),e},fn.prototype.flush=function(){for(var t=this,e=this.queue,n=this.states,r=this.builder,i=[],o=[],a={},s=function(e){return t.states.hasOwnProperty(e)&&t.states[e]};0<e.length;){var l=e.shift(),c=l.name,u=r.build(l),d=o.indexOf(l);if(u){u=s(c);if(u&&u.name===c)throw new Error("State '"+c+"' is already defined");u=s(c+".**");u&&this.$registry.deregister(u),n[c]=l,this.attachRoute(l),0<=d&&o.splice(d,1),i.push(l)}else{u=a[c];if(a[c]=e.length,0<=d&&u===e.length)return e.push(l),n;d<0&&o.push(l),e.push(l)}}return i.length&&this.listeners.forEach(function(e){return e("registered",i.map(function(e){return e.self}))}),n},fn.prototype.attachRoute=function(e){!e.abstract&&e.url&&this.$urlRouter.rule(this.$urlRouter.urlRuleFactory.create(e))};var hn=fn;function fn(e,t,n,r,i){this.$registry=e,this.$urlRouter=t,this.states=n,this.builder=r,this.listeners=i,this.queue=[],this.matcher=e.matcher}mn.prototype._registerRoot=function(){(this._root=this.stateQueue.register({name:"",url:"^",views:null,params:{"#":{value:null,type:"hash",dynamic:!0}},abstract:!0})).navigable=null},mn.prototype.dispose=function(){var t=this;this.stateQueue.dispose(),this.listeners=[],this.get().forEach(function(e){return t.get(e)&&t.deregister(e)})},mn.prototype.onStatesChanged=function(e){return this.listeners.push(e),function(){f(this.listeners)(e)}.bind(this)},mn.prototype.root=function(){return this._root},mn.prototype.register=function(e){return this.stateQueue.register(e)},mn.prototype._deregisterTree=function(e){var n=this,r=this.get().map(function(e){return e.$$state()}),i=function(t){var e=r.filter(function(e){return-1!==t.indexOf(e.parent)});return 0===e.length?e:e.concat(i(e))},t=i([e]),e=[e].concat(t).reverse();return e.forEach(function(e){var t=n._router.urlRouter;t.rules().filter(z("state",e)).forEach(t.removeRule.bind(t)),delete n.states[e.name]}),e},mn.prototype.deregister=function(e){var t,n=this.get(e);if(n)return t=this._deregisterTree(n.$$state()),this.listeners.forEach(function(e){return e("deregistered",t.map(function(e){return e.self}))}),t;throw new Error("Can't deregister state; not found: "+e)},mn.prototype.get=function(e,t){var n=this;return 0===arguments.length?Object.keys(this.states).map(function(e){return n.states[e].self}):(e=this.matcher.find(e,t))&&e.self||null},mn.prototype.decorator=function(e,t){return this.builder.builder(e,t)};var pn=mn;function mn(e){this._router=e,this.states={},this.listeners=[],this.matcher=new un(this.states),this.builder=new ln(this.matcher,e.urlMatcherFactory),this.stateQueue=new hn(this,e.urlRouter,this.states,this.builder,this.listeners),this._registerRoot()}function gn(e,t){var n=["",""],r=e.replace(/[\\\[\]\^$*+?.()|{}]/g,"\\$&");if(!t)return r;switch(t.squash){case!1:n=["(",")"+(t.isOptional?"?":"")];break;case!0:r=r.replace(/\/$/,""),n=["(?:/(",")|/)?"];break;default:n=["("+t.squash+"|",")?"]}return r+n[0]+t.type.pattern.source+n[1]}var vn=Yt("/"),bn=(O.prototype.append=function(e){return this._children.push(e),e._cache={path:this._cache.path.concat(e),parent:this,pattern:null},e},O.prototype.isRoot=function(){return this._cache.path[0]===this},O.prototype.toString=function(){return this.pattern},O.prototype.exec=function(e,r,t,n){var i,o=this,a=(void 0===r&&(r={}),void 0===n&&(n={}),n=this._cache,i=function(){return new RegExp(["^",Ve(o._cache.path.map(v("_compiled"))).join(""),!1===o.config.strict?"/?":"","$"].join(""),o.config.caseInsensitive?"i":void 0)},(n[l="pattern"]=n[l]||i()).exec(e));if(!a)return null;var n=this.parameters(),s=n.filter(function(e){return!e.isSearch()}),l=n.filter(function(e){return e.isSearch()}),c=this._cache.path.map(function(e){return e._segments.length-1}).reduce(function(e,t){return e+t}),u={};if(c!==a.length-1)throw new Error("Unbalanced capture group in route '"+this.pattern+"'");function d(e){function t(e){return e.split("").reverse().join("")}e=_(t(e).split(/-(?!\\)/),t);return _(e,function(e){return e.replace(/\\-/g,"-")}).reverse()}for(var h=0;h<c;h++){for(var f=s[h],p=a[h+1],m=0;m<f.replace.length;m++)f.replace[m].from===p&&(p=f.replace[m].to);p&&!0===f.array&&(p=d(p)),S(p)&&(p=f.type.decode(p)),u[f.id]=f.value(p)}return l.forEach(function(e){for(var t=r[e.id],n=0;n<e.replace.length;n++)e.replace[n].from===t&&(t=e.replace[n].to);S(t)&&(t=e.type.decode(t)),u[e.id]=e.value(t)}),t&&(u["#"]=t),u},O.prototype.parameters=function(e){return!1===(e=void 0===e?{}:e).inherit?this._params:Ve(this._cache.path.map(function(e){return e._params}))},O.prototype.parameter=function(r,e){var i=this,t=(void 0===e&&(e={}),this._cache.parent);return function(){for(var e=0,t=i._params;e<t.length;e++){var n=t[e];if(n.id===r)return n}}()||!1!==e.inherit&&t&&t.parameter(r,e)||null},O.prototype.validates=function(n){return n=n||{},this.parameters().filter(function(e){return n.hasOwnProperty(e.id)}).map(function(e){return t=n[(e=e).id],!e||e.validates(t);var t}).reduce(De,!0)},O.prototype.format=function(a){void 0===a&&(a={});var e=this._cache.path,t=e.map(O.pathSegmentsAndParams).reduce(p,[]).map(function(e){return b(e)?e:n(e)}),e=e.map(O.queryParams).reduce(p,[]).map(n);return t.concat(e).filter(function(e){return!1===e.isValid}).length?null:t.reduce(function(e,t){var n,r;return b(t)?e+t:(n=t.squash,r=t.encoded,t=t.param,!0===n?e.match(/\/$/)?e.slice(0,-1):e:b(n)?e+n:!1!==n||null==r?e:y(r)?e+_(r,O.encodeDashes).join("-"):t.raw?e+r:e+encodeURIComponent(r))},"")+((t=e.map(function(e){var t=e.param,n=e.squash,r=e.encoded,e=e.isDefaultValue;if(!(null==r||e&&!1!==n)&&0!==(r=y(r)?r:[r]).length)return(r=t.raw?r:_(r,encodeURIComponent)).map(function(e){return t.id+"="+e})}).filter(m).reduce(p,[]).join("&"))?"?"+t:"")+(a["#"]?"#"+a["#"]:"");function n(e){var t=e.value(a[e.id]),n=e.validates(t),r=e.isDefaultValue(t),i=!!r&&e.squash,o=e.type.encode(t);return{param:e,value:t,isValid:n,isDefaultValue:r,squash:i,encoded:o}}},O.encodeDashes=function(e){return encodeURIComponent(e).replace(/-/g,function(e){return"%5C%"+e.charCodeAt(0).toString(16).toUpperCase()})},O.pathSegmentsAndParams=function(e){return We(e._segments,e._params.filter(function(e){return e.location===g.DefType.PATH}).concat(void 0)).reduce(p,[]).filter(function(e){return""!==e&&S(e)})},O.queryParams=function(e){return e._params.filter(function(e){return e.location===g.DefType.SEARCH})},O.compare=function(e,t){for(var n,r=function(e){return e._cache.weights=e._cache.weights||((e=e)._cache.segments=e._cache.segments||e._cache.path.map(O.pathSegmentsAndParams).reduce(p,[]).reduce(Gt,[]).map(function(e){return b(e)?vn(e):e}).reduce(p,[])).map(function(e){return"/"===e?1:b(e)?2:e instanceof kt?3:void 0})},i=We(r(e),r(t)),o=0;o<i.length;o++)if(0!=(n=i[o][0]-i[o][1]))return n;return 0},O.nameValidator=/^\w+([-.]+\w+)*(?:\[\])?$/,O);function O(i,o,e,t){for(var n,r,a=this,s=(this.config=t,this._cache={path:[this]},this._children=[],this._params=[],this._segments=[],this._compiled=[],this.pattern=i,this.config=Ce(this.config,{params:{},strict:!0,caseInsensitive:!1,paramMap:m}),/([:*])([\w\[\]]+)|\{([\w\[\]]+)(?:\:\s*((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g),l=/([:]?)([\w\[\].-]+)|\{([\w\[\].-]+)(?:\:\s*((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,c=0,u=[],d=function(e){if(!O.nameValidator.test(e))throw new Error("Invalid parameter name '"+e+"' in pattern '"+i+"'");if(Me(a._params,z("id",e)))throw new Error("Duplicate parameter name '"+e+"' in pattern '"+i+"'")},h=function(e,t){var n=e[2]||e[3],r=t?e[4]:e[4]||("*"===e[1]?"[\\s\\S]*":null);return{id:n,regexp:r,cfg:a.config.params[n],segment:i.substring(c,e.index),type:r?o.type(r)||(n=r,be(o.type(t?"query":"path"),{pattern:new RegExp(n,a.config.caseInsensitive?"i":void 0)})):null}};(n=s.exec(i))&&!(0<=(r=h(n,!1)).segment.indexOf("?"));)d(r.id),this._params.push(e.fromPath(r.id,r.type,this.config.paramMap(r.cfg,!1))),this._segments.push(r.segment),u.push([r.segment,k(this._params)]),c=s.lastIndex;var f=(t=i.substring(c)).indexOf("?");if(0<=f){var p=t.substring(f),t=t.substring(0,f);if(0<p.length)for(c=0;n=l.exec(p);)d((r=h(n,!0)).id),this._params.push(e.fromSearch(r.id,r.type,this.config.paramMap(r.cfg,!0))),c=s.lastIndex}this._segments.push(t),this._compiled=u.map(function(e){return gn.apply(null,e)}).concat(gn(t))}wn.prototype.caseInsensitive=function(e){return this._isCaseInsensitive=S(e)?e:this._isCaseInsensitive},wn.prototype.strictMode=function(e){return this._isStrictMode=S(e)?e:this._isStrictMode},wn.prototype.defaultSquashPolicy=function(e){if(S(e)&&!0!==e&&!1!==e&&!b(e))throw new Error("Invalid squash policy: "+e+". Valid policies: false, true, arbitrary-string");return this._defaultSquashPolicy=S(e)?e:this._defaultSquashPolicy},wn.prototype.compile=function(e,t){return new bn(e,this.paramTypes,this.paramFactory,this._getConfig(t))},wn.prototype.isMatcher=function(n){var r;return!!h(n)&&(r=!0,me(bn.prototype,function(e,t){d(e)&&(r=r&&S(n[t])&&d(n[t]))}),r)},wn.prototype.type=function(e,t,n){e=this.paramTypes.type(e,t,n);return S(t)?this:e},wn.prototype.$get=function(){return this.paramTypes.enqueue=!1,this.paramTypes._flushTypeQueue(),this},wn.prototype.dispose=function(){this.paramTypes.dispose()};var yn=wn;function wn(){var r=this;this.paramTypes=new Kt,this._isCaseInsensitive=!1,this._isStrictMode=!0,this._defaultSquashPolicy=!1,this._getConfig=function(e){return w({strict:r._isStrictMode,caseInsensitive:r._isCaseInsensitive},e)},this.paramFactory={fromConfig:function(e,t,n){return new kt(e,t,n,g.DefType.CONFIG,r)},fromPath:function(e,t,n){return new kt(e,t,n,g.DefType.PATH,r)},fromSearch:function(e,t,n){return new kt(e,t,n,g.DefType.SEARCH,r)}},w(this,{UrlMatcher:bn,Param:kt})}kn.prototype.compile=function(e){return this.router.urlMatcherFactory.compile(e)},kn.prototype.create=function(e,t){var n=this,r=K([[b,function(e){return r(n.compile(e))}],[a(bn),function(e){return n.fromUrlMatcher(e,t)}],[le,function(e){return n.fromState(e,n.router)}],[a(RegExp),function(e){return n.fromRegExp(e,t)}],[d,function(e){return new xn(e,t)}]]),e=r(e);if(e)return e;throw new Error("invalid 'what' in when()")},kn.prototype.fromUrlMatcher=function(n,t){var e=t;b(t)&&(t=this.router.urlMatcherFactory.compile(t)),a(bn)(t)&&(e=function(e){return t.format(e)});var r={urlMatcher:n,matchPriority:function(t){var e=n.parameters().filter(function(e){return e.isOptional});return e.length?e.filter(function(e){return t[e.id]}).length/e.length:1e-6},type:"URLMATCHER"};return w(new xn(function(e){return e=n.exec(e.path,e.search,e.hash),n.validates(e)&&e},e),r)},kn.prototype.fromState=function(r,i){var e={state:r,type:"STATE"};return w(this.fromUrlMatcher(r.url,function(e){var t=i.stateService,n=i.globals;t.href(r,e)!==t.href(n.current,n.params)&&t.transitionTo(r,e,{inherit:!0,source:"url"})}),e)},kn.prototype.fromRegExp=function(t,e){if(t.global||t.sticky)throw new Error("Rule RegExp must not be global or sticky");var n=b(e)?function(n){return e.replace(/\$(\$|\d{1,2})/,function(e,t){return n["$"===t?0:Number(t)]})}:e,r={regexp:t,type:"REGEXP"};return w(new xn(function(e){return t.exec(e.path)},n),r)},kn.isUrlRule=function(t){return t&&["type","match","handler"].every(function(e){return S(t[e])})};var _n=kn;function kn(e){this.router=e}var xn=function(e,t){var n=this;this.match=e,this.type="RAW",this.matchPriority=function(e){return 0-n.$id},this.handler=t||m};var Cn=v("urlMatcher"),Sn=Xe(Ke(F(v("priority"),function(e){return-e})),Ke(F(v("type"),function(e){return{STATE:4,URLMATCHER:4,REGEXP:3,RAW:2,OTHER:1}[e]})),function(e,t){return Cn(e)&&Cn(t)?bn.compare(Cn(e),Cn(t)):0},Ke(v("$id"),ye(["REGEXP","RAW","OTHER"]))),Tn=(M.prototype.dispose=function(){this.listen(!1),this._rules=[],delete this._otherwiseFn},M.prototype.sort=function(e){this._rules.sort(this._sortFn=e||this._sortFn),this._sorted=!0},M.prototype.ensureSorted=function(){this._sorted||this.sort()},M.prototype.match=function(e){for(var t,n=this,r=(this.ensureSorted(),e=w({path:"",search:{},hash:""},e),this.rules()),i=(this._otherwiseFn&&r.push(this._otherwiseFn),0);i<r.length&&(!a||0===this._sortFn(r[i],a.rule));i++){o=r[i],t=void 0;var o=(t=o.match(e,n._router))&&{match:t,rule:o,weight:o.matchPriority(t)},a=!a||o&&o.weight>a.weight?o:a}return a},M.prototype.sync=function(e){var t,n,r,i;e&&e.defaultPrevented||(e=this._router,t=e.urlService,n=e.stateService,r={path:t.path(),search:t.search(),hash:t.hash()},i=this.match(r),K([[b,function(e){return t.url(e,!0)}],[st.isDef,function(e){return n.go(e.state,e.params,e.options)}],[a(st),function(e){return n.go(e.state(),e.params(),e.options())}]])(i&&i.rule.handler(i.match,r,e)))},M.prototype.listen=function(e){var t=this;if(!1!==e)return this._stopFn=this._stopFn||this._router.urlService.onChange(function(e){return t.sync(e)});this._stopFn&&this._stopFn(),delete this._stopFn},M.prototype.update=function(e){var t=this._router.locationService;e?this.location=t.path():t.path()!==this.location&&t.url(this.location,!0)},M.prototype.push=function(e,t,n){n=n&&!!n.replace;this._router.urlService.url(e.format(t||{}),n)},M.prototype.href=function(e,t,n){e=e.format(t);if(null==e)return null;n=n||{absolute:!1};var r,i,o,a,t=this._router.urlService.config,s=t.html5Mode();return s||null===e||(e="#"+t.hashPrefix()+e),r=e,o=s,a=n.absolute,e="/"===(i=t.baseHref())?r:o?i.slice(0,-1)+r:a?i.slice(1)+r:r,n.absolute&&e?(o=!s&&e?"/":"",a=80===(a=t.port())||443===a?"":":"+a,[t.protocol(),"://",t.host(),a,o,e].join("")):e},M.prototype.rule=function(e){var t=this;if(_n.isUrlRule(e))return e.$id=this._id++,e.priority=e.priority||0,this._rules.push(e),this._sorted=!1,function(){return t.removeRule(e)};throw new Error("invalid rule")},M.prototype.removeRule=function(e){f(this._rules,e)},M.prototype.rules=function(){return this.ensureSorted(),this._rules.slice()},M.prototype.otherwise=function(e){e=$n(e);this._otherwiseFn=this.urlRuleFactory.create(s(!0),e),this._sorted=!1},M.prototype.initial=function(e){e=$n(e);this.rule(this.urlRuleFactory.create(function(e,t){return 0===t.globals.transitionHistory.size()&&!!/^\/?$/.exec(e.path)},e))},M.prototype.when=function(e,t,n){e=this.urlRuleFactory.create(e,t);return S(n&&n.priority)&&(e.priority=n.priority),this.rule(e),e},M.prototype.deferIntercept=function(e){this.interceptDeferred=e=void 0===e?!0:e},M);function M(e){this._sortFn=Sn,this._rules=[],this.interceptDeferred=!1,this._id=0,this._sorted=!1,this._router=e,this.urlRuleFactory=new _n(e),l(s(M.prototype),this,s(this))}function $n(e){if(d(e)||b(e)||a(st)(e)||st.isDef(e))return d(e)?e:s(e);throw new Error("'handler' must be a string, function, TargetState, or have a state: 'newtarget' property")}An.prototype._rootViewContext=function(e){return this._rootContext=e||this._rootContext},An.prototype._viewConfigFactory=function(e,t){this._viewConfigFactories[e]=t},An.prototype.createViewConfig=function(e,t){var n=this._viewConfigFactories[t.$type];if(n)return n=n(e,t),y(n)?n:[n];throw new Error("ViewService: No view config factory registered for type "+t.$type)},An.prototype.deactivateViewConfig=function(e){$.traceViewServiceEvent("<- Removing",e),f(this._viewConfigs,e)},An.prototype.activateViewConfig=function(e){$.traceViewServiceEvent("-> Registering",e),this._viewConfigs.push(e)},An.prototype.sync=function(){var n=this,r=this._uiViews.map(function(e){return[e.fqn,e]}).reduce(qe,{});function i(e){for(var t=e.viewDecl.$context,n=0;++n&&t.parent;)t=t.parent;return n}var o=L(function(e,t,n,r){return t*(e(n)-e(r))}),e=this._uiViews.sort(o(function(e){function t(e){return e&&e.parent?t(e.parent)+1:1}return 1e4*e.fqn.split(".").length+t(e.creationContext)},1)).map(function(e){var t=n._viewConfigs.filter(An.matches(r,e));return 1<t.length&&t.sort(o(i,-1)),[e,t[0]]});$.traceViewSync(e),e.forEach(function(e){var t=e[0],e=e[1];-1!==n._uiViews.indexOf(t)&&t.configUpdated(e)})},An.prototype.registerUIView=function(t){$.traceViewServiceUIViewEvent("-> Registering",t);var e=this._uiViews;return e.filter(function(e){return e.fqn===t.fqn&&e.$type===t.$type}).length&&$.traceViewServiceUIViewEvent("!!!! duplicate uiView named:",t),e.push(t),this.sync(),function(){-1===e.indexOf(t)?$.traceViewServiceUIViewEvent("Tried removing non-registered uiView",t):($.traceViewServiceUIViewEvent("<- Deregistering",t),f(e)(t))}},An.prototype.available=function(){return this._uiViews.map(v("fqn"))},An.prototype.active=function(){return this._uiViews.filter(v("$config")).map(v("name"))},An.normalizeUIViewTarget=function(e,t){var t=(t=void 0===t?"":t).split("@"),n=t[0]||"$default",t=b(t[1])?t[1]:"^",r=/^(\^(?:\.\^)*)\.(.*$)/.exec(n);r&&(t=r[1],n=r[2]),"!"===n.charAt(0)&&(n=n.substr(1),t="");return/^(\^(?:\.\^)*)$/.exec(t)?t=t.split(".").reduce(function(e,t){return e.parent},e).name:"."===t&&(t=e.name),{uiViewName:n,uiViewContextAnchor:t}},An.matches=function(r,i){return function(e){var t,n;return i.$type===e.viewDecl.$type&&(n=(e=e.viewDecl).$uiViewName.split("."),t=i.fqn.split("."),!!ge(n,t.slice(0-n.length))&&(n=1-n.length||void 0,t=t.slice(0,n).join("."),n=r[t].creationContext,e.$uiViewContextAnchor===(n&&n.name)))}};var En=An;function An(){var e=this;this._uiViews=[],this._viewConfigs=[],this._viewConfigFactories={},this._pluginapi={_rootViewContext:this._rootViewContext.bind(this),_viewConfigFactory:this._viewConfigFactory.bind(this),_registeredUIViews:function(){return e._uiViews},_activeViewConfigs:function(){return e._viewConfigs}}}Mn.prototype.dispose=function(){this.transitionHistory.clear(),this.successfulTransitions.clear(),this.transition=null};var On=Mn;function Mn(){this.params=new Qt,this.lastStartedTransitionId=-1,this.transitionHistory=new Ze([],1),this.successfulTransitions=new Ze([],1)}function Pn(e){return e.reduce(function(e,t){return e[t]=ue(t),e},{dispose:ve})}var Dn=["url","path","search","hash","onChange"],Rn=["port","protocol","host","baseHref","html5Mode","hashPrefix"],In=["type","caseInsensitive","strictMode","defaultSquashPolicy"],Nn=["sort","when","initial","otherwise","rules","rule","removeRule"],jn=["deferIntercept","listen","sync","match"],Ln=(P.prototype.url=function(e,t,n){},P.prototype.path=function(){},P.prototype.search=function(){},P.prototype.hash=function(){},P.prototype.onChange=function(e){},P.prototype.parts=function(){return{path:this.path(),search:this.search(),hash:this.hash()}},P.prototype.dispose=function(){},P.prototype.sync=function(e){},P.prototype.listen=function(e){},P.prototype.deferIntercept=function(e){},P.prototype.match=function(e){},P.locationServiceStub=Pn(Dn),P.locationConfigStub=Pn(Rn),P);function P(e,t){void 0===t&&(t=!0),this.router=e,this.rules={},this.config={};function n(){return e.locationService}function r(){return e.locationConfig}function i(){return e.urlMatcherFactory}function o(){return e.urlRouter}l(n,this,n,Dn,t),l(r,this.config,r,Rn,t),l(i,this.config,i,In);l(o,this.rules,o,Nn),l(o,this,o,jn)}var Vn=0,Fn=(zn.prototype.disposable=function(e){this._disposables.push(e)},zn.prototype.dispose=function(e){var t=this;e&&d(e.dispose)?e.dispose(this):(this._disposed=!0,this._disposables.slice().forEach(function(e){try{"function"==typeof e.dispose&&e.dispose(t),f(t._disposables,e)}catch(e){}}))},zn.prototype.plugin=function(e,t){e=new e(this,t=void 0===t?{}:t);if(e.name)return this._disposables.push(e),this._plugins[e.name]=e;throw new Error("Required property `name` missing on plugin: "+e)},zn.prototype.getPlugin=function(e){return e?this._plugins[e]:Ne(this._plugins)},zn);function zn(e,t){void 0===e&&(e=Ln.locationServiceStub),void 0===t&&(t=Ln.locationConfigStub),this.locationService=e,this.locationConfig=t,this.$id=Vn++,this._disposed=!1,this._disposables=[],this.trace=$,this.viewService=new En,this.transitionService=new ar(this),this.globals=new On,this.urlMatcherFactory=new yn,this.urlRouter=new Tn(this),this.stateRegistry=new pn(this),this.stateService=new sr(this),this.urlService=new Ln(this),this._plugins={},this.viewService._pluginapi._rootViewContext(this.stateRegistry.root()),this.globals.$current=this.stateRegistry.root(),this.globals.current=this.globals.$current.self,this.disposable(this.globals),this.disposable(this.stateService),this.disposable(this.stateRegistry),this.disposable(this.transitionService),this.disposable(this.urlRouter),this.disposable(e),this.disposable(t)}function Bn(t){t.addResolvable({token:Fn,deps:[],resolveFn:function(){return t.router},data:t.router},""),t.addResolvable({token:Lt,deps:[],resolveFn:function(){return t},data:t},""),t.addResolvable({token:"$transition$",deps:[],resolveFn:function(){return t},data:t},""),t.addResolvable({token:"$stateParams",deps:[],resolveFn:function(){return t.params()},data:t.params()},""),t.entering().forEach(function(e){t.addResolvable({token:"$state$",deps:[],resolveFn:function(){return e},data:e},e)})}function Hn(t){var n,e=t.to().redirectTo;if(e)return n=t.router.stateService,d(e)?u.$q.when(e(t)).then(r):r(e);function r(e){if(e)return e instanceof st?e:b(e)?n.target(e,t.params(),t.options()):e.state||e.params?n.target(e.state||t.to(),e.params||t.params(),t.options()):void 0}}function Un(n){return function(e,t){return(0,t.$$state()[n])(e,t)}}function Wn(e){return new Dt(e.treeChanges().to).resolvePath("EAGER",e).then(ve)}function qn(e,t){return new Dt(e.treeChanges().to).subContext(t.$$state()).resolvePath("LAZY",e).then(ve)}function Yn(e){var t=u.$q;if((e=e.views("entering")).length)return t.all(e.map(function(e){return t.when(e.load())})).then(ve)}function Gn(e){var t,n=e.views("entering"),r=e.views("exiting");(n.length||r.length)&&(t=e.router.viewService,r.forEach(function(e){return t.deactivateViewConfig(e)}),n.forEach(function(e){return t.activateViewConfig(e)}),t.sync())}function Kn(e){function t(){n.transition===e&&(n.transition=null)}var n=e.router.globals;e.onSuccess({},function(){n.successfulTransitions.enqueue(e),n.$current=e.$to(),n.current=n.$current.self,pe(e.params(),n.params)},{priority:1e4}),e.promise.then(t,t)}function Xn(e){var t=e.options(),n=e.router.stateService,e=e.router.urlRouter;"url"!==t.source&&t.location&&n.$current.navigable&&(t={replace:"replace"===t.location},e.push(n.$current.navigable.url,n.params,t)),e.update(!0)}function Jn(n){var r=n.router,e=n.entering().filter(function(e){return!!e.$$state().lazyLoad}).map(function(e){return tr(n,e)});return u.$q.all(e).then(function(){var e,t;return"url"!==n.originalTransition().options().source?(t=n.targetState(),r.stateService.target(t.identifier(),t.params(),t.options())):(e=(t=(t=r.urlService).match(t.parts()))&&t.rule)&&"STATE"===e.type?(e=e.state,t=t.match,r.stateService.target(e,t,n.options())):void r.urlService.sync()})}var Qn=Un("onExit"),Zn=Un("onRetain"),er=Un("onEnter");function tr(t,n){var r=n.$$state().lazyLoad,e=r._promise;return e||(e=r._promise=u.$q.when(r(t,n)).then(function(e){e&&Array.isArray(e.states)&&e.states.forEach(function(e){return t.router.stateRegistry.register(e)});return e}).then(function(e){return delete n.lazyLoad,delete n.$$state().lazyLoad,delete r._promise,e},function(e){return delete r._promise,u.$q.reject(e)})),e}var nr=function(e,t,n,r,i,o,a,s){void 0===i&&(i=!1),void 0===o&&(o=ut.HANDLE_RESULT),void 0===a&&(a=ut.REJECT_ERROR),void 0===s&&(s=!1),this.name=e,this.hookPhase=t,this.hookOrder=n,this.criteriaMatchPath=r,this.reverseSort=i,this.getResultHandler=o,this.getErrorHandler=a,this.synchronous=s};function rr(e){var t=e._ignoredReason();if(t)return $.traceTransitionIgnored(e),e=e.router.globals.transition,"SameAsCurrent"===t&&e&&e.abort(),T.ignored().toPromise()}function ir(e){if(!e.valid())throw new Error(e.error())}var or={location:!0,relative:null,inherit:!1,notify:!0,reload:!1,custom:{},current:function(){return null},source:"unknown"},ar=(D.prototype.onCreate=function(e,t,n){},D.prototype.onBefore=function(e,t,n){},D.prototype.onStart=function(e,t,n){},D.prototype.onExit=function(e,t,n){},D.prototype.onRetain=function(e,t,n){},D.prototype.onEnter=function(e,t,n){},D.prototype.onFinish=function(e,t,n){},D.prototype.onSuccess=function(e,t,n){},D.prototype.onError=function(e,t,n){},D.prototype.dispose=function(e){Ne(this._registeredHooks).forEach(function(t){return t.forEach(function(e){e._deregistered=!0,f(t,e)})})},D.prototype.create=function(e,t){return new Lt(e,t,this._router)},D.prototype._defineCoreEvents=function(){var e=g.TransitionHookPhase,t=ut,n=this._criteriaPaths;this._defineEvent("onCreate",e.CREATE,0,n.to,!1,t.LOG_REJECTED_RESULT,t.THROW_ERROR,!0),this._defineEvent("onBefore",e.BEFORE,0,n.to),this._defineEvent("onStart",e.RUN,0,n.to),this._defineEvent("onExit",e.RUN,100,n.exiting,!0),this._defineEvent("onRetain",e.RUN,200,n.retained),this._defineEvent("onEnter",e.RUN,300,n.entering),this._defineEvent("onFinish",e.RUN,400,n.to),this._defineEvent("onSuccess",e.SUCCESS,0,n.to,!1,t.LOG_REJECTED_RESULT,t.LOG_ERROR,!0),this._defineEvent("onError",e.ERROR,0,n.to,!1,t.LOG_REJECTED_RESULT,t.LOG_ERROR,!0)},D.prototype._defineCorePaths=function(){var e=g.TransitionHookScope.STATE,t=g.TransitionHookScope.TRANSITION;this._definePathType("to",t),this._definePathType("from",t),this._definePathType("exiting",e),this._definePathType("retained",e),this._definePathType("entering",e)},D.prototype._defineEvent=function(e,t,n,r,i,o,a,s){void 0===o&&(o=ut.HANDLE_RESULT),void 0===a&&(a=ut.REJECT_ERROR);e=new nr(e,t,n,r,i=void 0===i?!1:i,o,a,s=void 0===s?!1:s);this._eventTypes.push(e),pt(this,this,e)},D.prototype._getEvents=function(t){return(S(t)?this._eventTypes.filter(function(e){return e.hookPhase===t}):this._eventTypes.slice()).sort(function(e,t){var n=e.hookPhase-t.hookPhase;return 0==n?e.hookOrder-t.hookOrder:n})},D.prototype._definePathType=function(e,t){this._criteriaPaths[e]={name:e,scope:t}},D.prototype._getPathTypes=function(){return this._criteriaPaths},D.prototype.getHooks=function(e){return this._registeredHooks[e]},D.prototype._registerCoreTransitionHooks=function(){var e=this._deregisterHookFns;e.addCoreResolves=this.onCreate({},Bn),e.ignored=this.onBefore({},rr,{priority:-9999}),e.invalid=this.onBefore({},ir,{priority:-1e4}),e.redirectTo=this.onStart({to:function(e){return!!e.redirectTo}},Hn),e.onExit=this.onExit({exiting:function(e){return!!e.onExit}},Qn),e.onRetain=this.onRetain({retained:function(e){return!!e.onRetain}},Zn),e.onEnter=this.onEnter({entering:function(e){return!!e.onEnter}},er),e.eagerResolve=this.onStart({},Wn,{priority:1e3}),e.lazyResolve=this.onEnter({entering:s(!0)},qn,{priority:1e3}),e.loadViews=this.onFinish({},Yn),e.activateViews=this.onSuccess({},Gn),e.updateGlobals=this.onCreate({},Kn),e.updateUrl=this.onSuccess({},Xn,{priority:9999}),e.lazyLoad=this.onBefore({entering:function(e){return!!e.lazyLoad}},Jn)},D);function D(e){this._transitionCount=0,this._eventTypes=[],this._registeredHooks={},this._criteriaPaths={},this._router=e,this.$view=e.viewService,this._deregisterHookFns={},this._pluginapi=l(s(this),{},s(this),["_definePathType","_defineEvent","_getPathTypes","_getEvents","getHooks"]),this._defineCorePaths(),this._defineCoreEvents(),this._registerCoreTransitionHooks()}Object.defineProperty(R.prototype,"transition",{get:function(){return this.router.globals.transition},enumerable:!0,configurable:!0}),Object.defineProperty(R.prototype,"params",{get:function(){return this.router.globals.params},enumerable:!0,configurable:!0}),Object.defineProperty(R.prototype,"current",{get:function(){return this.router.globals.current},enumerable:!0,configurable:!0}),Object.defineProperty(R.prototype,"$current",{get:function(){return this.router.globals.$current},enumerable:!0,configurable:!0}),R.prototype.dispose=function(){this.defaultErrorHandler(ve),this.invalidCallbacks=[]},R.prototype._handleInvalidTargetState=function(e,n){var t=this,r=Tt.makeTargetState(e),i=this.router.globals,o=function(){return i.transitionHistory.peekTail()},a=o(),s=new Ze(this.invalidCallbacks.slice()),l=new Dt(e).injector(),c=function(e){if(e instanceof st)return(e=t.target((e=e).identifier(),e.params(),e.options())).valid()?o()!==a?T.superseded().toPromise():t.transitionTo(e.identifier(),e.params(),e.options()):T.invalid(e.error()).toPromise()};return function t(){var e=s.dequeue();return void 0===e?T.invalid(n.error()).toPromise():u.$q.when(e(n,r,l)).then(c).then(function(e){return e||t()})}()},R.prototype.onInvalid=function(e){return this.invalidCallbacks.push(e),function(){f(this.invalidCallbacks)(e)}.bind(this)},R.prototype.reload=function(e){return this.transitionTo(this.current,this.params,{reload:!S(e)||e,inherit:!1,notify:!1})},R.prototype.go=function(e,t,n){n=Ce(n,{relative:this.$current,inherit:!0},or);return this.transitionTo(e,t,n)},R.prototype.target=function(e,t,n){if(h((n=void 0===n?{}:n).reload)&&!n.reload.name)throw new Error("Invalid reload state object");var r=this.router.stateRegistry;if(n.reloadState=!0===n.reload?r.root():r.matcher.find(n.reload,n.relative),n.reload&&!n.reloadState)throw new Error("No such reload state '"+(b(n.reload)?n.reload:n.reload.name)+"'");r=r.matcher.find(e,n.relative);return new st(e,r,t,n)},R.prototype.getCurrentPath=function(){var e=this,t=this.router.globals.successfulTransitions.peekTail();return t?t.treeChanges().to:[new Ct(e.router.stateRegistry.root())]},R.prototype.transitionTo=function(e,t,n){var i,r,o=this,a=(void 0===t&&(t={}),this.router),s=a.globals,e=(n=Ce(n=void 0===n?{}:n,or),n=w(n,{current:function(){return s.transition}}),this.target(e,t,n)),t=this.getCurrentPath();return e.exists()?e.valid()?(i=function(r){return function(e){if(e instanceof T){var t=a.globals.lastStartedTransitionId===r.$id;if(e.type===g.RejectType.IGNORED)return t&&a.urlRouter.update(),u.$q.when(s.current);var n=e.detail;if(e.type===g.RejectType.SUPERSEDED&&e.redirected&&n instanceof st)return(n=r.redirect(n)).run().catch(i(n));if(e.type===g.RejectType.ABORTED)return t&&a.urlRouter.update(),u.$q.reject(e)}return o.defaultErrorHandler()(e),u.$q.reject(e)}},r=(n=this.router.transitionService.create(t,e)).run().catch(i(n)),Je(r),w(r,{transition:n})):Qe(e.error()):this._handleInvalidTargetState(t,e)},R.prototype.is=function(e,t,n){n=Ce(n,{relative:this.$current});e=this.router.stateRegistry.matcher.find(e,n.relative);if(S(e))return this.$current===e&&(!t||(n=e.parameters({inherit:!0,matchingKeys:t}),kt.equals(n,kt.values(n,t),this.params)))},R.prototype.includes=function(e,t,n){n=Ce(n,{relative:this.$current});var r=b(e)&&X.fromString(e);if(r){if(!r.matches(this.$current.name))return!1;e=this.$current.name}r=this.router.stateRegistry.matcher.find(e,n.relative),e=this.$current.includes;if(S(r))return!!S(e[r.name])&&(!t||(n=r.parameters({inherit:!0,matchingKeys:t}),kt.equals(n,kt.values(n,t),this.params)))},R.prototype.href=function(e,t,n){n=Ce(n,{lossy:!0,inherit:!0,absolute:!1,relative:this.$current}),t=t||{};e=this.router.stateRegistry.matcher.find(e,n.relative);if(!S(e))return null;n.inherit&&(t=this.params.$inherit(t,this.$current,e));e=e&&n.lossy?e.navigable:e;return e&&void 0!==e.url&&null!==e.url?this.router.urlRouter.href(e.url,t,{absolute:n.absolute}):null},R.prototype.defaultErrorHandler=function(e){return this._defaultErrorHandler=e||this._defaultErrorHandler},R.prototype.get=function(e,t){var n=this.router.stateRegistry;return 0===arguments.length?n.get():n.get(e,t||this.$current)},R.prototype.lazyLoad=function(e,t){var n,r,i=this.get(e);if(i&&i.lazyLoad)return n=this.getCurrentPath(),r=Tt.makeTargetState(n),tr(t=t||this.router.transitionService.create(n,r),i);throw new Error("Can not lazy load "+e)};var sr=R;function R(e){this.router=e,this.invalidCallbacks=[],this._defaultErrorHandler=function(e){e instanceof Error&&e.stack?(console.error(e),console.error(e.stack)):e instanceof T?(console.error(e.toString()),e.detail&&e.detail.stack&&console.error(e.detail.stack)):console.error(e)};e=Object.keys(R.prototype).filter(B(ye(["current","$current","params","transition"])));l(s(R.prototype),this,s(this),e)}function lr(n){return function(e){var t;return e?-1===(t=e.indexOf(n))?[e,""]:[e.substr(0,t),e.substr(t+1)]:["",""]}}function cr(e){return e?e.replace(/^#/,""):""}function ur(e){return e.split("&").filter(m).map(br).reduce(yr,{})}var dr={when:function(n){return new Promise(function(e,t){return e(n)})},reject:function(n){return new Promise(function(e,t){t(n)})},defer:function(){var n={};return n.promise=new Promise(function(e,t){n.resolve=e,n.reject=t}),n},all:function(e){var t;return y(e)?Promise.all(e):h(e)?(t=Object.keys(e).map(function(t){return e[t].then(function(e){return{key:t,val:e}})}),dr.all(t).then(function(e){return e.reduce(function(e,t){return e[t.key]=t.val,e},{})})):void 0}},hr={},fr=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,pr=/([^\s,]+)/g,mr={get:function(e){return hr[e]},has:function(e){return null!=mr.get(e)},invoke:function(e,t,n){var r=w({},hr,n||{}),n=mr.annotate(e),i=ze(function(e){return r.hasOwnProperty(e)},function(e){return"DI can't find injectable: '"+e+"'"}),n=n.filter(i).map(function(e){return r[e]});return(d(e)?e:e.slice(-1)[0]).apply(t,n)},annotate:function(e){var t;if(ce(e))return e&&e.$inject?e.$inject:y(e)?e.slice(0,-1):(t=e.toString().replace(fr,"")).slice(t.indexOf("(")+1,t.indexOf(")")).match(pr)||[];throw new Error("Not an injectable function: "+e)}},gr=lr("#"),vr=lr("?"),br=lr("="),yr=function(e,t){var n=t[0],t=t[1];return e.hasOwnProperty(n)?y(e[n])?e[n].push(t):e[n]=[e[n],t]:e[n]=t,e};function wr(e){function t(e){return e||""}var n=gr(e).map(t),r=n[0],n=n[1],r=vr(r).map(t);return{path:r[0],search:r[1],hash:n,url:e}}function _r(e){var t=e.path(),n=e.search(),e=e.hash(),r=Object.keys(n).map(function(t){var e=n[t];return(y(e)?e:[e]).map(function(e){return t+"="+e})}).reduce(p,[]).join("&");return t+(r?"?"+r:"")+(e?"#"+e:"")}function kr(r,i,o,a){return function(e){var t=e.locationService=new o(e),n=e.locationConfig=new a(e,i);return{name:r,service:t,configuration:n,dispose:function(e){e.dispose(t),e.dispose(n)}}}}xr.prototype.url=function(e,t){var n;return void 0===t&&(t=!0),S(e)&&e!==this._get()&&(this._set(null,null,e,t),this.fireAfterUpdate&&(n=w(new Event("locationchange"),{url:e}),this._listeners.forEach(function(e){return e(n)}))),_r(this)},xr.prototype.onChange=function(e){var t=this;return this._listeners.push(e),function(){return f(t._listeners,e)}},xr.prototype.dispose=function(e){xe(this._listeners)};r=xr;function xr(e,t){var n=this;this.fireAfterUpdate=t,this._listener=function(t){return n._listeners.forEach(function(e){return e(t)})},this._listeners=[],this.hash=function(){return wr(n._get()).hash},this.path=function(){return wr(n._get()).path},this.search=function(){return ur(wr(n._get()).search)},this._location=window&&window.location,this._history=window&&window.history}Cr=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};(function(e,t){function n(){this.constructor=e}Cr(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)})($r,Sr=r),$r.prototype._get=function(){return cr(this._location.hash)},$r.prototype._set=function(e,t,n,r){this._location.hash=n},$r.prototype.dispose=function(e){Sr.prototype.dispose.call(this,e),window.removeEventListener("hashchange",this._listener)};var Cr,Sr,Tr=$r;function $r(e){e=Sr.call(this,e,!1)||this;return window.addEventListener("hashchange",e._listener,!1),e}Er=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};(function(e,t){function n(){this.constructor=e}Er(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)})(Mr,Ar=r),Mr.prototype._get=function(){return this._url},Mr.prototype._set=function(e,t,n,r){this._url=n};var Er,Ar,Or=Mr;function Mr(e){return Ar.call(this,e,!0)||this}Pr=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};(function(e,t){function n(){this.constructor=e}Pr(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)})(Ir,Dr=r),Ir.prototype._get=function(){var e=this._location,t=e.pathname,n=e.hash,e=e.search;return t+((e=vr(e)[1])?"?"+e:"")+(gr(n)[1]?"$"+e:"")},Ir.prototype._set=function(e,t,n,r){var i=this._config,o=this._history,i=i.baseHref()+n;r?o.replaceState(e,t,i):o.pushState(e,t,i)},Ir.prototype.dispose=function(e){Dr.prototype.dispose.call(this,e),window.removeEventListener("popstate",this._listener)};var Pr,Dr,Rr=Ir;function Ir(e){var t=Dr.call(this,e,!0)||this;return t._config=e.urlService.config,window.addEventListener("popstate",t._listener,!1),t}function Nr(){var t=this;this._baseHref="",this._port=80,this._protocol="http",this._host="localhost",this._hashPrefix="",this.port=function(){return t._port},this.protocol=function(){return t._protocol},this.host=function(){return t._host},this.baseHref=function(){return t._baseHref},this.html5Mode=function(){return!1},this.hashPrefix=function(e){return S(e)?t._hashPrefix=e:t._hashPrefix},this.dispose=ve}Lr.prototype.port=function(){return location.port?Number(location.port):"https"===this.protocol()?443:80},Lr.prototype.protocol=function(){return location.protocol.replace(/:/g,"")},Lr.prototype.host=function(){return location.host},Lr.prototype.html5Mode=function(){return this._isHtml5},Lr.prototype.hashPrefix=function(e){return S(e)?this._hashPrefix=e:this._hashPrefix},Lr.prototype.baseHref=function(e){return S(e)?this._baseHref=e:this._baseHref||this.applyDocumentBaseHref()},Lr.prototype.applyDocumentBaseHref=function(){var e=document.getElementsByTagName("base");return this._baseHref=e.length?e[0].href.substr(location.origin.length):""},Lr.prototype.dispose=function(){};var jr=Lr;function Lr(e,t){this._isHtml5=t=void 0===t?!1:t,this._baseHref=void 0,this._hashPrefix=""}function Vr(e){return u.$injector=mr,{name:"vanilla.services",$q:u.$q=dr,$injector:mr,dispose:function(){return null}}}var Fr=kr("vanilla.hashBangLocation",!1,Tr,jr),zr=kr("vanilla.pushStateLocation",!0,Rr,jr),Br=kr("vanilla.memoryLocation",!1,Or,Nr),Hr=(Ur.prototype.dispose=function(e){},Ur);function Ur(){}var Wr=Object.freeze({fromJson:he,toJson:fe,copy:pe,forEach:me,extend:w,equals:ge,identity:m,noop:ve,createProxyFunctions:l,inherit:be,inArray:ye,_inArray:we,removeFrom:f,_removeFrom:_e,pushTo:j,_pushTo:ke,deregAll:xe,defaults:Ce,mergeR:Se,ancestors:Te,pick:$e,omit:Ee,pluck:Ae,filter:Oe,find:Me,mapObj:Pe,map:_,values:Ne,allTrueR:De,anyTrueR:Re,unnestR:p,flattenR:Ie,pushR:je,uniqR:Le,unnest:Ve,flatten:Fe,assertPredicate:ze,assertMap:Be,assertFn:He,pairs:Ue,arrayTuples:We,applyPairs:qe,tail:k,_extend:Ye,sortBy:Ke,composeSort:Xe,silenceUncaughtInPromise:Je,silentRejection:Qe,notImplemented:ue,services:u,Glob:X,curry:L,compose:V,pipe:F,prop:v,propEq:z,parse:C,not:B,and:H,or:U,all:W,any:q,is:a,eq:Y,val:s,invoke:G,pattern:K,isUndefined:oe,isDefined:S,isNull:te,isNullOrUndefined:ae,isFunction:d,isNumber:se,isString:b,isObject:h,isArray:y,isDate:ne,isRegExp:re,isState:le,isInjectable:ce,isPromise:de,Queue:Ze,maxLength:Vt,padString:Ft,kebobString:zt,functionToString:Bt,fnToString:Ht,stringify:A,beforeAfterSubstr:qt,splitOnDelim:Yt,joinNeighborsR:Gt,get Category(){return g.Category},Trace:e,trace:$,get DefType(){return g.DefType},Param:kt,ParamTypes:Kt,StateParams:Qt,ParamType:vt,PathNode:Ct,PathUtils:Tt,resolvePolicies:At,defaultResolvePolicy:$t,Resolvable:c,NATIVE_INJECTOR_TOKEN:Pt,ResolveContext:Dt,resolvablesBuilder:sn,StateBuilder:ln,StateObject:Q,StateMatcher:un,StateQueueManager:hn,StateRegistry:pn,StateService:sr,TargetState:st,get TransitionHookPhase(){return g.TransitionHookPhase},get TransitionHookScope(){return g.TransitionHookScope},HookBuilder:mt,matchState:dt,RegisteredHook:ht,makeEvent:pt,get RejectType(){return g.RejectType},Rejection:T,Transition:Lt,TransitionHook:ut,TransitionEventType:nr,defaultTransOpts:or,TransitionService:ar,UrlMatcher:bn,UrlMatcherFactory:yn,UrlRouter:Tn,UrlRuleFactory:_n,BaseUrlRule:xn,UrlService:Ln,ViewService:En,UIRouterGlobals:On,UIRouter:Fn,$q:dr,$injector:mr,BaseLocationServices:r,HashLocationService:Tr,MemoryLocationService:Or,PushStateLocationService:Rr,MemoryLocationConfig:Nr,BrowserLocationConfig:jr,splitHash:gr,splitQuery:vr,splitEqual:br,trimHashVal:cr,keyValsToObjectR:yr,getParams:ur,parseUrl:wr,buildUrl:_r,locationPluginFactory:kr,servicesPlugin:Vr,hashLocationPlugin:Fr,pushStateLocationPlugin:zr,memoryLocationPlugin:Br,UIRouterPluginBase:Hr});function qr(){var n=null;return function(e,t){return n=n||u.$injector.get("$templateFactory"),[new Xr(e,t,n)]}}var Yr=function(e,n){return e.reduce(function(e,t){return e||S(n[t])},!1)};function Gr(r){if(!r.parent)return{};var i=["component","bindings","componentProvider"],o=["templateProvider","templateUrl","template","notify","async"].concat(["controller","controllerProvider","controllerAs","resolveAs"]),e=i.concat(o);if(S(r.views)&&Yr(e,r))throw new Error("State '"+r.name+"' has a 'views' object. It cannot also have \"view properties\" at the state level.  Move the following properties into a view (in the 'views' object):  "+e.filter(function(e){return S(r[e])}).join(", "));var a={},e=r.views||{$default:$e(r,e)};return me(e,function(e,t){if(t=t||"$default",b(e)&&(e={component:e}),e=w({},e),Yr(i,e)&&Yr(o,e))throw new Error("Cannot combine: "+i.join("|")+" with: "+o.join("|")+" in stateview: '"+t+"@"+r.name+"'");e.resolveAs=e.resolveAs||"$resolve",e.$type="ng1",e.$context=r,e.$name=t;var n=En.normalizeUIViewTarget(e.$context,e.$name);e.$uiViewName=n.uiViewName,e.$uiViewContextAnchor=n.uiViewContextAnchor,a[t]=e}),a}var Kr=0,Xr=(Jr.prototype.load=function(){var t=this,e=u.$q,n=new Dt(this.path),r=this.path.reduce(function(e,t){return w(e,t.paramValues)},{}),r={template:e.when(this.factory.fromConfig(this.viewDecl,r,n)),controller:e.when(this.getController(n))};return e.all(r).then(function(e){return $.traceViewServiceEvent("Loaded",t),t.controller=e.controller,w(t,e.template),t})},Jr.prototype.getController=function(e){var t,n=this.viewDecl.controllerProvider;return ce(n)?(t=u.$injector.annotate(n),n=y(n)?k(n):n,new c("",n,t).get(e)):this.viewDecl.controller},Jr);function Jr(e,t,n){var r=this;this.path=e,this.viewDecl=t,this.factory=n,this.$id=Kr++,this.loaded=!1,this.getTemplate=function(e,t){return r.component?r.factory.makeComponentTemplate(e,t,r.component,r.viewDecl.bindings):r.template}}Zr.prototype.useHttpService=function(e){this._useHttp=e},Zr.prototype.fromConfig=function(e,t,n){function r(e){return u.$q.when(e).then(function(e){return{template:e}})}function i(e){return u.$q.when(e).then(function(e){return{component:e}})}return S(e.template)?r(this.fromString(e.template,t)):S(e.templateUrl)?r(this.fromUrl(e.templateUrl,t)):S(e.templateProvider)?r(this.fromProvider(e.templateProvider,t,n)):S(e.component)?i(e.component):S(e.componentProvider)?i(this.fromComponentProvider(e.componentProvider,t,n)):r("<ui-view></ui-view>")},Zr.prototype.fromString=function(e,t){return d(e)?e(t):e},Zr.prototype.fromUrl=function(e,t){return null==(e=d(e)?e(t):e)?null:this._useHttp?this.$http.get(e,{cache:this.$templateCache,headers:{Accept:"text/html"}}).then(function(e){return e.data}):this.$templateRequest(e)},Zr.prototype.fromProvider=function(e,t,n){var r=u.$injector.annotate(e),e=y(e)?k(e):e;return new c("",e,r).get(n)},Zr.prototype.fromComponentProvider=function(e,t,n){var r=u.$injector.annotate(e),e=y(e)?k(e):e;return new c("",e,r).get(n)},Zr.prototype.makeComponentTemplate=function(i,o,e,a){a=a||{};function s(e){return e=zt(e),/^(x|data)-/.exec(e)?"x-"+e:e}var l=3<=x.version.minor?"::":"",t=function(e){var t=u.$injector.get(e+"Directive");if(t&&t.length)return t.map(ei).reduce(p,[]);throw new Error("Unable to find component named '"+e+"'")}(e).map(function(e){var t,n=e.name,e=e.type,r=s(n);return i.attr(r)&&!a[n]?r+"='"+i.attr(r)+"'":(n=a[n]||n,"@"===e?r+"='{{"+l+"$resolve."+n+"}}'":"&"===e?(t=(e=(e=o.getResolvable(n))&&e.data)&&u.$injector.annotate(e)||[],r+"='$resolve."+n+(y(e)?"["+(e.length-1)+"]":"")+"("+t.join(",")+")'"):r+"='"+l+"$resolve."+n+"'")}).join(" "),e=s(e);return"<"+e+" "+t+"></"+e+">"};var Qr=Zr;function Zr(){var r=this;this._useHttp=x.version.minor<3,this.$get=["$http","$templateCache","$injector",function(e,t,n){return r.$templateRequest=n.has&&n.has("$templateRequest")&&n.get("$templateRequest"),r.$http=e,r.$templateCache=t,r}]}var ei=function(e){return h(e.bindToController)?ti(e.bindToController):ti(e.scope)},ti=function(t){return Object.keys(t||{}).map(function(e){return[e,/^([=<@&])[?]?(.*)/.exec(t[e])]}).filter(function(e){return S(e)&&y(e[1])}).map(function(e){return{name:e[1][2]||e[0],type:e[1][1]}})},ni=(ri.prototype.decorator=function(e,t){return this.stateRegistry.decorator(e,t)||this},ri.prototype.state=function(e,t){return h(e)?t=e:t.name=e,this.stateRegistry.register(t),this},ri.prototype.onInvalid=function(e){return this.stateService.onInvalid(e)},ri);function ri(e,t){this.stateRegistry=e,this.stateService=t,l(s(ri.prototype),this,s(this))}function ii(n){return function(e,t){var r=e[n],i="onExit"===n?"from":"to";return r?function(e,t){var n=new Dt(e.treeChanges(i)),n=w(bi(n),{$state$:t,$transition$:e});return u.$injector.invoke(r,this,n)}:void 0}}ai.prototype.dispose=function(){},ai.prototype.onChange=function(e){var t=this;return this._urlListeners.push(e),function(){return f(t._urlListeners)(e)}},ai.prototype.html5Mode=function(){var e=this.$locationProvider.html5Mode();return(e=h(e)?e.enabled:e)&&this.$sniffer.history},ai.prototype.url=function(e,t,n){return void 0===t&&(t=!1),e&&this.$location.url(e),t&&this.$location.replace(),n&&this.$location.state(n),this.$location.url()},ai.prototype._runtimeServices=function(e,t,n,r){var i=this,n=(this.$location=t,this.$sniffer=n,e.$on("$locationChangeSuccess",function(t){return i._urlListeners.forEach(function(e){return e(t)})}),s(t)),e=s(r);l(n,this,n,["replace","path","search","hash"]),l(n,this,n,["port","protocol","host"]),l(e,this,e,["baseHref"])},ai.monkeyPatchPathParameterType=function(e){e=e.urlMatcherFactory.type("path");e.encode=function(e){return null!=e?e.toString().replace(/(~|\/)/g,function(e){return{"~":"~~","/":"~2F"}[e]}):e},e.decode=function(e){return null!=e?e.toString().replace(/(~~|~2F)/g,function(e){return{"~~":"~","~2F":"/"}[e]}):e}};var oi=ai;function ai(e){this._urlListeners=[],this.$locationProvider=e;e=s(e);l(e,this,e,["hashPrefix"])}li.prototype.$get=function(){var e=this._urlRouter;return e.update(!0),e.interceptDeferred||e.listen(),e},li.prototype.rule=function(e){var t,n=this;if(d(e))return t=new xn(function(){return e(u.$injector,n._router.locationService)},m),this._urlRouter.rule(t),this;throw new Error("'rule' must be a function")},li.prototype.otherwise=function(e){var t=this,n=this._urlRouter;if(b(e))n.otherwise(e);else{if(!d(e))throw new Error("'rule' must be a string or function");n.otherwise(function(){return e(u.$injector,t._router.locationService)})}return this},li.prototype.when=function(e,t){return(y(t)||d(t))&&(t=li.injectableHandler(this._router,t)),this._urlRouter.when(e,t),this},li.injectableHandler=function(t,n){return function(e){return u.$injector.invoke(n,null,{$match:e,$stateParams:t.globals.params})}},li.prototype.deferIntercept=function(e){this._urlRouter.deferIntercept(e)};var si=li;function li(e){this._router=e,this._urlRouter=e.urlRouter}x.module("ui.router.angular1",[]);var ci=x.module("ui.router.init",[]),ui=x.module("ui.router.util",["ng","ui.router.init"]),di=x.module("ui.router.router",["ui.router.util"]),hi=x.module("ui.router.state",["ui.router.router","ui.router.util","ui.router.angular1"]),fi=x.module("ui.router",["ui.router.init","ui.router.state","ui.router.angular1"]),I=(x.module("ui.router.compat",["ui.router"]),null);function pi(e){(I=this.router=new Fn).stateProvider=new ni(I.stateRegistry,I.stateService),I.stateRegistry.decorator("views",Gr),I.stateRegistry.decorator("onExit",ii("onExit")),I.stateRegistry.decorator("onRetain",ii("onRetain")),I.stateRegistry.decorator("onEnter",ii("onEnter")),I.viewService._pluginapi._viewConfigFactory("ng1",qr());var a=I.locationService=I.locationConfig=new oi(e);function t(e,t,n,r,i,o){return a._runtimeServices(r,e,n,t),delete I.router,delete I.$get,I}return oi.monkeyPatchPathParameterType(I),((I.router=I).$get=t).$inject=["$location","$browser","$sniffer","$rootScope","$http","$templateCache"],I}pi.$inject=["$locationProvider"];function mi(n){return["$uiRouterProvider",function(e){var t=e.router[n];return t.$get=function(){return t},t}]}function gi(t,e,n){u.$injector=t,u.$q=e,n.stateRegistry.get().map(function(e){return e.$$state().resolvables}).reduce(p,[]).filter(function(e){return"deferred"===e.deps}).forEach(function(e){return e.deps=t.annotate(e.resolveFn,t.strictDi)})}gi.$inject=["$injector","$q","$uiRouter"];function vi(e){e.$watch(function(){$.approximateDigests++})}vi.$inject=["$rootScope"],ci.provider("$uiRouter",pi),di.provider("$urlRouter",["$uiRouterProvider",function(e){return e.urlRouterProvider=new si(e)}]),ui.provider("$urlService",mi("urlService")),ui.provider("$urlMatcherFactory",["$uiRouterProvider",function(){return I.urlMatcherFactory}]),ui.provider("$templateFactory",function(){return new Qr}),hi.provider("$stateRegistry",mi("stateRegistry")),hi.provider("$uiRouterGlobals",mi("globals")),hi.provider("$transitions",mi("transitionService")),hi.provider("$state",["$uiRouterProvider",function(){return w(I.stateProvider,{$get:function(){return I.stateService}})}]),hi.factory("$stateParams",["$uiRouter",function(e){return e.globals.params}]),fi.factory("$view",function(){return I.viewService}),fi.service("$trace",function(){return $}),fi.run(vi),ui.run(["$urlMatcherFactory",function(e){}]),hi.run(["$state",function(e){}]),di.run(["$urlRouter",function(e){}]),ci.run(gi);var bi=function(n){return n.getTokens().filter(b).map(function(e){var t=n.getResolvable(e);return[e,"NOWAIT"===n.getPolicy(t).async?t.promise:t.data]}).reduce(qe,{})};function yi(e){var t=e.match(/^\s*({[^}]*})\s*$/);if((t=(e=t?"("+t[1]+")":e).replace(/\n/g," ").match(/^\s*([^(]*?)\s*(\((.*)\))?\s*$/))&&4===t.length)return{state:t[1]||null,paramExpr:t[3]||null};throw new Error("Invalid state ref '"+e+"'")}function wi(e){e=e.parent().inheritedData("$uiView"),e=C("$cfg.path")(e);return e?k(e).state.name:void 0}function _i(e,t,n){var r=n.uiState||e.current.name,t=w((i=e,{relative:wi(t)||i.$current,inherit:!0,source:"sref"}),n.uiStateOpts||{}),i=e.href(r,n.uiStateParams,t);return{uiState:r,uiStateParams:n.uiStateParams,uiStateOpts:t,href:i}}function ki(e){var t="[object SVGAnimatedString]"===Object.prototype.toString.call(e.prop("href")),n="FORM"===e[0].nodeName;return{attr:n?"action":t?"xlink:href":"href",isAnchor:"A"===e.prop("tagName").toUpperCase(),clickable:!n}}function xi(o,a,s,l,c){return function(e){var t,n,r=e.which||e.button,i=c();1<r||e.ctrlKey||e.metaKey||e.shiftKey||o.attr("target")||(t=s(function(){a.go(i.uiState,i.uiStateParams,i.uiStateOpts)}),e.preventDefault(),n=l.isAnchor&&!i.href?1:0,e.preventDefault=function(){n--<=0&&s.cancel(t)})}}function Ci(i,e,o,t){t&&(a=t.events),y(a)||(a=["click"]);for(var a,n=i.on?"on":"bind",r=0,s=a;r<s.length;r++){var l=s[r];i[n](l,o)}e.$on("$destroy",function(){for(var e=i.off?"off":"unbind",t=0,n=a;t<n.length;t++){var r=n[t];i[e](r,o)}})}function Si(r){function e(e,t,n){return r.is(e,t,n)}return e.$stateful=!0,e}function Ti(r){function e(e,t,n){return r.includes(e,t,n)}return e.$stateful=!0,e}function $i(h,f,p,e,m,t){var g=C("viewDecl.controllerAs"),v=C("viewDecl.resolveAs");return{restrict:"ECA",priority:-400,compile:function(e){var d=e.html();return e.empty(),function(t,n){var r,e,i,o,a,s,l,c,u=n.data("$uiView");(u?(i=(r=u.$cfg||{viewDecl:{},getTemplate:N.noop}).path&&new Dt(r.path),n.html(r.getTemplate(n,i)||d),$.traceUIViewFill(u.$uiView,n.html()),u=h(n.contents()),o=r.controller,s=g(r),e=v(r),i=i&&bi(i),t[e]=i,o&&(o=f(o,w({},i,{$scope:t,$element:n})),s&&(t[s]=o,t[s][e]=i),n.data("$ngControllerController",o),n.children().data("$ngControllerController",o),Oi(m,p,o,t,r)),b(r.viewDecl.component)&&(s=zt(a=r.viewDecl.component),l=new RegExp("^(x-|data-)?"+s+"$","i"),c=t.$watch(function(){var e=[].slice.call(n[0].children).filter(function(e){return e&&e.tagName&&l.exec(e.tagName)});return e&&x.element(e).data("$"+a+"Controller")},function(e){e&&(Oi(m,p,e,t,r),c())})),u):(n.html(d),h(n.contents())))(t)}}}}fi=["$uiRouter","$timeout",function(u,d){var h=u.stateService;return{restrict:"A",require:["?^uiSrefActive","?^uiSrefActiveEq"],link:function(e,t,n,r){function i(){return _i(h,t,l)}var o=ki(t),a=r[1]||r[0],s=null,l={},r=yi(n.uiSref);function c(){var e=i();s&&s(),a&&(s=a.$$addStateInfo(e.uiState,e.uiStateParams)),null!=e.href&&n.$set(o.attr,e.href)}l.uiState=r.state,l.uiStateOpts=n.uiSrefOpts?e.$eval(n.uiSrefOpts):{},r.paramExpr&&(e.$watch(r.paramExpr,function(e){l.uiStateParams=w({},e),c()},!0),l.uiStateParams=w({},e.$eval(r.paramExpr))),c(),e.$on("$destroy",u.stateRegistry.onStatesChanged(c)),e.$on("$destroy",u.transitionService.onSuccess({},c)),o.clickable&&(r=xi(t,h,d,o,i),Ci(t,e,r,l.uiStateOpts))}}}],ui=["$uiRouter","$timeout",function(d,h){var f=d.stateService;return{restrict:"A",require:["?^uiSrefActive","?^uiSrefActiveEq"],link:function(n,e,r,t){function i(){return _i(f,e,l)}var o=ki(e),a=t[1]||t[0],s=null,l={},t=["uiState","uiStateParams","uiStateOpts"],c=t.reduce(function(e,t){return e[t]=ve,e},{});function u(){var e=i();s&&s(),a&&(s=a.$$addStateInfo(e.uiState,e.uiStateParams)),null!=e.href&&r.$set(o.attr,e.href)}t.forEach(function(t){l[t]=r[t]?n.$eval(r[t]):null,r.$observe(t,function(e){c[t](),c[t]=n.$watch(e,function(e){l[t]=e,u()},!0)})}),u(),n.$on("$destroy",d.stateRegistry.onStatesChanged(u)),n.$on("$destroy",d.transitionService.onSuccess({},u)),o.clickable&&(t=xi(e,f,h,o,i),Ci(e,n,t,l.uiStateOpts))}}}],hi=["$state","$stateParams","$interpolate","$uiRouter",function(d,e,o,a){return{restrict:"A",controller:["$scope","$element","$attrs",function(s,l,e){var n,c=[],u=o(e.uiSrefActiveEq||"",!1)(s);try{n=s.$eval(e.uiSrefActive)}catch(e){}function t(e){e.promise.then(i,ve)}function r(e,t,n){var r={state:d.get(e,wi(l))||{name:e},params:t,activeClass:n};return c.push(r),function(){f(c)(r)}}function i(){function t(e){return e.split(/\s/).filter(m)}function e(e){return e.map(function(e){return e.activeClass}).map(t).reduce(p,[])}var n=e(c).concat(t(u)).reduce(Le,[]),r=e(c.filter(function(e){return d.includes(e.state.name,e.params)})),i=!!c.filter(function(e){return d.is(e.state.name,e.params)}).length?t(u):[],o=r.concat(i).reduce(Le,[]),a=n.filter(function(e){return!ye(o,e)});s.$evalAsync(function(){o.forEach(function(e){return l.addClass(e)}),a.forEach(function(e){return l.removeClass(e)})})}n=n||o(e.uiSrefActive||"",!1)(s),h(n)&&me(n,function(e,t){b(e)&&r((e=yi(e)).state,s.$eval(e.paramExpr),t)}),this.$$addStateInfo=function(e,t){if(!(h(n)&&0<c.length))return e=r(e,t,n),i(),e},s.$on("$stateChangeSuccess",i),s.$on("$destroy",a.transitionService.onStart({},t)),a.globals.transition&&t(a.globals.transition),i()}]}}],x.module("ui.router.state").directive("uiSref",fi).directive("uiSrefActive",hi).directive("uiSrefActiveEq",hi).directive("uiState",ui),Si.$inject=["$state"],Ti.$inject=["$state"],x.module("ui.router.state").filter("isState",Si).filter("includedByState",Ti),di=["$view","$animate","$uiViewScroll","$interpolate","$q",function(i,o,b,y,w){var _={$cfg:{viewDecl:{$context:i._pluginapi._rootViewContext()}},$uiView:{}},k={count:0,restrict:"ECA",terminal:!0,priority:400,transclude:"element",compile:function(e,t,v){return function(a,s,e){var l,c,u,t,d=e.onload||"",h=e.autoscroll,f={enter:function(e,t,n){2<x.version.minor?o.enter(e,null,t).then(n):o.enter(e,null,t,n)},leave:function(e,t){2<x.version.minor?o.leave(e).then(t):o.leave(e,t)}},p=void 0,n=s.inheritedData("$uiView")||_,m=y(e.uiView||e.name||"")(a)||"$default",g={$type:"ng1",id:k.count++,name:m,fqn:n.$uiView.fqn?n.$uiView.fqn+"."+m:m,config:null,configUpdated:function(e){(!e||e instanceof Xr)&&p!==e&&($.traceUIViewConfigUpdated(g,e&&e.viewDecl&&e.viewDecl.$context),r(p=e))},get creationContext(){var e=C("$cfg.viewDecl.$context")(n),t=C("$uiView.creationContext")(n);return e||t}};function r(e){var t=a.$new(),n=w.defer(),r=w.defer(),i={$cfg:e,$uiView:g},o={$animEnter:n.promise,$animLeave:r.promise,$$animLeave:r};t.$emit("$viewContentLoading",m),c=v(t,function(e){var t;e.data("$uiViewAnim",o),e.data("$uiView",i),f.enter(e,s,function(){n.resolve(),u&&u.$emit("$viewContentAnimationEnded"),(S(h)&&!h||a.$eval(h))&&b(e)}),l&&($.traceUIViewEvent("Removing (previous) el",l.data("$uiView")),l.remove(),l=null),u&&($.traceUIViewEvent("Destroying scope",g),u.$destroy(),u=null),c&&(t=c.data("$uiViewAnim"),$.traceUIViewEvent("Animate out",t),f.leave(c,function(){t.$$animLeave.resolve(),l=null}),l=c,c=null)}),(u=t).$emit("$viewContentLoaded",e||p),u.$eval(d)}$.traceUIViewEvent("Linking",g),s.data("$uiView",{$uiView:g}),r(),t=i.registerUIView(g),a.$on("$destroy",function(){$.traceUIViewEvent("Destroying/Unregistering",g),t()})}}};return k}],$i.$inject=["$compile","$controller","$transitions","$view","$q","$timeout"];var Ei="function"==typeof x.module("ui.router").component,Ai=0;function Oi(r,e,a,t,n){!d(a.$onInit)||n.viewDecl.component&&Ei||a.$onInit();var s,i,o,l,c=k(n.path).state.self,u={bind:a};d(a.uiOnParamsChanged)&&(s=new Dt(n.path).getResolvable("$transition$").data,t.$on("$destroy",e.onSuccess({},function(e){var n,r,i,o,t;e!==s&&-1===e.exiting().indexOf(c)&&(n=e.params("to"),r=e.params("from"),t=e.treeChanges().to.map(function(e){return e.paramSchema}).reduce(p,[]),i=e.treeChanges().from.map(function(e){return e.paramSchema}).reduce(p,[]),(t=t.filter(function(e){var t=i.indexOf(e);return-1===t||!i[t].type.equals(n[e.id],r[e.id])})).length&&(o=t.map(function(e){return e.id}),t=Oe(n,function(e,t){return-1!==o.indexOf(t)}),a.uiOnParamsChanged(t,e)))},u))),d(a.uiCanExit)&&(i=Ai++,o="_uiCanExitIds",l=function(e){return!!e&&(e[o]&&!0===e[o][i]||l(e.redirectedFrom()))},n={exiting:c.name},t.$on("$destroy",e.onBefore(n,function(e){var t,n=e[o]=e[o]||{};return l(e)||(t=r.when(a.uiCanExit(e))).then(function(e){return n[i]=!1!==e}),t},u)))}x.module("ui.router.state").directive("uiView",di),x.module("ui.router.state").directive("uiView",$i),x.module("ui.router.state").provider("$uiViewScroll",function(){var n=!1;this.useAnchorScroll=function(){n=!0},this.$get=["$anchorScroll","$timeout",function(e,t){return n?e:function(e){return t(function(){e[0].scrollIntoView()},0,!1)}}]});g.default="ui.router",g.core=Wr,g.watchDigests=vi,g.getLocals=bi,g.getNg1ViewConfigFactory=qr,g.ng1ViewsBuilder=Gr,g.Ng1ViewConfig=Xr,g.StateProvider=ni,g.UrlRouterProvider=si,g.fromJson=he,g.toJson=fe,g.copy=pe,g.forEach=me,g.extend=w,g.equals=ge,g.identity=m,g.noop=ve,g.createProxyFunctions=l,g.inherit=be,g.inArray=ye,g._inArray=we,g.removeFrom=f,g._removeFrom=_e,g.pushTo=j,g._pushTo=ke,g.deregAll=xe,g.defaults=Ce,g.mergeR=Se,g.ancestors=Te,g.pick=$e,g.omit=Ee,g.pluck=Ae,g.filter=Oe,g.find=Me,g.mapObj=Pe,g.map=_,g.values=Ne,g.allTrueR=De,g.anyTrueR=Re,g.unnestR=p,g.flattenR=Ie,g.pushR=je,g.uniqR=Le,g.unnest=Ve,g.flatten=Fe,g.assertPredicate=ze,g.assertMap=Be,g.assertFn=He,g.pairs=Ue,g.arrayTuples=We,g.applyPairs=qe,g.tail=k,g._extend=Ye,g.sortBy=Ke,g.composeSort=Xe,g.silenceUncaughtInPromise=Je,g.silentRejection=Qe,g.notImplemented=ue,g.services=u,g.Glob=X,g.curry=L,g.compose=V,g.pipe=F,g.prop=v,g.propEq=z,g.parse=C,g.not=B,g.and=H,g.or=U,g.all=W,g.any=q,g.is=a,g.eq=Y,g.val=s,g.invoke=G,g.pattern=K,g.isUndefined=oe,g.isDefined=S,g.isNull=te,g.isNullOrUndefined=ae,g.isFunction=d,g.isNumber=se,g.isString=b,g.isObject=h,g.isArray=y,g.isDate=ne,g.isRegExp=re,g.isState=le,g.isInjectable=ce,g.isPromise=de,g.Queue=Ze,g.maxLength=Vt,g.padString=Ft,g.kebobString=zt,g.functionToString=Bt,g.fnToString=Ht,g.stringify=A,g.beforeAfterSubstr=qt,g.splitOnDelim=Yt,g.joinNeighborsR=Gt,g.Trace=e,g.trace=$,g.Param=kt,g.ParamTypes=Kt,g.StateParams=Qt,g.ParamType=vt,g.PathNode=Ct,g.PathUtils=Tt,g.resolvePolicies=At,g.defaultResolvePolicy=$t,g.Resolvable=c,g.NATIVE_INJECTOR_TOKEN=Pt,g.ResolveContext=Dt,g.resolvablesBuilder=sn,g.StateBuilder=ln,g.StateObject=Q,g.StateMatcher=un,g.StateQueueManager=hn,g.StateRegistry=pn,g.StateService=sr,g.TargetState=st,g.HookBuilder=mt,g.matchState=dt,g.RegisteredHook=ht,g.makeEvent=pt,g.Rejection=T,g.Transition=Lt,g.TransitionHook=ut,g.TransitionEventType=nr,g.defaultTransOpts=or,g.TransitionService=ar,g.UrlMatcher=bn,g.UrlMatcherFactory=yn,g.UrlRouter=Tn,g.UrlRuleFactory=_n,g.BaseUrlRule=xn,g.UrlService=Ln,g.ViewService=En,g.UIRouterGlobals=On,g.UIRouter=Fn,g.$q=dr,g.$injector=mr,g.BaseLocationServices=r,g.HashLocationService=Tr,g.MemoryLocationService=Or,g.PushStateLocationService=Rr,g.MemoryLocationConfig=Nr,g.BrowserLocationConfig=jr,g.splitHash=gr,g.splitQuery=vr,g.splitEqual=br,g.trimHashVal=cr,g.keyValsToObjectR=yr,g.getParams=ur,g.parseUrl=wr,g.buildUrl=_r,g.locationPluginFactory=kr,g.servicesPlugin=Vr,g.hashLocationPlugin=Fr,g.pushStateLocationPlugin=zr,g.memoryLocationPlugin=Br,g.UIRouterPluginBase=Hr,Object.defineProperty(g,"__esModule",{value:!0})}),angular.module("ui.bootstrap",["ui.bootstrap.tpls","ui.bootstrap.collapse","ui.bootstrap.tabindex","ui.bootstrap.accordion","ui.bootstrap.alert","ui.bootstrap.buttons","ui.bootstrap.carousel","ui.bootstrap.dateparser","ui.bootstrap.isClass","ui.bootstrap.datepicker","ui.bootstrap.position","ui.bootstrap.datepickerPopup","ui.bootstrap.debounce","ui.bootstrap.multiMap","ui.bootstrap.dropdown","ui.bootstrap.stackedMap","ui.bootstrap.modal","ui.bootstrap.paging","ui.bootstrap.pager","ui.bootstrap.pagination","ui.bootstrap.tooltip","ui.bootstrap.popover","ui.bootstrap.progressbar","ui.bootstrap.rating","ui.bootstrap.tabs","ui.bootstrap.timepicker","ui.bootstrap.typeahead"]),angular.module("ui.bootstrap.tpls",["uib/template/accordion/accordion-group.html","uib/template/accordion/accordion.html","uib/template/alert/alert.html","uib/template/carousel/carousel.html","uib/template/carousel/slide.html","uib/template/datepicker/datepicker.html","uib/template/datepicker/day.html","uib/template/datepicker/month.html","uib/template/datepicker/year.html","uib/template/datepickerPopup/popup.html","uib/template/modal/window.html","uib/template/pager/pager.html","uib/template/pagination/pagination.html","uib/template/tooltip/tooltip-html-popup.html","uib/template/tooltip/tooltip-popup.html","uib/template/tooltip/tooltip-template-popup.html","uib/template/popover/popover-html.html","uib/template/popover/popover-template.html","uib/template/popover/popover.html","uib/template/progressbar/bar.html","uib/template/progressbar/progress.html","uib/template/progressbar/progressbar.html","uib/template/rating/rating.html","uib/template/tabs/tab.html","uib/template/tabs/tabset.html","uib/template/timepicker/timepicker.html","uib/template/typeahead/typeahead-match.html","uib/template/typeahead/typeahead-popup.html"]),angular.module("ui.bootstrap.collapse",[]).directive("uibCollapse",["$animate","$q","$parse","$injector",function(f,p,m,e){var g=e.has("$animateCss")?e.get("$animateCss"):null;return{link:function(t,n,e){var r=m(e.expanding),i=m(e.expanded),o=m(e.collapsing),a=m(e.collapsed),s=!1,l={},c={};function u(e){return s?{width:e.scrollWidth+"px"}:{height:e.scrollHeight+"px"}}function d(){n.removeClass("collapsing").addClass("collapse").css(l),i(t)}function h(){n.css(c),n.removeClass("collapsing").addClass("collapse"),a(t)}c=(s=!!("horizontal"in e))?(l={width:""},{width:"0"}):(l={height:""},{height:"0"}),t.$eval(e.uibCollapse)||n.addClass("in").addClass("collapse").attr("aria-expanded",!0).attr("aria-hidden",!1).css(l),t.$watch(e.uibCollapse,function(e){e?n.hasClass("collapse")||n.hasClass("in")?p.resolve(o(t)).then(function(){n.css(u(n[0])).removeClass("collapse").addClass("collapsing").attr("aria-expanded",!1).attr("aria-hidden",!0),g?g(n,{removeClass:"in",to:c}).start().finally(h):f.removeClass(n,"in",{to:c}).then(h)},angular.noop):h():n.hasClass("collapse")&&n.hasClass("in")||p.resolve(r(t)).then(function(){n.removeClass("collapse").addClass("collapsing").attr("aria-expanded",!0).attr("aria-hidden",!1),g?g(n,{addClass:"in",easing:"ease",css:{overflow:"hidden"},to:u(n[0])}).start().finally(d):f.addClass(n,"in",{css:{overflow:"hidden"},to:u(n[0])}).then(d)},angular.noop)})}}}]),angular.module("ui.bootstrap.tabindex",[]).directive("uibTabindexToggle",function(){return{restrict:"A",link:function(e,t,n){n.$observe("disabled",function(e){n.$set("tabindex",e?-1:null)})}}}),angular.module("ui.bootstrap.accordion",["ui.bootstrap.collapse","ui.bootstrap.tabindex"]).constant("uibAccordionConfig",{closeOthers:!0}).controller("UibAccordionController",["$scope","$attrs","uibAccordionConfig",function(e,n,r){this.groups=[],this.closeOthers=function(t){(angular.isDefined(n.closeOthers)?e.$eval(n.closeOthers):r.closeOthers)&&angular.forEach(this.groups,function(e){e!==t&&(e.isOpen=!1)})},this.addGroup=function(t){var n=this;this.groups.push(t),t.$on("$destroy",function(e){n.removeGroup(t)})},this.removeGroup=function(e){e=this.groups.indexOf(e);-1!==e&&this.groups.splice(e,1)}}]).directive("uibAccordion",function(){return{controller:"UibAccordionController",controllerAs:"accordion",transclude:!0,templateUrl:function(e,t){return t.templateUrl||"uib/template/accordion/accordion.html"}}}).directive("uibAccordionGroup",function(){return{require:"^uibAccordion",transclude:!0,restrict:"A",templateUrl:function(e,t){return t.templateUrl||"uib/template/accordion/accordion-group.html"},scope:{heading:"@",panelClass:"@?",isOpen:"=?",isDisabled:"=?"},controller:function(){this.setHeading=function(e){this.heading=e}},link:function(t,n,e,r){n.addClass("panel"),r.addGroup(t),t.openClass=e.openClass||"panel-open",t.panelClass=e.panelClass||"panel-default",t.$watch("isOpen",function(e){n.toggleClass(t.openClass,!!e),e&&r.closeOthers(t)}),t.toggleOpen=function(e){t.isDisabled||e&&32!==e.which||(t.isOpen=!t.isOpen)};e="accordiongroup-"+t.$id+"-"+Math.floor(1e4*Math.random());t.headingId=e+"-tab",t.panelId=e+"-panel"}}}).directive("uibAccordionHeading",function(){return{transclude:!0,template:"",replace:!0,require:"^uibAccordionGroup",link:function(e,t,n,r,i){r.setHeading(i(e,angular.noop))}}}).directive("uibAccordionTransclude",function(){return{require:"^uibAccordionGroup",link:function(e,n,t,r){e.$watch(function(){return r[t.uibAccordionTransclude]},function(e){var t;e&&((t=angular.element(n[0].querySelector("uib-accordion-header,data-uib-accordion-header,x-uib-accordion-header,uib\\:accordion-header,[uib-accordion-header],[data-uib-accordion-header],[x-uib-accordion-header]"))).html(""),t.append(e))})}}}),angular.module("ui.bootstrap.alert",[]).controller("UibAlertController",["$scope","$element","$attrs","$interpolate","$timeout",function(e,t,n,r,i){e.closeable=!!n.close,t.addClass("alert"),n.$set("role","alert"),e.closeable&&t.addClass("alert-dismissible");t=angular.isDefined(n.dismissOnTimeout)?r(n.dismissOnTimeout)(e.$parent):null;t&&i(function(){e.close()},parseInt(t,10))}]).directive("uibAlert",function(){return{controller:"UibAlertController",controllerAs:"alert",restrict:"A",templateUrl:function(e,t){return t.templateUrl||"uib/template/alert/alert.html"},transclude:!0,scope:{close:"&"}}}),angular.module("ui.bootstrap.buttons",[]).constant("uibButtonConfig",{activeClass:"active",toggleEvent:"click"}).controller("UibButtonsController",["uibButtonConfig",function(e){this.activeClass=e.activeClass||"active",this.toggleEvent=e.toggleEvent||"click"}]).directive("uibBtnRadio",["$parse",function(a){return{require:["uibBtnRadio","ngModel"],controller:"UibButtonsController",controllerAs:"buttons",link:function(t,n,r,e){var i=e[0],o=e[1],e=a(r.uibUncheckable);n.find("input").css({display:"none"}),o.$render=function(){n.toggleClass(i.activeClass,angular.equals(o.$modelValue,t.$eval(r.uibBtnRadio)))},n.on(i.toggleEvent,function(){var e;r.disabled||((e=n.hasClass(i.activeClass))&&!angular.isDefined(r.uncheckable)||t.$apply(function(){o.$setViewValue(e?null:t.$eval(r.uibBtnRadio)),o.$render()}))}),r.uibUncheckable&&t.$watch(e,function(e){r.$set("uncheckable",e?"":void 0)})}}}]).directive("uibBtnCheckbox",function(){return{require:["uibBtnCheckbox","ngModel"],controller:"UibButtonsController",controllerAs:"button",link:function(n,e,t,r){var i=r[0],o=r[1];function a(){return s(t.btnCheckboxTrue,!0)}function s(e,t){return angular.isDefined(e)?n.$eval(e):t}e.find("input").css({display:"none"}),o.$render=function(){e.toggleClass(i.activeClass,angular.equals(o.$modelValue,a()))},e.on(i.toggleEvent,function(){t.disabled||n.$apply(function(){o.$setViewValue(e.hasClass(i.activeClass)?s(t.btnCheckboxFalse,!1):a()),o.$render()})})}}}),angular.module("ui.bootstrap.carousel",[]).controller("UibCarouselController",["$scope","$element","$interval","$timeout","$animate",function(r,i,t,e,o){var n,a,s=this,l=s.slides=r.slides=[],c="uib-slideDirection",u=r.active,d=!1;function h(e){for(var t=0;t<l.length;t++)l[t].slide.active=t===e}function f(e){for(var t=0;t<l.length;t++)if(l[t].slide===e)return t}function p(){n&&(t.cancel(n),n=null)}function m(){p();var e=+r.interval;!isNaN(e)&&0<e&&(n=t(g,e))}function g(){var e=+r.interval;a&&!isNaN(e)&&0<e&&l.length?r.next():r.pause()}i.addClass("carousel"),s.addSlide=function(e,t){l.push({slide:e,element:t}),l.sort(function(e,t){return+e.slide.index-+t.slide.index}),e.index!==r.active&&(1!==l.length||angular.isNumber(r.active))||(r.$currentTransition&&(r.$currentTransition=null),u=e.index,r.active=e.index,h(u),s.select(l[f(e)]),1===l.length&&r.play())},s.getCurrentIndex=function(){for(var e=0;e<l.length;e++)if(l[e].slide.index===u)return e},s.next=r.next=function(){var e=(s.getCurrentIndex()+1)%l.length;if(0!=e||!r.noWrap())return s.select(l[e],"next");r.pause()},s.prev=r.prev=function(){var e=s.getCurrentIndex()-1<0?l.length-1:s.getCurrentIndex()-1;if(!r.noWrap()||e!=l.length-1)return s.select(l[e],"prev");r.pause()},s.removeSlide=function(e){e=f(e);l.splice(e,1),0<l.length&&u===e?e>=l.length?(u=l.length-1,h(r.active=u),s.select(l[l.length-1])):(u=e,h(r.active=u),s.select(l[e])):e<u&&(u--,r.active=u),0===l.length&&(u=null,r.active=null)},s.select=r.select=function(e,t){var n=f(e.slide);void 0===t&&(t=n>s.getCurrentIndex()?"next":"prev"),e.slide.index===u||r.$currentTransition||(e=e.slide,n=n,t=t,d||(angular.extend(e,{direction:t}),angular.extend(l[u].slide||{},{direction:t}),o.enabled(i)&&!r.$currentTransition&&l[n].element&&1<s.slides.length&&(l[n].element.data(c,e.direction),t=s.getCurrentIndex(),angular.isNumber(t)&&l[t].element&&l[t].element.data(c,e.direction),r.$currentTransition=!0,o.on("addClass",l[n].element,function(e,t){"close"===t&&(r.$currentTransition=null,o.off("addClass",e))})),r.active=e.index,u=e.index,h(n),m()))},r.indexOfSlide=function(e){return+e.slide.index},r.isActive=function(e){return r.active===e.slide.index},r.isPrevDisabled=function(){return 0===r.active&&r.noWrap()},r.isNextDisabled=function(){return r.active===l.length-1&&r.noWrap()},r.pause=function(){r.noPause||(a=!1,p())},r.play=function(){a||(a=!0,m())},i.on("mouseenter",r.pause),i.on("mouseleave",r.play),r.$on("$destroy",function(){d=!0,p()}),r.$watch("noTransition",function(e){o.enabled(i,!e)}),r.$watch("interval",m),r.$watchCollection("slides",function(e){e.length||(r.$currentTransition=null)}),r.$watch("active",function(e){if(angular.isNumber(e)&&u!==e){for(var t=0;t<l.length;t++)if(l[t].slide.index===e){e=t;break}l[e]&&(h(e),s.select(l[e]),u=e)}})}]).directive("uibCarousel",function(){return{transclude:!0,controller:"UibCarouselController",controllerAs:"carousel",restrict:"A",templateUrl:function(e,t){return t.templateUrl||"uib/template/carousel/carousel.html"},scope:{active:"=",interval:"=",noTransition:"=",noPause:"=",noWrap:"&"}}}).directive("uibSlide",["$animate",function(i){return{require:"^uibCarousel",restrict:"A",transclude:!0,templateUrl:function(e,t){return t.templateUrl||"uib/template/carousel/slide.html"},scope:{actual:"=?",index:"=?"},link:function(e,t,n,r){t.addClass("item"),r.addSlide(e,t),e.$on("$destroy",function(){r.removeSlide(e)}),e.$watch("active",function(e){i[e?"addClass":"removeClass"](t,"active")})}}}]).animation(".item",["$animateCss",function(o){var a="uib-slideDirection";function s(e,t,n){e.removeClass(t),n&&n()}return{beforeAddClass:function(e,t,n){var r,i;if("active"===t)return t=e.data(a),i=s.bind(this,e,(r="next"===t?"left":"right")+" "+t,n),e.addClass(t),o(e,{addClass:r}).start().done(i),function(){};n()},beforeRemoveClass:function(e,t,n){var r;if("active"===t)return t="next"===e.data(a)?"left":"right",r=s.bind(this,e,t,n),o(e,{addClass:t}).start().done(r),function(){};n()}}}]),angular.module("ui.bootstrap.dateparser",[]).service("uibDateParser",["$log","$locale","dateFilter","orderByFilter","filterFilter",function(h,f,n,p,t){var m,g,v=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g;function r(e){return t(g,{key:e},!0)[0]}function i(e){for(var t,n,r=[],i=0;i<e.length;)if(angular.isNumber(n)){if("'"===e.charAt(i))(i+1>=e.length||"'"!==e.charAt(i+1))&&(r.push(function(e,t,n){return function(){return e.substr(t+1,n-t-1)}}(e,n,i)),n=null);else if(i===e.length)for(;n<e.length;)t=o(e,n),r.push(t),n=t.endIdx;i++}else"'"===e.charAt(i)?(n=i,i++):(t=o(e,i),r.push(t.parser),i=t.endIdx);return r}function o(e,t){for(var n,r=e.substr(t),i=0;i<g.length;i++)if(new RegExp("^"+g[i].key).test(r))return{endIdx:t+(n=g[i]).key.length,parser:n.formatter};return{endIdx:t+1,parser:function(){return r.charAt(0)}}}function a(e){return parseInt(e,10)}function s(e,t){e=e.replace(/:/g,"");e=Date.parse("Jan 01, 1970 00:00:00 "+e)/6e4;return isNaN(e)?t:e}function l(e,t){return(e=new Date(e.getTime())).setMinutes(e.getMinutes()+t),e}function c(e,t,n){n=n?-1:1;var r=e.getTimezoneOffset();return l(e,n*(s(t,r)-r))}this.init=function(){m=f.id,this.parsers={},this.formatters={},g=[{key:"yyyy",regex:"\\d{4}",apply:function(e){this.year=+e},formatter:function(e){var t=new Date;return t.setFullYear(Math.abs(e.getFullYear())),n(t,"yyyy")}},{key:"yy",regex:"\\d{2}",apply:function(e){this.year=(e=+e)<69?e+2e3:e+1900},formatter:function(e){var t=new Date;return t.setFullYear(Math.abs(e.getFullYear())),n(t,"yy")}},{key:"y",regex:"\\d{1,4}",apply:function(e){this.year=+e},formatter:function(e){var t=new Date;return t.setFullYear(Math.abs(e.getFullYear())),n(t,"y")}},{key:"M!",regex:"0?[1-9]|1[0-2]",apply:function(e){this.month=e-1},formatter:function(e){var t=e.getMonth();return/^[0-9]$/.test(t)?n(e,"MM"):n(e,"M")}},{key:"MMMM",regex:f.DATETIME_FORMATS.MONTH.join("|"),apply:function(e){this.month=f.DATETIME_FORMATS.MONTH.indexOf(e)},formatter:function(e){return n(e,"MMMM")}},{key:"MMM",regex:f.DATETIME_FORMATS.SHORTMONTH.join("|"),apply:function(e){this.month=f.DATETIME_FORMATS.SHORTMONTH.indexOf(e)},formatter:function(e){return n(e,"MMM")}},{key:"MM",regex:"0[1-9]|1[0-2]",apply:function(e){this.month=e-1},formatter:function(e){return n(e,"MM")}},{key:"M",regex:"[1-9]|1[0-2]",apply:function(e){this.month=e-1},formatter:function(e){return n(e,"M")}},{key:"d!",regex:"[0-2]?[0-9]{1}|3[0-1]{1}",apply:function(e){this.date=+e},formatter:function(e){var t=e.getDate();return/^[1-9]$/.test(t)?n(e,"dd"):n(e,"d")}},{key:"dd",regex:"[0-2][0-9]{1}|3[0-1]{1}",apply:function(e){this.date=+e},formatter:function(e){return n(e,"dd")}},{key:"d",regex:"[1-2]?[0-9]{1}|3[0-1]{1}",apply:function(e){this.date=+e},formatter:function(e){return n(e,"d")}},{key:"EEEE",regex:f.DATETIME_FORMATS.DAY.join("|"),formatter:function(e){return n(e,"EEEE")}},{key:"EEE",regex:f.DATETIME_FORMATS.SHORTDAY.join("|"),formatter:function(e){return n(e,"EEE")}},{key:"HH",regex:"(?:0|1)[0-9]|2[0-3]",apply:function(e){this.hours=+e},formatter:function(e){return n(e,"HH")}},{key:"hh",regex:"0[0-9]|1[0-2]",apply:function(e){this.hours=+e},formatter:function(e){return n(e,"hh")}},{key:"H",regex:"1?[0-9]|2[0-3]",apply:function(e){this.hours=+e},formatter:function(e){return n(e,"H")}},{key:"h",regex:"[0-9]|1[0-2]",apply:function(e){this.hours=+e},formatter:function(e){return n(e,"h")}},{key:"mm",regex:"[0-5][0-9]",apply:function(e){this.minutes=+e},formatter:function(e){return n(e,"mm")}},{key:"m",regex:"[0-9]|[1-5][0-9]",apply:function(e){this.minutes=+e},formatter:function(e){return n(e,"m")}},{key:"sss",regex:"[0-9][0-9][0-9]",apply:function(e){this.milliseconds=+e},formatter:function(e){return n(e,"sss")}},{key:"ss",regex:"[0-5][0-9]",apply:function(e){this.seconds=+e},formatter:function(e){return n(e,"ss")}},{key:"s",regex:"[0-9]|[1-5][0-9]",apply:function(e){this.seconds=+e},formatter:function(e){return n(e,"s")}},{key:"a",regex:f.DATETIME_FORMATS.AMPMS.join("|"),apply:function(e){12===this.hours&&(this.hours=0),"PM"===e&&(this.hours+=12)},formatter:function(e){return n(e,"a")}},{key:"Z",regex:"[+-]\\d{4}",apply:function(e){var e=e.match(/([+-])(\d{2})(\d{2})/),t=e[1],n=e[2],e=e[3];this.hours+=a(t+n),this.minutes+=a(t+e)},formatter:function(e){return n(e,"Z")}},{key:"ww",regex:"[0-4][0-9]|5[0-3]",formatter:function(e){return n(e,"ww")}},{key:"w",regex:"[0-9]|[1-4][0-9]|5[0-3]",formatter:function(e){return n(e,"w")}},{key:"GGGG",regex:f.DATETIME_FORMATS.ERANAMES.join("|").replace(/\s/g,"\\s"),formatter:function(e){return n(e,"GGGG")}},{key:"GGG",regex:f.DATETIME_FORMATS.ERAS.join("|"),formatter:function(e){return n(e,"GGG")}},{key:"GG",regex:f.DATETIME_FORMATS.ERAS.join("|"),formatter:function(e){return n(e,"GG")}},{key:"G",regex:f.DATETIME_FORMATS.ERAS.join("|"),formatter:function(e){return n(e,"G")}}],1<=angular.version.major&&4<angular.version.minor&&g.push({key:"LLLL",regex:f.DATETIME_FORMATS.STANDALONEMONTH.join("|"),apply:function(e){this.month=f.DATETIME_FORMATS.STANDALONEMONTH.indexOf(e)},formatter:function(e){return n(e,"LLLL")}})},this.init(),this.getParser=function(e){e=r(e);return e&&e.apply||null},this.overrideParser=function(e,t){e=r(e);e&&angular.isFunction(t)&&(this.parsers={},e.apply=t)}.bind(this),this.filter=function(n,e){return angular.isDate(n)&&!isNaN(n)&&e?(e=f.DATETIME_FORMATS[e]||e,f.id!==m&&this.init(),this.formatters[e]||(this.formatters[e]=i(e)),this.formatters[e].reduce(function(e,t){return e+t(n)},"")):""},this.parse=function(e,t,n){if(!angular.isString(e)||!t)return e;t=(t=f.DATETIME_FORMATS[t]||t).replace(v,"\\$&"),f.id!==m&&this.init(),this.parsers[t]||(this.parsers[t]=function(i){var o=[],a=i.split(""),e=i.indexOf("'");if(-1<e){var t=!1;i=i.split("");for(var n=e;n<i.length;n++)t?("'"===i[n]&&(n+1<i.length&&"'"===i[n+1]?(i[n+1]="$",a[n+1]=""):(a[n]="",t=!1)),i[n]="$"):"'"===i[n]&&(i[n]="$",t=!(a[n]=""));i=i.join("")}return angular.forEach(g,function(e){var t=i.indexOf(e.key);if(-1<t){i=i.split(""),a[t]="("+e.regex+")",i[t]="$";for(var n=t+1,r=t+e.key.length;n<r;n++)a[n]="",i[n]="$";i=i.join(""),o.push({index:t,key:e.key,apply:e.apply,matcher:e.regex})}}),{regex:new RegExp("^"+a.join("")+"$"),map:p(o,"index")}}(t));var t=this.parsers[t],r=t.regex,i=t.map,o=e.match(r),a=!1;if(o&&o.length){for(var s,l=angular.isDate(n)&&!isNaN(n.getTime())?{year:n.getFullYear(),month:n.getMonth(),date:n.getDate(),hours:n.getHours(),minutes:n.getMinutes(),seconds:n.getSeconds(),milliseconds:n.getMilliseconds()}:(n&&h.warn("dateparser:","baseDate is not a valid date"),{year:1900,month:0,date:1,hours:0,minutes:0,seconds:0,milliseconds:0}),c=1,u=o.length;c<u;c++){var d=i[c-1];"Z"===d.matcher&&(a=!0),d.apply&&d.apply.call(l,o[c])}t=a?Date.prototype.setUTCFullYear:Date.prototype.setFullYear,e=a?Date.prototype.setUTCHours:Date.prototype.setHours;return function(e,t,n){if(n<1)return;if(1===t&&28<n)return 29===n&&(e%4==0&&e%100!=0||e%400==0);return 3!==t&&5!==t&&8!==t&&10!==t||n<31}(l.year,l.month,l.date)&&(!angular.isDate(n)||isNaN(n.getTime())||a?(s=new Date(0),t.call(s,l.year,l.month,l.date),e.call(s,l.hours||0,l.minutes||0,l.seconds||0,l.milliseconds||0)):(s=new Date(n),t.call(s,l.year,l.month,l.date),e.call(s,l.hours,l.minutes,l.seconds,l.milliseconds))),s}},this.toTimezone=function(e,t){return e&&t?c(e,t):e},this.fromTimezone=function(e,t){return e&&t?c(e,t,!0):e},this.timezoneToOffset=s,this.addDateMinutes=l,this.convertTimezoneToLocal=c}]),angular.module("ui.bootstrap.isClass",[]).directive("uibIsClass",["$animate",function(d){var o=/^\s*([\s\S]+?)\s+on\s+([\s\S]+?)\s*$/,h=/^\s*([\s\S]+?)\s+for\s+([\s\S]+?)\s*$/;return{restrict:"A",compile:function(e,t){var r=[],l=[],c={},t=t.uibIsClass.match(o),u=t[2],n=t[1].split(",");return function(s,e,t){r.push(s),l.push({scope:s,element:e}),n.forEach(function(e,t){var n,r=s,i=e.match(h),o=r.$eval(i[1]),i=i[2],a=c[e];a||(n=function(t){var n=null;l.some(function(e){if(e.scope.$eval(u)===t)return n=e,!0}),a.lastActivated!==n&&(a.lastActivated&&d.removeClass(a.lastActivated.element,o),n&&d.addClass(n.element,o),a.lastActivated=n)},c[e]=a={lastActivated:null,scope:r,watchFn:n,compareWithExp:i,watcher:r.$watch(i,n)}),a.watchFn(r.$eval(i))}),s.$on("$destroy",i)};function i(e){var t,n=e.targetScope,e=r.indexOf(n);r.splice(e,1),l.splice(e,1),r.length?(t=r[0],angular.forEach(c,function(e){e.scope===n&&(e.watcher=t.$watch(e.compareWithExp,e.watchFn),e.scope=t)})):c={}}}}}]),angular.module("ui.bootstrap.datepicker",["ui.bootstrap.dateparser","ui.bootstrap.isClass"]).value("$datepickerSuppressError",!1).value("$datepickerLiteralWarning",!0).constant("uibDatepickerConfig",{datepickerMode:"day",formatDay:"dd",formatMonth:"MMMM",formatYear:"yyyy",formatDayHeader:"EEE",formatDayTitle:"MMMM yyyy",formatMonthTitle:"yyyy",maxDate:null,maxMode:"year",minDate:null,minMode:"day",monthColumns:3,ngModelOptions:{},shortcutPropagation:!1,showWeeks:!0,yearColumns:5,yearRows:4}).controller("UibDatepickerController",["$scope","$element","$attrs","$parse","$interpolate","$locale","$log","dateFilter","uibDatepickerConfig","$datepickerLiteralWarning","$datepickerSuppressError","uibDateParser",function(i,e,t,n,r,o,a,s,l,c,u,d){var h=this,f={$setViewValue:angular.noop},p={},m=[];e.addClass("uib-datepicker"),t.$set("role","application"),i.datepickerOptions||(i.datepickerOptions={}),this.modes=["day","month","year"],["customClass","dateDisabled","datepickerMode","formatDay","formatDayHeader","formatDayTitle","formatMonth","formatMonthTitle","formatYear","maxDate","maxMode","minDate","minMode","monthColumns","showWeeks","shortcutPropagation","startingDay","yearColumns","yearRows"].forEach(function(t){switch(t){case"customClass":case"dateDisabled":i[t]=i.datepickerOptions[t]||angular.noop;break;case"datepickerMode":i.datepickerMode=(angular.isDefined(i.datepickerOptions.datepickerMode)?i.datepickerOptions:l).datepickerMode;break;case"formatDay":case"formatDayHeader":case"formatDayTitle":case"formatMonth":case"formatMonthTitle":case"formatYear":h[t]=angular.isDefined(i.datepickerOptions[t])?r(i.datepickerOptions[t])(i.$parent):l[t];break;case"monthColumns":case"showWeeks":case"shortcutPropagation":case"yearColumns":case"yearRows":h[t]=(angular.isDefined(i.datepickerOptions[t])?i.datepickerOptions:l)[t];break;case"startingDay":angular.isDefined(i.datepickerOptions.startingDay)?h.startingDay=i.datepickerOptions.startingDay:angular.isNumber(l.startingDay)?h.startingDay=l.startingDay:h.startingDay=(o.DATETIME_FORMATS.FIRSTDAYOFWEEK+8)%7;break;case"maxDate":case"minDate":i.$watch("datepickerOptions."+t,function(e){e?angular.isDate(e)?h[t]=d.fromTimezone(new Date(e),p.getOption("timezone")):(c&&a.warn("Literal date support has been deprecated, please switch to date object usage"),h[t]=new Date(s(e,"medium"))):h[t]=l[t]?d.fromTimezone(new Date(l[t]),p.getOption("timezone")):null,h.refreshView()});break;case"maxMode":case"minMode":i.datepickerOptions[t]?i.$watch(function(){return i.datepickerOptions[t]},function(e){h[t]=i[t]=angular.isDefined(e)?e:i.datepickerOptions[t],("minMode"===t&&h.modes.indexOf(i.datepickerOptions.datepickerMode)<h.modes.indexOf(h[t])||"maxMode"===t&&h.modes.indexOf(i.datepickerOptions.datepickerMode)>h.modes.indexOf(h[t]))&&(i.datepickerMode=h[t],i.datepickerOptions.datepickerMode=h[t])}):h[t]=i[t]=l[t]||null}}),i.uniqueId="datepicker-"+i.$id+"-"+Math.floor(1e4*Math.random()),i.disabled=angular.isDefined(t.disabled)||!1,angular.isDefined(t.ngDisabled)&&m.push(i.$parent.$watch(t.ngDisabled,function(e){i.disabled=e,h.refreshView()})),i.isActive=function(e){return 0===h.compare(e.date,h.activeDate)&&(i.activeDateId=e.uid,!0)},this.init=function(e){p=function(e){var t;{var n;angular.version.minor<6?(t=e.$options||i.datepickerOptions.ngModelOptions||l.ngModelOptions||{}).getOption=function(e){return t[e]}:(n=e.$options.getOption("timezone")||(i.datepickerOptions.ngModelOptions?i.datepickerOptions.ngModelOptions.timezone:null)||(l.ngModelOptions?l.ngModelOptions.timezone:null),t=e.$options.createChild(l.ngModelOptions).createChild(i.datepickerOptions.ngModelOptions).createChild(e.$options).createChild({timezone:n}))}return t}(f=e),i.datepickerOptions.initDate?(h.activeDate=d.fromTimezone(i.datepickerOptions.initDate,p.getOption("timezone"))||new Date,i.$watch("datepickerOptions.initDate",function(e){e&&(f.$isEmpty(f.$modelValue)||f.$invalid)&&(h.activeDate=d.fromTimezone(e,p.getOption("timezone")),h.refreshView())})):h.activeDate=new Date;e=f.$modelValue?new Date(f.$modelValue):new Date;this.activeDate=isNaN(e)?d.fromTimezone(new Date,p.getOption("timezone")):d.fromTimezone(e,p.getOption("timezone")),f.$render=function(){h.render()}},this.render=function(){var e;f.$viewValue&&(e=new Date(f.$viewValue),!isNaN(e)?this.activeDate=d.fromTimezone(e,p.getOption("timezone")):u||a.error('Datepicker directive: "ng-model" value must be a Date object')),this.refreshView()},this.refreshView=function(){var e;this.element&&(i.selectedDt=null,this._refreshView(),i.activeDt&&(i.activeDateId=i.activeDt.uid),e=f.$viewValue?new Date(f.$viewValue):null,e=d.fromTimezone(e,p.getOption("timezone")),f.$setValidity("dateDisabled",!e||this.element&&!this.isDisabled(e)))},this.createDateObject=function(e,t){var n=f.$viewValue?new Date(f.$viewValue):null,n=d.fromTimezone(n,p.getOption("timezone")),r=new Date,r=d.fromTimezone(r,p.getOption("timezone")),r=this.compare(e,r),t={date:e,label:d.filter(e,t),selected:n&&0===this.compare(e,n),disabled:this.isDisabled(e),past:r<0,current:0===r,future:0<r,customClass:this.customClass(e)||null};return n&&0===this.compare(e,n)&&(i.selectedDt=t),h.activeDate&&0===this.compare(t.date,h.activeDate)&&(i.activeDt=t),t},this.isDisabled=function(e){return i.disabled||this.minDate&&this.compare(e,this.minDate)<0||this.maxDate&&0<this.compare(e,this.maxDate)||i.dateDisabled&&i.dateDisabled({date:e,mode:i.datepickerMode})},this.customClass=function(e){return i.customClass({date:e,mode:i.datepickerMode})},this.split=function(e,t){for(var n=[];0<e.length;)n.push(e.splice(0,t));return n},i.select=function(e){var t;i.datepickerMode===h.minMode?((t=f.$viewValue?d.fromTimezone(new Date(f.$viewValue),p.getOption("timezone")):new Date(0,0,0,0,0,0,0)).setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),t=d.toTimezone(t,p.getOption("timezone")),f.$setViewValue(t),f.$render()):(h.activeDate=e,g(h.modes[h.modes.indexOf(i.datepickerMode)-1]),i.$emit("uib:datepicker.mode")),i.$broadcast("uib:datepicker.focus")},i.move=function(e){var t=h.activeDate.getFullYear()+e*(h.step.years||0),e=h.activeDate.getMonth()+e*(h.step.months||0);h.activeDate.setFullYear(t,e,1),h.refreshView()},i.toggleMode=function(e){e=e||1,i.datepickerMode===h.maxMode&&1===e||i.datepickerMode===h.minMode&&-1===e||(g(h.modes[h.modes.indexOf(i.datepickerMode)+e]),i.$emit("uib:datepicker.mode"))},i.keys={13:"enter",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down"};function g(e){i.datepickerMode=e,i.datepickerOptions.datepickerMode=e}i.$on("uib:datepicker.focus",function(){h.element[0].focus()}),i.keydown=function(e){var t=i.keys[e.which];!t||e.shiftKey||e.altKey||i.disabled||(e.preventDefault(),h.shortcutPropagation||e.stopPropagation(),"enter"===t||"space"===t?h.isDisabled(h.activeDate)||i.select(h.activeDate):!e.ctrlKey||"up"!==t&&"down"!==t?(h.handleKeyDown(t,e),h.refreshView()):i.toggleMode("up"===t?1:-1))},e.on("keydown",function(e){i.$apply(function(){i.keydown(e)})}),i.$on("$destroy",function(){for(;m.length;)m.shift()()})}]).controller("UibDaypickerController",["$scope","$element","dateFilter",function(d,e,h){var n=[31,28,31,30,31,30,31,31,30,31,30,31];function i(e,t){return 1!==t||e%4!=0||e%100==0&&e%400!=0?n[t]:29}this.step={months:1},this.element=e,this.init=function(e){angular.extend(e,this),d.showWeeks=e.showWeeks,e.refreshView()},this.getDates=function(e,t){for(var n,r=new Array(t),i=new Date(e),o=0;o<t;)n=new Date(i),r[o++]=n,i.setDate(i.getDate()+1);return r},this._refreshView=function(){for(var e=this.activeDate.getFullYear(),t=this.activeDate.getMonth(),n=new Date(this.activeDate),e=(n.setFullYear(e,t,1),this.startingDay-n.getDay()),e=0<e?7-e:-e,n=new Date(n),r=(0<e&&n.setDate(1-e),this.getDates(n,42)),i=0;i<42;i++)r[i]=angular.extend(this.createDateObject(r[i],this.formatDay),{secondary:r[i].getMonth()!==t,uid:d.uniqueId+"-"+i});d.labels=new Array(7);for(var o,a,s=0;s<7;s++)d.labels[s]={abbr:h(r[s].date,this.formatDayHeader),full:h(r[s].date,"EEEE")};if(d.title=h(this.activeDate,this.formatDayTitle),d.rows=this.split(r,7),d.showWeeks){d.weekNumbers=[];for(var l=(11-this.startingDay)%7,c=d.rows.length,u=0;u<c;u++)d.weekNumbers.push((o=d.rows[u][l].date,a=void 0,(o=new Date(o)).setDate(o.getDate()+4-(o.getDay()||7)),a=o.getTime(),o.setMonth(0),o.setDate(1),Math.floor(Math.round((a-o)/864e5)/7)+1))}},this.compare=function(e,t){var n=new Date(e.getFullYear(),e.getMonth(),e.getDate()),r=new Date(t.getFullYear(),t.getMonth(),t.getDate());return n.setFullYear(e.getFullYear()),r.setFullYear(t.getFullYear()),n-r},this.handleKeyDown=function(e,t){var n,r=this.activeDate.getDate();"left"===e?r-=1:"up"===e?r-=7:"right"===e?r+=1:"down"===e?r+=7:"pageup"===e||"pagedown"===e?(n=this.activeDate.getMonth()+("pageup"===e?-1:1),this.activeDate.setMonth(n,1),r=Math.min(i(this.activeDate.getFullYear(),this.activeDate.getMonth()),r)):"home"===e?r=1:"end"===e&&(r=i(this.activeDate.getFullYear(),this.activeDate.getMonth())),this.activeDate.setDate(r)}}]).controller("UibMonthpickerController",["$scope","$element","dateFilter",function(i,e,o){this.step={years:1},this.element=e,this.init=function(e){angular.extend(e,this),e.refreshView()},this._refreshView=function(){for(var e,t=new Array(12),n=this.activeDate.getFullYear(),r=0;r<12;r++)(e=new Date(this.activeDate)).setFullYear(n,r,1),t[r]=angular.extend(this.createDateObject(e,this.formatMonth),{uid:i.uniqueId+"-"+r});i.title=o(this.activeDate,this.formatMonthTitle),i.rows=this.split(t,this.monthColumns),i.yearHeaderColspan=3<this.monthColumns?this.monthColumns-2:1},this.compare=function(e,t){var n=new Date(e.getFullYear(),e.getMonth()),r=new Date(t.getFullYear(),t.getMonth());return n.setFullYear(e.getFullYear()),r.setFullYear(t.getFullYear()),n-r},this.handleKeyDown=function(e,t){var n,r=this.activeDate.getMonth();"left"===e?r-=1:"up"===e?r-=this.monthColumns:"right"===e?r+=1:"down"===e?r+=this.monthColumns:"pageup"===e||"pagedown"===e?(n=this.activeDate.getFullYear()+("pageup"===e?-1:1),this.activeDate.setFullYear(n)):"home"===e?r=0:"end"===e&&(r=11),this.activeDate.setMonth(r)}}]).controller("UibYearpickerController",["$scope","$element","dateFilter",function(i,e,t){var o,a;function s(e){return parseInt((e-1)/a,10)*a+1}this.element=e,this.yearpickerInit=function(){o=this.yearColumns,a=this.yearRows*o,this.step={years:a}},this._refreshView=function(){for(var e,t=new Array(a),n=0,r=s(this.activeDate.getFullYear());n<a;n++)(e=new Date(this.activeDate)).setFullYear(r+n,0,1),t[n]=angular.extend(this.createDateObject(e,this.formatYear),{uid:i.uniqueId+"-"+n});i.title=[t[0].label,t[a-1].label].join(" - "),i.rows=this.split(t,o),i.columns=o},this.compare=function(e,t){return e.getFullYear()-t.getFullYear()},this.handleKeyDown=function(e,t){var n=this.activeDate.getFullYear();"left"===e?n-=1:"up"===e?n-=o:"right"===e?n+=1:"down"===e?n+=o:"pageup"===e||"pagedown"===e?n+=("pageup"===e?-1:1)*a:"home"===e?n=s(this.activeDate.getFullYear()):"end"===e&&(n=s(this.activeDate.getFullYear())+a-1),this.activeDate.setFullYear(n)}}]).directive("uibDatepicker",function(){return{templateUrl:function(e,t){return t.templateUrl||"uib/template/datepicker/datepicker.html"},scope:{datepickerOptions:"=?"},require:["uibDatepicker","^ngModel"],restrict:"A",controller:"UibDatepickerController",controllerAs:"datepicker",link:function(e,t,n,r){var i=r[0],r=r[1];i.init(r)}}}).directive("uibDaypicker",function(){return{templateUrl:function(e,t){return t.templateUrl||"uib/template/datepicker/day.html"},require:["^uibDatepicker","uibDaypicker"],restrict:"A",controller:"UibDaypickerController",link:function(e,t,n,r){var i=r[0];r[1].init(i)}}}).directive("uibMonthpicker",function(){return{templateUrl:function(e,t){return t.templateUrl||"uib/template/datepicker/month.html"},require:["^uibDatepicker","uibMonthpicker"],restrict:"A",controller:"UibMonthpickerController",link:function(e,t,n,r){var i=r[0];r[1].init(i)}}}).directive("uibYearpicker",function(){return{templateUrl:function(e,t){return t.templateUrl||"uib/template/datepicker/year.html"},require:["^uibDatepicker","uibYearpicker"],restrict:"A",controller:"UibYearpickerController",link:function(e,t,n,r){var i=r[0];angular.extend(i,r[1]),i.yearpickerInit(),i.refreshView()}}}),angular.module("ui.bootstrap.position",[]).factory("$uibPosition",["$document","$window",function(l,c){var t,n,u={normal:/(auto|scroll)/,hidden:/(auto|scroll|hidden)/},d={auto:/\s?auto?\s?/i,primary:/^(top|bottom|left|right)$/,secondary:/^(top|bottom|left|right|center)$/,vertical:/^(top|bottom)$/},i=/(HTML|BODY)/;return{getRawNode:function(e){return!e.nodeName&&e[0]||e},parseStyle:function(e){return e=parseFloat(e),isFinite(e)?e:0},offsetParent:function(e){var t,n=(e=this.getRawNode(e)).offsetParent||l[0].documentElement;for(;n&&n!==l[0].documentElement&&(t=n,"static"===(c.getComputedStyle(t).position||"static"));)n=n.offsetParent;return n||l[0].documentElement},scrollbarWidth:function(e){return e?(angular.isUndefined(n)&&((e=l.find("body")).addClass("uib-position-body-scrollbar-measure"),n=c.innerWidth-e[0].clientWidth,n=isFinite(n)?n:0,e.removeClass("uib-position-body-scrollbar-measure")),n):(angular.isUndefined(t)&&(e=angular.element('<div class="uib-position-scrollbar-measure"></div>'),l.find("body").append(e),t=e[0].offsetWidth-e[0].clientWidth,t=isFinite(t)?t:0,e.remove()),t)},scrollbarPadding:function(e){e=this.getRawNode(e);var t=c.getComputedStyle(e),n=this.parseStyle(t.paddingRight),t=this.parseStyle(t.paddingBottom),e=this.scrollParent(e,!1,!0),r=this.scrollbarWidth(i.test(e.tagName));return{scrollbarWidth:r,widthOverflow:e.scrollWidth>e.clientWidth,right:n+r,originalRight:n,heightOverflow:e.scrollHeight>e.clientHeight,bottom:t+r,originalBottom:t}},isScrollable:function(e,t){e=this.getRawNode(e);t=t?u.hidden:u.normal,e=c.getComputedStyle(e);return t.test(e.overflow+e.overflowY+e.overflowX)},scrollParent:function(e,t,n){e=this.getRawNode(e);var r=t?u.hidden:u.normal,i=l[0].documentElement,t=c.getComputedStyle(e);if(n&&r.test(t.overflow+t.overflowY+t.overflowX))return e;var o="absolute"===t.position,a=e.parentElement||i;if(a===i||"fixed"===t.position)return i;for(;a.parentElement&&a!==i;){var s=c.getComputedStyle(a);if(!(o=o&&"static"!==s.position?!1:o)&&r.test(s.overflow+s.overflowY+s.overflowX))break;a=a.parentElement}return a},position:function(e,t){e=this.getRawNode(e);var n=this.offset(e),t=(t&&(t=c.getComputedStyle(e),n.top-=this.parseStyle(t.marginTop),n.left-=this.parseStyle(t.marginLeft)),this.offsetParent(e)),r={top:0,left:0};return t!==l[0].documentElement&&((r=this.offset(t)).top+=t.clientTop-t.scrollTop,r.left+=t.clientLeft-t.scrollLeft),{width:Math.round(angular.isNumber(n.width)?n.width:e.offsetWidth),height:Math.round(angular.isNumber(n.height)?n.height:e.offsetHeight),top:Math.round(n.top-r.top),left:Math.round(n.left-r.left)}},offset:function(e){var t=(e=this.getRawNode(e)).getBoundingClientRect();return{width:Math.round(angular.isNumber(t.width)?t.width:e.offsetWidth),height:Math.round(angular.isNumber(t.height)?t.height:e.offsetHeight),top:Math.round(t.top+(c.pageYOffset||l[0].documentElement.scrollTop)),left:Math.round(t.left+(c.pageXOffset||l[0].documentElement.scrollLeft))}},viewportOffset:function(e,t,n){n=!1!==n;var r=(e=this.getRawNode(e)).getBoundingClientRect(),i={top:0,left:0,bottom:0,right:0},t=t?l[0].documentElement:this.scrollParent(e),e=t.getBoundingClientRect();return i.top=e.top+t.clientTop,i.left=e.left+t.clientLeft,t===l[0].documentElement&&(i.top+=c.pageYOffset,i.left+=c.pageXOffset),i.bottom=i.top+t.clientHeight,i.right=i.left+t.clientWidth,n&&(e=c.getComputedStyle(t),i.top+=this.parseStyle(e.paddingTop),i.bottom-=this.parseStyle(e.paddingBottom),i.left+=this.parseStyle(e.paddingLeft),i.right-=this.parseStyle(e.paddingRight)),{top:Math.round(r.top-i.top),bottom:Math.round(i.bottom-r.bottom),left:Math.round(r.left-i.left),right:Math.round(i.right-r.right)}},parsePlacement:function(e){var t=d.auto.test(e);return(e=(e=t?e.replace(d.auto,""):e).split("-"))[0]=e[0]||"top",d.primary.test(e[0])||(e[0]="top"),e[1]=e[1]||"center",d.secondary.test(e[1])||(e[1]="center"),e[2]=!!t,e},positionElements:function(e,t,n,r){e=this.getRawNode(e),t=this.getRawNode(t);var i,o=angular.isDefined(t.offsetWidth)?t.offsetWidth:t.prop("offsetWidth"),a=angular.isDefined(t.offsetHeight)?t.offsetHeight:t.prop("offsetHeight"),s=(n=this.parsePlacement(n),r?this.offset(e):this.position(e)),l={top:0,left:0,placement:""};switch(n[2]&&(e=this.viewportOffset(e,r),r=c.getComputedStyle(t),t=o+Math.round(Math.abs(this.parseStyle(r.marginLeft)+this.parseStyle(r.marginRight))),r=a+Math.round(Math.abs(this.parseStyle(r.marginTop)+this.parseStyle(r.marginBottom))),n[0]="top"===n[0]&&r>e.top&&r<=e.bottom?"bottom":"bottom"===n[0]&&r>e.bottom&&r<=e.top?"top":"left"===n[0]&&t>e.left&&t<=e.right?"right":"right"===n[0]&&t>e.right&&t<=e.left?"left":n[0],n[1]="top"===n[1]&&r-s.height>e.bottom&&r-s.height<=e.top?"bottom":"bottom"===n[1]&&r-s.height>e.top&&r-s.height<=e.bottom?"top":"left"===n[1]&&t-s.width>e.right&&t-s.width<=e.left?"right":"right"===n[1]&&t-s.width>e.left&&t-s.width<=e.right?"left":n[1],"center"===n[1]&&(d.vertical.test(n[0])?(i=s.width/2-o/2,e.left+i<0&&t-s.width<=e.right?n[1]="left":e.right+i<0&&t-s.width<=e.left&&(n[1]="right")):(i=s.height/2-r/2,e.top+i<0&&r-s.height<=e.bottom?n[1]="top":e.bottom+i<0&&r-s.height<=e.top&&(n[1]="bottom")))),n[0]){case"top":l.top=s.top-a;break;case"bottom":l.top=s.top+s.height;break;case"left":l.left=s.left-o;break;case"right":l.left=s.left+s.width}switch(n[1]){case"top":l.top=s.top;break;case"bottom":l.top=s.top+s.height-a;break;case"left":l.left=s.left;break;case"right":l.left=s.left+s.width-o;break;case"center":d.vertical.test(n[0])?l.left=s.left+s.width/2-o/2:l.top=s.top+s.height/2-a/2}return l.top=Math.round(l.top),l.left=Math.round(l.left),l.placement="center"===n[1]?n[0]:n[0]+"-"+n[1],l},adjustTop:function(e,t,n,r){if(-1!==e.indexOf("top")&&n!==r)return{top:t.top-r+"px"}},positionArrow:function(e,t){var n=(e=this.getRawNode(e)).querySelector(".tooltip-inner, .popover-inner");if(n){var r=angular.element(n).hasClass("tooltip-inner"),i=r?e.querySelector(".tooltip-arrow"):e.querySelector(".arrow");if(i){var o={top:"",bottom:"",left:"",right:""};if("center"!==(t=this.parsePlacement(t))[1]){var a="border-"+t[0]+"-width",s=c.getComputedStyle(i)[a],a="border-",n=(d.vertical.test(t[0])?a+=t[0]+"-"+t[1]:a+=t[1]+"-"+t[0],a+="-radius",c.getComputedStyle(r?n:e)[a]);switch(t[0]){case"top":o.bottom=r?"0":"-"+s;break;case"bottom":o.top=r?"0":"-"+s;break;case"left":o.right=r?"0":"-"+s;break;case"right":o.left=r?"0":"-"+s}o[t[1]]=n}angular.element(i).css(o)}}}}}]),angular.module("ui.bootstrap.datepickerPopup",["ui.bootstrap.datepicker","ui.bootstrap.position"]).value("$datepickerPopupLiteralWarning",!0).constant("uibDatepickerPopupConfig",{altInputFormats:[],appendToBody:!1,clearText:"Clear",closeOnDateSelection:!0,closeText:"Done",currentText:"Today",datepickerPopup:"yyyy-MM-dd",datepickerPopupTemplateUrl:"uib/template/datepickerPopup/popup.html",datepickerTemplateUrl:"uib/template/datepicker/datepicker.html",html5Types:{date:"yyyy-MM-dd","datetime-local":"yyyy-MM-ddTHH:mm:ss.sss",month:"yyyy-MM"},onOpenFocus:!0,showButtonBar:!0,placement:"auto bottom-left"}).controller("UibDatepickerPopupController",["$scope","$element","$attrs","$compile","$log","$parse","$window","$document","$rootScope","$uibPosition","dateFilter","uibDateParser","uibDatepickerPopupConfig","$timeout","uibDatepickerConfig","$datepickerPopupLiteralWarning",function(r,i,n,t,o,e,a,s,l,c,u,d,h,f,I,p){var m,g,v,b,y,w,_,k,x,C,S,T,$=!1,E=[];function A(e){var t=d.parse(e,m,r.date);if(isNaN(t))for(var n=0;n<T.length;n++)if(t=d.parse(e,T[n],r.date),!isNaN(t))return t;return t}function O(e){if(!(e=angular.isNumber(e)?new Date(e):e))return null;if(angular.isDate(e)&&!isNaN(e))return e;if(angular.isString(e)){var t=A(e);if(!isNaN(t))return d.toTimezone(t,C.getOption("timezone"))}return C.getOption("allowInvalid")?e:void 0}function M(e,t){e=e||t;return!n.ngRequired&&!e||(!(e=angular.isNumber(e)?new Date(e):e)||(!(!angular.isDate(e)||isNaN(e))||!!angular.isString(e)&&!isNaN(A(e))))}function P(e){var t,n;!r.isOpen&&r.disabled||(n=S[0],t=i[0].contains(e.target),n=void 0!==n.contains&&n.contains(e.target),!r.isOpen||t||n||r.$apply(function(){r.isOpen=!1}))}function D(e){27===e.which&&r.isOpen?(e.preventDefault(),e.stopPropagation(),r.$apply(function(){r.isOpen=!1}),i[0].focus()):40!==e.which||r.isOpen||(e.preventDefault(),e.stopPropagation(),r.$apply(function(){r.isOpen=!0}))}function R(){var e,t;r.isOpen&&(e=angular.element(S[0].querySelector(".uib-datepicker-popup")),t=n.popupPlacement||h.placement,t=c.positionElements(i,e,t,v),e.css({top:t.top+"px",left:t.left+"px"}),e.hasClass("uib-position-measure")&&e.removeClass("uib-position-measure"))}this.init=function(e){if(C=function(e){var t;angular.version.minor<6?(t=angular.isObject(e.$options)?e.$options:{timezone:null}).getOption=function(e){return t[e]}:t=e.$options;return t}(x=e),g=angular.isDefined(n.closeOnDateSelection)?r.$parent.$eval(n.closeOnDateSelection):h.closeOnDateSelection,v=angular.isDefined(n.datepickerAppendToBody)?r.$parent.$eval(n.datepickerAppendToBody):h.appendToBody,b=angular.isDefined(n.onOpenFocus)?r.$parent.$eval(n.onOpenFocus):h.onOpenFocus,_=(angular.isDefined(n.datepickerPopupTemplateUrl)?n:h).datepickerPopupTemplateUrl,y=(angular.isDefined(n.datepickerTemplateUrl)?n:h).datepickerTemplateUrl,T=angular.isDefined(n.altInputFormats)?r.$parent.$eval(n.altInputFormats):h.altInputFormats,r.showButtonBar=angular.isDefined(n.showButtonBar)?r.$parent.$eval(n.showButtonBar):h.showButtonBar,h.html5Types[n.type]?(m=h.html5Types[n.type],$=!0):(m=n.uibDatepickerPopup||h.datepickerPopup,n.$observe("uibDatepickerPopup",function(e,t){e=e||h.datepickerPopup;if(e!==m&&(m=e,x.$modelValue=null,!m))throw new Error("uibDatepickerPopup must have a date format specified.")})),!m)throw new Error("uibDatepickerPopup must have a date format specified.");if($&&n.uibDatepickerPopup)throw new Error("HTML5 date input types do not support custom formats.");(w=angular.element("<div uib-datepicker-popup-wrap><div uib-datepicker></div></div>")).attr({"ng-model":"date","ng-change":"dateSelection(date)","template-url":_}),(_=angular.element(w.children()[0])).attr("template-url",y),r.datepickerOptions||(r.datepickerOptions={}),$&&"month"===n.type&&(r.datepickerOptions.datepickerMode="month",r.datepickerOptions.minMode="month"),_.attr("datepicker-options","datepickerOptions"),$?x.$formatters.push(function(e){return r.date=d.fromTimezone(e,C.getOption("timezone")),e}):(x.$$parserName="date",x.$validators.date=M,x.$parsers.unshift(O),x.$formatters.push(function(e){return x.$isEmpty(e)?r.date=e:(angular.isNumber(e)&&(e=new Date(e)),r.date=d.fromTimezone(e,C.getOption("timezone")),d.filter(r.date,m))})),x.$viewChangeListeners.push(function(){r.date=A(x.$viewValue)}),i.on("keydown",D),S=t(w)(r),w.remove(),v?s.find("body").append(S):i.after(S),r.$on("$destroy",function(){for(!0!==r.isOpen||l.$$phase||r.$apply(function(){r.isOpen=!1}),S.remove(),i.off("keydown",D),s.off("click",P),k&&k.off("scroll",R),angular.element(a).off("resize",R);E.length;)E.shift()()})},r.getText=function(e){return r[e+"Text"]||h[e+"Text"]},r.isDisabled=function(e){"today"===e&&(e=d.fromTimezone(new Date,C.getOption("timezone")));var t={};return angular.forEach(["minDate","maxDate"],function(e){r.datepickerOptions[e]?angular.isDate(r.datepickerOptions[e])?t[e]=new Date(r.datepickerOptions[e]):(p&&o.warn("Literal date support has been deprecated, please switch to date object usage"),t[e]=new Date(u(r.datepickerOptions[e],"medium"))):t[e]=null}),r.datepickerOptions&&t.minDate&&r.compare(e,t.minDate)<0||t.maxDate&&0<r.compare(e,t.maxDate)},r.compare=function(e,t){return new Date(e.getFullYear(),e.getMonth(),e.getDate())-new Date(t.getFullYear(),t.getMonth(),t.getDate())},r.dateSelection=function(e){r.date=e;e=r.date?d.filter(r.date,m):null;i.val(e),x.$setViewValue(e),g&&(r.isOpen=!1,i[0].focus())},r.keydown=function(e){27===e.which&&(e.stopPropagation(),r.isOpen=!1,i[0].focus())},r.select=function(e,t){t.stopPropagation(),"today"===e&&(t=new Date,angular.isDate(r.date)?(e=new Date(r.date)).setFullYear(t.getFullYear(),t.getMonth(),t.getDate()):(e=d.fromTimezone(t,C.getOption("timezone"))).setHours(0,0,0,0)),r.dateSelection(e)},r.close=function(e){e.stopPropagation(),r.isOpen=!1,i[0].focus()},r.disabled=angular.isDefined(n.disabled)||!1,n.ngDisabled&&E.push(r.$parent.$watch(e(n.ngDisabled),function(e){r.disabled=e})),r.$watch("isOpen",function(e){e?r.disabled?r.isOpen=!1:f(function(){R(),b&&r.$broadcast("uib:datepicker.focus"),s.on("click",P);var e=n.popupPlacement||h.placement;v||c.parsePlacement(e)[2]?(k=k||angular.element(c.scrollParent(i)))&&k.on("scroll",R):k=null,angular.element(a).on("resize",R)},0,!1):(s.off("click",P),k&&k.off("scroll",R),angular.element(a).off("resize",R))}),r.$on("uib:datepicker.mode",function(){f(R,0,!1)})}]).directive("uibDatepickerPopup",function(){return{require:["ngModel","uibDatepickerPopup"],controller:"UibDatepickerPopupController",scope:{datepickerOptions:"=?",isOpen:"=?",currentText:"@",clearText:"@",closeText:"@"},link:function(e,t,n,r){var i=r[0];r[1].init(i)}}}).directive("uibDatepickerPopupWrap",function(){return{restrict:"A",transclude:!0,templateUrl:function(e,t){return t.templateUrl||"uib/template/datepickerPopup/popup.html"}}}),angular.module("ui.bootstrap.debounce",[]).factory("$$debounce",["$timeout",function(o){return function(n,r){var i;return function(){var e=this,t=Array.prototype.slice.call(arguments);i&&o.cancel(i),i=o(function(){n.apply(e,t)},r)}}}]),angular.module("ui.bootstrap.multiMap",[]).factory("$$multiMap",function(){return{createNew:function(){var r={};return{entries:function(){return Object.keys(r).map(function(e){return{key:e,value:r[e]}})},get:function(e){return r[e]},hasKey:function(e){return!!r[e]},keys:function(){return Object.keys(r)},put:function(e,t){r[e]||(r[e]=[]),r[e].push(t)},remove:function(e,t){var n=r[e];n&&(-1!==(t=n.indexOf(t))&&n.splice(t,1),n.length||delete r[e])}}}}}),angular.module("ui.bootstrap.dropdown",["ui.bootstrap.multiMap","ui.bootstrap.position"]).constant("uibDropdownConfig",{appendToOpenClass:"uib-dropdown-open",openClass:"open"}).service("uibDropdownService",["$document","$rootScope","$$multiMap",function(i,n,e){var o=null,a=e.createNew(),s=(this.isOnlyOpen=function(n,e){e=a.get(e);if(e&&e.reduce(function(e,t){return t.scope===n?t:e},{}))return 1===e.length;return!1},this.open=function(e,t,n){var r;o||i.on("click",s),o&&o!==e&&(o.isOpen=!1),o=e,!n||(r=a.get(n))&&-1!==r.map(function(e){return e.scope}).indexOf(e)||a.put(n,{scope:e})},this.close=function(n,e,t){var r;o===n&&(i.off("click",s),i.off("keydown",this.keybindFilter),o=null),t&&(r=a.get(t))&&(r=r.reduce(function(e,t){return t.scope===n?t:e},{}))&&a.remove(t,r)},function(e){var t;o&&o.isOpen&&(e&&"disabled"===o.getAutoClose()||e&&3===e.which||(t=o.getToggleElement(),e&&t&&t[0].contains(e.target)||(t=o.getDropdownElement(),e&&"outsideClick"===o.getAutoClose()&&t&&t[0].contains(e.target)||(o.focusToggleElement(),o.isOpen=!1,n.$$phase||o.$apply()))))});this.keybindFilter=function(e){var t,n;o&&(t=o.getDropdownElement(),n=o.getToggleElement(),t=t&&t[0].contains(e.target),n=n&&n[0].contains(e.target),27===e.which?(e.stopPropagation(),o.focusToggleElement(),s()):o.isKeynavEnabled()&&-1!==[38,40].indexOf(e.which)&&o.isOpen&&(t||n)&&(e.preventDefault(),e.stopPropagation(),o.focusDropdownEntry(e.which)))}}]).controller("UibDropdownController",["$scope","$element","$attrs","$parse","uibDropdownConfig","uibDropdownService","$animate","$uibPosition","$document","$compile","$templateRequest",function(c,u,d,h,e,f,p,m,g,v,b){var y,t,w=this,_=c.$new(),k=e.appendToOpenClass,x=e.openClass,C=angular.noop,S=d.onToggle?h(d.onToggle):angular.noop,n=!1,T=g.find("body");function $(){u.append(w.dropdownMenu)}u.addClass("dropdown"),this.init=function(){d.isOpen&&(t=h(d.isOpen),C=t.assign,c.$watch(t,function(e){_.isOpen=!!e})),n=angular.isDefined(d.keyboardNav)},this.toggle=function(e){return _.isOpen=arguments.length?!!e:!_.isOpen,angular.isFunction(C)&&C(_,_.isOpen),_.isOpen},this.isOpen=function(){return _.isOpen},_.getToggleElement=function(){return w.toggleElement},_.getAutoClose=function(){return d.autoClose||"always"},_.getElement=function(){return u},_.isKeynavEnabled=function(){return n},_.focusDropdownEntry=function(e){var t=(w.dropdownMenu?angular.element(w.dropdownMenu):u.find("ul").eq(0)).find("a");switch(e){case 40:angular.isNumber(w.selectedOption)?w.selectedOption=w.selectedOption===t.length-1?w.selectedOption:w.selectedOption+1:w.selectedOption=0;break;case 38:angular.isNumber(w.selectedOption)?w.selectedOption=0===w.selectedOption?0:w.selectedOption-1:w.selectedOption=t.length-1}t[w.selectedOption].focus()},_.getDropdownElement=function(){return w.dropdownMenu},_.focusToggleElement=function(){w.toggleElement&&w.toggleElement[0].focus()},_.$watch("isOpen",function(e,t){var n,r,i=null,o=!1,a=(!angular.isDefined(d.dropdownAppendTo)||(a=h(d.dropdownAppendTo)(_))&&(i=angular.element(a)),(i=(o=angular.isDefined(d.dropdownAppendToBody)&&!1!==h(d.dropdownAppendToBody)(_)?!0:o)&&!i?T:i)&&w.dropdownMenu&&(e?(i.append(w.dropdownMenu),u.on("$destroy",$)):(u.off("$destroy",$),$())),i&&w.dropdownMenu&&(n={top:(l=m.positionElements(u,w.dropdownMenu,"bottom-left",!(a=0))).top+"px",display:e?"block":"none"},(s=w.dropdownMenu.hasClass("dropdown-menu-right"))?(n.left="auto",(r=m.scrollbarPadding(i)).heightOverflow&&r.scrollbarWidth&&(a=r.scrollbarWidth),n.right=window.innerWidth-a-(l.left+u.prop("offsetWidth"))+"px"):(n.left=l.left+"px",n.right="auto"),o||(r=m.offset(i),n.top=l.top-r.top+"px",s?n.right=window.innerWidth-(l.left-r.left+u.prop("offsetWidth"))+"px":n.left=l.left-r.left+"px"),w.dropdownMenu.css(n)),i||u),o=i?k:x,s=a.hasClass(o),l=f.isOnlyOpen(c,i);s===!e&&p[i?l?"removeClass":"addClass":e?"addClass":"removeClass"](a,o).then(function(){angular.isDefined(e)&&e!==t&&S(c,{open:!!e})}),e?(w.dropdownMenuTemplateUrl?b(w.dropdownMenuTemplateUrl).then(function(e){y=_.$new(),v(e.trim())(y,function(e){w.dropdownMenu.replaceWith(e),w.dropdownMenu=e,g.on("keydown",f.keybindFilter)})}):g.on("keydown",f.keybindFilter),_.focusToggleElement(),f.open(_,u,i)):(f.close(_,u,i),w.dropdownMenuTemplateUrl&&(y&&y.$destroy(),r=angular.element('<ul class="dropdown-menu"></ul>'),w.dropdownMenu.replaceWith(r),w.dropdownMenu=r),w.selectedOption=null),angular.isFunction(C)&&C(c,e)})}]).directive("uibDropdown",function(){return{controller:"UibDropdownController",link:function(e,t,n,r){r.init()}}}).directive("uibDropdownMenu",function(){return{restrict:"A",require:"?^uibDropdown",link:function(e,t,n,r){r&&!angular.isDefined(n.dropdownNested)&&(t.addClass("dropdown-menu"),(n=n.templateUrl)&&(r.dropdownMenuTemplateUrl=n),r.dropdownMenu||(r.dropdownMenu=t))}}}).directive("uibDropdownToggle",function(){return{require:"?^uibDropdown",link:function(t,n,r,i){var e;i&&(n.addClass("dropdown-toggle"),(i.toggleElement=n).on("click",e=function(e){e.preventDefault(),n.hasClass("disabled")||r.disabled||t.$apply(function(){i.toggle()})}),n.attr({"aria-haspopup":!0,"aria-expanded":!1}),t.$watch(i.isOpen,function(e){n.attr("aria-expanded",!!e)}),t.$on("$destroy",function(){n.off("click",e)}))}}}),angular.module("ui.bootstrap.stackedMap",[]).factory("$$stackedMap",function(){return{createNew:function(){var r=[];return{add:function(e,t){r.push({key:e,value:t})},get:function(e){for(var t=0;t<r.length;t++)if(e===r[t].key)return r[t]},keys:function(){for(var e=[],t=0;t<r.length;t++)e.push(r[t].key);return e},top:function(){return r[r.length-1]},remove:function(e){for(var t=-1,n=0;n<r.length;n++)if(e===r[n].key){t=n;break}return r.splice(t,1)[0]},removeTop:function(){return r.pop()},length:function(){return r.length}}}}}),angular.module("ui.bootstrap.modal",["ui.bootstrap.multiMap","ui.bootstrap.stackedMap","ui.bootstrap.position"]).provider("$uibResolve",function(){var e=this;this.resolver=null,this.setResolver=function(e){this.resolver=e},this.$get=["$injector","$q",function(o,a){var s=e.resolver?o.get(e.resolver):null;return{resolve:function(e,t,n,r){var i;return s?s.resolve(e,t,n,r):(i=[],angular.forEach(e,function(e){angular.isFunction(e)||angular.isArray(e)?i.push(a.resolve(o.invoke(e))):angular.isString(e)?i.push(a.resolve(o.get(e))):i.push(a.resolve(e))}),a.all(i).then(function(n){var r={},i=0;return angular.forEach(e,function(e,t){r[t]=n[i++]}),r}))}}}]}).directive("uibModalBackdrop",["$animate","$injector","$uibModalStack",function(o,e,t){return{restrict:"A",compile:function(e,t){return e.addClass(t.backdropClass),n}};function n(n,r,i){i.modalInClass&&(o.addClass(r,i.modalInClass),n.$on(t.NOW_CLOSING_EVENT,function(e,t){t=t();n.modalOptions.animation?o.removeClass(r,i.modalInClass).then(t):t()}))}}]).directive("uibModalWindow",["$uibModalStack","$q","$animateCss","$document",function(i,o,a,s){return{scope:{index:"@"},restrict:"A",transclude:!0,templateUrl:function(e,t){return t.templateUrl||"uib/template/modal/window.html"},link:function(t,n,r){n.addClass(r.windowTopClass||""),t.size=r.size,t.close=function(e){var t=i.getTop();t&&t.value.backdrop&&"static"!==t.value.backdrop&&e.target===e.currentTarget&&(e.preventDefault(),e.stopPropagation(),i.dismiss(t.key,"backdrop click"))},n.on("click",t.close),t.$isRendered=!0;var e=o.defer();t.$$postDigest(function(){e.resolve()}),e.promise.then(function(){var e=null;r.modalInClass&&(e=a(n,{addClass:r.modalInClass}).start(),t.$on(i.NOW_CLOSING_EVENT,function(e,t){t=t();a(n,{removeClass:r.modalInClass}).start().then(t)})),o.when(e).then(function(){var e=i.getTop();e&&i.modalRendered(e.key),s[0].activeElement&&n[0].contains(s[0].activeElement)||(n[0].querySelector("[autofocus]")||n[0]).focus()})})}}}]).directive("uibModalAnimationClass",function(){return{compile:function(e,t){t.modalAnimation&&e.addClass(t.uibModalAnimationClass)}}}).directive("uibModalTransclude",["$animate",function(o){return{link:function(e,t,n,r,i){i(e.$parent,function(e){t.empty(),o.enter(e,t)})}}}]).factory("$uibModalStack",["$animate","$animateCss","$document","$compile","$rootScope","$q","$$multiMap","$$stackedMap","$uibPosition",function(s,e,a,l,c,u,t,n,d){var h,f,p,m="modal-open",g=n.createNew(),v=t.createNew(),b={NOW_CLOSING_EVENT:"modal.stack.now-closing"},y=0,w=null,_="data-bootstrap-modal-aria-hidden-count",k=/[A-Z]/g;function x(){for(var e=-1,t=g.keys(),n=0;n<t.length;n++)g.get(t[n]).value.backdrop&&(e=n);return e=-1<e&&e<y?y:e}function r(n,e){var r=g.get(n).value,i=r.appendTo;g.remove(n),(w=g.top())&&(y=parseInt(w.value.modalDomEl.attr("index"),10)),o(r.modalDomEl,r.modalScope,function(){var e=r.openedClass||m,t=(v.remove(e,n),v.hasKey(e));i.toggleClass(e,t),!t&&p&&p.heightOverflow&&p.scrollbarWidth&&(p.originalRight?i.css({paddingRight:p.originalRight+"px"}):i.css({paddingRight:""}),p=null),C(!0)},r.closedDeferred),h&&-1===x()&&(o(h,f,function(){0}),f=h=void 0),e&&e.focus?e.focus():i.focus&&i.focus()}function C(e){var t;0<g.length()&&(t=g.top().value).modalDomEl.toggleClass(t.windowTopClass||"",e)}function o(e,t,n,r){var i,o=null;function a(){a.done||(a.done=!0,s.leave(e).then(function(){n&&n(),e.remove(),r&&r.resolve()}),t.$destroy())}t.$broadcast(b.NOW_CLOSING_EVENT,function(){return i||(i=u.defer(),o=i.promise),function(){i.resolve()}}),u.when(o).then(a)}function i(e){if(e.isDefaultPrevented())return e;var t=g.top();if(t)switch(e.which){case 27:t.value.keyboard&&(e.preventDefault(),c.$apply(function(){b.dismiss(t.key,"escape key press")}));break;case 9:var n=b.loadFocusElementList(t),r=!1;e.shiftKey?(b.isFocusInFirstItem(e,n)||b.isModalFocused(e,t))&&(r=b.focusLastFocusableElement(n)):b.isFocusInLastItem(e,n)&&(r=b.focusFirstFocusableElement(n)),r&&(e.preventDefault(),e.stopPropagation())}}function S(e,t,n){return!e.value.modalScope.$broadcast("modal.closing",t,n).defaultPrevented}function T(){Array.prototype.forEach.call(document.querySelectorAll("["+_+"]"),function(e){var t=parseInt(e.getAttribute(_),10)-1;e.setAttribute(_,t),t||(e.removeAttribute(_),e.removeAttribute("aria-hidden"))})}return c.$watch(x,function(e){f&&(f.index=e)}),a.on("keydown",i),c.$on("$destroy",function(){a.off("keydown",i)}),b.open=function(e,t){var n,r=a[0].activeElement,i=t.openedClass||m,e=(C(!1),w=g.top(),g.add(e,{deferred:t.deferred,renderDeferred:t.renderDeferred,closedDeferred:t.closedDeferred,modalScope:t.scope,backdrop:t.backdrop,keyboard:t.keyboard,openedClass:t.openedClass,windowTopClass:t.windowTopClass,animation:t.animation,appendTo:t.appendTo}),v.put(i,e),t.appendTo),o=x(),o=(0<=o&&!h&&((f=c.$new(!0)).modalOptions=t,f.index=o,(h=angular.element('<div uib-modal-backdrop="modal-backdrop"></div>')).attr({class:"modal-backdrop","ng-style":"{'z-index': 1040 + (index && 1 || 0) + index*10}","uib-modal-animation-class":"fade","modal-in-class":"in"}),t.backdropClass&&h.addClass(t.backdropClass),t.animation&&h.attr("modal-animation","true"),l(h)(f),s.enter(h,e),d.isScrollable(e)&&(p=d.scrollbarPadding(e)).heightOverflow&&p.scrollbarWidth&&e.css({paddingRight:p.right+"px"})),t.component?(n=document.createElement(t.component.name.replace(k,function(e,t){return(t?"-":"")+e.toLowerCase()})),(n=angular.element(n)).attr({resolve:"$resolve","modal-instance":"$uibModalInstance",close:"$close($value)",dismiss:"$dismiss($value)"})):n=t.content,y=w?parseInt(w.value.modalDomEl.attr("index"),10)+1:0,angular.element('<div uib-modal-window="modal-window"></div>'));o.attr({class:"modal","template-url":t.windowTemplateUrl,"window-top-class":t.windowTopClass,role:"dialog","aria-labelledby":t.ariaLabelledBy,"aria-describedby":t.ariaDescribedBy,size:t.size,index:y,animate:"animate","ng-style":"{'z-index': 1050 + $$topModalIndex*10, display: 'block'}",tabindex:-1,"uib-modal-animation-class":"fade","modal-in-class":"in"}).append(n),t.windowClass&&o.addClass(t.windowClass),t.animation&&o.attr("modal-animation","true"),e.addClass(i),t.scope&&(t.scope.$$topModalIndex=y),s.enter(l(o)(t.scope),e),g.top().value.modalDomEl=o,g.top().value.modalOpener=r,function e(t){if(!t||"BODY"===t[0].tagName)return;n(t).forEach(function(e){var t="true"===e.getAttribute("aria-hidden"),n=parseInt(e.getAttribute(_),10);n=n||(t?1:0),e.setAttribute(_,n+1),e.setAttribute("aria-hidden","true")});return e(t.parent());function n(t){var e=t.parent()?t.parent().children():[];return Array.prototype.filter.call(e,function(e){return e!==t[0]})}}(o)},b.close=function(e,t){var n=g.get(e);return T(),n&&S(n,t,!0)?(n.value.modalScope.$$uibDestructionScheduled=!0,n.value.deferred.resolve(t),r(e,n.value.modalOpener),!0):!n},b.dismiss=function(e,t){var n=g.get(e);return T(),n&&S(n,t,!1)?(n.value.modalScope.$$uibDestructionScheduled=!0,n.value.deferred.reject(t),r(e,n.value.modalOpener),!0):!n},b.dismissAll=function(e){for(var t=this.getTop();t&&this.dismiss(t.key,e);)t=this.getTop()},b.getTop=function(){return g.top()},b.modalRendered=function(e){e=g.get(e);e&&e.value.renderDeferred.resolve()},b.focusFirstFocusableElement=function(e){return 0<e.length&&(e[0].focus(),!0)},b.focusLastFocusableElement=function(e){return 0<e.length&&(e[e.length-1].focus(),!0)},b.isModalFocused=function(e,t){if(e&&t){t=t.value.modalDomEl;if(t&&t.length)return(e.target||e.srcElement)===t[0]}return!1},b.isFocusInFirstItem=function(e,t){return 0<t.length&&(e.target||e.srcElement)===t[0]},b.isFocusInLastItem=function(e,t){return 0<t.length&&(e.target||e.srcElement)===t[t.length-1]},b.loadFocusElementList=function(e){if(e){var e=e.value.modalDomEl;if(e&&e.length)return(e=e[0].querySelectorAll("a[href], area[href], input:not([disabled]):not([tabindex='-1']), button:not([disabled]):not([tabindex='-1']),select:not([disabled]):not([tabindex='-1']), textarea:not([disabled]):not([tabindex='-1']), iframe, object, embed, *[tabindex]:not([tabindex='-1']), *[contenteditable=true]"))&&Array.prototype.filter.call(e,function(e){return!!((e=e).offsetWidth||e.offsetHeight||e.getClientRects().length)})}},b}]).provider("$uibModal",function(){var b={options:{animation:!0,backdrop:!0,keyboard:!0},$get:["$rootScope","$q","$document","$templateRequest","$controller","$uibResolve","$uibModalStack",function(p,i,o,a,m,s,g){var e={};var v=null;return e.getPromiseChain=function(){return v},e.open=function(l){var e,t,n,c=i.defer(),u=i.defer(),d=i.defer(),h=i.defer(),f={result:c.promise,opened:u.promise,closed:d.promise,rendered:h.promise,close:function(e){return g.close(f,e)},dismiss:function(e){return g.dismiss(f,e)}};if((l=angular.extend({},b.options,l)).resolve=l.resolve||{},l.appendTo=l.appendTo||o.find("body").eq(0),!l.appendTo.length)throw new Error("appendTo element not found. Make sure that the element passed is in DOM.");if(l.component||l.template||l.templateUrl)return e=l.component?i.when(s.resolve(l.resolve,{},null,null)):i.all([(t=l).template?i.when(t.template):a(angular.isFunction(t.templateUrl)?t.templateUrl():t.templateUrl),s.resolve(l.resolve,{},null,null)]),n=v=i.all([v]).then(r,r).then(function(i){var e,t=l.scope||p,o=t.$new(),n=(o.$close=f.close,o.$dismiss=f.dismiss,o.$on("$destroy",function(){o.$$uibDestructionScheduled||o.$dismiss("$uibUnscheduledDestruction")}),{scope:o,deferred:c,renderDeferred:h,closedDeferred:d,animation:l.animation,backdrop:l.backdrop,keyboard:l.keyboard,backdropClass:l.backdropClass,windowTopClass:l.windowTopClass,windowClass:l.windowClass,windowTemplateUrl:l.windowTemplateUrl,ariaLabelledBy:l.ariaLabelledBy,ariaDescribedBy:l.ariaDescribedBy,size:l.size,openedClass:l.openedClass,appendTo:l.appendTo}),r={},a={};function s(n,e,t,r){n.$scope=o,n.$scope.$resolve={},t?n.$scope.$uibModalInstance=f:n.$uibModalInstance=f;t=e?i[1]:i;angular.forEach(t,function(e,t){r&&(n[t]=e),n.$scope.$resolve[t]=e})}l.component?(s(r,!1,!0,!1),r.name=l.component,n.component=r):l.controller&&(s(a,!0,!1,!0),r=m(l.controller,a,!0,l.controllerAs),l.controllerAs&&l.bindToController&&((e=r.instance).$close=o.$close,e.$dismiss=o.$dismiss,angular.extend(e,{$resolve:a.$scope.$resolve},t)),e=r(),angular.isFunction(e.$onInit)&&e.$onInit()),l.component||(n.content=i[0]),g.open(f,n),u.resolve(!0)},function(e){u.reject(e),c.reject(e)}).finally(function(){v===n&&(v=null)}),f;throw new Error("One of component or template or templateUrl options is required.");function r(){return e}},e}]};return b}),angular.module("ui.bootstrap.paging",[]).factory("uibPaging",["$parse",function(e){return{create:function(n,r,i){n.setNumPages=i.numPages?e(i.numPages).assign:angular.noop,n.ngModelCtrl={$setViewValue:angular.noop},n._watchers=[],n.init=function(e,t){n.ngModelCtrl=e,n.config=t,e.$render=function(){n.render()},i.itemsPerPage?n._watchers.push(r.$parent.$watch(i.itemsPerPage,function(e){n.itemsPerPage=parseInt(e,10),r.totalPages=n.calculateTotalPages(),n.updatePage()})):n.itemsPerPage=t.itemsPerPage,r.$watch("totalItems",function(e,t){!angular.isDefined(e)&&e===t||(r.totalPages=n.calculateTotalPages(),n.updatePage())})},n.calculateTotalPages=function(){var e=n.itemsPerPage<1?1:Math.ceil(r.totalItems/n.itemsPerPage);return Math.max(e||0,1)},n.render=function(){r.page=parseInt(n.ngModelCtrl.$viewValue,10)||1},r.selectPage=function(e,t){t&&t.preventDefault(),(!r.ngDisabled||!t)&&r.page!==e&&0<e&&e<=r.totalPages&&(t&&t.target&&t.target.blur(),n.ngModelCtrl.$setViewValue(e),n.ngModelCtrl.$render())},r.getText=function(e){return r[e+"Text"]||n.config[e+"Text"]},r.noPrevious=function(){return 1===r.page},r.noNext=function(){return r.page===r.totalPages},n.updatePage=function(){n.setNumPages(r.$parent,r.totalPages),r.page>r.totalPages?r.selectPage(r.totalPages):n.ngModelCtrl.$render()},r.$on("$destroy",function(){for(;n._watchers.length;)n._watchers.shift()()})}}}]),angular.module("ui.bootstrap.pager",["ui.bootstrap.paging","ui.bootstrap.tabindex"]).controller("UibPagerController",["$scope","$attrs","uibPaging","uibPagerConfig",function(e,t,n,r){e.align=angular.isDefined(t.align)?e.$parent.$eval(t.align):r.align,n.create(this,e,t)}]).constant("uibPagerConfig",{itemsPerPage:10,previousText:" Previous",nextText:"Next ",align:!0}).directive("uibPager",["uibPagerConfig",function(i){return{scope:{totalItems:"=",previousText:"@",nextText:"@",ngDisabled:"="},require:["uibPager","?ngModel"],restrict:"A",controller:"UibPagerController",controllerAs:"pager",templateUrl:function(e,t){return t.templateUrl||"uib/template/pager/pager.html"},link:function(e,t,n,r){t.addClass("pager");t=r[0],r=r[1];r&&t.init(r,i)}}}]),angular.module("ui.bootstrap.pagination",["ui.bootstrap.paging","ui.bootstrap.tabindex"]).controller("UibPaginationController",["$scope","$attrs","$parse","uibPaging","uibPaginationConfig",function(t,n,e,r,i){var o=this,l=angular.isDefined(n.maxSize)?t.$parent.$eval(n.maxSize):i.maxSize,c=angular.isDefined(n.rotate)?t.$parent.$eval(n.rotate):i.rotate,u=angular.isDefined(n.forceEllipses)?t.$parent.$eval(n.forceEllipses):i.forceEllipses,d=angular.isDefined(n.boundaryLinkNumbers)?t.$parent.$eval(n.boundaryLinkNumbers):i.boundaryLinkNumbers,h=angular.isDefined(n.pageLabel)?function(e){return t.$parent.$eval(n.pageLabel,{$page:e})}:angular.identity;function f(e,t,n){return{number:e,text:t,active:n}}t.boundaryLinks=angular.isDefined(n.boundaryLinks)?t.$parent.$eval(n.boundaryLinks):i.boundaryLinks,t.directionLinks=angular.isDefined(n.directionLinks)?t.$parent.$eval(n.directionLinks):i.directionLinks,n.$set("role","menu"),r.create(this,t,n),n.maxSize&&o._watchers.push(t.$parent.$watch(e(n.maxSize),function(e){l=parseInt(e,10),o.render()}));var a=this.render;this.render=function(){a(),0<t.page&&t.page<=t.totalPages&&(t.pages=function(e,t){var n=[],r=1,i=t,o=angular.isDefined(l)&&l<t;o&&(c?t<(i=(r=Math.max(e-Math.floor(l/2),1))+l-1)&&(r=(i=t)-l+1):(r=(Math.ceil(e/l)-1)*l+1,i=Math.min(r+l-1,t)));for(var a=r;a<=i;a++){var s=f(a,h(a),a===e);n.push(s)}return o&&0<l&&(!c||u||d)&&(1<r&&((!d||3<r)&&(o=f(r-1,"...",!1),n.unshift(o)),d&&(3===r&&(o=f(2,"2",!1),n.unshift(o)),r=f(1,"1",!1),n.unshift(r))),i<t&&((!d||i<t-2)&&(o=f(i+1,"...",!1),n.push(o)),d&&(i===t-2&&(r=f(t-1,t-1,!1),n.push(r)),o=f(t,t,!1),n.push(o)))),n}(t.page,t.totalPages))}}]).constant("uibPaginationConfig",{itemsPerPage:10,boundaryLinks:!1,boundaryLinkNumbers:!1,directionLinks:!0,firstText:"First",previousText:"Previous",nextText:"Next",lastText:"Last",rotate:!0,forceEllipses:!1}).directive("uibPagination",["$parse","uibPaginationConfig",function(e,i){return{scope:{totalItems:"=",firstText:"@",previousText:"@",nextText:"@",lastText:"@",ngDisabled:"="},require:["uibPagination","?ngModel"],restrict:"A",controller:"UibPaginationController",controllerAs:"pagination",templateUrl:function(e,t){return t.templateUrl||"uib/template/pagination/pagination.html"},link:function(e,t,n,r){t.addClass("pagination");t=r[0],r=r[1];r&&t.init(r,i)}}}]),angular.module("ui.bootstrap.tooltip",["ui.bootstrap.position","ui.bootstrap.stackedMap"]).provider("$uibTooltip",function(){var s={placement:"top",placementClassPrefix:"",animation:!0,popupDelay:0,popupCloseDelay:0,useContentExp:!1},l={mouseenter:"mouseleave",click:"click",outsideClick:"outsideClick",focus:"blur",none:""},c={};this.options=function(e){angular.extend(c,e)},this.setTriggers=function(e){angular.extend(l,e)},this.$get=["$window","$compile","$timeout","$document","$uibPosition","$interpolate","$rootScope","$parse","$$stackedMap",function(e,o,B,H,U,a,t,W,n){var q=n.createNew();function r(e){27===e.which&&(e=q.top())&&e.value.close()}return H.on("keyup",r),t.$on("$destroy",function(){H.off("keyup",r)}),function(L,V,n,F){function z(e){var e=(e||F.trigger||n).split(" "),t=e.map(function(e){return l[e]||e});return{show:e,hide:t}}F=angular.extend({},s,c,F);var e=L.replace(/[A-Z]/g,function(e,t){return(t?"-":"")+e.toLowerCase()}),t=a.startSymbol(),r=a.endSymbol(),i="<div "+e+'-popup uib-title="'+t+"title"+r+'" '+(F.useContentExp?'content-exp="contentExp()" ':'content="'+t+"content"+r+'" ')+'origin-scope="origScope" class="uib-position-measure '+V+'" tooltip-animation-class="fade"uib-tooltip-classes ng-class="{ in: isOpen }" ></div>';return{compile:function(e,t){var j=o(i);return function(n,i,r,N){function t(){o&&o.html()&&(c=c||B(function(){var e=U.positionElements(i,o,m.placement,h),t=angular.isDefined(o.offsetHeight)?o.offsetHeight:o.prop("offsetHeight"),n=h?U.offset(i):U.position(i),r=(o.css({top:e.top+"px",left:e.left+"px"}),e.placement.split("-"));o.hasClass(r[0])||(o.removeClass(d.split("-")[0]),o.addClass(r[0])),o.hasClass(F.placementClassPrefix+e.placement)||(o.removeClass(F.placementClassPrefix+d),o.addClass(F.placementClassPrefix+e.placement)),u=B(function(){var e=angular.isDefined(o.offsetHeight)?o.offsetHeight:o.prop("offsetHeight"),e=U.adjustTop(r,n,t,e);e&&o.css(e),u=null},0,!1),o.hasClass("uib-position-measure")?(U.positionArrow(o,e.placement),o.removeClass("uib-position-measure")):d!==e.placement&&U.positionArrow(o,e.placement),d=e.placement,c=null},0,!1))}var o,e,a,s,l,c,u,d,h=!!angular.isDefined(F.appendToBody)&&F.appendToBody,f=z(void 0),p=angular.isDefined(r[V+"Enable"]),m=n.$new(!0),g=!1,v=!!angular.isDefined(r[V+"IsOpen"])&&W(r[V+"IsOpen"]),b=!!F.useContentExp&&W(r[L]),y=[];function w(){(m.isOpen?k:_)()}function _(){var e,t;p&&!n.$eval(r[V+"Enable"])||(T(),m.title=r[V+"Title"],m.content=b?b(n):r[L],m.popupClass=r[V+"Class"],m.placement=angular.isDefined(r[V+"Placement"])?r[V+"Placement"]:F.placement,e=U.parsePlacement(m.placement),d=e[1]?e[0]+"-"+e[1]:e[0],e=parseInt(r[V+"PopupDelay"],10),t=parseInt(r[V+"PopupCloseDelay"],10),m.popupDelay=isNaN(e)?F.popupDelay:e,m.popupCloseDelay=isNaN(t)?F.popupCloseDelay:t,m.popupDelay?s=s||B(x,m.popupDelay,!1):x())}function k(){C(),m.popupCloseDelay?l=l||B(S,m.popupCloseDelay,!1):S()}function x(){if(C(),T(),!m.content)return angular.noop;o||(e=m.$new(),o=j(e,function(e){h?H.find("body").append(e):i.after(e)}),q.add(m,{close:S}),y.length=0,b?(y.push(n.$watch(b,function(e){!(m.content=e)&&m.isOpen&&S()})),y.push(e.$watch(function(){g||(g=!0,e.$$postDigest(function(){g=!1,m&&m.isOpen&&t()}))}))):y.push(r.$observe(L,function(e){(!(m.content=e)&&m.isOpen?S:t)()})),y.push(r.$observe(V+"Title",function(e){m.title=e,m.isOpen&&t()})),y.push(r.$observe(V+"Placement",function(e){m.placement=e||F.placement,m.isOpen&&t()}))),m.$evalAsync(function(){E(m.isOpen=!0),t()})}function C(){s&&(B.cancel(s),s=null),c&&(B.cancel(c),c=null)}function S(){m&&m.$evalAsync(function(){m&&(E(m.isOpen=!1),m.animation?a=a||B($,150,!1):$())})}function T(){l&&(B.cancel(l),l=null),a&&(B.cancel(a),a=null)}function $(){C(),T(),y.length&&(angular.forEach(y,function(e){e()}),y.length=0),o&&(o.remove(),o=null,u&&B.cancel(u)),q.remove(m),e&&(e.$destroy(),e=null)}function E(e){v&&angular.isFunction(v.assign)&&v.assign(n,e)}function A(e){m&&m.isOpen&&o&&(i[0].contains(e.target)||o[0].contains(e.target)||k())}function O(e){27===e.which&&k()}m.origScope=n,m.isOpen=!1,m.contentExp=function(){return m.content},r.$observe("disabled",function(e){e&&C(),e&&m.isOpen&&S()}),v&&n.$watch(v,function(e){m&&!e===m.isOpen&&w()});function M(){f.show.forEach(function(e){"outsideClick"===e?i.off("click",w):(i.off(e,_),i.off(e,w)),i.off("keypress",O)}),f.hide.forEach(function(e){"outsideClick"===e?H.off("click",A):i.off(e,k)})}var P,D,R;P=[],D=[],R=n.$eval(r[V+"Trigger"]),M(),"none"!==(f=angular.isObject(R)?(Object.keys(R).forEach(function(e){P.push(e),D.push(R[e])}),{show:P,hide:D}):z(R)).show&&f.show.forEach(function(e,t){"outsideClick"===e?(i.on("click",w),H.on("click",A)):e===f.hide[t]?i.on(e,w):e&&(i.on(e,_),i.on(f.hide[t],k)),i.on("keypress",O)});var I=n.$eval(r[V+"Animation"]),I=(m.animation=angular.isDefined(I)?!!I:F.animation,V+"AppendToBody"),I=I in r&&void 0===r[I]||n.$eval(r[I]),h=angular.isDefined(I)?I:h;n.$on("$destroy",function(){M(),$(),m=null})}}}}}]}).directive("uibTooltipTemplateTransclude",["$animate","$sce","$compile","$templateRequest",function(u,r,d,h){return{link:function(e,i,t){function o(){n&&(n.remove(),n=null),a&&(a.$destroy(),a=null),s&&(u.leave(s).then(function(){n=null}),n=s,s=null)}var a,n,s,l=e.$eval(t.tooltipTemplateTranscludeScope),c=0;e.$watch(r.parseAsResourceUrl(t.uibTooltipTemplateTransclude),function(n){var r=++c;n?(h(n,!0).then(function(e){var t;r===c&&(t=l.$new(),e=d(e)(t,function(e){o(),u.enter(e,i)}),s=e,(a=t).$emit("$includeContentLoaded",n))},function(){r===c&&(o(),e.$emit("$includeContentError",n))}),e.$emit("$includeContentRequested",n)):o()}),e.$on("$destroy",o)}}}]).directive("uibTooltipClasses",["$uibPosition",function(i){return{restrict:"A",link:function(e,t,n){var r;e.placement&&(r=i.parsePlacement(e.placement),t.addClass(r[0])),e.popupClass&&t.addClass(e.popupClass),e.animation&&t.addClass(n.tooltipAnimationClass)}}}]).directive("uibTooltipPopup",function(){return{restrict:"A",scope:{content:"@"},templateUrl:"uib/template/tooltip/tooltip-popup.html"}}).directive("uibTooltip",["$uibTooltip",function(e){return e("uibTooltip","tooltip","mouseenter")}]).directive("uibTooltipTemplatePopup",function(){return{restrict:"A",scope:{contentExp:"&",originScope:"&"},templateUrl:"uib/template/tooltip/tooltip-template-popup.html"}}).directive("uibTooltipTemplate",["$uibTooltip",function(e){return e("uibTooltipTemplate","tooltip","mouseenter",{useContentExp:!0})}]).directive("uibTooltipHtmlPopup",function(){return{restrict:"A",scope:{contentExp:"&"},templateUrl:"uib/template/tooltip/tooltip-html-popup.html"}}).directive("uibTooltipHtml",["$uibTooltip",function(e){return e("uibTooltipHtml","tooltip","mouseenter",{useContentExp:!0})}]),angular.module("ui.bootstrap.popover",["ui.bootstrap.tooltip"]).directive("uibPopoverTemplatePopup",function(){return{restrict:"A",scope:{uibTitle:"@",contentExp:"&",originScope:"&"},templateUrl:"uib/template/popover/popover-template.html"}}).directive("uibPopoverTemplate",["$uibTooltip",function(e){return e("uibPopoverTemplate","popover","click",{useContentExp:!0})}]).directive("uibPopoverHtmlPopup",function(){return{restrict:"A",scope:{contentExp:"&",uibTitle:"@"},templateUrl:"uib/template/popover/popover-html.html"}}).directive("uibPopoverHtml",["$uibTooltip",function(e){return e("uibPopoverHtml","popover","click",{useContentExp:!0})}]).directive("uibPopoverPopup",function(){return{restrict:"A",scope:{uibTitle:"@",content:"@"},templateUrl:"uib/template/popover/popover.html"}}).directive("uibPopover",["$uibTooltip",function(e){return e("uibPopover","popover","click")}]),angular.module("ui.bootstrap.progressbar",[]).constant("uibProgressConfig",{animate:!0,max:100}).controller("UibProgressController",["$scope","$attrs","uibProgressConfig",function(e,t,n){var r=this,i=angular.isDefined(t.animate)?e.$parent.$eval(t.animate):n.animate;function o(){return angular.isDefined(e.maxParam)?e.maxParam:n.max}this.bars=[],e.max=o(),this.addBar=function(t,e,n){i||e.css({transition:"none"}),this.bars.push(t),t.max=o(),t.title=n&&angular.isDefined(n.title)?n.title:"progressbar",t.$watch("value",function(e){t.recalculatePercentage()}),t.recalculatePercentage=function(){var e=r.bars.reduce(function(e,t){return t.percent=+(100*t.value/t.max).toFixed(2),e+t.percent},0);100<e&&(t.percent-=e-100)},t.$on("$destroy",function(){e=null,r.removeBar(t)})},this.removeBar=function(e){this.bars.splice(this.bars.indexOf(e),1),this.bars.forEach(function(e){e.recalculatePercentage()})},e.$watch("maxParam",function(e){r.bars.forEach(function(e){e.max=o(),e.recalculatePercentage()})})}]).directive("uibProgress",function(){return{replace:!0,transclude:!0,controller:"UibProgressController",require:"uibProgress",scope:{maxParam:"=?max"},templateUrl:"uib/template/progressbar/progress.html"}}).directive("uibBar",function(){return{replace:!0,transclude:!0,require:"^uibProgress",scope:{value:"=",type:"@"},templateUrl:"uib/template/progressbar/bar.html",link:function(e,t,n,r){r.addBar(e,t,n)}}}).directive("uibProgressbar",function(){return{replace:!0,transclude:!0,controller:"UibProgressController",scope:{value:"=",maxParam:"=?max",type:"@"},templateUrl:"uib/template/progressbar/progressbar.html",link:function(e,t,n,r){r.addBar(e,angular.element(t.children()[0]),{title:n.title})}}}),angular.module("ui.bootstrap.rating",[]).constant("uibRatingConfig",{max:5,stateOn:null,stateOff:null,enableReset:!0,titles:["one","two","three","four","five"]}).controller("UibRatingController",["$scope","$attrs","uibRatingConfig",function(t,n,r){var i={$setViewValue:angular.noop},o=this;this.init=function(e){(i=e).$render=this.render,i.$formatters.push(function(e){return e=angular.isNumber(e)&&e<<0!==e?Math.round(e):e}),this.stateOn=angular.isDefined(n.stateOn)?t.$parent.$eval(n.stateOn):r.stateOn,this.stateOff=angular.isDefined(n.stateOff)?t.$parent.$eval(n.stateOff):r.stateOff,this.enableReset=angular.isDefined(n.enableReset)?t.$parent.$eval(n.enableReset):r.enableReset;e=angular.isDefined(n.titles)?t.$parent.$eval(n.titles):r.titles,this.titles=angular.isArray(e)&&0<e.length?e:r.titles,e=angular.isDefined(n.ratingStates)?t.$parent.$eval(n.ratingStates):new Array(angular.isDefined(n.max)?t.$parent.$eval(n.max):r.max);t.range=this.buildTemplateObjects(e)},this.buildTemplateObjects=function(e){for(var t=0,n=e.length;t<n;t++)e[t]=angular.extend({index:t},{stateOn:this.stateOn,stateOff:this.stateOff,title:this.getTitle(t)},e[t]);return e},this.getTitle=function(e){return e>=this.titles.length?e+1:this.titles[e]},t.rate=function(e){!t.readonly&&0<=e&&e<=t.range.length&&(e=o.enableReset&&i.$viewValue===e?0:e,i.$setViewValue(e),i.$render())},t.enter=function(e){t.readonly||(t.value=e),t.onHover({value:e})},t.reset=function(){t.value=i.$viewValue,t.onLeave()},t.onKeydown=function(e){/(37|38|39|40)/.test(e.which)&&(e.preventDefault(),e.stopPropagation(),t.rate(t.value+(38===e.which||39===e.which?1:-1)))},this.render=function(){t.value=i.$viewValue,t.title=o.getTitle(t.value-1)}}]).directive("uibRating",function(){return{require:["uibRating","ngModel"],restrict:"A",scope:{readonly:"=?readOnly",onHover:"&",onLeave:"&"},controller:"UibRatingController",templateUrl:"uib/template/rating/rating.html",link:function(e,t,n,r){var i=r[0],r=r[1];i.init(r)}}}),angular.module("ui.bootstrap.tabs",[]).controller("UibTabsetController",["$scope",function(e){var r,i,o=this;function a(e){for(var t=0;t<o.tabs.length;t++)if(o.tabs[t].index===e)return t}o.tabs=[],o.select=function(e,t){if(!i){var n=a(r),n=o.tabs[n];if(n){if(n.tab.onDeselect({$event:t,$selectedIndex:e}),t&&t.isDefaultPrevented())return;n.tab.active=!1}n=o.tabs[e];n?(n.tab.onSelect({$event:t}),n.tab.active=!0,o.active=n.index,r=n.index):!n&&angular.isDefined(r)&&(o.active=null,r=null)}},o.addTab=function(e){o.tabs.push({tab:e,index:e.index}),o.tabs.sort(function(e,t){return e.index>t.index?1:e.index<t.index?-1:0}),e.index!==o.active&&(angular.isDefined(o.active)||1!==o.tabs.length)||(e=a(e.index),o.select(e))},o.removeTab=function(e){for(var t,n,r=0;r<o.tabs.length;r++)if(o.tabs[r].tab===e){t=r;break}o.tabs[t].index===o.active&&(n=t===o.tabs.length-1?t-1:t+1%o.tabs.length,o.select(n)),o.tabs.splice(t,1)},e.$watch("tabset.active",function(e){angular.isDefined(e)&&e!==r&&o.select(a(e))}),e.$on("$destroy",function(){i=!0})}]).directive("uibTabset",function(){return{transclude:!0,replace:!0,scope:{},bindToController:{active:"=?",type:"@"},controller:"UibTabsetController",controllerAs:"tabset",templateUrl:function(e,t){return t.templateUrl||"uib/template/tabs/tabset.html"},link:function(e,t,n){e.vertical=!!angular.isDefined(n.vertical)&&e.$parent.$eval(n.vertical),e.justified=!!angular.isDefined(n.justified)&&e.$parent.$eval(n.justified)}}}).directive("uibTab",["$parse",function(o){return{require:"^uibTabset",replace:!0,templateUrl:function(e,t){return t.templateUrl||"uib/template/tabs/tab.html"},transclude:!0,scope:{heading:"@",index:"=?",classes:"@?",onSelect:"&select",onDeselect:"&deselect"},controller:function(){},controllerAs:"tab",link:function(r,e,t,i,n){r.disabled=!1,t.disable&&r.$parent.$watch(o(t.disable),function(e){r.disabled=!!e}),angular.isUndefined(t.index)&&(i.tabs&&i.tabs.length?r.index=Math.max.apply(null,i.tabs.map(function(e){return e.index}))+1:r.index=0),angular.isUndefined(t.classes)&&(r.classes=""),r.select=function(e){if(!r.disabled){for(var t,n=0;n<i.tabs.length;n++)if(i.tabs[n].tab===r){t=n;break}i.select(t,e)}},i.addTab(r),r.$on("$destroy",function(){i.removeTab(r)}),r.$transcludeFn=n}}}]).directive("uibTabHeadingTransclude",function(){return{restrict:"A",require:"^uibTab",link:function(e,t){e.$watch("headingElement",function(e){e&&(t.html(""),t.append(e))})}}}).directive("uibTabContentTransclude",function(){return{restrict:"A",require:"^uibTabset",link:function(e,n,t){var r=e.$eval(t.uibTabContentTransclude).tab;r.$transcludeFn(r.$parent,function(e){angular.forEach(e,function(e){var t;(t=e).tagName&&(t.hasAttribute("uib-tab-heading")||t.hasAttribute("data-uib-tab-heading")||t.hasAttribute("x-uib-tab-heading")||"uib-tab-heading"===t.tagName.toLowerCase()||"data-uib-tab-heading"===t.tagName.toLowerCase()||"x-uib-tab-heading"===t.tagName.toLowerCase()||"uib:tab-heading"===t.tagName.toLowerCase())?r.headingElement=e:n.append(e)})})}}}),angular.module("ui.bootstrap.timepicker",[]).constant("uibTimepickerConfig",{hourStep:1,minuteStep:1,secondStep:1,showMeridian:!0,showSeconds:!1,meridians:null,readonlyInput:!1,mousewheel:!0,arrowkeys:!0,showSpinners:!0,templateUrl:"uib/template/timepicker/timepicker.html"}).controller("UibTimepickerController",["$scope","$element","$attrs","$parse","$log","$locale","uibTimepickerConfig",function(i,e,r,t,n,o,a){var s,l,c,u,d,h=new Date,f=[],p={$setViewValue:angular.noop},m=angular.isDefined(r.meridians)?i.$parent.$eval(r.meridians):a.meridians||o.DATETIME_FORMATS.AMPMS,g=!angular.isDefined(r.padHours)||i.$parent.$eval(r.padHours),v=(i.tabindex=angular.isDefined(r.tabindex)?r.tabindex:0,e.removeAttr("tabindex"),this.init=function(e,t){(p=e).$render=this.render,p.$formatters.unshift(function(e){return e?new Date(e):null});var e=t.eq(0),n=t.eq(1),t=t.eq(2);s=e.controller("ngModel"),l=n.controller("ngModel"),c=t.controller("ngModel"),(angular.isDefined(r.mousewheel)?i.$parent.$eval(r.mousewheel):a.mousewheel)&&this.setupMousewheelEvents(e,n,t),(angular.isDefined(r.arrowkeys)?i.$parent.$eval(r.arrowkeys):a.arrowkeys)&&this.setupArrowkeyEvents(e,n,t),i.readonlyInput=angular.isDefined(r.readonlyInput)?i.$parent.$eval(r.readonlyInput):a.readonlyInput,this.setupInputEvents(e,n,t)},a.hourStep),b=(r.hourStep&&f.push(i.$parent.$watch(t(r.hourStep),function(e){v=+e})),a.minuteStep),y=(r.minuteStep&&f.push(i.$parent.$watch(t(r.minuteStep),function(e){b=+e})),f.push(i.$parent.$watch(t(r.min),function(e){e=new Date(e);u=isNaN(e)?void 0:e})),f.push(i.$parent.$watch(t(r.max),function(e){e=new Date(e);d=isNaN(e)?void 0:e})),!1),w=(r.ngDisabled&&f.push(i.$parent.$watch(t(r.ngDisabled),function(e){y=e})),i.noIncrementHours=function(){var e=E(h,60*v);return y||d<e||e<h&&e<u},i.noDecrementHours=function(){var e=E(h,60*-v);return y||e<u||h<e&&d<e},i.noIncrementMinutes=function(){var e=E(h,b);return y||d<e||e<h&&e<u},i.noDecrementMinutes=function(){var e=E(h,-b);return y||e<u||h<e&&d<e},i.noIncrementSeconds=function(){var e=A(h,w);return y||d<e||e<h&&e<u},i.noDecrementSeconds=function(){var e=A(h,-w);return y||e<u||h<e&&d<e},i.noToggleMeridian=function(){return h.getHours()<12?y||E(h,720)>d:y||E(h,-720)<u},a.secondStep);function _(){var e=+i.hours;if((i.showMeridian?0<e&&e<13:0<=e&&e<24)&&""!==i.hours)return i.showMeridian&&(12===e&&(e=0),i.meridian===m[1]&&(e+=12)),e}function k(){var e=+i.minutes;if(0<=e&&e<60&&""!==i.minutes)return e}function x(e,t){return null===e?"":angular.isDefined(e)&&e.toString().length<2&&!t?"0"+e:e.toString()}function C(e){S(),p.$setViewValue(new Date(h)),T(e)}function S(){s&&s.$setValidity("hours",!0),l&&l.$setValidity("minutes",!0),c&&c.$setValidity("seconds",!0),p.$setValidity("time",!0),i.invalidHours=!1,i.invalidMinutes=!1,i.invalidSeconds=!1}function T(e){var t,n,r;p.$modelValue?(t=h.getHours(),n=h.getMinutes(),r=h.getSeconds(),i.showMeridian&&(t=0===t||12===t?12:t%12),i.hours="h"===e?t:x(t,!g),"m"!==e&&(i.minutes=x(n)),i.meridian=h.getHours()<12?m[0]:m[1],"s"!==e&&(i.seconds=x(r)),i.meridian=h.getHours()<12?m[0]:m[1]):(i.hours=null,i.minutes=null,i.seconds=null,i.meridian=m[0])}function $(e){h=A(h,e),C()}function E(e,t){return A(e,60*t)}function A(e,t){t=new Date(e.getTime()+1e3*t),e=new Date(e);return e.setHours(t.getHours(),t.getMinutes(),t.getSeconds()),e}function O(){return(null===i.hours||""===i.hours)&&(null===i.minutes||""===i.minutes)&&(!i.showSeconds||i.showSeconds&&(null===i.seconds||""===i.seconds))}r.secondStep&&f.push(i.$parent.$watch(t(r.secondStep),function(e){w=+e})),i.showSeconds=a.showSeconds,r.showSeconds&&f.push(i.$parent.$watch(t(r.showSeconds),function(e){i.showSeconds=!!e})),i.showMeridian=a.showMeridian,r.showMeridian&&f.push(i.$parent.$watch(t(r.showMeridian),function(e){var t;i.showMeridian=!!e,p.$error.time?(e=_(),t=k(),angular.isDefined(e)&&angular.isDefined(t)&&(h.setHours(e),C())):T()})),this.setupMousewheelEvents=function(e,t,n){function r(e){var t=(e=e.originalEvent?e.originalEvent:e).wheelDelta||-e.deltaY;return e.detail||0<t}e.on("mousewheel wheel",function(e){y||i.$apply(r(e)?i.incrementHours():i.decrementHours()),e.preventDefault()}),t.on("mousewheel wheel",function(e){y||i.$apply(r(e)?i.incrementMinutes():i.decrementMinutes()),e.preventDefault()}),n.on("mousewheel wheel",function(e){y||i.$apply(r(e)?i.incrementSeconds():i.decrementSeconds()),e.preventDefault()})},this.setupArrowkeyEvents=function(e,t,n){e.on("keydown",function(e){y||(38===e.which?(e.preventDefault(),i.incrementHours(),i.$apply()):40===e.which&&(e.preventDefault(),i.decrementHours(),i.$apply()))}),t.on("keydown",function(e){y||(38===e.which?(e.preventDefault(),i.incrementMinutes(),i.$apply()):40===e.which&&(e.preventDefault(),i.decrementMinutes(),i.$apply()))}),n.on("keydown",function(e){y||(38===e.which?(e.preventDefault(),i.incrementSeconds(),i.$apply()):40===e.which&&(e.preventDefault(),i.decrementSeconds(),i.$apply()))})},this.setupInputEvents=function(e,t,n){var r;i.readonlyInput?(i.updateHours=angular.noop,i.updateMinutes=angular.noop,i.updateSeconds=angular.noop):(r=function(e,t,n){p.$setViewValue(null),p.$setValidity("time",!1),angular.isDefined(e)&&(i.invalidHours=e,s&&s.$setValidity("hours",!1)),angular.isDefined(t)&&(i.invalidMinutes=t,l&&l.$setValidity("minutes",!1)),angular.isDefined(n)&&(i.invalidSeconds=n,c&&c.$setValidity("seconds",!1))},i.updateHours=function(){var e=_(),t=k();p.$setDirty(),!angular.isDefined(e)||!angular.isDefined(t)||(h.setHours(e),h.setMinutes(t),h<u||d<h)?r(!0):C("h")},e.on("blur",function(e){p.$setTouched(),O()?S():null===i.hours||""===i.hours?r(!0):!i.invalidHours&&i.hours<10&&i.$apply(function(){i.hours=x(i.hours,!g)})}),i.updateMinutes=function(){var e=k(),t=_();p.$setDirty(),!angular.isDefined(e)||!angular.isDefined(t)||(h.setHours(t),h.setMinutes(e),h<u||d<h)?r(void 0,!0):C("m")},t.on("blur",function(e){p.$setTouched(),O()?S():null===i.minutes?r(void 0,!0):!i.invalidMinutes&&i.minutes<10&&i.$apply(function(){i.minutes=x(i.minutes)})}),i.updateSeconds=function(){var e=0<=(e=+i.seconds)&&e<60?e:void 0;p.$setDirty(),angular.isDefined(e)?(h.setSeconds(e),C("s")):r(void 0,void 0,!0)},n.on("blur",function(e){O()?S():!i.invalidSeconds&&i.seconds<10&&i.$apply(function(){i.seconds=x(i.seconds)})}))},this.render=function(){var e=p.$viewValue;isNaN(e)?(p.$setValidity("time",!1),n.error('Timepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.')):((h=e?e:h)<u||d<h?(p.$setValidity("time",!1),i.invalidHours=!0,i.invalidMinutes=!0):S(),T())},i.showSpinners=angular.isDefined(r.showSpinners)?i.$parent.$eval(r.showSpinners):a.showSpinners,i.incrementHours=function(){i.noIncrementHours()||$(60*v*60)},i.decrementHours=function(){i.noDecrementHours()||$(60*-v*60)},i.incrementMinutes=function(){i.noIncrementMinutes()||$(60*b)},i.decrementMinutes=function(){i.noDecrementMinutes()||$(60*-b)},i.incrementSeconds=function(){i.noIncrementSeconds()||$(w)},i.decrementSeconds=function(){i.noDecrementSeconds()||$(-w)},i.toggleMeridian=function(){var e=k(),t=_();i.noToggleMeridian()||(angular.isDefined(e)&&angular.isDefined(t)?$(720*(h.getHours()<12?60:-60)):i.meridian=i.meridian===m[0]?m[1]:m[0])},i.blur=function(){p.$setTouched()},i.$on("$destroy",function(){for(;f.length;)f.shift()()})}]).directive("uibTimepicker",["uibTimepickerConfig",function(n){return{require:["uibTimepicker","?^ngModel"],restrict:"A",controller:"UibTimepickerController",controllerAs:"timepicker",scope:{},templateUrl:function(e,t){return t.templateUrl||n.templateUrl},link:function(e,t,n,r){var i=r[0],r=r[1];r&&i.init(r,t.find("input"))}}}]),angular.module("ui.bootstrap.typeahead",["ui.bootstrap.debounce","ui.bootstrap.position"]).factory("uibTypeaheadParser",["$parse",function(n){var r=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w\d]*))\s+in\s+([\s\S]+?)$/;return{parse:function(e){var t=e.match(r);if(t)return{itemName:t[3],source:n(t[4]),viewMapper:n(t[2]||t[1]),modelMapper:n(t[1])};throw new Error('Expected typeahead specification in form of "_modelValue_ (as _label_)? for _item_ in _collection_" but got "'+e+'".')}}}]).controller("UibTypeaheadController",["$scope","$element","$attrs","$compile","$parse","$q","$timeout","$document","$window","$rootScope","$$debounce","$uibPosition","uibTypeaheadParser",function(s,l,a,N,t,j,c,e,n,L,u,r,i){var d,h,f,p,o,m,g,V=[9,13,27,38,40],v=s.$eval(a.typeaheadMinLength),b=(v||0===v||(v=1),s.$watch(a.typeaheadMinLength,function(e){v=e||0===e?e:1}),s.$eval(a.typeaheadWaitMs)||0),y=!1!==s.$eval(a.typeaheadEditable),w=(s.$watch(a.typeaheadEditable,function(e){y=!1!==e}),t(a.typeaheadLoading).assign||angular.noop),F=a.typeaheadShouldSelect?t(a.typeaheadShouldSelect):function(e,t){t=t.$event;return 13===t.which||9===t.which},z=t(a.typeaheadOnSelect),B=!!angular.isDefined(a.typeaheadSelectOnBlur)&&s.$eval(a.typeaheadSelectOnBlur),_=t(a.typeaheadNoResults).assign||angular.noop,k=a.typeaheadInputFormatter?t(a.typeaheadInputFormatter):void 0,x=!!a.typeaheadAppendToBody&&s.$eval(a.typeaheadAppendToBody),C=a.typeaheadAppendTo?s.$eval(a.typeaheadAppendTo):null,H=!1!==s.$eval(a.typeaheadFocusFirst),U=!!a.typeaheadSelectOnExact&&s.$eval(a.typeaheadSelectOnExact),W=t(a.typeaheadIsOpen).assign||angular.noop,S=s.$eval(a.typeaheadShowHint)||!1,T=t(a.ngModel),q=t(a.ngModel+"($$$p)"),$=i.parse(a.uibTypeahead),E=s.$new(),i=s.$on("$destroy",function(){E.$destroy()}),A=(E.$on("$destroy",i),"typeahead-"+E.$id+"-"+Math.floor(1e4*Math.random())),O=(l.attr({"aria-autocomplete":"list","aria-expanded":!1,"aria-owns":A}),S&&((o=angular.element("<div></div>")).css("position","relative"),l.after(o),(m=l.clone()).attr("placeholder",""),m.attr("tabindex","-1"),m.val(""),m.css({position:"absolute",top:"0px",left:"0px","border-color":"transparent","box-shadow":"none",opacity:1,background:"none 0% 0% / auto repeat scroll padding-box border-box rgb(255, 255, 255)",color:"#999"}),l.css({position:"relative","vertical-align":"top","background-color":"transparent"}),m.attr("id")&&m.removeAttr("id"),o.append(m),m.after(l)),angular.element("<div uib-typeahead-popup></div>")),Y=(O.attr({id:A,matches:"matches",active:"activeIdx",select:"select(activeIdx, evt)","move-in-progress":"moveInProgress",query:"query",position:"position","assign-is-open":"assignIsOpen(isOpen)",debounce:"debounceUpdate"}),angular.isDefined(a.typeaheadTemplateUrl)&&O.attr("template-url",a.typeaheadTemplateUrl),angular.isDefined(a.typeaheadPopupTemplateUrl)&&O.attr("popup-template-url",a.typeaheadPopupTemplateUrl),function(){S&&m.val("")}),M=function(){E.matches=[],E.activeIdx=-1,l.attr("aria-expanded",!1),Y()},P=function(e){return A+"-option-"+e},G=(E.$watch("activeIdx",function(e){e<0?l.removeAttr("aria-activedescendant"):l.attr("aria-activedescendant",P(e))}),function(e,t){return!!(E.matches.length>t&&e)&&e.toUpperCase()===E.matches[t].label.toUpperCase()}),D=function(i,o){var a={$viewValue:i};w(s,!0),_(s,!1),j.when($.source(s,a)).then(function(e){var t=i===d.$viewValue;if(t&&f)if(e&&0<e.length){E.activeIdx=H?0:-1,_(s,!1);for(var n,r=E.matches.length=0;r<e.length;r++)a[$.itemName]=e[r],E.matches.push({id:P(r),label:$.viewMapper(E,a),model:e[r]});E.query=i,X(),l.attr("aria-expanded",!0),U&&1===E.matches.length&&G(i,0)&&(angular.isNumber(E.debounceUpdate)||angular.isObject(E.debounceUpdate)?u(function(){E.select(0,o)},angular.isNumber(E.debounceUpdate)?E.debounceUpdate:E.debounceUpdate.default):E.select(0,o)),S&&(n=E.matches[0].label,angular.isString(i)&&0<i.length&&n.slice(0,i.length).toUpperCase()===i.toUpperCase()?m.val(i+n.slice(i.length)):m.val(""))}else M(),_(s,!0);t&&w(s,!1)},function(){M(),w(s,!1),_(s,!0)})},K=(x&&(angular.element(n).on("resize",R),e.find("body").on("scroll",R)),u(function(){E.matches.length&&X(),E.moveInProgress=!1},200));function R(){E.moveInProgress||(E.moveInProgress=!0,E.$digest()),K()}function X(){E.position=x?r.offset(l):r.position(l),E.position.top+=l.prop("offsetHeight")}E.moveInProgress=!1,E.query=void 0;function J(){g&&c.cancel(g)}function Q(e){l[0]!==e.target&&3!==e.which&&0!==E.matches.length&&(M(),L.$$phase||s.$digest())}M(),E.assignIsOpen=function(e){W(s,e)},E.select=function(e,t){var n,r,i,o={};p=!0,o[$.itemName]=e=E.matches[e].model,n=$.modelMapper(s,o),r=s,i=n,angular.isFunction(T(s))&&h.getOption("getterSetter")?q(r,{$$$p:i}):T.assign(r,i),d.$setValidity("editable",!0),d.$setValidity("parse",!0),z(s,{$item:e,$model:n,$label:$.viewMapper(s,o),$event:t}),M(),!1!==E.$eval(a.typeaheadFocusOnSelect)&&c(function(){l[0].focus()},0,!1)},l.on("keydown",function(e){if(0!==E.matches.length&&-1!==V.indexOf(e.which)){var t,n=F(s,{$event:e});if(-1===E.activeIdx&&n||9===e.which&&e.shiftKey)M(),E.$digest();else switch(e.preventDefault(),e.which){case 27:e.stopPropagation(),M(),s.$digest();break;case 38:E.activeIdx=(0<E.activeIdx?E.activeIdx:E.matches.length)-1,E.$digest(),(t=O[0].querySelectorAll(".uib-typeahead-match")[E.activeIdx]).parentNode.scrollTop=t.offsetTop;break;case 40:E.activeIdx=(E.activeIdx+1)%E.matches.length,E.$digest(),(t=O[0].querySelectorAll(".uib-typeahead-match")[E.activeIdx]).parentNode.scrollTop=t.offsetTop;break;default:n&&E.$apply(function(){angular.isNumber(E.debounceUpdate)||angular.isObject(E.debounceUpdate)?u(function(){E.select(E.activeIdx,e)},angular.isNumber(E.debounceUpdate)?E.debounceUpdate:E.debounceUpdate.default):E.select(E.activeIdx,e)})}}}),l.on("focus",function(e){f=!0,0!==v||d.$viewValue||c(function(){D(d.$viewValue,e)},0)}),l.on("blur",function(e){B&&E.matches.length&&-1!==E.activeIdx&&!p&&(p=!0,E.$apply(function(){angular.isObject(E.debounceUpdate)&&angular.isNumber(E.debounceUpdate.blur)?u(function(){E.select(E.activeIdx,e)},E.debounceUpdate.blur):E.select(E.activeIdx,e)})),!y&&d.$error.editable&&(d.$setViewValue(),E.$apply(function(){d.$setValidity("editable",!0),d.$setValidity("parse",!0)}),l.val("")),p=f=!1});e.on("click",Q),s.$on("$destroy",function(){e.off("click",Q),(x||C)&&I.remove(),x&&(angular.element(n).off("resize",R),e.find("body").off("scroll",R)),O.remove(),S&&o.remove()});var I=N(O)(E);x?e.find("body").append(I):C?angular.element(C).eq(0).append(I):l.after(I),this.init=function(e){h=function(e){var t;angular.version.minor<6?(t=e.$options||{}).getOption=function(e){return t[e]}:t=e.$options;return t}(d=e),E.debounceUpdate=t(h.getOption("debounce"))(s),d.$parsers.unshift(function(e){var t;return f=!0,0===v||e&&e.length>=v?0<b?(J(),t=e,g=c(function(){D(t)},b)):D(e):(w(s,!1),J(),M()),y?e:e?void d.$setValidity("editable",!1):(d.$setValidity("editable",!0),null)}),d.$formatters.push(function(e){var t,n={};return y||d.$setValidity("editable",!0),k?(n.$model=e,k(s,n)):(n[$.itemName]=e,t=$.viewMapper(s,n),n[$.itemName]=void 0,t!==$.viewMapper(s,n)?t:e)})}}]).directive("uibTypeahead",function(){return{controller:"UibTypeaheadController",require:["ngModel","uibTypeahead"],link:function(e,t,n,r){r[1].init(r[0])}}}).directive("uibTypeaheadPopup",["$$debounce",function(i){return{scope:{matches:"=",query:"=",active:"=",position:"&",moveInProgress:"=",select:"&",assignIsOpen:"&",debounce:"&"},replace:!0,templateUrl:function(e,t){return t.popupTemplateUrl||"uib/template/typeahead/typeahead-popup.html"},link:function(r,e,t){r.templateUrl=t.templateUrl,r.isOpen=function(){var e=0<r.matches.length;return r.assignIsOpen({isOpen:e}),e},r.isActive=function(e){return r.active===e},r.selectActive=function(e){r.active=e},r.selectMatch=function(e,t){var n=r.debounce();angular.isNumber(n)||angular.isObject(n)?i(function(){r.select({activeIdx:e,evt:t})},angular.isNumber(n)?n:n.default):r.select({activeIdx:e,evt:t})}}}}]).directive("uibTypeaheadMatch",["$templateRequest","$compile","$parse",function(r,i,o){return{scope:{index:"=",match:"=",query:"="},link:function(t,n,e){e=o(e.templateUrl)(t.$parent)||"uib/template/typeahead/typeahead-match.html";r(e).then(function(e){e=angular.element(e.trim());n.replaceWith(e),i(e)(t)})}}}]).filter("uibTypeaheadHighlight",["$sce","$injector","$log",function(n,e,r){var i;return i=e.has("$sanitize"),function(e,t){return!i&&/<.*>/g.test(e)&&r.warn("Unsafe use of typeahead please use ngSanitize"),e=t?(""+e).replace(new RegExp(t.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1"),"gi"),"<strong>$&</strong>"):e,e=i?e:n.trustAsHtml(e)}}]),angular.module("uib/template/accordion/accordion-group.html",[]).run(["$templateCache",function(e){e.put("uib/template/accordion/accordion-group.html",'<div role="tab" id="{{::headingId}}" aria-selected="{{isOpen}}" class="panel-heading" ng-keypress="toggleOpen($event)">\n  <h4 class="panel-title">\n    <a role="button" data-toggle="collapse" href aria-expanded="{{isOpen}}" aria-controls="{{::panelId}}" tabindex="0" class="accordion-toggle" ng-click="toggleOpen()" uib-accordion-transclude="heading" ng-disabled="isDisabled" uib-tabindex-toggle><span uib-accordion-header ng-class="{\'text-muted\': isDisabled}">{{heading}}</span></a>\n  </h4>\n</div>\n<div id="{{::panelId}}" aria-labelledby="{{::headingId}}" aria-hidden="{{!isOpen}}" role="tabpanel" class="panel-collapse collapse" uib-collapse="!isOpen">\n  <div class="panel-body" ng-transclude></div>\n</div>\n')}]),angular.module("uib/template/accordion/accordion.html",[]).run(["$templateCache",function(e){e.put("uib/template/accordion/accordion.html",'<div role="tablist" class="panel-group" ng-transclude></div>')}]),angular.module("uib/template/alert/alert.html",[]).run(["$templateCache",function(e){e.put("uib/template/alert/alert.html",'<button ng-show="closeable" type="button" class="close" ng-click="close({$event: $event})">\n  <span aria-hidden="true">&times;</span>\n  <span class="sr-only">Close</span>\n</button>\n<div ng-transclude></div>\n')}]),angular.module("uib/template/carousel/carousel.html",[]).run(["$templateCache",function(e){e.put("uib/template/carousel/carousel.html",'<div class="carousel-inner" ng-transclude></div>\n<a role="button" href class="left carousel-control" ng-click="prev()" ng-class="{ disabled: isPrevDisabled() }" ng-show="slides.length > 1">\n  <span aria-hidden="true" class="glyphicon glyphicon-chevron-left"></span>\n  <span class="sr-only">previous</span>\n</a>\n<a role="button" href class="right carousel-control" ng-click="next()" ng-class="{ disabled: isNextDisabled() }" ng-show="slides.length > 1">\n  <span aria-hidden="true" class="glyphicon glyphicon-chevron-right"></span>\n  <span class="sr-only">next</span>\n</a>\n<ol class="carousel-indicators" ng-show="slides.length > 1">\n  <li ng-repeat="slide in slides | orderBy:indexOfSlide track by $index" ng-class="{ active: isActive(slide) }" ng-click="select(slide)">\n    <span class="sr-only">slide {{ $index + 1 }} of {{ slides.length }}<span ng-if="isActive(slide)">, currently active</span></span>\n  </li>\n</ol>\n')}]),angular.module("uib/template/carousel/slide.html",[]).run(["$templateCache",function(e){e.put("uib/template/carousel/slide.html",'<div class="text-center" ng-transclude></div>\n')}]),angular.module("uib/template/datepicker/datepicker.html",[]).run(["$templateCache",function(e){e.put("uib/template/datepicker/datepicker.html",'<div ng-switch="datepickerMode">\n  <div uib-daypicker ng-switch-when="day" tabindex="0" class="uib-daypicker"></div>\n  <div uib-monthpicker ng-switch-when="month" tabindex="0" class="uib-monthpicker"></div>\n  <div uib-yearpicker ng-switch-when="year" tabindex="0" class="uib-yearpicker"></div>\n</div>\n')}]),angular.module("uib/template/datepicker/day.html",[]).run(["$templateCache",function(e){e.put("uib/template/datepicker/day.html",'<table role="grid" aria-labelledby="{{::uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left uib-left" ng-click="move(-1)" tabindex="-1"><i aria-hidden="true" class="glyphicon glyphicon-chevron-left"></i><span class="sr-only">previous</span></button></th>\n      <th colspan="{{::5 + showWeeks}}"><button id="{{::uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm uib-title" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right uib-right" ng-click="move(1)" tabindex="-1"><i aria-hidden="true" class="glyphicon glyphicon-chevron-right"></i><span class="sr-only">next</span></button></th>\n    </tr>\n    <tr>\n      <th ng-if="showWeeks" class="text-center"></th>\n      <th ng-repeat="label in ::labels track by $index" class="text-center"><small aria-label="{{::label.full}}">{{::label.abbr}}</small></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr class="uib-weeks" ng-repeat="row in rows track by $index" role="row">\n      <td ng-if="showWeeks" class="text-center h6"><em>{{ weekNumbers[$index] }}</em></td>\n      <td ng-repeat="dt in row" class="uib-day text-center" role="gridcell"\n        id="{{::dt.uid}}"\n        ng-class="::dt.customClass">\n        <button type="button" class="btn btn-default btn-sm"\n          uib-is-class="\n            \'btn-info\' for selectedDt,\n            \'active\' for activeDt\n            on dt"\n          ng-click="select(dt.date)"\n          ng-disabled="::dt.disabled"\n          tabindex="-1"><span ng-class="::{\'text-muted\': dt.secondary, \'text-info\': dt.current}">{{::dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("uib/template/datepicker/month.html",[]).run(["$templateCache",function(e){e.put("uib/template/datepicker/month.html",'<table role="grid" aria-labelledby="{{::uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left uib-left" ng-click="move(-1)" tabindex="-1"><i aria-hidden="true" class="glyphicon glyphicon-chevron-left"></i><span class="sr-only">previous</span></button></th>\n      <th colspan="{{::yearHeaderColspan}}"><button id="{{::uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm uib-title" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right uib-right" ng-click="move(1)" tabindex="-1"><i aria-hidden="true" class="glyphicon glyphicon-chevron-right"></i><span class="sr-only">next</span></i></button></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr class="uib-months" ng-repeat="row in rows track by $index" role="row">\n      <td ng-repeat="dt in row" class="uib-month text-center" role="gridcell"\n        id="{{::dt.uid}}"\n        ng-class="::dt.customClass">\n        <button type="button" class="btn btn-default"\n          uib-is-class="\n            \'btn-info\' for selectedDt,\n            \'active\' for activeDt\n            on dt"\n          ng-click="select(dt.date)"\n          ng-disabled="::dt.disabled"\n          tabindex="-1"><span ng-class="::{\'text-info\': dt.current}">{{::dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("uib/template/datepicker/year.html",[]).run(["$templateCache",function(e){e.put("uib/template/datepicker/year.html",'<table role="grid" aria-labelledby="{{::uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left uib-left" ng-click="move(-1)" tabindex="-1"><i aria-hidden="true" class="glyphicon glyphicon-chevron-left"></i><span class="sr-only">previous</span></button></th>\n      <th colspan="{{::columns - 2}}"><button id="{{::uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm uib-title" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right uib-right" ng-click="move(1)" tabindex="-1"><i aria-hidden="true" class="glyphicon glyphicon-chevron-right"></i><span class="sr-only">next</span></button></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr class="uib-years" ng-repeat="row in rows track by $index" role="row">\n      <td ng-repeat="dt in row" class="uib-year text-center" role="gridcell"\n        id="{{::dt.uid}}"\n        ng-class="::dt.customClass">\n        <button type="button" class="btn btn-default"\n          uib-is-class="\n            \'btn-info\' for selectedDt,\n            \'active\' for activeDt\n            on dt"\n          ng-click="select(dt.date)"\n          ng-disabled="::dt.disabled"\n          tabindex="-1"><span ng-class="::{\'text-info\': dt.current}">{{::dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("uib/template/datepickerPopup/popup.html",[]).run(["$templateCache",function(e){e.put("uib/template/datepickerPopup/popup.html",'<ul role="presentation" class="uib-datepicker-popup dropdown-menu uib-position-measure" dropdown-nested ng-if="isOpen" ng-keydown="keydown($event)" ng-click="$event.stopPropagation()">\n  <li ng-transclude></li>\n  <li ng-if="showButtonBar" class="uib-button-bar">\n    <span class="btn-group pull-left">\n      <button type="button" class="btn btn-sm btn-info uib-datepicker-current" ng-click="select(\'today\', $event)" ng-disabled="isDisabled(\'today\')">{{ getText(\'current\') }}</button>\n      <button type="button" class="btn btn-sm btn-danger uib-clear" ng-click="select(null, $event)">{{ getText(\'clear\') }}</button>\n    </span>\n    <button type="button" class="btn btn-sm btn-success pull-right uib-close" ng-click="close($event)">{{ getText(\'close\') }}</button>\n  </li>\n</ul>\n')}]),angular.module("uib/template/modal/window.html",[]).run(["$templateCache",function(e){e.put("uib/template/modal/window.html","<div class=\"modal-dialog {{size ? 'modal-' + size : ''}}\"><div class=\"modal-content\" uib-modal-transclude></div></div>\n")}]),angular.module("uib/template/pager/pager.html",[]).run(["$templateCache",function(e){e.put("uib/template/pager/pager.html",'<li ng-class="{disabled: noPrevious()||ngDisabled, previous: align}"><a href ng-click="selectPage(page - 1, $event)" ng-disabled="noPrevious()||ngDisabled" uib-tabindex-toggle>{{::getText(\'previous\')}}</a></li>\n<li ng-class="{disabled: noNext()||ngDisabled, next: align}"><a href ng-click="selectPage(page + 1, $event)" ng-disabled="noNext()||ngDisabled" uib-tabindex-toggle>{{::getText(\'next\')}}</a></li>\n')}]),angular.module("uib/template/pagination/pagination.html",[]).run(["$templateCache",function(e){e.put("uib/template/pagination/pagination.html",'<li role="menuitem" ng-if="::boundaryLinks" ng-class="{disabled: noPrevious()||ngDisabled}" class="pagination-first"><a href ng-click="selectPage(1, $event)" ng-disabled="noPrevious()||ngDisabled" uib-tabindex-toggle>{{::getText(\'first\')}}</a></li>\n<li role="menuitem" ng-if="::directionLinks" ng-class="{disabled: noPrevious()||ngDisabled}" class="pagination-prev"><a href ng-click="selectPage(page - 1, $event)" ng-disabled="noPrevious()||ngDisabled" uib-tabindex-toggle>{{::getText(\'previous\')}}</a></li>\n<li role="menuitem" ng-repeat="page in pages track by $index" ng-class="{active: page.active,disabled: ngDisabled&&!page.active}" class="pagination-page"><a href ng-click="selectPage(page.number, $event)" ng-disabled="ngDisabled&&!page.active" uib-tabindex-toggle>{{page.text}}</a></li>\n<li role="menuitem" ng-if="::directionLinks" ng-class="{disabled: noNext()||ngDisabled}" class="pagination-next"><a href ng-click="selectPage(page + 1, $event)" ng-disabled="noNext()||ngDisabled" uib-tabindex-toggle>{{::getText(\'next\')}}</a></li>\n<li role="menuitem" ng-if="::boundaryLinks" ng-class="{disabled: noNext()||ngDisabled}" class="pagination-last"><a href ng-click="selectPage(totalPages, $event)" ng-disabled="noNext()||ngDisabled" uib-tabindex-toggle>{{::getText(\'last\')}}</a></li>\n')}]),angular.module("uib/template/tooltip/tooltip-html-popup.html",[]).run(["$templateCache",function(e){e.put("uib/template/tooltip/tooltip-html-popup.html",'<div class="tooltip-arrow"></div>\n<div class="tooltip-inner" ng-bind-html="contentExp()"></div>\n')}]),angular.module("uib/template/tooltip/tooltip-popup.html",[]).run(["$templateCache",function(e){e.put("uib/template/tooltip/tooltip-popup.html",'<div class="tooltip-arrow"></div>\n<div class="tooltip-inner" ng-bind="content"></div>\n')}]),angular.module("uib/template/tooltip/tooltip-template-popup.html",[]).run(["$templateCache",function(e){e.put("uib/template/tooltip/tooltip-template-popup.html",'<div class="tooltip-arrow"></div>\n<div class="tooltip-inner"\n  uib-tooltip-template-transclude="contentExp()"\n  tooltip-template-transclude-scope="originScope()"></div>\n')}]),angular.module("uib/template/popover/popover-html.html",[]).run(["$templateCache",function(e){e.put("uib/template/popover/popover-html.html",'<div class="arrow"></div>\n\n<div class="popover-inner">\n    <h3 class="popover-title" ng-bind="uibTitle" ng-if="uibTitle"></h3>\n    <div class="popover-content" ng-bind-html="contentExp()"></div>\n</div>\n')}]),angular.module("uib/template/popover/popover-template.html",[]).run(["$templateCache",function(e){e.put("uib/template/popover/popover-template.html",'<div class="arrow"></div>\n\n<div class="popover-inner">\n    <h3 class="popover-title" ng-bind="uibTitle" ng-if="uibTitle"></h3>\n    <div class="popover-content"\n      uib-tooltip-template-transclude="contentExp()"\n      tooltip-template-transclude-scope="originScope()"></div>\n</div>\n')}]),angular.module("uib/template/popover/popover.html",[]).run(["$templateCache",function(e){e.put("uib/template/popover/popover.html",'<div class="arrow"></div>\n\n<div class="popover-inner">\n    <h3 class="popover-title" ng-bind="uibTitle" ng-if="uibTitle"></h3>\n    <div class="popover-content" ng-bind="content"></div>\n</div>\n')}]),angular.module("uib/template/progressbar/bar.html",[]).run(["$templateCache",function(e){e.put("uib/template/progressbar/bar.html",'<div class="progress-bar" ng-class="type && \'progress-bar-\' + type" role="progressbar" aria-valuenow="{{value}}" aria-valuemin="0" aria-valuemax="{{max}}" ng-style="{width: (percent < 100 ? percent : 100) + \'%\'}" aria-valuetext="{{percent | number:0}}%" aria-labelledby="{{::title}}" ng-transclude></div>\n')}]),angular.module("uib/template/progressbar/progress.html",[]).run(["$templateCache",function(e){e.put("uib/template/progressbar/progress.html",'<div class="progress" ng-transclude aria-labelledby="{{::title}}"></div>')}]),angular.module("uib/template/progressbar/progressbar.html",[]).run(["$templateCache",function(e){e.put("uib/template/progressbar/progressbar.html",'<div class="progress">\n  <div class="progress-bar" ng-class="type && \'progress-bar-\' + type" role="progressbar" aria-valuenow="{{value}}" aria-valuemin="0" aria-valuemax="{{max}}" ng-style="{width: (percent < 100 ? percent : 100) + \'%\'}" aria-valuetext="{{percent | number:0}}%" aria-labelledby="{{::title}}" ng-transclude></div>\n</div>\n')}]),angular.module("uib/template/rating/rating.html",[]).run(["$templateCache",function(e){e.put("uib/template/rating/rating.html",'<span ng-mouseleave="reset()" ng-keydown="onKeydown($event)" tabindex="0" role="slider" aria-valuemin="0" aria-valuemax="{{range.length}}" aria-valuenow="{{value}}" aria-valuetext="{{title}}">\n    <span ng-repeat-start="r in range track by $index" class="sr-only">({{ $index < value ? \'*\' : \' \' }})</span>\n    <i ng-repeat-end ng-mouseenter="enter($index + 1)" ng-click="rate($index + 1)" class="glyphicon" ng-class="$index < value && (r.stateOn || \'glyphicon-star\') || (r.stateOff || \'glyphicon-star-empty\')" ng-attr-title="{{r.title}}"></i>\n</span>\n')}]),angular.module("uib/template/tabs/tab.html",[]).run(["$templateCache",function(e){e.put("uib/template/tabs/tab.html",'<li ng-class="[{active: active, disabled: disabled}, classes]" class="uib-tab nav-item">\n  <a href ng-click="select($event)" class="nav-link" uib-tab-heading-transclude>{{heading}}</a>\n</li>\n')}]),angular.module("uib/template/tabs/tabset.html",[]).run(["$templateCache",function(e){e.put("uib/template/tabs/tabset.html",'<div>\n  <ul class="nav nav-{{tabset.type || \'tabs\'}}" ng-class="{\'nav-stacked\': vertical, \'nav-justified\': justified}" ng-transclude></ul>\n  <div class="tab-content">\n    <div class="tab-pane"\n         ng-repeat="tab in tabset.tabs"\n         ng-class="{active: tabset.active === tab.index}"\n         uib-tab-content-transclude="tab">\n    </div>\n  </div>\n</div>\n')}]),angular.module("uib/template/timepicker/timepicker.html",[]).run(["$templateCache",function(e){e.put("uib/template/timepicker/timepicker.html",'<table class="uib-timepicker">\n  <tbody>\n    <tr class="text-center" ng-show="::showSpinners">\n      <td class="uib-increment hours"><a ng-click="incrementHours()" ng-class="{disabled: noIncrementHours()}" class="btn btn-link" ng-disabled="noIncrementHours()" tabindex="-1"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n      <td>&nbsp;</td>\n      <td class="uib-increment minutes"><a ng-click="incrementMinutes()" ng-class="{disabled: noIncrementMinutes()}" class="btn btn-link" ng-disabled="noIncrementMinutes()" tabindex="-1"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n      <td ng-show="showSeconds">&nbsp;</td>\n      <td ng-show="showSeconds" class="uib-increment seconds"><a ng-click="incrementSeconds()" ng-class="{disabled: noIncrementSeconds()}" class="btn btn-link" ng-disabled="noIncrementSeconds()" tabindex="-1"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n      <td ng-show="showMeridian"></td>\n    </tr>\n    <tr>\n      <td class="form-group uib-time hours" ng-class="{\'has-error\': invalidHours}">\n        <input type="text" placeholder="HH" ng-model="hours" ng-change="updateHours()" class="form-control text-center" ng-readonly="::readonlyInput" maxlength="2" tabindex="{{::tabindex}}" ng-disabled="noIncrementHours()" ng-blur="blur()">\n      </td>\n      <td class="uib-separator">:</td>\n      <td class="form-group uib-time minutes" ng-class="{\'has-error\': invalidMinutes}">\n        <input type="text" placeholder="MM" ng-model="minutes" ng-change="updateMinutes()" class="form-control text-center" ng-readonly="::readonlyInput" maxlength="2" tabindex="{{::tabindex}}" ng-disabled="noIncrementMinutes()" ng-blur="blur()">\n      </td>\n      <td ng-show="showSeconds" class="uib-separator">:</td>\n      <td class="form-group uib-time seconds" ng-class="{\'has-error\': invalidSeconds}" ng-show="showSeconds">\n        <input type="text" placeholder="SS" ng-model="seconds" ng-change="updateSeconds()" class="form-control text-center" ng-readonly="readonlyInput" maxlength="2" tabindex="{{::tabindex}}" ng-disabled="noIncrementSeconds()" ng-blur="blur()">\n      </td>\n      <td ng-show="showMeridian" class="uib-time am-pm"><button type="button" ng-class="{disabled: noToggleMeridian()}" class="btn btn-default text-center" ng-click="toggleMeridian()" ng-disabled="noToggleMeridian()" tabindex="{{::tabindex}}">{{meridian}}</button></td>\n    </tr>\n    <tr class="text-center" ng-show="::showSpinners">\n      <td class="uib-decrement hours"><a ng-click="decrementHours()" ng-class="{disabled: noDecrementHours()}" class="btn btn-link" ng-disabled="noDecrementHours()" tabindex="-1"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n      <td>&nbsp;</td>\n      <td class="uib-decrement minutes"><a ng-click="decrementMinutes()" ng-class="{disabled: noDecrementMinutes()}" class="btn btn-link" ng-disabled="noDecrementMinutes()" tabindex="-1"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n      <td ng-show="showSeconds">&nbsp;</td>\n      <td ng-show="showSeconds" class="uib-decrement seconds"><a ng-click="decrementSeconds()" ng-class="{disabled: noDecrementSeconds()}" class="btn btn-link" ng-disabled="noDecrementSeconds()" tabindex="-1"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n      <td ng-show="showMeridian"></td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("uib/template/typeahead/typeahead-match.html",[]).run(["$templateCache",function(e){e.put("uib/template/typeahead/typeahead-match.html",'<a href\n   tabindex="-1"\n   ng-bind-html="match.label | uibTypeaheadHighlight:query"\n   ng-attr-title="{{match.label}}"></a>\n')}]),angular.module("uib/template/typeahead/typeahead-popup.html",[]).run(["$templateCache",function(e){e.put("uib/template/typeahead/typeahead-popup.html",'<ul class="dropdown-menu" ng-show="isOpen() && !moveInProgress" ng-style="{top: position().top+\'px\', left: position().left+\'px\'}" role="listbox" aria-hidden="{{!isOpen()}}">\n    <li class="uib-typeahead-match" ng-repeat="match in matches track by $index" ng-class="{active: isActive($index) }" ng-mouseenter="selectActive($index)" ng-click="selectMatch($index, $event)" role="option" id="{{::match.id}}">\n        <div uib-typeahead-match index="$index" match="match" query="query" template-url="templateUrl"></div>\n    </li>\n</ul>\n')}]),angular.module("ui.bootstrap.carousel").run(function(){angular.$$csp().noInlineStyle||angular.$$uibCarouselCss||angular.element(document).find("head").prepend('<style type="text/css">.ng-animate.item:not(.left):not(.right){-webkit-transition:0s ease-in-out left;transition:0s ease-in-out left}</style>'),angular.$$uibCarouselCss=!0}),angular.module("ui.bootstrap.datepicker").run(function(){angular.$$csp().noInlineStyle||angular.$$uibDatepickerCss||angular.element(document).find("head").prepend('<style type="text/css">.uib-datepicker .uib-title{width:100%;}.uib-day button,.uib-month button,.uib-year button{min-width:100%;}.uib-left,.uib-right{width:100%}</style>'),angular.$$uibDatepickerCss=!0}),angular.module("ui.bootstrap.position").run(function(){angular.$$csp().noInlineStyle||angular.$$uibPositionCss||angular.element(document).find("head").prepend('<style type="text/css">.uib-position-measure{display:block !important;visibility:hidden !important;position:absolute !important;top:-9999px !important;left:-9999px !important;}.uib-position-scrollbar-measure{position:absolute !important;top:-9999px !important;width:50px !important;height:50px !important;overflow:scroll !important;}.uib-position-body-scrollbar-measure{overflow:scroll !important;}</style>'),angular.$$uibPositionCss=!0}),angular.module("ui.bootstrap.datepickerPopup").run(function(){angular.$$csp().noInlineStyle||angular.$$uibDatepickerpopupCss||angular.element(document).find("head").prepend('<style type="text/css">.uib-datepicker-popup.dropdown-menu{display:block;float:none;margin:0;}.uib-button-bar{padding:10px 9px 2px;}</style>'),angular.$$uibDatepickerpopupCss=!0}),angular.module("ui.bootstrap.tooltip").run(function(){angular.$$csp().noInlineStyle||angular.$$uibTooltipCss||angular.element(document).find("head").prepend('<style type="text/css">[uib-tooltip-popup].tooltip.top-left > .tooltip-arrow,[uib-tooltip-popup].tooltip.top-right > .tooltip-arrow,[uib-tooltip-popup].tooltip.bottom-left > .tooltip-arrow,[uib-tooltip-popup].tooltip.bottom-right > .tooltip-arrow,[uib-tooltip-popup].tooltip.left-top > .tooltip-arrow,[uib-tooltip-popup].tooltip.left-bottom > .tooltip-arrow,[uib-tooltip-popup].tooltip.right-top > .tooltip-arrow,[uib-tooltip-popup].tooltip.right-bottom > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.top-left > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.top-right > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.bottom-left > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.bottom-right > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.left-top > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.left-bottom > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.right-top > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.right-bottom > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.top-left > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.top-right > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.bottom-left > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.bottom-right > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.left-top > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.left-bottom > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.right-top > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.right-bottom > .tooltip-arrow,[uib-popover-popup].popover.top-left > .arrow,[uib-popover-popup].popover.top-right > .arrow,[uib-popover-popup].popover.bottom-left > .arrow,[uib-popover-popup].popover.bottom-right > .arrow,[uib-popover-popup].popover.left-top > .arrow,[uib-popover-popup].popover.left-bottom > .arrow,[uib-popover-popup].popover.right-top > .arrow,[uib-popover-popup].popover.right-bottom > .arrow,[uib-popover-html-popup].popover.top-left > .arrow,[uib-popover-html-popup].popover.top-right > .arrow,[uib-popover-html-popup].popover.bottom-left > .arrow,[uib-popover-html-popup].popover.bottom-right > .arrow,[uib-popover-html-popup].popover.left-top > .arrow,[uib-popover-html-popup].popover.left-bottom > .arrow,[uib-popover-html-popup].popover.right-top > .arrow,[uib-popover-html-popup].popover.right-bottom > .arrow,[uib-popover-template-popup].popover.top-left > .arrow,[uib-popover-template-popup].popover.top-right > .arrow,[uib-popover-template-popup].popover.bottom-left > .arrow,[uib-popover-template-popup].popover.bottom-right > .arrow,[uib-popover-template-popup].popover.left-top > .arrow,[uib-popover-template-popup].popover.left-bottom > .arrow,[uib-popover-template-popup].popover.right-top > .arrow,[uib-popover-template-popup].popover.right-bottom > .arrow{top:auto;bottom:auto;left:auto;right:auto;margin:0;}[uib-popover-popup].popover,[uib-popover-html-popup].popover,[uib-popover-template-popup].popover{display:block !important;}</style>'),angular.$$uibTooltipCss=!0}),angular.module("ui.bootstrap.timepicker").run(function(){angular.$$csp().noInlineStyle||angular.$$uibTimepickerCss||angular.element(document).find("head").prepend('<style type="text/css">.uib-time input{width:50px;}</style>'),angular.$$uibTimepickerCss=!0}),angular.module("ui.bootstrap.typeahead").run(function(){angular.$$csp().noInlineStyle||angular.$$uibTypeaheadCss||angular.element(document).find("head").prepend('<style type="text/css">[uib-typeahead-popup].dropdown-menu{display:block;}</style>'),angular.$$uibTypeaheadCss=!0}),!function(){window.XMLHttpRequest&&!window.XMLHttpRequest.__isFileAPIShim&&(e="setRequestHeader",t=function(r){return function(e,t){var n;"__setXHR_"===e?(n=t(this))instanceof Function&&n(this):r.apply(this,arguments)}},window.XMLHttpRequest.prototype[e]=t(window.XMLHttpRequest.prototype[e]));var e,t=angular.module("angularFileUpload",[]);function u(){var e=document.createElement("div");return"draggable"in e&&"ondrop"in e}t.version="2.2.2",t.service("$upload",["$http","$q","$timeout",function(i,e,o){function t(n){n.method=n.method||"POST",n.headers=n.headers||{},n.transformRequest=n.transformRequest||function(e,t){return window.ArrayBuffer&&e instanceof window.ArrayBuffer?e:i.defaults.transformRequest[0](e,t)};var t=e.defer(),r=t.promise;return n.headers.__setXHR_=function(){return function(e){e&&(n.__XHR=e,n.xhrFn&&n.xhrFn(e),e.upload.addEventListener("progress",function(e){e.config=n,t.notify?t.notify(e):r.progress_fn&&o(function(){r.progress_fn(e)})},!1),e.upload.addEventListener("load",function(e){e.lengthComputable&&(e.config=n,t.notify?t.notify(e):r.progress_fn&&o(function(){r.progress_fn(e)}))},!1))}},i(n).then(function(e){t.resolve(e)},function(e){t.reject(e)},function(e){t.notify(e)}),r.success=function(t){return r.then(function(e){t(e.data,e.status,e.headers,n)}),r},r.error=function(t){return r.then(null,function(e){t(e.data,e.status,e.headers,n)}),r},r.progress=function(t){return r.progress_fn=t,r.then(null,null,function(e){t(e)}),r},r.abort=function(){return n.__XHR&&o(function(){n.__XHR.abort()}),r},r.xhr=function(e){var t;return n.xhrFn=(t=n.xhrFn,function(){t&&t.apply(r,arguments),e.apply(r,arguments)}),r},r}this.upload=function(l){l.headers=l.headers||{},l.headers["Content-Type"]=void 0,l.transformRequest=l.transformRequest||i.defaults.transformRequest;var e=new FormData,c=l.transformRequest,u=l.data;return l.transformRequest=function(e,n){function t(e){if("function"==typeof c)e=c(e,n);else for(var t=0;t<c.length;t++)"function"==typeof c[t]&&(e=c[t](e,n));return e}if(u)if(l.formDataAppender)for(var r in u){var i=u[r];l.formDataAppender(e,r,i)}else if(l.sendDataAsJson)u=t(u),e.append("data",new Blob([u],{type:"application/json"}));else for(var r in u)void 0!==(i=t(u[r]))&&(l.sendObjectAsJson&&"object"==typeof i&&"[object String]"!==Object.prototype.toString.call(o)?e.append(r,new Blob(i),{type:"application/json"}):e.append(r,i));if(null!=l.file){var o=l.fileFormDataName||"file";if("[object Array]"===Object.prototype.toString.call(l.file))for(var a="[object String]"===Object.prototype.toString.call(o),s=0;s<l.file.length;s++)e.append(a?o:o[s],l.file[s],l.fileName&&l.fileName[s]||l.file[s].name);else e.append(o,l.file,l.fileName||l.file.name)}return e},l.data=e,t(l)},this.http=t}]),t.directive("ngFileSelect",["$parse","$timeout","$compile",function(g,v,b){return{restrict:"AEC",require:"?ngModel",link:function(e,t,n,r){var i,l=e,o=t,c=n,u=r,d=g,h=v,a=b;if(c.ngMultiple&&d(c.ngMultiple)(l)&&(o.attr("multiple","true"),c.multiple="true"),(e=c.ngAccept&&d(c.ngAccept)(l))&&(o.attr("accept",e),c.accept=e),(e=c.ngCapture&&d(c.ngCapture)(l))&&(o.attr("capture",e),c.capture=e),"input"!==o[0].tagName.toLowerCase()||"file"!==(o.attr("type")&&o.attr("type").toLowerCase())){var s,f,e="--ng-file-upload-"+Math.random(),p=angular.element('<input type="file" id="'+e+'">');for(s in c.multiple&&p.attr("multiple",c.multiple),c.accept&&p.attr("accept",c.accept),c.capture&&p.attr("capture",c.capture),c)0==s.indexOf("inputFile")&&(f=(f=s.substring("inputFile".length))[0].toLowerCase()+f.substring(1),p.attr(f,c[s]));p.css("width","0px").css("height","0px").css("position","absolute").css("padding",0).css("margin",0).css("overflow","hidden").attr("tabindex","-1").css("opacity",0).attr("ng-file-generated-elem--",!0),o.parent()[0].insertBefore(p[0],o[0]),o.attr("onclick",'document.getElementById("'+e+'").click()'),o.css("overflow","hidden"),o.attr("id","e"+e);o=p}""!=c.ngFileSelect&&(c.ngFileChange=c.ngFileSelect),0!=d(c.resetOnClick)(l)&&(-1!==navigator.appVersion.indexOf("MSIE 10")?(i=function(e){var t=o.clone();t.val(""),o.replaceWith(t),a(t)(l),(o=p=t).bind("change",m),o.unbind("click"),o[0].click(),o.bind("click",i),e.preventDefault(),e.stopPropagation()},o.bind("click",i)):o.bind("click",function(e){o[0].value=null}));var m=function(e){for(var t=e.__files_||e.target.files,n=c,r=u,i=l,o=e,a=[],s=0;s<t.length;s++)a.push(t.item(s));r&&h(function(){i[n.ngModel]?i[n.ngModel].value=a:i[n.ngModel]=a,r&&r.$setViewValue(null!=a&&0==a.length?"":a)}),n.ngFileChange&&""!=n.ngFileChange&&h(function(){d(n.ngFileChange)(i,{$files:a,$event:o})})};o.bind("change",m)}}}]),t.directive("ngFileDrop",["$parse","$timeout","$location",function(s,l,c){return{restrict:"AEC",require:"?ngModel",link:function(e,t,n,r){var i,p,a,m,g,v=e,b=t,y=n,w=r,_=s,k=l,x=c,o=u();y.dropAvailable&&k(function(){v.dropAvailable?v.dropAvailable.value=o:v.dropAvailable=o}),o?(i=null,p=_(y.stopPropagation)(v),a=1,e=_(y.ngAccept)(v)||y.accept,m=e?new RegExp(function e(t){if(2<t.length&&"/"===t[0]&&"/"===t[t.length-1])return t.substring(1,t.length-1);var n=t.split(","),r="";if(1<n.length)for(var i=0;i<n.length;i++)r+="("+e(n[i])+")",i<n.length-1&&(r+="|");else r=(r="^"+t.replace(new RegExp("[.\\\\+*?\\[\\^\\]$(){}=!<>|:\\-]","g"),"\\$&")+"$").replace(/\\\*/g,".*").replace(/\\\?/g,".");return r}(e)):null,b[0].addEventListener("dragover",function(e){e.preventDefault(),p&&e.stopPropagation(),k.cancel(i),v.actualDragOverClass||(g=function(e,t,n){var r=!0;if(m){var i=n.dataTransfer.items;if(null!=i)for(var o=0;o<i.length&&r;o++)r=r&&("file"==i[o].kind||""==i[o].kind)&&(null!=i[o].type.match(m)||null!=i[o].name&&null!=i[o].name.match(m))}e=_(t.dragOverClass)(e,{$event:n});e&&(e.delay&&(a=e.delay),e.accept&&(e=r?e.accept:e.reject));return e||t.dragOverClass||"dragover"}(v,y,e)),b.addClass(g)},!1),b[0].addEventListener("dragenter",function(e){e.preventDefault(),p&&e.stopPropagation()},!1),b[0].addEventListener("dragleave",function(e){i=k(function(){b.removeClass(g),g=null},a||1)},!1),""!=y.ngFileDrop&&(y.ngFileChange=v.ngFileDrop),b[0].addEventListener("drop",function(n){n.preventDefault(),p&&n.stopPropagation(),b.removeClass(g),g=null;var e=n,r=function(e,t){w&&(v[y.ngModel]?v[y.ngModel].value=e:v[y.ngModel]=e,w&&w.$setViewValue(null!=e&&0==e.length?"":e)),y.ngFileRejectedModel&&(v[y.ngFileRejectedModel]?v[y.ngFileRejectedModel].value=t:v[y.ngFileRejectedModel]=t),k(function(){_(y.ngFileChange)(v,{$files:e,$rejectedFiles:t,$event:n})})},t=0!=_(y.allowDir)(v),i=y.multiple||_(y.ngMultiple)(v),o=[],a=[],s=e.dataTransfer.items,l=0;function c(e){(!m||e.type.match(m)||null!=e.name&&e.name.match(m)?o:a).push(e)}if(s&&0<s.length&&"file"!=x.protocol())for(var u=0;u<s.length;u++){if(s[u].webkitGetAsEntry&&s[u].webkitGetAsEntry()&&s[u].webkitGetAsEntry().isDirectory){var d=s[u].webkitGetAsEntry();if(d.isDirectory&&!t)continue;null!=d&&(/^[\000-\177]*$/.test(d.name)?function n(r,i,o){{var e,t,a,s;null!=i&&(i.isDirectory?(e=(o||"")+i.name,c({name:i.name,type:"directory",path:e}),t=i.createReader(),a=[],l++,(s=function(){t.readEntries(function(e){try{if(e.length)a=a.concat(Array.prototype.slice.call(e||[],0)),s();else{for(var t=0;t<a.length;t++)n(r,a[t],(o||"")+i.name+"/");l--}}catch(e){l--,console.error(e)}},function(){l--})})()):(l++,i.file(function(e){try{l--,e.path=(o||"")+e.name,c(e)}catch(e){l--,console.error(e)}},function(e){l--})))}}(o,d):s[u].webkitGetAsEntry().isDirectory||c(s[u].getAsFile()))}else{d=s[u].getAsFile();null!=d&&c(d)}if(!i&&0<o.length)break}else{var h=e.dataTransfer.files;if(null!=h)for(u=0;u<h.length&&(c(h.item(u)),i||!(0<o.length));u++);}var f=0;!function t(e){k(function(){if(l)10*f++<2e4&&t(10);else{if(!i&&1<o.length){for(var e=0;"directory"==o[e].type;)e++;o=[o[e]]}r(o,a)}},e||0)}()},!1)):0!=_(y.hideOnDropNotAvailable)(v)&&b.css("display","none")}}}]),t.directive("ngNoFileDrop",function(){return function(e,t,n){u()&&t.css("display","none")}}),t.directive("ngFileDropAvailable",["$parse","$timeout",function(i,o){return function(e,t,n){var r;u()&&(r=i(n.ngFileDropAvailable),o(function(){r(e)}))}}])}(),!function(){function e(e,t){window.XMLHttpRequest.prototype[e]=t(window.XMLHttpRequest.prototype[e])}function a(e,t,n){try{Object.defineProperty(e,t,{get:n})}catch(e){}}function s(){try{if(new ActiveXObject("ShockwaveFlash.ShockwaveFlash"))return!0}catch(e){if(null!=navigator.mimeTypes["application/x-shockwave-flash"])return!0}return!1}var n,i;if(window.XMLHttpRequest&&!window.FormData||window.FileAPI&&FileAPI.forceLoad){function o(n){var r;n.__listeners||(n.upload||(n.upload={}),n.__listeners=[],r=n.upload.addEventListener,n.upload.addEventListener=function(e,t){n.__listeners[e]=t,r&&r.apply(this,arguments)})}function l(e){if(!s())throw'Adode Flash Player need to be installed. To check ahead use "FileAPI.hasFlash"';var t,n=angular.element(e);n.attr("disabled")||n.hasClass("js-fileapi-wrapper")||null==n.attr("ng-file-select")&&null==n.attr("data-ng-file-select")&&null==n.attr("ng-file-generated-elem--")||(n.addClass("js-fileapi-wrapper"),null==n.attr("ng-file-generated-elem--"))||(t=angular.element(document.getElementById("e"+n.attr("id")))).bind("mouseover",function(){""!==n.parent().css("position")&&"static"!==n.parent().css("position")||n.parent().css("position","relative"),n.css("position","absolute").css("top",t[0].offsetTop+"px").css("left",t[0].offsetLeft+"px").css("width",t[0].offsetWidth+"px").css("height",t[0].offsetHeight+"px").css("padding",t.css("padding")).css("margin",t.css("margin")).css("filter","alpha(opacity=0)"),t.attr("onclick",""),n.css("z-index","1000")})}function c(r){return function(t){for(var e=FileAPI.getFiles(t),n=0;n<e.length;n++)void 0===e[n].size&&(e[n].size=0),void 0===e[n].name&&(e[n].name="file"),void 0===e[n].type&&(e[n].type="undefined");t.target||(t.target={}),t.target.files=e,t.target.files!=e&&(t.__files_=e),(t.__files_||t.target.files).item=function(e){return(t.__files_||t.target.files)[e]||null},r&&r.apply(this,[t])}}function u(e,t){return("change"===t.toLowerCase()||"onchange"===t.toLowerCase())&&"file"==e.getAttribute("type")}e("open",function(r){return function(t,e,n){o(this),this.__url=e;try{r.apply(this,[t,e,n])}catch(e){-1<e.message.indexOf("Access is denied")&&r.apply(this,[t,"_fix_for_ie_crossdomain__",n])}}}),e("getResponseHeader",function(t){return function(e){return this.__fileApiXHR&&this.__fileApiXHR.getResponseHeader?this.__fileApiXHR.getResponseHeader(e):null==t?null:t.apply(this,[e])}}),e("getAllResponseHeaders",function(e){return function(){return this.__fileApiXHR&&this.__fileApiXHR.getAllResponseHeaders?this.__fileApiXHR.getAllResponseHeaders():null==e?null:e.apply(this)}}),e("abort",function(e){return function(){return this.__fileApiXHR&&this.__fileApiXHR.abort?this.__fileApiXHR.abort():null==e?null:e.apply(this)}}),e("setRequestHeader",function(r){return function(e,t){var n;"__setXHR_"===e?(o(this),(n=t(this))instanceof Function&&n(this)):(this.__requestHeaders=this.__requestHeaders||{},this.__requestHeaders[e]=t,r.apply(this,arguments))}}),e("send",function(o){return function(){var r=this;if(arguments[0]&&arguments[0].__isFileAPIShim){for(var e=arguments[0],t={url:r.__url,jsonp:!1,cache:!0,complete:function(e,t){r.__completed=!0,!e&&r.__listeners.load&&r.__listeners.load({type:"load",loaded:r.__loaded,total:r.__total,target:r,lengthComputable:!0}),!e&&r.__listeners.loadend&&r.__listeners.loadend({type:"loadend",loaded:r.__loaded,total:r.__total,target:r,lengthComputable:!0}),"abort"===e&&r.__listeners.abort&&r.__listeners.abort({type:"abort",loaded:r.__loaded,total:r.__total,target:r,lengthComputable:!0}),void 0!==t.status&&a(r,"status",function(){return 0==t.status&&e&&"abort"!==e?500:t.status}),void 0!==t.statusText&&a(r,"statusText",function(){return t.statusText}),a(r,"readyState",function(){return 4}),void 0!==t.response&&a(r,"response",function(){return t.response});var n=t.responseText||(e&&0==t.status&&"abort"!==e?e:void 0);a(r,"responseText",function(){return n}),a(r,"response",function(){return n}),e&&a(r,"err",function(){return e}),r.__fileApiXHR=t,r.onreadystatechange&&r.onreadystatechange(),r.onload&&r.onload()},fileprogress:function(e){var t;(e.target=r).__listeners.progress&&r.__listeners.progress(e),r.__total=e.total,r.__loaded=e.loaded,e.total===e.loaded&&(t=this,setTimeout(function(){r.__completed||(r.getAllResponseHeaders=function(){},t.complete(null,{status:204,statusText:"No Content"}))},1e4))},headers:r.__requestHeaders,data:{},files:{}},n=0;n<e.data.length;n++){var i=e.data[n];null!=i.val&&null!=i.val.name&&null!=i.val.size&&null!=i.val.type?t.files[i.key]=i.val:t.data[i.key]=i.val}setTimeout(function(){if(!s())throw'Adode Flash Player need to be installed. To check ahead use "FileAPI.hasFlash"';r.__fileApiXHR=FileAPI.upload(t)},1)}else o.apply(r,arguments)}}),window.XMLHttpRequest.__isFileAPIShim=!0;if(HTMLInputElement.prototype.addEventListener&&(HTMLInputElement.prototype.addEventListener=(i=HTMLInputElement.prototype.addEventListener,function(e,t,n,r){u(this,e)?(l(this),i.apply(this,[e,c(t),n,r])):i.apply(this,[e,t,n,r])})),HTMLInputElement.prototype.attachEvent&&(HTMLInputElement.prototype.attachEvent=(n=HTMLInputElement.prototype.attachEvent,function(e,t){u(this,e)?(l(this),window.jQuery?angular.element(this).bind("change",c(null)):n.apply(this,[e,c(t)])):n.apply(this,[e,t])})),window.FormData=FormData=function(){return{append:function(e,t,n){t.__isFileAPIBlobShim&&(t=t.data[0]),this.data.push({key:e,val:t,name:n})},data:[],__isFileAPIShim:!0}},window.Blob=Blob=function(e){return{data:e,__isFileAPIBlobShim:!0}},window.FileAPI||(window.FileAPI={}),FileAPI.forceLoad&&(FileAPI.html5=!1),!FileAPI.upload){var t,r,d,h,f,p=document.createElement("script"),m=document.getElementsByTagName("script");if(window.FileAPI.jsUrl)t=window.FileAPI.jsUrl;else if(window.FileAPI.jsPath)r=window.FileAPI.jsPath;else for(d=0;d<m.length;d++)if(-1<(h=(f=m[d].src).search(/\/angular\-file\-upload[\-a-zA-z0-9\.]*\.js/))){r=f.substring(0,h+1);break}null==FileAPI.staticPath&&(FileAPI.staticPath=r),p.setAttribute("src",t||r+"FileAPI.min.js"),document.getElementsByTagName("head")[0].appendChild(p),FileAPI.hasFlash=s()}FileAPI.disableFileInput=function(e,t){t?e.removeClass("js-fileapi-wrapper"):e.addClass("js-fileapi-wrapper")}}window.FileReader||(window.FileReader=function(){function n(e,t){return e={type:e,target:r,loaded:t.loaded,total:t.total,error:t.error},null!=t.result&&(e.target.result=t.result),e}function t(e){var t;i||(i=!0,r.onloadstart&&this.onloadstart(n("loadstart",e))),"load"===e.type?(r.onloadend&&r.onloadend(n("loadend",e)),t=n("load",e),r.onload&&r.onload(t)):"progress"===e.type?(t=n("progress",e),r.onprogress&&r.onprogress(t)):(t=n("error",e),r.onerror&&r.onerror(t)),r.dispatchEvent(t)}var r=this,i=!1;this.listeners={},this.addEventListener=function(e,t){r.listeners[e]=r.listeners[e]||[],r.listeners[e].push(t)},this.removeEventListener=function(e,t){r.listeners[e]&&r.listeners[e].splice(r.listeners[e].indexOf(t),1)},this.dispatchEvent=function(e){var t=r.listeners[e.type];if(t)for(var n=0;n<t.length;n++)t[n].call(r,e)},this.onabort=this.onerror=this.onload=this.onloadstart=this.onloadend=this.onprogress=null;this.readAsArrayBuffer=function(e){FileAPI.readAsBinaryString(e,t)},this.readAsBinaryString=function(e){FileAPI.readAsBinaryString(e,t)},this.readAsDataURL=function(e){FileAPI.readAsDataURL(e,t)},this.readAsText=function(e){FileAPI.readAsText(e,t)}})}(),!function(f){"use strict";var h=f.$$minErr("$sanitize");var p=/^<((?:[a-zA-Z])[\w:-]*)((?:\s+[\w:-]+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)\s*(>?)/,m=/^<\/\s*([\w:-]+)[^>]*>/,g=/([\w:-]+)(?:\s*=\s*(?:(?:"((?:[^"])*)")|(?:'((?:[^'])*)')|([^>\s]+)))?/g,v=/^</,b=/^<\//,y=/<!--(.*?)-->/g,w=/(^<!--.*?-->)/,_=/<!DOCTYPE([^>]*?)>/i,k=/<!\[CDATA\[(.*?)]]>/g,t=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,n=/([^\#-~| |!])/g,x=/^(\s+)/,C=o("area,br,col,hr,img,wbr,input"),e=o("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),r=o("rp,rt"),S=f.extend({},r,e),T=f.extend({},e,o("address,article,aside,blockquote,caption,center,del,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,map,menu,nav,ol,pre,script,section,table,ul")),$=f.extend({},r,o("a,abbr,acronym,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,q,ruby,rp,rt,s,samp,small,span,strike,strong,sub,sup,time,tt,u,var")),e=o("animate,animateColor,animateMotion,animateTransform,circle,defs,desc,ellipse,font-face,font-face-name,font-face-src,g,glyph,hkern,image,linearGradient,line,marker,metadata,missing-glyph,mpath,path,polygon,polyline,radialGradient,rect,set,stop,svg,switch,text,title,tspan,use"),E=o("script,style"),i=f.extend({},C,T,$,S,e),A=o("background,cite,href,longdesc,src,usemap,xlink:href"),r=o("abbr,align,alt,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,coords,dir,face,headers,height,hreflang,hspace,id,ismap,lang,language,nohref,nowrap,rel,rev,rows,rowspan,rules,scope,scrolling,shape,size,span,start,summary,target,title,type,valign,value,vspace,width,data-guid"),e=o("accent-height,accumulate,additive,alphabetic,arabic-form,ascent,attributeName,attributeType,baseProfile,bbox,begin,by,calcMode,cap-height,class,color,color-rendering,content,cx,cy,d,dx,dy,descent,display,dur,end,fill,fill-rule,font-family,font-size,font-stretch,font-style,font-variant,font-weight,from,fx,fy,g1,g2,glyph-name,gradientUnits,hanging,height,horiz-adv-x,horiz-origin-x,ideographic,k,keyPoints,keySplines,keyTimes,lang,marker-end,marker-mid,marker-start,markerHeight,markerUnits,markerWidth,mathematical,max,min,offset,opacity,orient,origin,overline-position,overline-thickness,panose-1,path,pathLength,points,preserveAspectRatio,r,refX,refY,repeatCount,repeatDur,requiredExtensions,requiredFeatures,restart,rotate,rx,ry,slope,stemh,stemv,stop-color,stop-opacity,strikethrough-position,strikethrough-thickness,stroke,stroke-dasharray,stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,stroke-width,systemLanguage,target,text-anchor,to,transform,type,u1,u2,underline-position,underline-thickness,unicode,unicode-range,units-per-em,values,version,viewBox,visibility,width,widths,x,x-height,x1,x2,xlink:actuate,xlink:arcrole,xlink:role,xlink:show,xlink:title,xlink:type,xml:base,xml:lang,xml:space,xmlns,xmlns:xlink,y,y1,y2,zoomAndPan"),O=f.extend({},A,e,r);function o(e){for(var t={},n=e.split(","),r=0;r<n.length;r++)t[n[r]]=!0;return t}var a=document.createElement("pre"),s=/^(\s*)([\s\S]*?)(\s*)$/;function M(e){var t,n;return e?(t=(e=s.exec(e))[1],n=e[3],(e=e[2])&&(a.innerHTML=e.replace(/</g,"&lt;"),e="textContent"in a?a.textContent:a.innerText),t+e+n):""}function P(e){return e.replace(/&/g,"&amp;").replace(t,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(n,function(e){var t=e.charCodeAt(0);return t<=159||173==t||1536<=t&&t<=1540||1807==t||6068==t||6069==t||8204<=t&&t<=8207||8232<=t&&t<=8239||8288<=t&&t<=8303||65279==t||65520<=t&&t<=65535?"&#"+t+";":e}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var D=String.prototype.trim?function(e){return f.isString(e)?e.trim():e}:function(e){return f.isString(e)?e.replace(/^\s\s*/,"").replace(/\s\s*$/,""):e};function R(e,u){var t=!1,d=f.bind(e,e.push);return{start:function(l,c,e){l=f.lowercase(l),(t=!t&&E[l]?l:t)||!0!==i[l]||(d("<"),d(l),f.forEach(c,function(e,t){var n,r,i,o,a=f.lowercase(t),s="img"===l&&"src"===a||"background"===a;("style"===a&&""!==(o="",i=(i=e).split(";"),f.forEach(i,function(e){var t,n=e.split(":");2==n.length&&(t=D(f.lowercase(n[0])),e=D(f.lowercase(n[1])),(("color"===t||"background-color"===t)&&(e.match(/^rgb\([0-9%,\. ]*\)$/i)||e.match(/^rgba\([0-9%,\. ]*\)$/i)||e.match(/^hsl\([0-9%,\. ]*\)$/i)||e.match(/^hsla\([0-9%,\. ]*\)$/i)||e.match(/^#[0-9a-f]{3,6}$/i)||e.match(/^[a-z]*$/i))||"text-align"===t&&("left"===e||"right"===e||"center"===e||"justify"===e)||"text-decoration"===t&&("underline"===e||"line-through"===e)||"font-weight"===t&&"bold"===e||"font-style"===t&&"italic"===e||"float"===t&&("left"===e||"right"===e||"none"===e)||"vertical-align"===t&&("baseline"===e||"sub"===e||"super"===e||"test-top"===e||"text-bottom"===e||"middle"===e||"top"===e||"bottom"===e||e.match(/[0-9]*(px|em)/)||e.match(/[0-9]+?%/))||"font-size"===t&&("xx-small"===e||"x-small"===e||"small"===e||"medium"===e||"large"===e||"x-large"===e||"xx-large"===e||"larger"===e||"smaller"===e||e.match(/[0-9]*\.?[0-9]*(px|em|rem|mm|q|cm|in|pt|pc|%)/))||("width"===t||"height"===t)&&e.match(/[0-9\.]*(px|em|rem|%)/)||"direction"===t&&e.match(/^ltr|rtl|initial|inherit$/))&&(o+=t+": "+e+";"))}),e=o)||(i=c,n=a,r=e,"img"===l&&i["ta-insert-video"]&&("ta-insert-video"===n||"allowfullscreen"===n||"frameborder"===n||"contenteditable"===n&&"false"===r))||!0===O[a]&&(!0!==A[a]||u(e,s)))&&(d(" "),d(t),d('="'),d(P(e)),d('"'))}),d(e?"/>":">"))},comment:function(e){d(e)},whitespace:function(e){d(P(e))},end:function(e){e=f.lowercase(e),t||!0!==i[e]||(d("</"),d(e),d(">")),e==t&&(t=!1)},chars:function(e){t||d(P(e))}}}f.module("ngSanitize",[]).provider("$sanitize",function(){this.$get=["$$sanitizeUri",function(d){return function(e){void 0!==arguments[1]&&(arguments[1].version="taSanitize");var t,n,r,i=[],o=e,a=R(i,function(e,t){return!/^unsafe/.test(d(e,t))}),s=[],l=o="string"!=typeof o?null==o?"":""+o:o;for(s.last=function(){return s[s.length-1]};o;){if(t=!(r=""),s.last()&&E[s.last()]?(o=o.replace(new RegExp("([^]*)<\\s*\\/\\s*"+s.last()+"[^>]*>","i"),function(e,t){return t=t.replace(y,"$1").replace(k,"$1"),a.chars&&a.chars(M(t)),""}),u(0,s.last())):(x.test(o)?(n=o.match(x))&&(n[0],a.whitespace&&a.whitespace(n[0]),o=o.replace(n[0],""),t=!1):w.test(o)?(n=o.match(w))&&(a.comment&&a.comment(n[1]),o=o.replace(n[0],""),t=!1):_.test(o)?(n=o.match(_))&&(o=o.replace(n[0],""),t=!1):b.test(o)?(n=o.match(m))&&(o=o.substring(n[0].length),n[0].replace(m,u),t=!1):v.test(o)&&((n=o.match(p))?(n[4]&&(o=o.substring(n[0].length),n[0].replace(p,c)),t=!1):(r+="<",o=o.substring(1))),t&&(t=o.indexOf("<"),r+=t<0?o:o.substring(0,t),o=t<0?"":o.substring(t),a.chars&&a.chars(M(r)))),o==l)throw h("badparse","The sanitizer was unable to parse the following block of html: {0}",o);l=o}function c(e,t,n,r){if(t=f.lowercase(t),T[t])for(;s.last()&&$[s.last()];)u(0,s.last());S[t]&&s.last()==t&&u(0,t),(r=C[t]||!!r)||s.push(t);var o={};n.replace(g,function(e,t,n,r,i){o[t]=M(n||r||i||"")}),a.start&&a.start(t,o,r)}function u(e,t){var n,r=0;if(t=f.lowercase(t))for(r=s.length-1;0<=r&&s[r]!=t;r--);if(0<=r){for(n=s.length-1;r<=n;n--)a.end&&a.end(s[n]);s.length=r}}return u(),i.join("")}}]}),f.module("ngSanitize").filter("linky",["$sanitize",function(u){var d=/((ftp|https?):\/\/|(www\.)|(mailto:)?[A-Za-z0-9._%+-]+@)\S*[^\s.;,(){}<>"]/,h=/^mailto:/;return function(e,t){if(!e)return e;for(var n,r,i,o=e,a=[];n=o.match(d);){r=n[0],n[2]||n[4]||(r=(n[3]?"http://":"mailto:")+r),i=n.index,c(o.substr(0,i)),l=s=void 0;var s=r,l=n[0].replace(h,"");a.push("<a "),f.isDefined(t)&&a.push('target="',t,'" '),a.push('href="',s.replace(/"/g,"&quot;"),'">'),c(l),a.push("</a>"),o=o.substring(i+n[0].length)}return c(o),u(a.join(""));function c(e){var t;e&&a.push((e=e,R(t=[],f.noop).chars(e),t.join("")))}}}])}((window,window.angular)),!function(s){var e,t,n=0,r=/^ui-id-\d+$/;function i(e,t){var n,r,i=e.nodeName.toLowerCase();return"area"===i?(n=(r=e.parentNode).name,!(!e.href||!n||"map"!==r.nodeName.toLowerCase())&&(!!(r=s("img[usemap=#"+n+"]")[0])&&o(r))):(/input|select|textarea|button|object/.test(i)?!e.disabled:"a"===i&&e.href||t)&&o(e)}function o(e){return s.expr.filters.visible(e)&&!s(e).parents().addBack().filter(function(){return"hidden"===s.css(this,"visibility")}).length}s.ui=s.ui||{},s.extend(s.ui,{version:"1.10.4",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),s.fn.extend({focus:(e=s.fn.focus,function(t,n){return"number"==typeof t?this.each(function(){var e=this;setTimeout(function(){s(e).focus(),n&&n.call(e)},t)}):e.apply(this,arguments)}),scrollParent:function(){var e=(s.ui.ie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(s.css(this,"position"))&&/(auto|scroll)/.test(s.css(this,"overflow")+s.css(this,"overflow-y")+s.css(this,"overflow-x"))}):this.parents().filter(function(){return/(auto|scroll)/.test(s.css(this,"overflow")+s.css(this,"overflow-y")+s.css(this,"overflow-x"))})).eq(0);return/fixed/.test(this.css("position"))||!e.length?s(document):e},zIndex:function(e){if(void 0!==e)return this.css("zIndex",e);if(this.length)for(var t,n=s(this[0]);n.length&&n[0]!==document;){if(("absolute"===(t=n.css("position"))||"relative"===t||"fixed"===t)&&(t=parseInt(n.css("zIndex"),10),!isNaN(t)&&0!==t))return t;n=n.parent()}return 0},uniqueId:function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++n)})},removeUniqueId:function(){return this.each(function(){r.test(this.id)&&s(this).removeAttr("id")})}}),s.extend(s.expr[":"],{data:s.expr.createPseudo?s.expr.createPseudo(function(t){return function(e){return!!s.data(e,t)}}):function(e,t,n){return!!s.data(e,n[3])},focusable:function(e){return i(e,!isNaN(s.attr(e,"tabindex")))},tabbable:function(e){var t=s.attr(e,"tabindex"),n=isNaN(t);return(n||0<=t)&&i(e,!n)}}),s("<a>").outerWidth(1).jquery||s.each(["Width","Height"],function(e,n){var i="Width"===n?["Left","Right"]:["Top","Bottom"],r=n.toLowerCase(),o={innerWidth:s.fn.innerWidth,innerHeight:s.fn.innerHeight,outerWidth:s.fn.outerWidth,outerHeight:s.fn.outerHeight};function a(e,t,n,r){return s.each(i,function(){t-=parseFloat(s.css(e,"padding"+this))||0,n&&(t-=parseFloat(s.css(e,"border"+this+"Width"))||0),r&&(t-=parseFloat(s.css(e,"margin"+this))||0)}),t}s.fn["inner"+n]=function(e){return void 0===e?o["inner"+n].call(this):this.each(function(){s(this).css(r,a(this,e)+"px")})},s.fn["outer"+n]=function(e,t){return"number"!=typeof e?o["outer"+n].call(this,e):this.each(function(){s(this).css(r,a(this,e,!0,t)+"px")})}}),s.fn.addBack||(s.fn.addBack=function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}),s("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(s.fn.removeData=(t=s.fn.removeData,function(e){return arguments.length?t.call(this,s.camelCase(e)):t.call(this)})),s.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),s.support.selectstart="onselectstart"in document.createElement("div"),s.fn.extend({disableSelection:function(){return this.bind((s.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(e){e.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),s.extend(s.ui,{plugin:{add:function(e,t,n){var r,i=s.ui[e].prototype;for(r in n)i.plugins[r]=i.plugins[r]||[],i.plugins[r].push([t,n[r]])},call:function(e,t,n){var r,i=e.plugins[t];if(i&&e.element[0].parentNode&&11!==e.element[0].parentNode.nodeType)for(r=0;r<i.length;r++)e.options[i[r][0]]&&i[r][1].apply(e.element,n)}},hasScroll:function(e,t){var n;return"hidden"!==s(e).css("overflow")&&(n=!1,0<e[t=t&&"left"===t?"scrollLeft":"scrollTop"]||(e[t]=1,n=0<e[t],e[t]=0,n))}})}(jQuery),!function(c,s){var n=0,l=Array.prototype.slice,r=c.cleanData;c.cleanData=function(e){for(var t,n=0;null!=(t=e[n]);n++)try{c(t).triggerHandler("remove")}catch(e){}r(e)},c.widget=function(e,n,t){var r,i,o,a,s={},l=e.split(".")[0];e=e.split(".")[1],r=l+"-"+e,t||(t=n,n=c.Widget),c.expr[":"][r.toLowerCase()]=function(e){return!!c.data(e,r)},c[l]=c[l]||{},i=c[l][e],o=c[l][e]=function(e,t){if(!this._createWidget)return new o(e,t);arguments.length&&this._createWidget(e,t)},c.extend(o,i,{version:t.version,_proto:c.extend({},t),_childConstructors:[]}),(a=new n).options=c.widget.extend({},a.options),c.each(t,function(t,r){function i(){return n.prototype[t].apply(this,arguments)}function o(e){return n.prototype[t].apply(this,e)}c.isFunction(r)?s[t]=function(){var e,t=this._super,n=this._superApply;return this._super=i,this._superApply=o,e=r.apply(this,arguments),this._super=t,this._superApply=n,e}:s[t]=r}),o.prototype=c.widget.extend(a,{widgetEventPrefix:i&&a.widgetEventPrefix||e},s,{constructor:o,namespace:l,widgetName:e,widgetFullName:r}),i?(c.each(i._childConstructors,function(e,t){var n=t.prototype;c.widget(n.namespace+"."+n.widgetName,o,t._proto)}),delete i._childConstructors):n._childConstructors.push(o),c.widget.bridge(e,o)},c.widget.extend=function(e){for(var t,n,r=l.call(arguments,1),i=0,o=r.length;i<o;i++)for(t in r[i])n=r[i][t],r[i].hasOwnProperty(t)&&n!==s&&(c.isPlainObject(n)?e[t]=c.isPlainObject(e[t])?c.widget.extend({},e[t],n):c.widget.extend({},n):e[t]=n);return e},c.widget.bridge=function(o,t){var a=t.prototype.widgetFullName||o;c.fn[o]=function(n){var e="string"==typeof n,r=l.call(arguments,1),i=this;return n=!e&&r.length?c.widget.extend.apply(null,[n].concat(r)):n,e?this.each(function(){var e,t=c.data(this,a);return t?c.isFunction(t[n])&&"_"!==n.charAt(0)?(e=t[n].apply(t,r))!==t&&e!==s?(i=e&&e.jquery?i.pushStack(e.get()):e,!1):void 0:c.error("no such method '"+n+"' for "+o+" widget instance"):c.error("cannot call methods on "+o+" prior to initialization; attempted to call method '"+n+"'")}):this.each(function(){var e=c.data(this,a);e?e.option(n||{})._init():c.data(this,a,new t(n,this))}),i}},c.Widget=function(){},c.Widget._childConstructors=[],c.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(e,t){t=c(t||this.defaultElement||this)[0],this.element=c(t),this.uuid=n++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=c.widget.extend({},this.options,this._getCreateOptions(),e),this.bindings=c(),this.hoverable=c(),this.focusable=c(),t!==this&&(c.data(t,this.widgetFullName,this),this._on(!0,this.element,{remove:function(e){e.target===t&&this.destroy()}}),this.document=c(t.style?t.ownerDocument:t.document||t),this.window=c(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:c.noop,_getCreateEventData:c.noop,_create:c.noop,_init:c.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(c.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:c.noop,widget:function(){return this.element},option:function(e,t){var n,r,i,o=e;if(0===arguments.length)return c.widget.extend({},this.options);if("string"==typeof e)if(o={},e=(n=e.split(".")).shift(),n.length){for(r=o[e]=c.widget.extend({},this.options[e]),i=0;i<n.length-1;i++)r[n[i]]=r[n[i]]||{},r=r[n[i]];if(e=n.pop(),1===arguments.length)return r[e]===s?null:r[e];r[e]=t}else{if(1===arguments.length)return this.options[e]===s?null:this.options[e];o[e]=t}return this._setOptions(o),this},_setOptions:function(e){for(var t in e)this._setOption(t,e[t]);return this},_setOption:function(e,t){return this.options[e]=t,"disabled"===e&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!t).attr("aria-disabled",t),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(i,o,e){var a,s=this;"boolean"!=typeof i&&(e=o,o=i,i=!1),e?(o=a=c(o),this.bindings=this.bindings.add(o)):(e=o,o=this.element,a=this.widget()),c.each(e,function(e,t){function n(){if(i||!0!==s.options.disabled&&!c(this).hasClass("ui-state-disabled"))return("string"==typeof t?s[t]:t).apply(s,arguments)}"string"!=typeof t&&(n.guid=t.guid=t.guid||n.guid||c.guid++);var e=e.match(/^(\w+)\s*(.*)$/),r=e[1]+s.eventNamespace,e=e[2];e?a.delegate(e,r,n):o.bind(r,n)})},_off:function(e,t){t=(t||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.unbind(t).undelegate(t)},_delay:function(e,t){var n=this;return setTimeout(function(){return("string"==typeof e?n[e]:e).apply(n,arguments)},t||0)},_hoverable:function(e){this.hoverable=this.hoverable.add(e),this._on(e,{mouseenter:function(e){c(e.currentTarget).addClass("ui-state-hover")},mouseleave:function(e){c(e.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(e){this.focusable=this.focusable.add(e),this._on(e,{focusin:function(e){c(e.currentTarget).addClass("ui-state-focus")},focusout:function(e){c(e.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(e,t,n){var r,i,o=this.options[e];if(n=n||{},(t=c.Event(t)).type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase(),t.target=this.element[0],i=t.originalEvent)for(r in i)r in t||(t[r]=i[r]);return this.element.trigger(t,n),!(c.isFunction(o)&&!1===o.apply(this.element[0],[t].concat(n))||t.isDefaultPrevented())}},c.each({show:"fadeIn",hide:"fadeOut"},function(o,a){c.Widget.prototype["_"+o]=function(t,e,n){var r=(e="string"==typeof e?{effect:e}:e)?!0!==e&&"number"!=typeof e&&e.effect||a:o,i=!c.isEmptyObject(e="number"==typeof(e=e||{})?{duration:e}:e);e.complete=n,e.delay&&t.delay(e.delay),i&&c.effects&&c.effects.effect[r]?t[o](e):r!==o&&t[r]?t[r](e.duration,e.easing,n):t.queue(function(e){c(this)[o](),n&&n.call(t[0]),e()})}})}(jQuery),!function(i){var o=!1;i(document).mouseup(function(){o=!1}),i.widget("ui.mouse",{version:"1.10.4",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var t=this;this.element.bind("mousedown."+this.widgetName,function(e){return t._mouseDown(e)}).bind("click."+this.widgetName,function(e){if(!0===i.data(e.target,t.widgetName+".preventClickEvent"))return i.removeData(e.target,t.widgetName+".preventClickEvent"),e.stopImmediatePropagation(),!1}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&i(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(e){var t,n,r;if(!o)return this._mouseStarted&&this._mouseUp(e),n=1===(this._mouseDownEvent=e).which,r=!("string"!=typeof(t=this).options.cancel||!e.target.nodeName)&&i(e.target).closest(this.options.cancel).length,n&&!r&&this._mouseCapture(e)&&(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){t.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=!1!==this._mouseStart(e),!this._mouseStarted)?e.preventDefault():(!0===i.data(e.target,this.widgetName+".preventClickEvent")&&i.removeData(e.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(e){return t._mouseMove(e)},this._mouseUpDelegate=function(e){return t._mouseUp(e)},i(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),e.preventDefault(),o=!0)),!0},_mouseMove:function(e){return i.ui.ie&&(!document.documentMode||document.documentMode<9)&&!e.button?this._mouseUp(e):this._mouseStarted?(this._mouseDrag(e),e.preventDefault()):(this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=!1!==this._mouseStart(this._mouseDownEvent,e),this._mouseStarted?this._mouseDrag(e):this._mouseUp(e)),!this._mouseStarted)},_mouseUp:function(e){return i(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,e.target===this._mouseDownEvent.target&&i.data(e.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(e)),!1},_mouseDistanceMet:function(e){return Math.max(Math.abs(this._mouseDownEvent.pageX-e.pageX),Math.abs(this._mouseDownEvent.pageY-e.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})}(jQuery),!function(f){function p(e,t,n){return t<e&&e<t+n}function m(e){return/left|right/.test(e.css("float"))||/inline|table-cell/.test(e.css("display"))}f.widget("ui.sortable",f.ui.mouse,{version:"1.10.4",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_create:function(){var e=this.options;this.containerCache={},this.element.addClass("ui-sortable"),this.refresh(),this.floating=!!this.items.length&&("x"===e.axis||m(this.items[0].item)),this.offset=this.element.offset(),this._mouseInit(),this.ready=!0},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled"),this._mouseDestroy();for(var e=this.items.length-1;0<=e;e--)this.items[e].item.removeData(this.widgetName+"-item");return this},_setOption:function(e,t){"disabled"===e?(this.options[e]=t,this.widget().toggleClass("ui-sortable-disabled",!!t)):f.Widget.prototype._setOption.apply(this,arguments)},_mouseCapture:function(e,t){var n=null,r=!1,i=this;return!this.reverting&&(!this.options.disabled&&"static"!==this.options.type&&(this._refreshItems(e),f(e.target).parents().each(function(){if(f.data(this,i.widgetName+"-item")===i)return n=f(this),!1}),!!(n=f.data(e.target,i.widgetName+"-item")===i?f(e.target):n)&&(!(this.options.handle&&!t&&(f(this.options.handle,n).find("*").addBack().each(function(){this===e.target&&(r=!0)}),!r))&&(this.currentItem=n,this._removeCurrentsFromItems(),!0))))},_mouseStart:function(e,t,n){var r,i,o=this.options;if((this.currentContainer=this).refreshPositions(),this.helper=this._createHelper(e),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},f.extend(this.offset,{click:{left:e.pageX-this.offset.left,top:e.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(e),this.originalPageX=e.pageX,this.originalPageY=e.pageY,o.cursorAt&&this._adjustOffsetFromHelper(o.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),o.containment&&this._setContainment(),o.cursor&&"auto"!==o.cursor&&(i=this.document.find("body"),this.storedCursor=i.css("cursor"),i.css("cursor",o.cursor),this.storedStylesheet=f("<style>*{ cursor: "+o.cursor+" !important; }</style>").appendTo(i)),o.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",o.opacity)),o.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",o.zIndex)),this.scrollParent[0]!==document&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",e,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!n)for(r=this.containers.length-1;0<=r;r--)this.containers[r]._trigger("activate",e,this._uiHash(this));return f.ui.ddmanager&&(f.ui.ddmanager.current=this),f.ui.ddmanager&&!o.dropBehaviour&&f.ui.ddmanager.prepareOffsets(this,e),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(e),!0},_mouseDrag:function(e){var t,n,r,i,o=this.options,a=!1;for(this.position=this._generatePosition(e),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==document&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-e.pageY<o.scrollSensitivity?this.scrollParent[0].scrollTop=a=this.scrollParent[0].scrollTop+o.scrollSpeed:e.pageY-this.overflowOffset.top<o.scrollSensitivity&&(this.scrollParent[0].scrollTop=a=this.scrollParent[0].scrollTop-o.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-e.pageX<o.scrollSensitivity?this.scrollParent[0].scrollLeft=a=this.scrollParent[0].scrollLeft+o.scrollSpeed:e.pageX-this.overflowOffset.left<o.scrollSensitivity&&(this.scrollParent[0].scrollLeft=a=this.scrollParent[0].scrollLeft-o.scrollSpeed)):(e.pageY-f(document).scrollTop()<o.scrollSensitivity?a=f(document).scrollTop(f(document).scrollTop()-o.scrollSpeed):f(window).height()-(e.pageY-f(document).scrollTop())<o.scrollSensitivity&&(a=f(document).scrollTop(f(document).scrollTop()+o.scrollSpeed)),e.pageX-f(document).scrollLeft()<o.scrollSensitivity?a=f(document).scrollLeft(f(document).scrollLeft()-o.scrollSpeed):f(window).width()-(e.pageX-f(document).scrollLeft())<o.scrollSensitivity&&(a=f(document).scrollLeft(f(document).scrollLeft()+o.scrollSpeed))),!1!==a&&f.ui.ddmanager&&!o.dropBehaviour&&f.ui.ddmanager.prepareOffsets(this,e)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),t=this.items.length-1;0<=t;t--)if(r=(n=this.items[t]).item[0],(i=this._intersectsWithPointer(n))&&n.instance===this.currentContainer&&!(r===this.currentItem[0]||this.placeholder[1===i?"next":"prev"]()[0]===r||f.contains(this.placeholder[0],r)||"semi-dynamic"===this.options.type&&f.contains(this.element[0],r))){if(this.direction=1===i?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(n))break;this._rearrange(e,n),this._trigger("change",e,this._uiHash());break}return this._contactContainers(e),f.ui.ddmanager&&f.ui.ddmanager.drag(this,e),this._trigger("sort",e,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(e,t){var n,r,i,o;if(e)return f.ui.ddmanager&&!this.options.dropBehaviour&&f.ui.ddmanager.drop(this,e),this.options.revert?(r=(n=this).placeholder.offset(),o={},(i=this.options.axis)&&"x"!==i||(o.left=r.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollLeft)),i&&"y"!==i||(o.top=r.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,f(this.helper).animate(o,parseInt(this.options.revert,10)||500,function(){n._clear(e)})):this._clear(e,t),!1},cancel:function(){if(this.dragging){this._mouseUp({target:null}),"original"===this.options.helper?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var e=this.containers.length-1;0<=e;e--)this.containers[e]._trigger("deactivate",null,this._uiHash(this)),this.containers[e].containerCache.over&&(this.containers[e]._trigger("out",null,this._uiHash(this)),this.containers[e].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),f.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?f(this.domPosition.prev).after(this.currentItem):f(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(t){var e=this._getItemsAsjQuery(t&&t.connected),n=[];return t=t||{},f(e).each(function(){var e=(f(t.item||this).attr(t.attribute||"id")||"").match(t.expression||/(.+)[\-=_](.+)/);e&&n.push((t.key||e[1]+"[]")+"="+(t.key&&t.expression?e[1]:e[2]))}),!n.length&&t.key&&n.push(t.key+"="),n.join("&")},toArray:function(e){var t=this._getItemsAsjQuery(e&&e.connected),n=[];return e=e||{},t.each(function(){n.push(f(e.item||this).attr(e.attribute||"id")||"")}),n},_intersectsWith:function(e){var t=this.positionAbs.left,n=t+this.helperProportions.width,r=this.positionAbs.top,i=r+this.helperProportions.height,o=e.left,a=o+e.width,s=e.top,l=s+e.height,c=this.offset.click.top,u=this.offset.click.left,c="x"===this.options.axis||s<r+c&&r+c<l,u="y"===this.options.axis||o<t+u&&t+u<a;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>e[this.floating?"width":"height"]?c&&u:o<t+this.helperProportions.width/2&&n-this.helperProportions.width/2<a&&s<r+this.helperProportions.height/2&&i-this.helperProportions.height/2<l},_intersectsWithPointer:function(e){var t="x"===this.options.axis||p(this.positionAbs.top+this.offset.click.top,e.top,e.height),e="y"===this.options.axis||p(this.positionAbs.left+this.offset.click.left,e.left,e.width),t=t&&e,e=this._getDragVerticalDirection(),n=this._getDragHorizontalDirection();return!!t&&(this.floating?n&&"right"===n||"down"===e?2:1:e&&("down"===e?2:1))},_intersectsWithSides:function(e){var t=p(this.positionAbs.top+this.offset.click.top,e.top+e.height/2,e.height),e=p(this.positionAbs.left+this.offset.click.left,e.left+e.width/2,e.width),n=this._getDragVerticalDirection(),r=this._getDragHorizontalDirection();return this.floating&&r?"right"===r&&e||"left"===r&&!e:n&&("down"===n&&t||"up"===n&&!t)},_getDragVerticalDirection:function(){var e=this.positionAbs.top-this.lastPositionAbs.top;return 0!=e&&(0<e?"down":"up")},_getDragHorizontalDirection:function(){var e=this.positionAbs.left-this.lastPositionAbs.left;return 0!=e&&(0<e?"right":"left")},refresh:function(e){return this._refreshItems(e),this.refreshPositions(),this},_connectWith:function(){var e=this.options;return e.connectWith.constructor===String?[e.connectWith]:e.connectWith},_getItemsAsjQuery:function(e){var t,n,r,i,o=[],a=[],s=this._connectWith();if(s&&e)for(t=s.length-1;0<=t;t--)for(n=(r=f(s[t])).length-1;0<=n;n--)(i=f.data(r[n],this.widgetFullName))&&i!==this&&!i.options.disabled&&a.push([f.isFunction(i.options.items)?i.options.items.call(i.element):f(i.options.items,i.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),i]);function l(){o.push(this)}for(a.push([f.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):f(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),t=a.length-1;0<=t;t--)a[t][0].each(l);return f(o)},_removeCurrentsFromItems:function(){var n=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=f.grep(this.items,function(e){for(var t=0;t<n.length;t++)if(n[t]===e.item[0])return!1;return!0})},_refreshItems:function(e){this.items=[],this.containers=[this];var t,n,r,i,o,a,s,l,c=this.items,u=[[f.isFunction(this.options.items)?this.options.items.call(this.element[0],e,{item:this.currentItem}):f(this.options.items,this.element),this]],d=this._connectWith();if(d&&this.ready)for(t=d.length-1;0<=t;t--)for(n=(r=f(d[t])).length-1;0<=n;n--)(i=f.data(r[n],this.widgetFullName))&&i!==this&&!i.options.disabled&&(u.push([f.isFunction(i.options.items)?i.options.items.call(i.element[0],e,{item:this.currentItem}):f(i.options.items,i.element),i]),this.containers.push(i));for(t=u.length-1;0<=t;t--)for(o=u[t][1],l=(a=u[t][n=0]).length;n<l;n++)(s=f(a[n])).data(this.widgetName+"-item",o),c.push({item:s,instance:o,width:0,height:0,left:0,top:0})},refreshPositions:function(e){var t,n,r,i;for(this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset()),t=this.items.length-1;0<=t;t--)(n=this.items[t]).instance!==this.currentContainer&&this.currentContainer&&n.item[0]!==this.currentItem[0]||(r=this.options.toleranceElement?f(this.options.toleranceElement,n.item):n.item,e||(n.width=r.outerWidth(),n.height=r.outerHeight()),i=r.offset(),n.left=i.left,n.top=i.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(t=this.containers.length-1;0<=t;t--)i=this.containers[t].element.offset(),this.containers[t].containerCache.left=i.left,this.containers[t].containerCache.top=i.top,this.containers[t].containerCache.width=this.containers[t].element.outerWidth(),this.containers[t].containerCache.height=this.containers[t].element.outerHeight();return this},_createPlaceholder:function(n){var r,i=(n=n||this).options;i.placeholder&&i.placeholder.constructor!==String||(r=i.placeholder,i.placeholder={element:function(){var e=n.currentItem[0].nodeName.toLowerCase(),t=f("<"+e+">",n.document[0]).addClass(r||n.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper");return"tr"===e?n.currentItem.children().each(function(){f("<td>&#160;</td>",n.document[0]).attr("colspan",f(this).attr("colspan")||1).appendTo(t)}):"img"===e&&t.attr("src",n.currentItem.attr("src")),r||t.css("visibility","hidden"),t},update:function(e,t){r&&!i.forcePlaceholderSize||(t.height()||t.height(n.currentItem.innerHeight()-parseInt(n.currentItem.css("paddingTop")||0,10)-parseInt(n.currentItem.css("paddingBottom")||0,10)),t.width()||t.width(n.currentItem.innerWidth()-parseInt(n.currentItem.css("paddingLeft")||0,10)-parseInt(n.currentItem.css("paddingRight")||0,10)))}}),n.placeholder=f(i.placeholder.element.call(n.element,n.currentItem)),n.currentItem.after(n.placeholder),i.placeholder.update(n,n.placeholder)},_contactContainers:function(e){for(var t,n,r,i,o,a,s,l,c,u=null,d=null,h=this.containers.length-1;0<=h;h--)f.contains(this.currentItem[0],this.containers[h].element[0])||(this._intersectsWith(this.containers[h].containerCache)?u&&f.contains(this.containers[h].element[0],u.element[0])||(u=this.containers[h],d=h):this.containers[h].containerCache.over&&(this.containers[h]._trigger("out",e,this._uiHash(this)),this.containers[h].containerCache.over=0));if(u)if(1===this.containers.length)this.containers[d].containerCache.over||(this.containers[d]._trigger("over",e,this._uiHash(this)),this.containers[d].containerCache.over=1);else{for(n=1e4,r=null,o=(c=u.floating||m(this.currentItem))?"width":"height",a=this.positionAbs[i=c?"left":"top"]+this.offset.click[i],t=this.items.length-1;0<=t;t--)!f.contains(this.containers[d].element[0],this.items[t].item[0])||this.items[t].item[0]===this.currentItem[0]||c&&!p(this.positionAbs.top+this.offset.click.top,this.items[t].top,this.items[t].height)||(s=this.items[t].item.offset()[i],l=!1,Math.abs(s-a)>Math.abs(s+this.items[t][o]-a)&&(l=!0,s+=this.items[t][o]),Math.abs(s-a)<n&&(n=Math.abs(s-a),r=this.items[t],this.direction=l?"up":"down"));(r||this.options.dropOnEmpty)&&this.currentContainer!==this.containers[d]&&(r?this._rearrange(e,r,null,!0):this._rearrange(e,null,this.containers[d].element,!0),this._trigger("change",e,this._uiHash()),this.containers[d]._trigger("change",e,this._uiHash(this)),this.currentContainer=this.containers[d],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[d]._trigger("over",e,this._uiHash(this)),this.containers[d].containerCache.over=1)}},_createHelper:function(e){var t=this.options,e=f.isFunction(t.helper)?f(t.helper.apply(this.element[0],[e,this.currentItem])):"clone"===t.helper?this.currentItem.clone():this.currentItem;return e.parents("body").length||f("parent"!==t.appendTo?t.appendTo:this.currentItem[0].parentNode)[0].appendChild(e[0]),e[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),e[0].style.width&&!t.forceHelperSize||e.width(this.currentItem.width()),e[0].style.height&&!t.forceHelperSize||e.height(this.currentItem.height()),e},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),"left"in(e=f.isArray(e)?{left:+e[0],top:+e[1]||0}:e)&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var e=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==document&&f.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),{top:(e=this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&f.ui.ie?{top:0,left:0}:e).top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){var e;return"relative"===this.cssPosition?{top:(e=this.currentItem.position()).top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:e.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}:{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,t,n=this.options;"parent"===n.containment&&(n.containment=this.helper[0].parentNode),"document"!==n.containment&&"window"!==n.containment||(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,f("document"===n.containment?document:window).width()-this.helperProportions.width-this.margins.left,(f("document"===n.containment?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(n.containment)||(e=f(n.containment)[0],n=f(n.containment).offset(),t="hidden"!==f(e).css("overflow"),this.containment=[n.left+(parseInt(f(e).css("borderLeftWidth"),10)||0)+(parseInt(f(e).css("paddingLeft"),10)||0)-this.margins.left,n.top+(parseInt(f(e).css("borderTopWidth"),10)||0)+(parseInt(f(e).css("paddingTop"),10)||0)-this.margins.top,n.left+(t?Math.max(e.scrollWidth,e.offsetWidth):e.offsetWidth)-(parseInt(f(e).css("borderLeftWidth"),10)||0)-(parseInt(f(e).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,n.top+(t?Math.max(e.scrollHeight,e.offsetHeight):e.offsetHeight)-(parseInt(f(e).css("borderTopWidth"),10)||0)-(parseInt(f(e).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(e,t){t=t||this.position;var e="absolute"===e?1:-1,n="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&f.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,r=/(html|body)/i.test(n[0].tagName);return{top:t.top+this.offset.relative.top*e+this.offset.parent.top*e-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():r?0:n.scrollTop())*e,left:t.left+this.offset.relative.left*e+this.offset.parent.left*e-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():r?0:n.scrollLeft())*e}},_generatePosition:function(e){var t=this.options,n=e.pageX,r=e.pageY,i="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&f.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,o=/(html|body)/i.test(i[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==document&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(e.pageX-this.offset.click.left<this.containment[0]&&(n=this.containment[0]+this.offset.click.left),e.pageY-this.offset.click.top<this.containment[1]&&(r=this.containment[1]+this.offset.click.top),e.pageX-this.offset.click.left>this.containment[2]&&(n=this.containment[2]+this.offset.click.left),e.pageY-this.offset.click.top>this.containment[3]&&(r=this.containment[3]+this.offset.click.top)),t.grid&&(e=this.originalPageY+Math.round((r-this.originalPageY)/t.grid[1])*t.grid[1],r=!this.containment||e-this.offset.click.top>=this.containment[1]&&e-this.offset.click.top<=this.containment[3]?e:e-this.offset.click.top>=this.containment[1]?e-t.grid[1]:e+t.grid[1],e=this.originalPageX+Math.round((n-this.originalPageX)/t.grid[0])*t.grid[0],n=!this.containment||e-this.offset.click.left>=this.containment[0]&&e-this.offset.click.left<=this.containment[2]?e:e-this.offset.click.left>=this.containment[0]?e-t.grid[0]:e+t.grid[0])),{top:r-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():o?0:i.scrollTop()),left:n-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():o?0:i.scrollLeft())}},_rearrange:function(e,t,n,r){n?n[0].appendChild(this.placeholder[0]):t.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?t.item[0]:t.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var i=this.counter;this._delay(function(){i===this.counter&&this.refreshPositions(!r)})},_clear:function(e,t){this.reverting=!1;var n,r=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(n in this._storedCSS)"auto"!==this._storedCSS[n]&&"static"!==this._storedCSS[n]||(this._storedCSS[n]="");this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();function i(t,n,r){return function(e){r._trigger(t,e,n._uiHash(n))}}for(this.fromOutside&&!t&&r.push(function(e){this._trigger("receive",e,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||t||r.push(function(e){this._trigger("update",e,this._uiHash())}),this===this.currentContainer||t||(r.push(function(e){this._trigger("remove",e,this._uiHash())}),r.push(function(t){return function(e){t._trigger("receive",e,this._uiHash(this))}}.call(this,this.currentContainer)),r.push(function(t){return function(e){t._trigger("update",e,this._uiHash(this))}}.call(this,this.currentContainer))),n=this.containers.length-1;0<=n;n--)t||r.push(i("deactivate",this,this.containers[n])),this.containers[n].containerCache.over&&(r.push(i("out",this,this.containers[n])),this.containers[n].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,this.cancelHelperRemoval){if(!t){for(this._trigger("beforeStop",e,this._uiHash()),n=0;n<r.length;n++)r[n].call(this,e);this._trigger("stop",e,this._uiHash())}return this.fromOutside=!1}if(t||this._trigger("beforeStop",e,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null,!t){for(n=0;n<r.length;n++)r[n].call(this,e);this._trigger("stop",e,this._uiHash())}return!(this.fromOutside=!1)},_trigger:function(){!1===f.Widget.prototype._trigger.apply(this,arguments)&&this.cancel()},_uiHash:function(e){var t=e||this;return{helper:t.helper,placeholder:t.placeholder||f([]),position:t.position,originalPosition:t.originalPosition,offset:t.positionAbs,item:t.currentItem,sender:e?e.element:null}}})}(jQuery),!function(u,d){function h(e,t,n){var r=g[t.type]||{};return null==e?n||!t.def?null:t.def:(e=r.floor?~~e:parseFloat(e),isNaN(e)?t.def:r.mod?(e+r.mod)%r.mod:e<0?0:r.max<e?r.max:e)}function s(r){var i=p(),o=i._rgba=[];return r=r.toLowerCase(),v(e,function(e,t){var n=t.re.exec(r),n=n&&t.parse(n),t=t.space||"rgba";if(n)return n=i[t](n),i[m[t].cache]=n[m[t].cache],o=i._rgba=n._rgba,!1}),o.length?("0,0,0,0"===o.join()&&u.extend(o,l.transparent),i):l[r]}function i(e,t,n){return 6*(n=(n+1)%1)<1?e+(t-e)*n*6:2*n<1?t:3*n<2?e+(t-e)*(2/3-n)*6:e}var l,f=/^([\-+])=\s*(\d+\.?\d*)/,e=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,parse:function(e){return[e[1],e[2],e[3],e[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,parse:function(e){return[2.55*e[1],2.55*e[2],2.55*e[3],e[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(e){return[e[1],e[2]/100,e[3]/100,e[4]]}}],p=u.Color=function(e,t,n,r){return new u.Color.fn.parse(e,t,n,r)},m={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},g={byte:{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},a=p.support={},t=u("<p>")[0],v=u.each;t.style.cssText="background-color:rgba(1,1,1,.5)",a.rgba=-1<t.style.backgroundColor.indexOf("rgba"),v(m,function(e,t){t.cache="_"+e,t.props.alpha={idx:3,type:"percent",def:1}}),(p.fn=u.extend(p.prototype,{parse:function(i,e,t,n){if(i===d)return this._rgba=[null,null,null,null],this;(i.jquery||i.nodeType)&&(i=u(i).css(e),e=d);var o=this,r=u.type(i),a=this._rgba=[];return e!==d&&(i=[i,e,t,n],r="array"),"string"===r?this.parse(s(i)||l._default):"array"===r?(v(m.rgba.props,function(e,t){a[t.idx]=h(i[t.idx],t)}),this):"object"===r?(i instanceof p?v(m,function(e,t){i[t.cache]&&(o[t.cache]=i[t.cache].slice())}):v(m,function(e,n){var r=n.cache;v(n.props,function(e,t){if(!o[r]&&n.to){if("alpha"===e||null==i[e])return;o[r]=n.to(o._rgba)}o[r][t.idx]=h(i[e],t,!0)}),o[r]&&u.inArray(null,o[r].slice(0,3))<0&&(o[r][3]=1,n.from&&(o._rgba=n.from(o[r])))}),this):void 0},is:function(e){var i=p(e),o=!0,a=this;return v(m,function(e,t){var n,r=i[t.cache];return r&&(n=a[t.cache]||t.to&&t.to(a._rgba)||[],v(t.props,function(e,t){if(null!=r[t.idx])return o=r[t.idx]===n[t.idx]})),o}),o},_space:function(){var n=[],r=this;return v(m,function(e,t){r[t.cache]&&n.push(e)}),n.pop()},transition:function(e,a){var e=(c=p(e))._space(),t=m[e],n=0===this.alpha()?p("transparent"):this,s=n[t.cache]||t.to(n._rgba),l=s.slice(),c=c[t.cache];return v(t.props,function(e,t){var n=t.idx,r=s[n],i=c[n],o=g[t.type]||{};null!==i&&(null===r?l[n]=i:(o.mod&&(i-r>o.mod/2?r+=o.mod:r-i>o.mod/2&&(r-=o.mod)),l[n]=h((i-r)*a+r,t)))}),this[e](l)},blend:function(e){var t,n,r;return 1===this._rgba[3]?this:(t=this._rgba.slice(),n=t.pop(),r=p(e)._rgba,p(u.map(t,function(e,t){return(1-n)*r[t]+n*e})))},toRgbaString:function(){var e="rgba(",t=u.map(this._rgba,function(e,t){return null==e?2<t?1:0:e});return 1===t[3]&&(t.pop(),e="rgb("),e+t.join()+")"},toHslaString:function(){var e="hsla(",t=u.map(this.hsla(),function(e,t){return null==e&&(e=2<t?1:0),e=t&&t<3?Math.round(100*e)+"%":e});return 1===t[3]&&(t.pop(),e="hsl("),e+t.join()+")"},toHexString:function(e){var t=this._rgba.slice(),n=t.pop();return e&&t.push(~~(255*n)),"#"+u.map(t,function(e,t){return 1===(e=(e||0).toString(16)).length?"0"+e:e}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}})).parse.prototype=p.fn,m.hsla.to=function(e){var t,n,r,i,o,a;return null==e[0]||null==e[1]||null==e[2]?[null,null,null,e[3]]:(r=e[0]/255,i=e[1]/255,o=e[2]/255,e=e[3],n=(a=Math.max(r,i,o))-(t=Math.min(r,i,o)),o=t===a?0:r===a?60*(i-o)/n+360:i===a?60*(o-r)/n+120:60*(r-i)/n+240,a=0==(i=.5*(r=a+t))||1==i?i:i<=.5?n/r:n/(2-r),[Math.round(o)%360,a,i,null==e?1:e])},m.hsla.from=function(e){var t,n,r;return null==e[0]||null==e[1]||null==e[2]?[null,null,null,e[3]]:(t=e[0]/360,r=e[1],n=e[2],e=e[3],r=2*n-(n=n<=.5?n*(1+r):n+r-n*r),[Math.round(255*i(r,n,t+1/3)),Math.round(255*i(r,n,t)),Math.round(255*i(r,n,t-1/3)),e])},v(m,function(s,e){var o=e.props,a=e.cache,l=e.to,c=e.from;p.fn[s]=function(e){var t,n,r,i;return l&&!this[a]&&(this[a]=l(this._rgba)),e===d?this[a].slice():(n=u.type(e),r="array"===n||"object"===n?e:arguments,i=this[a].slice(),v(o,function(e,t){e=r["object"===n?e:t.idx];null==e&&(e=i[t.idx]),i[t.idx]=h(e,t)}),c?((t=p(c(i)))[a]=i,t):p(i))},v(o,function(o,a){p.fn[o]||(p.fn[o]=function(e){var t=u.type(e),n="alpha"===o?this._hsla?"hsla":"rgba":s,r=this[n](),i=r[a.idx];return"undefined"===t?i:("function"===t&&(e=e.call(this,i),t=u.type(e)),null==e&&a.empty?this:("string"===t&&((t=f.exec(e))&&(e=i+parseFloat(t[2])*("+"===t[1]?1:-1))),r[a.idx]=e,this[n](r)))})})}),(p.hook=function(e){e=e.split(" ");v(e,function(e,o){u.cssHooks[o]={set:function(e,t){var n,r,i="";if("string"!==u.type(t)||(n=s(t))){if(t=p(n||t),!a.rgba&&1!==t._rgba[3]){for(r="backgroundColor"===o?e.parentNode:e;(""===i||"transparent"===i)&&r&&r.style;)try{i=u.css(r,"backgroundColor"),r=r.parentNode}catch(e){}t=t.blend(i&&"transparent"!==i?i:"_default")}t=t.toRgbaString()}try{e.style[o]=t}catch(t){}}},u.fx.step[o]=function(e){e.colorInit||(e.start=p(e.elem,o),e.end=p(e.end),e.colorInit=!0),u.cssHooks[o].set(e.elem,e.start.transition(e.end,e.pos))}})})("backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor"),u.cssHooks.borderColor={expand:function(n){var r={};return v(["Top","Right","Bottom","Left"],function(e,t){r["border"+t+"Color"]=n}),r}},l=u.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(jQuery),angular.module("ui.sortable",[]).value("uiSortableConfig",{}).directive("uiSortable",["uiSortableConfig","$timeout","$log",function(t,d,h){return{require:"?ngModel",link:function(n,r,e,i){var o;function a(n,r){return r&&"function"==typeof r?function(e,t){n(e,t),r(e,t)}:n}function s(e,t){e=e.sortable("option","helper");return"clone"===e||"function"==typeof e&&t.item.sortable.isCustomHelperUsed()}var l={},c={receive:null,remove:null,start:null,stop:null,update:null},u={helper:null};angular.extend(l,t,n.$eval(e.uiSortable)),angular.element.fn&&angular.element.fn.jquery?(i?(n.$watch(e.ngModel+".length",function(){d(function(){r.data("ui-sortable")&&r.sortable("refresh")})}),c.start=function(e,t){t.item.sortable={index:t.item.index(),cancel:function(){t.item.sortable._isCanceled=!0},isCanceled:function(){return t.item.sortable._isCanceled},isCustomHelperUsed:function(){return!!t.item.sortable._isCustomHelperUsed},_isCanceled:!1,_isCustomHelperUsed:t.item.sortable._isCustomHelperUsed}},c.activate=function(){o=r.contents();var e=r.sortable("option","placeholder");e&&e.element&&"function"==typeof e.element&&(e=e.element(),e=angular.element(e),e=r.find('[class="'+e.attr("class")+'"]'),o=o.not(e))},c.update=function(e,t){t.item.sortable.received||(t.item.sortable.dropindex=t.item.index(),t.item.sortable.droptarget=t.item.parent(),r.sortable("cancel")),(o=s(r,t)&&!t.item.sortable.received?o.not(o.last()):o).appendTo(r),t.item.sortable.received&&!t.item.sortable.isCanceled()&&n.$apply(function(){i.$modelValue.splice(t.item.sortable.dropindex,0,t.item.sortable.moved)})},c.stop=function(e,t){!t.item.sortable.received&&"dropindex"in t.item.sortable&&!t.item.sortable.isCanceled()?n.$apply(function(){i.$modelValue.splice(t.item.sortable.dropindex,0,i.$modelValue.splice(t.item.sortable.index,1)[0])}):"dropindex"in t.item.sortable&&!t.item.sortable.isCanceled()||s(r,t)||o.appendTo(r)},c.receive=function(e,t){t.item.sortable.received=!0},c.remove=function(e,t){"dropindex"in t.item.sortable||(r.sortable("cancel"),t.item.sortable.cancel()),t.item.sortable.isCanceled()||n.$apply(function(){t.item.sortable.moved=i.$modelValue.splice(t.item.sortable.index,1)[0]})},u.helper=function(n){return n&&"function"==typeof n?function(e,t){e=n(e,t);return t.sortable._isCustomHelperUsed=t!==e,e}:n},n.$watch(e.uiSortable,function(e){r.data("ui-sortable")&&angular.forEach(e,function(e,t){c[t]?("stop"===t&&(e=a(e,function(){n.$apply()})),e=a(c[t],e)):u[t]&&(e=u[t](e)),r.sortable("option",t,e)})},!0),angular.forEach(c,function(e,t){l[t]=a(e,l[t])})):h.info("ui.sortable: ngModel not provided!",r),r.sortable(l)):h.error("ui.sortable: jQuery should be included before AngularJS!")}}}]),!function(s){s.module("ngJuxtapose",[]).provider("juxtaposeConfig",function(){var t=s.extend({},{startingPosition:"50%",showLabels:!0,showCredits:!0,animate:!0,vertical:!1});return{setStartingPosition:function(e){t.startingPosition=e},setShowLabels:function(e){t.showLabels=e},setShowCredits:function(e){t.showCredits=e},setAnimate:function(e){t.animate=e},setVertical:function(e){t.vertical=e},$get:function(){return{startingPosition:"50%",showLabels:!0,showCredits:!0,animate:!0,vertical:!1}}}}).controller("JuxtaposeController",["$scope","$attrs","$parse","$window","juxtaposeConfig",function(r,i,o,e,n){var a=this;e.juxtapose?(s.forEach(["startingPosition","showLabels","showCredits","animate","vertical"],function(e,t){r[e]=s.isDefined(i[e])?t<1?o(i[e])(r.$parent):r.$parent.$eval(i[e]):n[e]}),i.id,s.forEach(["startingPosition","showLabels","showCredits","animate","vertical"],function(n){i[n]&&r.$parent.$watch(o(i[n]),function(e,t){e!==t&&(r[n]=e,a.updateSlider())})}),r.$watchCollection("[beforeImageUrl, beforeImageLabel, beforeImageCredit, beforeImageAlt, afterImageUrl, afterImageLabel, afterImageCredit, afterImageAlt]",function(e){var t=e[0],e=e[4];t&&e&&a.updateSlider()}),r.$on("$destroy",function(){a.$element=null,a.slider=null}),this.init=function(e){a.$element=e,a.slider=null},this.updateSlider=function(){var e="#"+i.id,t=[{src:r.beforeImageUrl,label:r.beforeImageLabel,credit:r.beforeImageCredit},{src:r.afterImageUrl,label:r.afterImageLabel,credit:r.afterImageCredit}],n={animate:r.animate,showLabels:r.showLabels,showCredits:r.showCredits,mode:r.vertical?"vertical":"horizontal",startingPosition:r.startingPosition,callback:r.callback};a.$element.empty(),a.slider=new juxtapose.JXSlider(e,t,n),(i.beforeImageAlt||i.afterImageAlt)&&(a.$element.find("img"),a.$element.children(),t=(e=a.$element.children().eq(0)).children().eq(1),n=e.children().eq(2),s.element(t.eq(0)[0]).attr("alt",r.beforeImageAlt),s.element(n.eq(0)[0]).attr("alt",r.afterImageAlt))},this.getElement=function(){return a.$element},this.getSlider=function(){return a.slider}):console.error("Cannot find 'juxtapose'. Make sure you've included the JuxtaposeJS library before this directive")}]).directive("juxtapose",function(){var i=0;return{restrict:"EA",scope:{beforeImageUrl:"=",beforeImageLabel:"=?",beforeImageCredit:"=?",beforeImageAlt:"=?",afterImageUrl:"=",afterImageLabel:"=?",afterImageCredit:"=?",afterImageAlt:"=?",callback:"&?"},template:'<div class="juxtapose"></div>',replace:!0,controller:"JuxtaposeController",link:function(e,t,n,r){n.$set("id","juxtapose-"+i++),r.init(t)}}})}((window,window.angular));var taTools={};function registerTextAngularTool(e,t){if(!e||""===e||taTools.hasOwnProperty(e))throw"textAngular Error: A unique name is required for a Tool Definition";if(t.display&&(""===t.display||!validElementString(t.display))||!t.display&&!t.buttontext&&!t.iconclass)throw'textAngular Error: Tool Definition for "'+e+'" does not have a valid display/iconclass/buttontext value';taTools[e]=t}angular.module("textAngularSetup",[]).constant("taRegisterTool",registerTextAngularTool).value("taTools",taTools).value("taOptions",{forceTextAngularSanitize:!0,keyMappings:[],toolbar:[["h1","h2","h3","h4","h5","h6","p","pre","quote"],["bold","italics","underline","strikeThrough","ul","ol","redo","undo","clear"],["justifyLeft","justifyCenter","justifyRight","justifyFull","indent","outdent"],["html","insertImage","insertLink","insertVideo","wordcount","charcount"]],classes:{focussed:"focussed",toolbar:"btn-toolbar",toolbarGroup:"btn-group",toolbarButton:"btn btn-default",toolbarButtonActive:"active",disabled:"disabled",textEditor:"form-control",htmlEditor:"form-control"},defaultTagAttributes:{a:{target:""}},setup:{textEditorSetup:function(e){},htmlEditorSetup:function(e){}},defaultFileDropHandler:function(e,t){var n=new FileReader;return"image"===e.type.substring(0,5)&&(n.onload=function(){""!==n.result&&t("insertImage",n.result,!0)},n.readAsDataURL(e),!0)}}).value("taSelectableElements",["a","img"]).value("taCustomRenderers",[{selector:"img",customAttribute:"ta-insert-video",renderLogic:function(e){var t=angular.element("<iframe></iframe>"),n=e.prop("attributes");angular.forEach(n,function(e){t.attr(e.name,e.value)}),t.attr("src",t.attr("ta-insert-video")),e.replaceWith(t)}}]).value("taTranslations",{html:{tooltip:"Toggle html / Rich Text"},heading:{tooltip:"Heading "},p:{tooltip:"Paragraph"},pre:{tooltip:"Preformatted text"},ul:{tooltip:"Unordered List"},ol:{tooltip:"Ordered List"},quote:{tooltip:"Quote/unquote selection or paragraph"},undo:{tooltip:"Undo"},redo:{tooltip:"Redo"},bold:{tooltip:"Bold"},italic:{tooltip:"Italic"},underline:{tooltip:"Underline"},strikeThrough:{tooltip:"Strikethrough"},justifyLeft:{tooltip:"Align text left"},justifyRight:{tooltip:"Align text right"},justifyFull:{tooltip:"Justify text"},justifyCenter:{tooltip:"Center"},indent:{tooltip:"Increase indent"},outdent:{tooltip:"Decrease indent"},clear:{tooltip:"Clear formatting"},insertImage:{dialogPrompt:"Please enter an image URL to insert",tooltip:"Insert image",hotkey:"the - possibly language dependent hotkey ... for some future implementation"},insertVideo:{tooltip:"Insert video",dialogPrompt:"Please enter a youtube URL to embed"},insertLink:{tooltip:"Insert / edit link",dialogPrompt:"Please enter a URL to insert"},editLink:{reLinkButton:{tooltip:"Relink"},unLinkButton:{tooltip:"Unlink"},targetToggle:{buttontext:"Open in New Window"}},wordcount:{tooltip:"Display words Count"},charcount:{tooltip:"Display characters Count"}}).factory("taToolFunctions",["$window","taTranslations",function(a,s){return{imgOnSelectAction:function(e,t,n){function r(){n.updateTaBindtaTextElement(),n.hidePopover()}e.preventDefault(),n.displayElements.popover.css("width","375px");var e=n.displayElements.popoverContainer,i=(e.empty(),angular.element('<div class="btn-group" style="padding-right: 6px;">')),o=angular.element('<button type="button" class="btn btn-default btn-sm btn-small" unselectable="on" tabindex="-1">100% </button>'),a=(o.on("click",function(e){e.preventDefault(),t.css({width:"100%",height:""}),r()}),angular.element('<button type="button" class="btn btn-default btn-sm btn-small" unselectable="on" tabindex="-1">50% </button>')),s=(a.on("click",function(e){e.preventDefault(),t.css({width:"50%",height:""}),r()}),angular.element('<button type="button" class="btn btn-default btn-sm btn-small" unselectable="on" tabindex="-1">25% </button>')),l=(s.on("click",function(e){e.preventDefault(),t.css({width:"25%",height:""}),r()}),angular.element('<button type="button" class="btn btn-default btn-sm btn-small" unselectable="on" tabindex="-1">Reset</button>')),o=(l.on("click",function(e){e.preventDefault(),t.css({width:"",height:""}),r()}),i.append(o),i.append(a),i.append(s),i.append(l),e.append(i),i=angular.element('<div class="btn-group" style="padding-right: 6px;">'),angular.element('<button type="button" class="btn btn-default btn-sm btn-small" unselectable="on" tabindex="-1"><i class="fa fa-align-left"></i></button>')),a=(o.on("click",function(e){e.preventDefault(),t.css("float","left"),t.css("cssFloat","left"),t.css("styleFloat","left"),r()}),angular.element('<button type="button" class="btn btn-default btn-sm btn-small" unselectable="on" tabindex="-1"><i class="fa fa-align-right"></i></button>')),s=(a.on("click",function(e){e.preventDefault(),t.css("float","right"),t.css("cssFloat","right"),t.css("styleFloat","right"),r()}),angular.element('<button type="button" class="btn btn-default btn-sm btn-small" unselectable="on" tabindex="-1"><i class="fa fa-align-justify"></i></button>')),l=(s.on("click",function(e){e.preventDefault(),t.css("float",""),t.css("cssFloat",""),t.css("styleFloat",""),r()}),i.append(o),i.append(s),i.append(a),e.append(i),i=angular.element('<div class="btn-group">'),angular.element('<button type="button" class="btn btn-default btn-sm btn-small" unselectable="on" tabindex="-1"><i class="fa fa-trash-o"></i></button>'));l.on("click",function(e){e.preventDefault(),t.remove(),r()}),i.append(l),e.append(i),n.showPopover(t),n.showResizeOverlay(t)},aOnSelectAction:function(e,t,n){e.preventDefault(),n.displayElements.popover.css("width","436px");var e=n.displayElements.popoverContainer,r=(e.empty(),e.css("line-height","28px"),angular.element('<a href="'+t.attr("href")+'" target="_blank">'+t.attr("href")+"</a>")),r=(r.css({display:"inline-block","max-width":"200px",overflow:"hidden","text-overflow":"ellipsis","white-space":"nowrap","vertical-align":"middle"}),e.append(r),angular.element('<div class="btn-group pull-right">')),i=angular.element('<button type="button" class="btn btn-default btn-sm btn-small" tabindex="-1" unselectable="on" title="'+s.editLink.reLinkButton.tooltip+'"><i class="fa fa-edit icon-edit"></i></button>'),i=(i.on("click",function(e){e.preventDefault();e=a.prompt(s.insertLink.dialogPrompt,t.attr("href"));e&&""!==e&&"http://"!==e&&(t.attr("href",e),n.updateTaBindtaTextElement()),n.hidePopover()}),r.append(i),angular.element('<button type="button" class="btn btn-default btn-sm btn-small" tabindex="-1" unselectable="on" title="'+s.editLink.unLinkButton.tooltip+'"><i class="fa fa-unlink icon-unlink"></i></button>')),o=(i.on("click",function(e){e.preventDefault(),t.replaceWith(t.contents()),n.updateTaBindtaTextElement(),n.hidePopover()}),r.append(i),angular.element('<button type="button" class="btn btn-default btn-sm btn-small" tabindex="-1" unselectable="on">'+s.editLink.targetToggle.buttontext+"</button>"));"_blank"===t.attr("target")&&o.addClass("active"),o.on("click",function(e){e.preventDefault(),t.attr("target","_blank"===t.attr("target")?"":"_blank"),o.toggleClass("active"),n.updateTaBindtaTextElement()}),r.append(o),e.append(r),n.showPopover(t)},extractYoutubeVideoId:function(e){e=e.match(/(?:youtube(?:-nocookie)?\.com\/(?:[^\/\n\s]+\/\S+\/|(?:v|e(?:mbed)?)\/|\S*?[?&]v=)|youtu\.be\/)([a-zA-Z0-9_-]{11})/i);return e&&e[1]||null}}}]).run(["taRegisterTool","$window","taTranslations","taSelection","taToolFunctions","$sanitize","taOptions","$log",function(n,t,r,s,i,e,o,a){var l={};if(e("",l),!0===o.forceTextAngularSanitize&&"taSanitize"!==l.version)throw angular.$$minErr("textAngular")("textAngularSetup","The textAngular-sanitize provider has been replaced by another -- have you included angular-sanitize by mistake?");n("html",{iconclass:"fa fa-code",tooltiptext:r.html.tooltip,action:function(){this.$editor().switchView()},activeState:function(){return this.$editor().showHtml}});function c(){return this.$editor().wrapSelection("formatBlock","<"+this.name.toUpperCase()+">")}function u(e){return-1!==e.toLowerCase().indexOf("javascript")}angular.forEach(["h1","h2","h3","h4","h5","h6"],function(e){var t;n(e.toLowerCase(),{buttontext:e.toUpperCase(),tooltiptext:r.heading.tooltip+e.charAt(1),action:c,activeState:(t=e.toLowerCase(),function(){return this.$editor().queryFormatBlockState(t)})})}),n("p",{buttontext:"P",tooltiptext:r.p.tooltip,action:function(){return this.$editor().wrapSelection("formatBlock","<P>")},activeState:function(){return this.$editor().queryFormatBlockState("p")}}),n("pre",{buttontext:"pre",tooltiptext:r.pre.tooltip,action:function(){return this.$editor().wrapSelection("formatBlock","<PRE>")},activeState:function(){return this.$editor().queryFormatBlockState("pre")}}),n("ul",{iconclass:"fa fa-list-ul",tooltiptext:r.ul.tooltip,action:function(){return this.$editor().wrapSelection("insertUnorderedList",null)},activeState:function(){return this.$editor().queryCommandState("insertUnorderedList")}}),n("ol",{iconclass:"fa fa-list-ol",tooltiptext:r.ol.tooltip,action:function(){return this.$editor().wrapSelection("insertOrderedList",null)},activeState:function(){return this.$editor().queryCommandState("insertOrderedList")}}),n("quote",{iconclass:"fa fa-quote-right",tooltiptext:r.quote.tooltip,action:function(){return this.$editor().wrapSelection("formatBlock","<BLOCKQUOTE>")},activeState:function(){return this.$editor().queryFormatBlockState("blockquote")}}),n("undo",{iconclass:"fa fa-undo",tooltiptext:r.undo.tooltip,action:function(){return this.$editor().wrapSelection("undo",null)}}),n("redo",{iconclass:"fa fa-repeat",tooltiptext:r.redo.tooltip,action:function(){return this.$editor().wrapSelection("redo",null)}}),n("bold",{iconclass:"fa fa-bold",tooltiptext:r.bold.tooltip,action:function(){return this.$editor().wrapSelection("bold",null)},activeState:function(){return this.$editor().queryCommandState("bold")},commandKeyCode:98}),n("justifyLeft",{iconclass:"fa fa-align-left",tooltiptext:r.justifyLeft.tooltip,action:function(){return this.$editor().wrapSelection("justifyLeft",null)},activeState:function(e){if(e&&"#document"===e.nodeName)return!1;var t=!1;if(e)try{t="left"===e.css("text-align")||"left"===e.attr("align")||"right"!==e.css("text-align")&&"center"!==e.css("text-align")&&"justify"!==e.css("text-align")&&!this.$editor().queryCommandState("justifyRight")&&!this.$editor().queryCommandState("justifyCenter")&&!this.$editor().queryCommandState("justifyFull")}catch(e){t=!1}return t=t||this.$editor().queryCommandState("justifyLeft")}}),n("justifyRight",{iconclass:"fa fa-align-right",tooltiptext:r.justifyRight.tooltip,action:function(){return this.$editor().wrapSelection("justifyRight",null)},activeState:function(e){if(e&&"#document"===e.nodeName)return!1;var t=!1;if(e)try{t="right"===e.css("text-align")}catch(e){t=!1}return t=t||this.$editor().queryCommandState("justifyRight")}}),n("justifyFull",{iconclass:"fa fa-align-justify",tooltiptext:r.justifyFull.tooltip,action:function(){return this.$editor().wrapSelection("justifyFull",null)},activeState:function(e){var t=!1;if(e)try{t="justify"===e.css("text-align")}catch(e){t=!1}return t=t||this.$editor().queryCommandState("justifyFull")}}),n("justifyCenter",{iconclass:"fa fa-align-center",tooltiptext:r.justifyCenter.tooltip,action:function(){return this.$editor().wrapSelection("justifyCenter",null)},activeState:function(e){if(e&&"#document"===e.nodeName)return!1;var t=!1;if(e)try{t="center"===e.css("text-align")}catch(e){t=!1}return t=t||this.$editor().queryCommandState("justifyCenter")}}),n("indent",{iconclass:"fa fa-indent",tooltiptext:r.indent.tooltip,action:function(){return this.$editor().wrapSelection("indent",null)},activeState:function(){return this.$editor().queryFormatBlockState("blockquote")},commandKeyCode:"TabKey"}),n("outdent",{iconclass:"fa fa-outdent",tooltiptext:r.outdent.tooltip,action:function(){return this.$editor().wrapSelection("outdent",null)},activeState:function(){return!1},commandKeyCode:"ShiftTabKey"}),n("italics",{iconclass:"fa fa-italic",tooltiptext:r.italic.tooltip,action:function(){return this.$editor().wrapSelection("italic",null)},activeState:function(){return this.$editor().queryCommandState("italic")},commandKeyCode:105}),n("underline",{iconclass:"fa fa-underline",tooltiptext:r.underline.tooltip,action:function(){return this.$editor().wrapSelection("underline",null)},activeState:function(){return this.$editor().queryCommandState("underline")},commandKeyCode:117}),n("strikeThrough",{iconclass:"fa fa-strikethrough",tooltiptext:r.strikeThrough.tooltip,action:function(){return this.$editor().wrapSelection("strikeThrough",null)},activeState:function(){return document.queryCommandState("strikeThrough")}}),n("clear",{iconclass:"fa fa-ban",tooltiptext:r.clear.tooltip,action:function(e,t){this.$editor().wrapSelection("removeFormat",null);var n=angular.element(s.getSelectionElement()),r=s.getAllSelectedElements(),i=function(e,t){e=angular.element(e);var n=t?t:e;return angular.forEach(e.children(),function(e){var t;n="ul"===e.tagName.toLowerCase()||"ol"===e.tagName.toLowerCase()?i(e,n):((t=angular.element("<p></p>")).html(angular.element(e).html()),n.after(t),t)}),e.remove(),n},o=(angular.forEach(r,function(e){"ul"!==e.nodeName.toLowerCase()&&"ol"!==e.nodeName.toLowerCase()||i(e)}),angular.forEach(n.find("ul"),i),angular.forEach(n.find("ol"),i),this.$editor()),a=function(e){(e=angular.element(e))[0]!==o.displayElements.text[0]&&e.removeAttr("class"),angular.forEach(e.children(),a)};angular.forEach(n,a),n[0]&&"li"!==n[0].tagName.toLowerCase()&&"ol"!==n[0].tagName.toLowerCase()&&"ul"!==n[0].tagName.toLowerCase()&&"true"!==n[0].getAttribute("contenteditable")&&this.$editor().wrapSelection("formatBlock","default"),t()}});n("insertImage",{iconclass:"fa fa-picture-o",tooltiptext:r.insertImage.tooltip,action:function(){var e=t.prompt(r.insertImage.dialogPrompt,"http://");if(e&&""!==e&&"http://"!==e&&!u(e))return s.getSelectionElement().tagName&&"a"===s.getSelectionElement().tagName.toLowerCase()&&s.setSelectionAfterElement(s.getSelectionElement()),e='<img src="'+e+'">',this.$editor().wrapSelection("insertHTML",e,!0)},onElementSelect:{element:"img",action:i.imgOnSelectAction}}),n("insertVideo",{iconclass:"fa fa-youtube-play",tooltiptext:r.insertVideo.tooltip,action:function(){var e=t.prompt(r.insertVideo.dialogPrompt,"https://");if(!u(e)&&(e&&""!==e&&"https://"!==e&&(videoId=i.extractYoutubeVideoId(e))))return e="https://www.youtube.com/embed/"+videoId,e='<img class="ta-insert-video" src="https://img.youtube.com/vi/'+videoId+'/hqdefault.jpg" ta-insert-video="'+e+'" contenteditable="false" allowfullscreen="true" frameborder="0" />',s.getSelectionElement().tagName&&"a"===s.getSelectionElement().tagName.toLowerCase()&&s.setSelectionAfterElement(s.getSelectionElement()),this.$editor().wrapSelection("insertHTML",e,!0)},onElementSelect:{element:"img",onlyWithAttrs:["ta-insert-video"],action:i.imgOnSelectAction}}),n("insertLink",{tooltiptext:r.insertLink.tooltip,iconclass:"fa fa-link",action:function(){var e=s.getSelectionElement().tagName&&"a"===s.getSelectionElement().tagName.toLowerCase()?t.prompt(r.insertLink.dialogPrompt,s.getSelectionElement().href):t.prompt(r.insertLink.dialogPrompt,"http://");if(e&&""!==e&&"http://"!==e&&!u(e))return this.$editor().wrapSelection("createLink",e,!0)},activeState:function(e){return!!e&&"A"===e[0].tagName},onElementSelect:{element:"a",action:i.aOnSelectAction}}),n("wordcount",{display:'<div id="toolbarWC" style="display:block; min-width:100px;">Words: <span ng-bind="wordcount"></span></div>',disabled:!0,wordcount:0,activeState:function(){var e=this.$editor().displayElements.text[0].innerHTML||"",t=0;return""!==e.replace(/\s*<[^>]*?>\s*/g,"")&&""!==e.trim()&&(t=e.replace(/<\/?(b|i|em|strong|span|u|strikethrough|a|img|small|sub|sup|label)( [^>*?])?>/gi,"").replace(/(<[^>]*?>\s*<[^>]*?>)/gi," ").replace(/(<[^>]*?>)/gi,"").replace(/\s+/gi," ").match(/\S+/g).length),this.wordcount=t,this.$editor().wordcount=t,!1}}),n("charcount",{display:'<div id="toolbarCC" style="display:block; min-width:120px;">Characters: <span ng-bind="charcount"></span></div>',disabled:!0,charcount:0,activeState:function(){var e=this.$editor().displayElements.text,e=(e[0].innerText||e[0].textContent).replace(/(\r\n|\n|\r)/gm,"").replace(/^\s+/g," ").replace(/\s+$/g," ").length;return this.charcount=e,this.$editor().charcount=e,!1}})}]);var textAngularVersion="v1.5.16",_browserDetect={ie:function(){for(var e=3,t=document.createElement("div"),n=t.getElementsByTagName("i");t.innerHTML="\x3c!--[if gt IE "+ ++e+"]><i></i><![endif]--\x3e",n[0];);return 4<e?e:void 0}(),webkit:/AppleWebKit\/([\d.]+)/i.test(navigator.userAgent),isFirefox:-1<navigator.userAgent.toLowerCase().indexOf("firefox")},performance=performance||{};function stripHtmlToText(e){var t=document.createElement("DIV"),e=(t.innerHTML=e,t.textContent||t.innerText||"");return e.replace("",""),e=e.trim()}function getDomFromHtml(e){var t=document.createElement("DIV");return t.innerHTML=e,t}performance.now=performance.now||performance.mozNow||performance.msNow||performance.oNow||performance.webkitNow||function(){return(new Date).getTime()};var BLOCKELEMENTS=/^(address|article|aside|audio|blockquote|canvas|center|dd|div|dl|fieldset|figcaption|figure|footer|form|h1|h2|h3|h4|h5|h6|header|hgroup|hr|noscript|ol|output|p|pre|section|table|tfoot|ul|video)$/i,LISTELEMENTS=/^(ul|li|ol)$/i,VALIDELEMENTS=/^(#text|span|address|article|aside|audio|blockquote|canvas|center|dd|div|dl|fieldset|figcaption|figure|footer|form|h1|h2|h3|h4|h5|h6|header|hgroup|hr|noscript|ol|output|p|pre|section|table|tfoot|ul|video|li)$/i,sheet,addCSSRule,removeCSSRule,_addCSSRule,_removeCSSRule,_getRuleIndex;if(String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")}),8<_browserDetect.ie||void 0===_browserDetect.ie){for(var _sheets=document.styleSheets,i=0;i<_sheets.length;i++)if((0===_sheets[i].media.length||_sheets[i].media.mediaText.match(/(all|screen)/gi))&&_sheets[i].href&&_sheets[i].href.match(/textangular\.(min\.|)css/gi)){sheet=_sheets[i];break}sheet=sheet||function(){var e=document.createElement("style");return _browserDetect.webkit&&e.appendChild(document.createTextNode("")),document.getElementsByTagName("head")[0].appendChild(e),e.sheet}(),addCSSRule=function(e,t){return _addCSSRule(sheet,e,t)},_addCSSRule=function(e,t,n){var r,i;return e.cssRules?r=Math.max(e.cssRules.length-1,0):e.rules&&(r=Math.max(e.rules.length-1,0)),e.insertRule?e.insertRule(t+"{"+n+"}",r):e.addRule(t,n,r),sheet.rules?i=sheet.rules[r]:sheet.cssRules&&(i=sheet.cssRules[r]),i},_getRuleIndex=function(e,t){for(var n,r=0;r<t.length;r++)if(t[r].cssText===e.cssText){n=r;break}return n},removeCSSRule=function(e){_removeCSSRule(sheet,e)},_removeCSSRule=function(e,t){var n=e.cssRules||e.rules;n&&0!==n.length&&(t=_getRuleIndex(t,n),e.removeRule?e.removeRule(t):e.deleteRule(t))}}angular.module("textAngular.factories",[]).factory("taBrowserTag",[function(){return function(e){return e?""===e?void 0===_browserDetect.ie?"div":_browserDetect.ie<=8?"P":"p":_browserDetect.ie<=8?e.toUpperCase():e:_browserDetect.ie<=8?"P":"p"}}]).factory("taApplyCustomRenderers",["taCustomRenderers","taDOM",function(t,r){return function(e){var n=angular.element("<div></div>");return n[0].innerHTML=e,angular.forEach(t,function(t){var e=[];t.selector&&""!==t.selector?e=n.find(t.selector):t.customAttribute&&""!==t.customAttribute&&(e=r.getByAttribute(n,t.customAttribute)),angular.forEach(e,function(e){e=angular.element(e),t.selector&&""!==t.selector&&t.customAttribute&&""!==t.customAttribute&&void 0===e.attr(t.customAttribute)||t.renderLogic(e)})}),n[0].innerHTML}}]).factory("taFixChrome",function(){return function(e,t){if(!e||!angular.isString(e)||e.length<=0)return e;for(var n,r,i,o=/style\s?=\s?(["'])(?:(?=(\\?))\2.)*?\1/gi,a=/<span class="Apple-converted-space">([^<]+)<\/span>/gi,s="",l=0;n=a.exec(e);)i=(i=n[1]).replace(/&nbsp;/gi," "),s+=e.substring(l,n.index)+i,l=n.index+n[0].length;if(l&&(e=s+=e.substring(l),s="",l=0),!t){for(;n=o.exec(e);)s+=e.substring(l,n.index-1),r=n[0],(!(n=/font-family: inherit;|line-height: 1.[0-9]{3,12};|color: inherit; line-height: 1.1;|color: rgb\(\d{1,3}, \d{1,3}, \d{1,3}\);|background-color: rgb\(\d{1,3}, \d{1,3}, \d{1,3}\);/gi.exec(r))||8<(r=r.replace(/( |)font-family: inherit;|( |)line-height: 1.[0-9]{3,12};|( |)color: inherit;|( |)color: rgb\(\d{1,3}, \d{1,3}, \d{1,3}\);|( |)background-color: rgb\(\d{1,3}, \d{1,3}, \d{1,3}\);/gi,"")).length)&&(s+=" "+r),l=o.lastIndex;s+=e.substring(l)}return 0<l?s.replace(/<span\s?>(.*?)<\/span>(<br(\/|)>|)/gi,"$1"):e}}).factory("taSanitize",["$sanitize",function(u){for(var f=[{property:"font-weight",values:["bold"],tag:"b"},{property:"font-style",values:["italic"],tag:"i"}],e=[],t=0;t<f.length;t++){for(var n="("+f[t].property+":\\s*(",r=0;r<f[t].values.length;r++)0<r&&(n+="|"),n+=f[t].values[r];n+=");)",e.push(n)}var p="("+e.join("|")+")";function m(e,t){for(var n,r=0,i=0,o=/<[^>]*>/gi;n=o.exec(e);)if(i=n.index,"/"===n[0].substr(1,1)){if(0===r)break;r--}else r++;return t+e.substring(0,i)+angular.element(t)[0].outerHTML.substring(t.length)+e.substring(i)}var d=new RegExp(/<span id="selectionBoundary_\d+_\d+" class="rangySelectionBoundary">[^<>]+?<\/span>/gi),h=new RegExp(/<span class="rangySelectionBoundary" id="selectionBoundary_\d+_\d+">[^<>]+?<\/span>/gi),g=new RegExp(/<span id="selectionBoundary_\d+_\d+" class="rangySelectionBoundary">[^<>]+?<\/span>/gi);return function(e,t,n){if(!n)try{e=function e(t){if(!t||!angular.isString(t)||t.length<=0)return t;for(var n,r,i,o=/<([^>\/]+?)style=("([^"]+)"|'([^']+)')([^>]*)>/gi,a="",s="",l=0;r=o.exec(t);){var c=r[3]||r[4],u=new RegExp(p,"i");if(angular.isString(c)&&u.test(c)){for(var d="",h=new RegExp(p,"ig");i=h.exec(c);)for(n=0;n<f.length;n++)i[2*n+2]&&(d+="<"+f[n].tag+">");u=e(t.substring(l,r.index)),0<a.length?s+=m(u,a):s+=u,c=c.replace(new RegExp(p,"ig"),""),s+="<"+r[1].trim(),0<c.length&&(s+=' style="'+c+'"'),s+=r[5]+">",l=r.index+r[0].length,a=d}}return 0<a.length?s+=m(t.substring(l),a):s+=t.substring(l),s}(e)}catch(e){}if(e=function(e){if(!e||!angular.isString(e)||e.length<=0)return e;for(var t,n=/<([^>\/]+?)align=("([^"]+)"|'([^']+)')([^>]*)>/gi,r="",i=0;t=n.exec(e);){r+=e.substring(i,t.index);var i=t.index+t[0].length,o="<"+t[1]+t[5];/style=("([^"]+)"|'([^']+)')/gi.test(o)?o=o.replace(/style=("([^"]+)"|'([^']+)')/i,'style="$2$3 text-align:'+(t[3]||t[4])+';"'):o+=' style="text-align:'+(t[3]||t[4])+';"',r+=o+=">"}return r+e.substring(i)}(e))try{e=(e=(e=(e=e.replace(d,"")).replace(h,"")).replace(d,"")).replace(g,"")}catch(e){}try{c=u(e),n&&(c=e)}catch(e){c=t||""}for(var r,i=c.match(/(<pre[^>]*>.*?<\/pre[^>]*>)/gi),o=c.replace(/(&#(9|10);)*/gi,""),a=/<pre[^>]*>.*?<\/pre[^>]*>/gi,s=0,l=0,c="";null!==(r=a.exec(o))&&s<i.length;)c+=o.substring(l,r.index)+i[s],l=r.index+r[0].length,s++;return c+o.substring(l)}}]).factory("taToolExecuteAction",["$q","$log",function(o,a){return function(e){void 0!==e&&(this.$editor=function(){return e});var t,n=o.defer(),r=n.promise,i=this.$editor();try{t=this.action(n,i.startAction()),r.finally(function(){i.endAction.call(i)})}catch(e){a.error(e)}!t&&void 0!==t||n.resolve()}}]),angular.module("textAngular.DOM",["textAngular.factories"]).factory("taExecCommand",["taSelection","taBrowserTag","$document",function(j,L,V){function F(e,t){for(var n,r=e.find("li"),i=r.length-1;0<=i;i--)n=angular.element("<"+t+">"+r[i].innerHTML+"</"+t+">"),e.after(n);e.remove(),j.setSelectionToElementEnd(n[0])}function z(e,t,n,r,i){for(var o,a,s,l=e.find("li"),c=0;c<l.length;c++)if(l[c].outerHTML===t[0].outerHTML){0<(s=c)&&(o=l[c-1]),c+1<l.length&&(a=l[c+1]);break}var u="";if(r?u+="<"+i+">"+t[0].innerHTML+"</"+i+">":u=(u=(u+="<"+L(n)+">")+"<li>"+t[0].innerHTML+"</li>")+"</"+L(n)+">",r=angular.element(u),o)if(a){e.parent();var d="",i=e[0].nodeName.toLowerCase();for(d+="<"+i+">",c=0;c<s;c++)d+="<li>"+l[c].innerHTML+"</li>";d+="</"+i+">";var h="";for(h+="<"+i+">",c=s+1;c<l.length;c++)h+="<li>"+l[c].innerHTML+"</li>";h+="</"+i+">",e.after(angular.element(h)),e.after(r),e.after(angular.element(d)),e.remove()}else t.remove(),e.after(r);else t.remove(),e.after(angular.element(e[0].outerHTML)),e.after(r),e.remove();j.setSelectionToElementEnd(r[0])}function o(e){/(<br(|\/)>)$/i.test(e.innerHTML.trim())?j.setSelectionBeforeElement(angular.element(e).find("br")[0]):j.setSelectionToElementEnd(e)}function B(e,t){t=angular.element("<"+t+">"+e[0].innerHTML+"</"+t+">"),e.after(t),e.remove(),o(t.find("li")[0])}function H(e,t,n){for(var r="",i=0;i<e.length;i++)r+="<"+L("li")+">"+e[i].innerHTML+"</"+L("li")+">";n=angular.element("<"+n+">"+r+"</"+n+">"),t.after(n),t.remove(),o(n.find("li")[0])}function U(e,t){for(var n,r=0;r<e.childNodes.length;r++){var i=e.childNodes[r];i.tagName&&i.tagName.match(BLOCKELEMENTS)&&U(i,t)}return null===e.parentNode||"<br>"===t?e:((n=angular.element(t))[0].innerHTML=e.innerHTML,e.parentNode.insertBefore(n[0],e),e.parentNode.removeChild(e),n)}return function(I,N){return I=L(I),function(e,t,n,r){var i,o,a=angular.element("<"+I+">");try{j.getSelection&&(u=j.getSelection()),void 0!==(o=j.getSelectionElement()).tagName&&("div"===o.tagName.toLowerCase()&&/taTextElement.+/.test(o.id)&&u&&u.start&&1===u.start.offset&&1===u.end.offset||"span"===o.tagName.toLowerCase()&&u&&u.start&&1===u.start.offset&&1===u.end.offset?(d=o.innerHTML,/<br>/i.test(d)&&(d=d.replace(/<br>/i,"&#8203;")),/<br\/>/i.test(d)&&(d=d.replace(/<br\/>/i,"&#8203;")),/<span>(<span>)+/i.test(d)&&(d=__.replace(/<span>(<span>)+/i,"<span>")),/<\/span>(<\/span>)+/i.test(d)&&(d=__.replace(/<\/span>(<\/span>)+/i,"</span>")),s="<div>"+(d=/<span><\/span>/i.test(d)?d.replace(/<span><\/span>/i,""):d)+"</div>",o.innerHTML=s,j.setSelectionToElementEnd(o.childNodes[0]),o=j.getSelectionElement()):"p"===o.tagName.toLowerCase()&&u&&u.start&&1===u.start.offset&&1===u.end.offset?(d=o.innerHTML,/<br>/i.test(d)&&(d=d.replace(/<br>/i,"&#8203;"),o.innerHTML=d)):"li"===o.tagName.toLowerCase()&&u&&u.start&&u.start.offset===u.end.offset&&(d=o.innerHTML,/<br>/i.test(d)&&(d=d.replace(/<br>/i,""),o.innerHTML=d)))}catch(e){}if(o){var s=angular.element(o),l=o&&o.tagName&&o.tagName.toLowerCase()||"";if("insertorderedlist"===e.toLowerCase()||"insertunorderedlist"===e.toLowerCase()){var c,u=L("insertorderedlist"===e.toLowerCase()?"ol":"ul"),d=j.getOnlySelectedElements();if(1<d.length&&("ol"===l||"ul"===l)){for(var h,f,p,m=s,g=d,v=u,b=u===l,y=I,w=m.find("li"),_=[],k=0;k<w.length;k++)for(h=0;h<g.length;h++)w[k].isEqualNode(g[h])&&(_[h]=k);0<_[0]&&(f=w[_[0]-1]),_[g.length-1]+1<w.length&&(p=w[_[g.length-1]+1]);var x="";if(b)for(h=0;h<g.length;h++)x+="<"+y+">"+g[h].innerHTML+"</"+y+">",g[h].remove();else{for(x+="<"+L(v)+">",h=0;h<g.length;h++)x+=g[h].outerHTML,g[h].remove();x+="</"+L(v)+">"}if(b=angular.element(x),f)if(p){var C="",v=m[0].nodeName.toLowerCase();for(C+="<"+v+">",k=0;k<_[0];k++)C+="<li>"+w[k].innerHTML+"</li>";C+="</"+v+">";var S="";for(S+="<"+v+">",k=_[g.length-1]+1;k<w.length;k++)S+="<li>"+w[k].innerHTML+"</li>";S+="</"+v+">",m.after(angular.element(S)),m.after(b),m.after(angular.element(C)),m.remove()}else m.after(b);else m.after(angular.element(m[0].outerHTML)),m.after(b),m.remove();return void j.setSelectionToElementEnd(b[0])}if(l===u)return s[0].childNodes.length!==d.length&&1===d.length?(s=angular.element(d[0]),z(s.parent(),s,u,!0,I)):F(s,I);if("li"===l&&s.parent()[0].tagName.toLowerCase()===u&&1===s.parent().children().length)return F(s.parent(),I);if("li"===l&&s.parent()[0].tagName.toLowerCase()!==u&&1===s.parent().children().length)return B(s.parent(),u);if(l.match(BLOCKELEMENTS)&&!s.hasClass("ta-bind"))return d.length&&s[0].childNodes.length!==d.length&&1===d.length?(s=angular.element(d[0]),z(s.parent(),s,u,u===l,I)):"ol"===l||"ul"===l?B(s,u):(c=!1,angular.forEach(s.children(),function(e){e.tagName.match(BLOCKELEMENTS)&&(c=!0)}),H(c?s.children():[angular.element("<div>"+o.innerHTML+"</div>")[0]],s,u));if(l.match(BLOCKELEMENTS)){if(0===(O=j.getOnlySelectedElements()).length)i=angular.element("<"+u+"><li>"+o.innerHTML+"</li></"+u+">"),s.html(""),s.append(i);else{if(1===O.length&&("ol"===O[0].tagName.toLowerCase()||"ul"===O[0].tagName.toLowerCase()))return O[0].tagName.toLowerCase()===u?F(angular.element(O[0]),I):B(angular.element(O[0]),u);for(var T,$="",E=[],A=0;A<O.length;A++)3!==O[A].nodeType&&(T=angular.element(O[A]),"li"!==O[A].tagName.toLowerCase()&&("ol"===O[A].tagName.toLowerCase()||"ul"===O[A].tagName.toLowerCase()?$+=T[0].innerHTML:"span"!==O[A].tagName.toLowerCase()||"ol"!==O[A].childNodes[0].tagName.toLowerCase()&&"ul"!==O[A].childNodes[0].tagName.toLowerCase()?$+="<"+L("li")+">"+T[0].innerHTML+"</"+L("li")+">":$+=T[0].childNodes[0].innerHTML,E.unshift(T)));i=angular.element("<"+u+">"+$+"</"+u+">"),E.pop().replaceWith(i),angular.forEach(E,function(e){e.remove()})}return void j.setSelectionToElementEnd(i[0])}}else{if("formatblock"===e.toLowerCase()){for("default"===(f=n.toLowerCase().replace(/[<>]/gi,"")).trim()&&(n="<"+(f=I)+">"),i="li"===l?s.parent():s;!i[0].tagName||!i[0].tagName.match(BLOCKELEMENTS)&&!i.parent().attr("contenteditable");)l=((i=i.parent())[0].tagName||"").toLowerCase();if(l===f){var O=i.children(),M=!1;for(A=0;A<O.length;A++)M=M||O[A].tagName.match(BLOCKELEMENTS);i=M?(i.after(O),p=i.next(),i.remove(),p):(a.append(i[0].childNodes),i.after(a),i.remove(),a)}else if(i.parent()[0].tagName.toLowerCase()!==f||i.parent().hasClass("ta-bind"))if(l.match(LISTELEMENTS))i.wrap(n);else{for(0===(O=j.getOnlySelectedElements()).length&&(O=[i[0]]),A=0;A<O.length;A++)if(3===O[A].nodeType||!O[A].tagName.match(BLOCKELEMENTS))for(;3===O[A].nodeType||!O[A].tagName||!O[A].tagName.match(BLOCKELEMENTS);)O[A]=O[A].parentNode;if(1<(O=O.filter(function(e,t,n){return n.indexOf(e)===t})).length&&(O=O.filter(function(e,t,n){return!("div"===e.nodeName.toLowerCase()&&/^taTextElement/.test(e.id))})),angular.element(O[0]).hasClass("ta-bind"))(i=angular.element(n))[0].innerHTML=O[0].innerHTML,O[0].innerHTML=i[0].outerHTML;else if("blockquote"===f){for($="",A=0;A<O.length;A++)$+=O[A].outerHTML;for((i=angular.element(n))[0].innerHTML=$,O[0].parentNode.insertBefore(i[0],O[0]),A=O.length-1;0<=A;A--)O[A].parentNode&&O[A].parentNode.removeChild(O[A])}else if("pre"===f&&j.getStateShiftKey()){for($="",A=0;A<O.length;A++)$+=O[A].outerHTML;for((i=angular.element(n))[0].innerHTML=$,O[0].parentNode.insertBefore(i[0],O[0]),A=O.length-1;0<=A;A--)O[A].parentNode&&O[A].parentNode.removeChild(O[A])}else for(A=0;A<O.length;A++){var P=U(O[A],n);O[A]===i[0]&&(i=angular.element(P))}}else{var D=i.parent(),R=D.contents();for(A=0;A<R.length;A++)D.parent().hasClass("ta-bind")&&3===R[A].nodeType&&((a=angular.element("<"+I+">"))[0].innerHTML=R[A].outerHTML,R[A]=a[0]),D.parent()[0].insertBefore(R[A],D[0]);D.remove()}return j.setSelectionToElementEnd(i[0]),void i[0].focus()}if("createlink"===e.toLowerCase())return"a"===l?void(j.getSelectionElement().href=n):(v='<a href="'+n+'" target="'+(r.a.target||"")+'">',void(j.getSelection().collapsed?j.insertHtml(v+n+"</a>",N):rangy.getSelection().getRangeAt(0).canSurroundContents()&&(m=angular.element(v+"</a>")[0],rangy.getSelection().getRangeAt(0).surroundContents(m))));if("inserthtml"===e.toLowerCase())return void j.insertHtml(n,N)}try{V[0].execCommand(e,t,n)}catch(e){}}}}}]).service("taSelection",["$document","taDOM","$log",function(e,v,t){function n(e,t){return e.tagName&&e.tagName.match(/^br$/i)&&0===t&&!e.previousSibling?{element:e.parentNode,offset:0}:{element:e,offset:t}}var r,b=e[0],y={getSelection:function(){try{t=rangy.getSelection().getRangeAt(0)}catch(e){return}var e=t.commonAncestorContainer,t={start:n(t.startContainer,t.startOffset),end:n(t.endContainer,t.endOffset),collapsed:t.collapsed};return"div"===(e=3!==e.nodeType||"div"===e.parentNode.nodeName.toLowerCase()&&/^taTextElement/.test(e.parentNode.id)?e:e.parentNode).nodeName.toLowerCase()&&/^taTextElement/.test(e.id)?(t.start.element=e.childNodes[t.start.offset],t.end.element=e.childNodes[t.end.offset],t.container=e):e.parentNode===t.start.element||e.parentNode===t.end.element?t.container=e.parentNode:t.container=e,t},updateLeftArrowKey:function(e){var t=rangy.getSelection().getRangeAt(0);if(t&&t.collapsed){var n=y.getFlattenedDom(t);if(!n.findIndex)return;var r,i,o=t.startContainer,a=n.findIndex(function(e,t){return e.node===o||-1!==e.parents.indexOf(o)});if(n.forEach(function(e,t){e.parents.forEach(function(e,t){})}),(r=a+1<n.length?n[a+1].node:r)&&r.textContent&&/^\ufeff([^\ufeff]*)$/.exec(r.textContent))return;if(0<a&&(i=n[a-1].node),0===t.startOffset&&i&&/^\ufeff([^\ufeff]*)$/.exec(i.textContent))return void y.setSelectionToElementEnd(i)}},updateRightArrowKey:function(e){},getFlattenedDom:function(e){var t,n,r=e.commonAncestorContainer.parentNode;return r?((n=(t=Array.prototype.slice.call(r.childNodes)).indexOf(e.startContainer))+1<t.length&&0<n||r.parentNode&&(r=r.parentNode),t=[],function n(r){r.node.childNodes.length?Array.prototype.slice.call(r.node.childNodes).forEach(function(e){var t=r.parents.slice();t.slice(-1)[0]!==r.node&&t.push(r.node),n({parents:t,node:e})}):t.push({parents:r.parents,node:r.node})}({parents:[r],node:r}),t):e.commonAncestorContainer.childNodes},getOnlySelectedElements:function(){var e=rangy.getSelection().getRangeAt(0),t=3===(t=e.commonAncestorContainer).nodeType?t.parentNode:t;return e.getNodes([1],function(e){return e.parentNode===t})},getAllSelectedElements:function(){var e=rangy.getSelection().getRangeAt(0),t=3===(t=e.commonAncestorContainer).nodeType?t.parentNode:t,n=e.getNodes([1],function(e){return e.parentNode===t});if(t.innerHTML.replace(/<span id=.selectionBoundary[^>]+>\ufeff?<\/span>/gi,"")===e.toHtml()&&("div"!==t.nodeName.toLowerCase()||!/^taTextElement/.test(t.id))){for(var r=[],i=n.length;i--;r.unshift(n[i]));(n=r).push(t)}return n},getSelectionElement:function(){if(y.getSelection())return y.getSelection().container},setSelection:function(e,t,n,r){var i=rangy.createRange();i.setStart(e,n),i.setEnd(t,r),rangy.getSelection().setSingleRange(i)},setSelectionBeforeElement:function(e){var t=rangy.createRange();t.selectNode(e),t.collapse(!0),rangy.getSelection().setSingleRange(t)},setSelectionAfterElement:function(e){var t=rangy.createRange();t.selectNode(e),t.collapse(!1),rangy.getSelection().setSingleRange(t)},setSelectionToElementStart:function(e){var t=rangy.createRange();t.selectNodeContents(e),t.collapse(!0),rangy.getSelection().setSingleRange(t)},setSelectionToElementEnd:function(e){var t=rangy.createRange();t.selectNodeContents(e),t.collapse(!1),e.childNodes&&e.childNodes[e.childNodes.length-1]&&"br"===e.childNodes[e.childNodes.length-1].nodeName&&(t.startOffset=t.endOffset=t.startOffset-1),rangy.getSelection().setSingleRange(t)},setStateShiftKey:function(e){r=e},getStateShiftKey:function(){return r},insertHtml:function(e,t){var n,r,i,o,a,s=angular.element("<div>"+e+"</div>"),l=rangy.getSelection().getRangeAt(0),c=b.createDocumentFragment(),u=s[0].childNodes,d=!0;if(0<u.length){for(r=[],n=0;n<u.length;n++){var h=u[n];"p"===h.nodeName.toLowerCase()&&""===h.innerHTML.trim()||(d=d&&!BLOCKELEMENTS.test(h.nodeName),r.push(h))}for(var f=0;f<r.length;f++)o=c.appendChild(r[f]);!d&&l.collapsed&&/^(|<br(|\/)>)$/i.test(l.startContainer.innerHTML)&&l.selectNode(l.startContainer)}else d=!0,o=c=b.createTextNode(e);if(d)l.deleteContents();else if(l.collapsed&&l.startContainer!==t)if(l.startContainer.innerHTML&&l.startContainer.innerHTML.match(/^<[^>]*>$/i))p=l.startContainer,1===l.startOffset?(l.setStartAfter(p),l.setEndAfter(p)):(l.setStartBefore(p),l.setEndBefore(p));else{if(3===l.startContainer.nodeType&&l.startContainer.parentNode!==t)for(g=(p=l.startContainer.parentNode).cloneNode(),v.splitNodes(p.childNodes,p,g,l.startContainer,l.startOffset);!VALIDELEMENTS.test(p.nodeName);){angular.element(p).after(g);var p,m=g,g=(p=p.parentNode).cloneNode();v.splitNodes(p.childNodes,p,g,m)}else g=(p=l.startContainer).cloneNode(),v.splitNodes(p.childNodes,p,g,void 0,void 0,l.startOffset);if(angular.element(p).after(g),l.setStartAfter(p),l.setEndAfter(p),/^(|<br(|\/)>)$/i.test(p.innerHTML.trim())&&(l.setStartBefore(p),l.setEndBefore(p),angular.element(p).remove()),/^(|<br(|\/)>)$/i.test(g.innerHTML.trim())&&angular.element(g).remove(),"li"===p.nodeName.toLowerCase()){for(a=b.createDocumentFragment(),i=0;i<c.childNodes.length;i++)s=angular.element("<li>"),v.transferChildNodes(c.childNodes[i],s[0]),v.transferNodeAttributes(c.childNodes[i],s[0]),a.appendChild(s[0]);c=a,o=o&&(o=c.childNodes[c.childNodes.length-1]).childNodes[o.childNodes.length-1]}}else l.deleteContents();l.insertNode(c),o&&y.setSelectionToElementEnd(o)}};return y}]).service("taDOM",function(){var c={getByAttribute:function(e,t){var n=[],r=e.children();return r.length&&angular.forEach(r,function(e){n=n.concat(c.getByAttribute(angular.element(e),t))}),void 0!==e.attr(t)&&n.push(e),n},transferChildNodes:function(e,t){for(t.innerHTML="";0<e.childNodes.length;)t.appendChild(e.childNodes[0]);return t},splitNodes:function(e,t,n,r,i,o){if(!r&&isNaN(o))throw new Error("taDOM.splitNodes requires a splitNode or splitIndex");for(var a=document.createDocumentFragment(),s=document.createDocumentFragment(),l=0;0<e.length&&(isNaN(o)||o!==l)&&e[0]!==r;)a.appendChild(e[0]),l++;for(!isNaN(i)&&0<=i&&e[0]&&(a.appendChild(document.createTextNode(e[0].nodeValue.substring(0,i))),e[0].nodeValue=e[0].nodeValue.substring(i));0<e.length;)s.appendChild(e[0]);c.transferChildNodes(a,t),c.transferChildNodes(s,n)},transferNodeAttributes:function(e,t){for(var n=0;n<e.attributes.length;n++)t.setAttribute(e.attributes[n].name,e.attributes[n].value);return t}};return c}),angular.module("textAngular.validators",[]).directive("taMaxText",function(){return{restrict:"A",require:"ngModel",link:function(e,t,n,r){var i=parseInt(e.$eval(n.taMaxText));if(isNaN(i))throw"Max text must be an integer";n.$observe("taMaxText",function(e){if(i=parseInt(e),isNaN(i))throw"Max text must be an integer";r.$dirty&&r.$validate()}),r.$validators.taMaxText=function(e){var t=angular.element("<div/>");return t.html(e),t.text().length<=i}}}}).directive("taMinText",function(){return{restrict:"A",require:"ngModel",link:function(e,t,n,r){var i=parseInt(e.$eval(n.taMinText));if(isNaN(i))throw"Min text must be an integer";n.$observe("taMinText",function(e){if(i=parseInt(e),isNaN(i))throw"Min text must be an integer";r.$dirty&&r.$validate()}),r.$validators.taMinText=function(e){var t=angular.element("<div/>");return t.html(e),!t.text().length||t.text().length>=i}}}}),angular.module("textAngular.taBind",["textAngular.factories","textAngular.DOM"]).service("_taBlankTest",[function(){return function(e){return!e||""===stripHtmlToText(e)&&!/<img[^>]+>/.test(e)}}]).directive("taButton",[function(){return{link:function(e,t,n){t.attr("unselectable","on"),t.on("mousedown",function(e,t){return t&&angular.extend(e,t),e.preventDefault(),!1})}}}]).directive("taBind",["taSanitize","$timeout","$document","taFixChrome","taBrowserTag","taSelection","taSelectableElements","taApplyCustomRenderers","taOptions","_taBlankTest","$parse","taDOM","textAngularManager",function(z,B,H,U,e,W,q,Y,G,K,X,t,J){return{priority:2,require:["ngModel","?ngModelOptions"],link:function(v,b,l,e){var o,y,c,w=e[0],a=e[1]||{},r=void 0!==b.attr("contenteditable")&&b.attr("contenteditable"),t=r||"textarea"===b[0].tagName.toLowerCase()||"input"===b[0].tagName.toLowerCase(),u=!1,n=!1,i=!1,_=l.taUnsafeSanitizer||G.disableSanitizer,s=l.taKeepStyles||G.keepStyles,N=/^(9|19|20|27|33|34|35|36|37|38|39|40|45|112|113|114|115|116|117|118|119|120|121|122|123|144|145)$/i,j=/^(8|13|32|46|59|61|107|109|173|186|187|188|189|190|191|192|219|220|221|222)$/i,L=[{specialKey:"UndoKey",forbiddenModifiers:12,mustHaveModifiers:[3],keyCode:90},{specialKey:"RedoKey",forbiddenModifiers:4,mustHaveModifiers:[3,8],keyCode:90},{specialKey:"RedoKey",forbiddenModifiers:12,mustHaveModifiers:[3],keyCode:89},{specialKey:"TabKey",forbiddenModifiers:15,mustHaveModifiers:[],keyCode:9},{specialKey:"ShiftTabKey",forbiddenModifiers:7,mustHaveModifiers:[8],keyCode:9}];void 0===l.taDefaultWrap&&(l.taDefaultWrap="p"),""===l.taDefaultWrap?(c="",void 0!==_browserDetect.ie&&(11<=_browserDetect.ie||_browserDetect.ie)):(c=void 0===_browserDetect.ie||11<=_browserDetect.ie?"br"===l.taDefaultWrap.toLowerCase()?"<BR><BR>":"<"+l.taDefaultWrap+"><br></"+l.taDefaultWrap+">":_browserDetect.ie<=8?"<"+l.taDefaultWrap.toUpperCase()+"></"+l.taDefaultWrap.toUpperCase()+">":"<"+l.taDefaultWrap+"></"+l.taDefaultWrap+">",void 0===_browserDetect.ie||11<=_browserDetect.ie?"br"!==l.taDefaultWrap.toLowerCase()&&(l.taDefaultWrap,l.taDefaultWrap):_browserDetect.ie<=8?(l.taDefaultWrap.toUpperCase(),l.taDefaultWrap.toUpperCase()):(l.taDefaultWrap,l.taDefaultWrap)),a.$options||(a.$options={});function d(e){if(!K(e)){var t=angular.element("<div>"+e+"</div>");if(0===t.children().length)e="<"+l.taDefaultWrap+">"+e+"</"+l.taDefaultWrap+">";else{for(var n=t[0].childNodes,r=!1,i=0;i<n.length&&!(r=n[i].nodeName.toLowerCase().match(BLOCKELEMENTS));i++);if(r)for(e="",i=0;i<n.length;i++){var o,a=n[i],s=a.nodeName.toLowerCase();"#comment"===s?e+="\x3c!--"+a.nodeValue+"--\x3e":"#text"===s?(o=a.textContent).trim()?e+="<"+l.taDefaultWrap+">"+o+"</"+l.taDefaultWrap+">":e+=o:s.match(BLOCKELEMENTS)?e+=a.outerHTML:""!==(o=a.outerHTML||a.nodeValue).trim()?e+="<"+l.taDefaultWrap+">"+o+"</"+l.taDefaultWrap+">":e+=o}else e="<"+l.taDefaultWrap+">"+e+"</"+l.taDefaultWrap+">"}}return e}function k(){if(r)return b[0].innerHTML;if(t)return b.val();throw"textAngular Error: attempting to update non-editable taBind"}function h(e){return v.$emit("ta-element-select",this),e.preventDefault(),!1}l.taPaste&&(y=X(l.taPaste)),b.addClass("ta-bind"),v["$undoManager"+(l.id||"")]=w.$undoManager={_stack:[],_index:0,_max:1e3,push:function(e){return null==e||void 0!==this.current()&&null!==this.current()&&e===this.current()||(this._index<this._stack.length-1&&(this._stack=this._stack.slice(0,this._index+1)),this._stack.push(e),g&&B.cancel(g),this._stack.length>this._max&&this._stack.shift(),this._index=this._stack.length-1),e},undo:function(){return this.setToIndex(this._index-1)},redo:function(){return this.setToIndex(this._index+1)},setToIndex:function(e){if(!(e<0||e>this._stack.length-1))return this._index=e,this.current()},current:function(){return this._stack[this._index]}};function f(e,t,n){i=n||!1,null==t&&(t=r),null==e&&(e=k()),K(e)?(""!==w.$viewValue&&w.$setViewValue(""),t&&""!==w.$undoManager.current()&&w.$undoManager.push("")):(C(),w.$viewValue!==e&&(w.$setViewValue(e),t&&w.$undoManager.push(e))),w.$render()}function p(e){b[0].innerHTML=e}function m(e){return w.$oldViewValue=z(U(e,s),w.$oldViewValue,_)}var g,x,C=v["reApplyOnSelectorHandlers"+(l.id||"")]=function(){u||angular.forEach(q,function(e){b.find(e).off("click",h).on("click",h)})},V=v["$undoTaBind"+(l.id||"")]=function(){var e;!u&&r&&null!=(e=w.$undoManager.undo())&&(p(e),f(e,!1),x&&B.cancel(x),x=B(function(){b[0].focus(),W.setSelectionToElementEnd(b[0])},1))},F=v["$redoTaBind"+(l.id||"")]=function(){var e;!u&&r&&null!=(e=w.$undoManager.redo())&&(p(e),f(e,!1),x&&B.cancel(x),x=B(function(){b[0].focus(),W.setSelectionToElementEnd(b[0])},1))};v["updateTaBind"+(l.id||"")]=function(){u||f(void 0,void 0,!0)};if(b.attr("required")&&(w.$validators.required=function(e,t){return!K(e||t)}),w.$parsers.push(m),w.$parsers.unshift(d),w.$formatters.push(m),w.$formatters.unshift(d),w.$formatters.unshift(function(e){return w.$undoManager.push(e||"")}),t)if(v.events={},r){function S(e){var t=void 0!==e&&e.match(/content=["']*OneNote.File/i);if(e&&e.trim().length){if(e.match(/class=["']*Mso(Normal|List)/i)||e.match(/content=["']*Word.Document/i)||e.match(/content=["']*OneNote.File/i)){var n=e.match(/<!--StartFragment-->([\s\S]*?)<!--EndFragment-->/i);n=(n=n?n[1]:e).replace(/<o:p>[\s\S]*?<\/o:p>/gi,"").replace(/class=(["']|)MsoNormal(["']|)/gi,"");function r(e){a.isUl=e,a.element=angular.element(e?"<ul>":"<ol>"),a.lastIndent=[],a.lastIndent.peek=function(){var e=this.length;if(0<e)return this[e-1]},a.lastLevelMatch=null}for(var i=angular.element("<div>"+n+"</div>"),o=angular.element("<div></div>"),a={element:null,lastIndent:[],lastLi:null,isUl:!1},s=(a.lastIndent.peek=function(){var e=this.length;if(0<e)return this[e-1]},0);s<=i[0].childNodes.length;s++)if(i[0].childNodes[s]&&"#text"!==i[0].childNodes[s].nodeName){var l=i[0].childNodes[s].tagName.toLowerCase();if("p"===l||"ul"===l||"h1"===l||"h2"===l||"h3"===l||"h4"===l||"h5"===l||"h6"===l||"table"===l){var l=angular.element(i[0].childNodes[s]),c=(l.attr("class")||"").match(/MsoList(Bullet|Number|Paragraph)(CxSp(First|Middle|Last)|)/i);if(c){if(!(l[0].childNodes.length<2||l[0].childNodes[1].childNodes.length<1)){var u="bullet"===c[1].toLowerCase()||"number"!==c[1].toLowerCase()&&!(/^[^0-9a-z<]*[0-9a-z]+[^0-9a-z<>]</i.test(l[0].childNodes[1].innerHTML)||/^[^0-9a-z<]*[0-9a-z]+[^0-9a-z<>]</i.test(l[0].childNodes[1].childNodes[0].innerHTML)),d=(l.attr("style")||"").match(/margin-left:([\-\.0-9]*)/i),h=parseFloat(d?d[1]:0),d=(l.attr("style")||"").match(/mso-list:l([0-9]+) level([0-9]+) lfo[0-9+]($|;)/i);if(d&&d[2]&&(h=parseInt(d[2])),d&&(!a.lastLevelMatch||d[1]!==a.lastLevelMatch[1])||!c[3]||"first"===c[3].toLowerCase()||null===a.lastIndent.peek()||a.isUl!==u&&a.lastIndent.peek()===h)r(u),o.append(a.element);else if(null!=a.lastIndent.peek()&&a.lastIndent.peek()<h)a.element=angular.element(u?"<ul>":"<ol>"),a.lastLi.append(a.element);else if(null!=a.lastIndent.peek()&&a.lastIndent.peek()>h){for(;null!=a.lastIndent.peek()&&a.lastIndent.peek()>h;)if("li"===a.element.parent()[0].tagName.toLowerCase())a.element=a.element.parent();else{if(!/[uo]l/i.test(a.element.parent()[0].tagName.toLowerCase()))break;a.element=a.element.parent(),a.lastIndent.pop()}a.isUl="ul"===a.element[0].tagName.toLowerCase(),u!==a.isUl&&(r(u),o.append(a.element))}a.lastLevelMatch=d,h!==a.lastIndent.peek()&&a.lastIndent.push(h),a.lastLi=angular.element("<li>"),a.element.append(a.lastLi),a.lastLi.html(l.html().replace(/<!(--|)\[if !supportLists\](--|)>[\s\S]*?<!(--|)\[endif\](--|)>/gi,"")),l.remove()}}else r(!1),o.append(l)}}function f(e){for(var t=(e=angular.element(e))[0].childNodes.length-1;0<=t;t--)e.after(e[0].childNodes[t]);e.remove()}angular.forEach(o.find("span"),function(e){e.removeAttribute("lang"),e.attributes.length<=0&&f(e)}),angular.forEach(o.find("font"),f),e=o.html(),e=(e=t?o.html()||i.html():e).replace(/\n/g," ")}else{if((e=e.replace(/<(|\/)meta[^>]*?>/gi,"")).match(/<[^>]*?(ta-bind)[^>]*?>/)){if(e.match(/<[^>]*?(text-angular)[^>]*?>/)){n=angular.element("<div>"+e+"</div>");n.find("textarea").remove();for(var p=0;p<binds.length;p++){for(var m=binds[p][0].parentNode.parentNode,g=0;g<binds[p][0].childNodes.length;g++)m.parentNode.insertBefore(binds[p][0].childNodes[g],m);m.parentNode.removeChild(m)}e=n.html().replace('<br class="Apple-interchange-newline">',"")}}else!e.match(/^<span/)||e.match(/<span class=(\"Apple-converted-space\"|\'Apple-converted-space\')>.<\/span>/gi)||(e=e.replace(/<(|\/)span[^>]*?>/gi,""));e=e.replace(/<br class="Apple-interchange-newline"[^>]*?>/gi,"").replace(/<span class="Apple-converted-space">( |&nbsp;)<\/span>/gi,"&nbsp;")}e=(e=/<li(\s.*)?>/i.test(e)&&!1===/(<ul(\s.*)?>|<ol(\s.*)?>).*<li(\s.*)?>/i.test(e)?e.replace(/<li(\s.*)?>.*<\/li(\s.*)?>/i,"<ul>$&</ul>"):e).replace(/^[ |\u00A0]+/gm,function(e){for(var t="",n=0;n<e.length;n++)t+="&nbsp;";return t}).replace(/\n|\r\n|\r/g,"<br />").replace(/\t/g,"&nbsp;&nbsp;&nbsp;&nbsp;"),e=(e=y?y(v,{$html:e})||e:e).replace(/<span style=("|')([^<]*?)vertical-align\s*:\s*super;?([^>]*?)("|')>([^<]+?)<\/span>/g,"<sup style='$2$3'>$5</sup>"),e=z(e,"",_),W.insertHtml(e,b[0]),B(function(){w.$setViewValue(k()),A=!1,b.removeClass("processing-paste")},0)}else A=!1,b.removeClass("processing-paste")}var T,$,E,A=!1;if(b.on("paste",v.events.paste=function(e,t){if(t&&angular.extend(e,t),u||A)return e.stopPropagation(),e.preventDefault(),!1;A=!0,b.addClass("processing-paste");var n,r=(e.originalEvent||e).clipboardData;if(!r&&window.clipboardData&&window.clipboardData.getData)return n=window.clipboardData.getData("Text"),S(n),e.stopPropagation(),e.preventDefault(),!1;if(r&&r.getData&&0<r.types.length){for(var i="",o=0;o<r.types.length;o++)i+=" "+r.types[o];return/text\/html/i.test(i)?n=r.getData("text/html"):/text\/plain/i.test(i)&&(n=r.getData("text/plain")),S(n),e.stopPropagation(),e.preventDefault(),!1}var a=rangy.saveSelection(),s=angular.element('<div class="ta-hidden-input" contenteditable="true"></div>');H.find("body").append(s),s[0].focus(),B(function(){rangy.restoreSelection(a),S(s[0].innerHTML),b[0].focus(),s.remove()},0)}),b.on("cut",v.events.cut=function(e){u?e.preventDefault():B(function(){w.$setViewValue(k())},0)}),b.on("keydown",v.events.keydown=function(t,e){var n,r,i,o,a,s;e&&angular.extend(t,e),16===t.keyCode?W.setStateShiftKey(!0):W.setStateShiftKey(!1),t.specialKey=(n=t,L.forEach(function(e){var t;e.keyCode===n.keyCode&&(t=(n.metaKey?2:0)+(n.ctrlKey?1:0)+(n.shiftKey?8:0)+(n.altKey?4:0),e.forbiddenModifiers&t||e.mustHaveModifiers.every(function(e){return t&e})&&(r=e.specialKey))}),r),G.keyMappings.forEach(function(e){t.specialKey===e.commandKeyCode&&(t.specialKey=void 0),e.testForKey(t)&&(i=e.commandKeyCode),"UndoKey"!==e.commandKeyCode&&"RedoKey"!==e.commandKeyCode||e.enablePropagation||t.preventDefault()}),void 0!==i&&(t.specialKey=i),void 0===t.specialKey||"UndoKey"===t.specialKey&&"RedoKey"===t.specialKey||(t.preventDefault(),J.sendKeyCommand(v,t)),u||("UndoKey"===t.specialKey&&(V(),t.preventDefault()),"RedoKey"===t.specialKey&&(F(),t.preventDefault()),13!==t.keyCode||t.shiftKey||t.ctrlKey||t.metaKey||t.altKey||(e=W.getSelectionElement()).nodeName.match(VALIDELEMENTS)&&(o=angular.element(c),function(e,t){for(var n=0;n<e.length;n++)if(e[n]===t)return!0;return!1}(["blockquote","ul","ol"],e.parentNode.tagName.toLowerCase())&&(/^<br(|\/)>$/i.test(e.innerHTML.trim())&&!e.nextSibling&&((s=(a=angular.element(e)).parent()).after(o),a.remove(),0===s.children().length&&s.remove(),W.setSelectionToElementStart(o[0]),t.preventDefault()),/^<[^>]+><br(|\/)><\/[^>]+>$/i.test(e.innerHTML.trim())&&((a=angular.element(e)).after(o),a.remove(),W.setSelectionToElementStart(o[0]),t.preventDefault()))))}),b.on("keyup",v.events.keyup=function(e,t){if(t&&angular.extend(e,t),W.setStateShiftKey(!1),9===e.keyCode)W.getSelection().start.element===b[0]&&b.children().length&&W.setSelectionToElementStart(b.children()[0]);else if(37!==e.keyCode||e.shiftKey||W.updateLeftArrowKey(b),39!==e.keyCode||e.shiftKey||W.updateRightArrowKey(b),g&&B.cancel(g),!(u||N.test(e.keyCode)||13===e.keyCode&&(e.ctrlKey||e.metaKey||e.altKey))){if(""!==c&&"<BR><BR>"!==c&&13===e.keyCode&&!e.ctrlKey&&!e.metaKey&&!e.altKey){for(var n=W.getSelectionElement();!n.nodeName.match(VALIDELEMENTS)&&n!==b[0];)n=n.parentNode;e.shiftKey?(t=n.tagName.toLowerCase())!==l.taDefaultWrap&&"li"!==t&&"pre"!==t&&"div"!==t||/.+<br><br>/.test(n.innerHTML.trim())||(t=n.previousSibling)&&(t.innerHTML=t.innerHTML+"<br><br>",angular.element(n).remove(),W.setSelectionToElementEnd(t)):n.tagName.toLowerCase()===l.taDefaultWrap||"li"===n.nodeName.toLowerCase()||""!==n.innerHTML.trim()&&"<br>"!==n.innerHTML.trim()||(t=angular.element(c),angular.element(n).replaceWith(t),W.setSelectionToElementStart(t[0]))}var r=k(),i=(""===c||""!==r.trim()&&"<br>"!==r.trim()?"<"!==r.substring(0,1)&&l.taDefaultWrap:(p(c),W.setSelectionToElementStart(b.children()[0])),o!==e.keyCode&&j.test(e.keyCode));T&&B.cancel(T),T=B(function(){f(r,i,!0)},a.$options.debounce||400),i||(g=B(function(){w.$undoManager.push(r)},250)),o=e.keyCode}}),b.on("input",function(){k()!==w.$viewValue&&($&&B.cancel($),$=B(function(){var e=rangy.saveSelection(),t=k();t!==w.$viewValue&&f(t,!0),0!==w.$viewValue.length&&rangy.restoreSelection(e)},1e3))}),b.on("blur",v.events.blur=function(){n=!1,u?(i=!0,w.$render()):f(void 0,void 0,!0)}),l.placeholder&&(8<_browserDetect.ie||void 0===_browserDetect.ie)){if(!l.id)throw"textAngular Error: An unique ID is required for placeholders to work";E=addCSSRule("#"+l.id+".placeholder-text:before",'content: "'+l.placeholder+'"'),v.$on("$destroy",function(){removeCSSRule(E)})}b.on("focus",v.events.focus=function(){n=!0,b.removeClass("placeholder-text"),C()}),b.on("mouseup",v.events.mouseup=function(){var e=W.getSelection();e&&e.start.element===b[0]&&b.children().length&&W.setSelectionToElementStart(b.children()[0])}),b.on("mousedown",v.events.mousedown=function(e,t){t&&angular.extend(e,t),e.stopPropagation()})}else{b.on("change blur",v.events.change=v.events.blur=function(){u||w.$setViewValue(k())}),b.on("keydown",v.events.keydown=function(e,t){var n,r,i,o;t&&angular.extend(e,t),9===e.keyCode&&(t=this.selectionStart,n=this.selectionEnd,r=b.val(),e.shiftKey?(i=r.lastIndexOf("\n",t),-1!==(o=r.lastIndexOf("\t",t))&&i<=o&&(b.val(r.substring(0,o)+r.substring(o+1)),this.selectionStart=this.selectionEnd=t-1)):(b.val(r.substring(0,t)+"\t"+r.substring(n)),this.selectionStart=this.selectionEnd=t+1),e.preventDefault())});function O(e,t){for(var n="",r=0;r<t;r++)n+=e;return n}function M(e,t,n){for(var r=0;r<e.length;r++)t.call(n,r,e[r])}function P(e,r){var i="",t=e.childNodes;return i+=O("\t",++r-1)+e.outerHTML.substring(0,4),M(t,function(e,t){var n=t.nodeName.toLowerCase();"#comment"===n?i+="\x3c!--"+t.nodeValue+"--\x3e":"#text"===n?i+=t.textContent:t.outerHTML&&(i+="ul"===n||"ol"===n?"\n"+P(t,r):"\n"+O("\t",r)+t.outerHTML)}),i+="\n"+O("\t",r-1)+e.outerHTML.substring(e.outerHTML.lastIndexOf("<"))}w.$formatters.unshift(function(r){var e=angular.element("<div>"+r+"</div>")[0].childNodes;return 0<e.length&&(r="",M(e,function(e,t){var n=t.nodeName.toLowerCase();"#comment"===n?r+="\x3c!--"+t.nodeValue+"--\x3e":"#text"===n?r+=t.textContent:t.outerHTML&&(0<r.length&&(r+="\n"),r+="ul"===n||"ol"===n?""+P(t,0):""+t.outerHTML)})),r})}function D(e,t){t&&angular.extend(e,t),dropFired||u||(dropFired=!0,t=(e.originalEvent||e).dataTransfer,v.$emit("ta-drop-event",this,e,t),B(function(){f(void 0,void 0,!(dropFired=!1))},100))}var R,I=!1;w.$render=function(){var e;I||(I=!0,e=w.$viewValue||"",i||(r&&n&&(b.removeClass("placeholder-text"),R&&B.cancel(R),R=B(function(){n||(b[0].focus(),W.setSelectionToElementEnd(b.children()[b.children().length-1])),R=void 0},1)),r?(l.placeholder,p(""===e?c:e),u?b.off("drop",D):(C(),b.on("drop",D))):"textarea"!==b[0].tagName.toLowerCase()&&"input"!==b[0].tagName.toLowerCase()?p(Y(e)):b.val(e)),r&&l.placeholder&&(""!==e||n?b.removeClass("placeholder-text"):b.addClass("placeholder-text")),I=i=!1)},l.taReadonly&&((u=v.$eval(l.taReadonly))?(b.addClass("ta-readonly"),"textarea"!==b[0].tagName.toLowerCase()&&"input"!==b[0].tagName.toLowerCase()||b.attr("disabled","disabled"),void 0!==b.attr("contenteditable")&&b.attr("contenteditable")&&b.removeAttr("contenteditable")):(b.removeClass("ta-readonly"),"textarea"===b[0].tagName.toLowerCase()||"input"===b[0].tagName.toLowerCase()?b.removeAttr("disabled"):r&&b.attr("contenteditable","true")),v.$watch(l.taReadonly,function(e,t){t!==e&&(e?(b.addClass("ta-readonly"),"textarea"!==b[0].tagName.toLowerCase()&&"input"!==b[0].tagName.toLowerCase()||b.attr("disabled","disabled"),void 0!==b.attr("contenteditable")&&b.attr("contenteditable")&&b.removeAttr("contenteditable"),angular.forEach(q,function(e){b.find(e).on("click",h)}),b.off("drop",D)):(b.removeClass("ta-readonly"),"textarea"===b[0].tagName.toLowerCase()||"input"===b[0].tagName.toLowerCase()?b.removeAttr("disabled"):r&&b.attr("contenteditable","true"),angular.forEach(q,function(e){b.find(e).off("click",h)}),b.on("drop",D)),u=e)})),r&&!u&&(angular.forEach(q,function(e){b.find(e).on("click",h)}),b.on("drop",D))}}}]);var dropFired=!1,textAngular=angular.module("textAngular",["ngSanitize","textAngularSetup","textAngular.factories","textAngular.DOM","textAngular.validators","textAngular.taBind"]),timerModule=(textAngular.config([function(){angular.forEach(taTools,function(e,t){delete taTools[t]})}]),textAngular.directive("textAngular",["$compile","$timeout","taOptions","taSelection","taExecCommand","textAngularManager","$document","$animate","$log","$q","$parse",function(g,v,b,y,w,_,k,x,C,S,T){return{require:"?ngModel",scope:{},restrict:"EA",priority:2,link:function(l,t,c,n){function r(e,t,n){v(function(){e.one(t,n)},100)}var e,i,o,a,s,u=c.serial||Math.floor(1e16*Math.random()),d=(l._name=c.name||"textAngularEditor"+u,w(c.taDefaultWrap));if(angular.extend(l,angular.copy(b),{wrapSelection:function(e,t,n){"undo"===e.toLowerCase()?l["$undoTaBindtaTextElement"+u]():"redo"===e.toLowerCase()?l["$redoTaBindtaTextElement"+u]():(d(e,!1,t,l.defaultTagAttributes),n&&l["reApplyOnSelectorHandlerstaTextElement"+u](),l.displayElements.text[0].focus())},showHtml:l.$eval(c.taShowHtml)||!1}),c.taFocussedClass&&(l.classes.focussed=c.taFocussedClass),c.taTextEditorClass&&(l.classes.textEditor=c.taTextEditorClass),c.taHtmlEditorClass&&(l.classes.htmlEditor=c.taHtmlEditorClass),c.taDefaultTagAttributes)try{angular.extend(l.defaultTagAttributes,angular.fromJson(c.taDefaultTagAttributes))}catch(e){C.error(e)}c.taTextEditorSetup&&(l.setup.textEditorSetup=l.$parent.$eval(c.taTextEditorSetup)),c.taHtmlEditorSetup&&(l.setup.htmlEditorSetup=l.$parent.$eval(c.taHtmlEditorSetup)),c.taFileDrop?l.fileDropHandler=l.$parent.$eval(c.taFileDrop):l.fileDropHandler=l.defaultFileDropHandler,e=t[0].innerHTML,t[0].innerHTML="",l.displayElements={forminput:angular.element("<input type='hidden' tabindex='-1' style='display: none;'>"),html:angular.element("<textarea></textarea>"),text:angular.element("<div></div>"),scrollWindow:angular.element("<div class='ta-scroll-window'></div>"),popover:angular.element('<div class="popover fade bottom" style="max-width: none; width: 305px;"></div>'),popoverArrow:angular.element('<div class="arrow"></div>'),popoverContainer:angular.element('<div class="popover-content"></div>'),resize:{overlay:angular.element('<div class="ta-resizer-handle-overlay"></div>'),background:angular.element('<div class="ta-resizer-handle-background"></div>'),anchors:[angular.element('<div class="ta-resizer-handle-corner ta-resizer-handle-corner-tl"></div>'),angular.element('<div class="ta-resizer-handle-corner ta-resizer-handle-corner-tr"></div>'),angular.element('<div class="ta-resizer-handle-corner ta-resizer-handle-corner-bl"></div>'),angular.element('<div class="ta-resizer-handle-corner ta-resizer-handle-corner-br"></div>')],info:angular.element('<div class="ta-resizer-handle-info"></div>')}},l.displayElements.popover.append(l.displayElements.popoverArrow),l.displayElements.popover.append(l.displayElements.popoverContainer),l.displayElements.scrollWindow.append(l.displayElements.popover),l.displayElements.popover.on("mousedown",function(e,t){return t&&angular.extend(e,t),e.preventDefault(),!1}),l.handlePopoverEvents=function(){"block"===l.displayElements.popover.css("display")&&(s&&v.cancel(s),s=v(function(){l.reflowPopover(l.resizeElement),l.reflowResizeOverlay(l.resizeElement)},100))},angular.element(window).on("resize",l.handlePopoverEvents),angular.element(window).on("scroll",l.handlePopoverEvents);function h(e,t){t!==k[0].queryCommandState(e)&&k[0].execCommand(e,!1,null)}l.getScrollTop=function(e,t){var n=e.scrollTop;return void 0===n&&(n=0),t&&function(e){var t={vertical:!1,horizontal:!1};try{if(null===(n=window.getComputedStyle(e)))return t}catch(e){return t}var t=n["overflow-y"],n=n["overflow-x"];return{vertical:("scroll"===t||"auto"===t)&&e.scrollHeight>e.clientHeight,horizontal:("scroll"===n||"auto"===n)&&e.scrollWidth>e.clientWidth}}(e).vertical&&(e.removeEventListener("scroll",l._scrollListener,!1),e.addEventListener("scroll",l._scrollListener,!1)),0!==n?{node:e.nodeName,top:n}:e.parentNode?l.getScrollTop(e.parentNode,t):{node:"<none>",top:0}},l.showPopover=function(e){l.getScrollTop(l.displayElements.scrollWindow[0],!0),l.displayElements.popover.css("display","block"),v(function(){l.displayElements.resize.overlay.css("display","block")}),l.resizeElement=e,l.reflowPopover(e),x.addClass(l.displayElements.popover,"in"),r(k.find("body"),"click keyup",function(){l.hidePopover()})},l._scrollListener=function(e,t){l.handlePopoverEvents()},l.reflowPopover=function(e){var t=l.getScrollTop(l.displayElements.scrollWindow[0],!1),t=(e[0].offsetTop-t.top<51?(l.displayElements.popover.css("top",e[0].offsetTop+e[0].offsetHeight+l.displayElements.scrollWindow[0].scrollTop+"px"),l.displayElements.popover.removeClass("top").addClass("bottom")):(l.displayElements.popover.css("top",e[0].offsetTop-54+l.displayElements.scrollWindow[0].scrollTop+"px"),l.displayElements.popover.removeClass("bottom").addClass("top")),l.displayElements.text[0].offsetWidth-l.displayElements.popover[0].offsetWidth),e=e[0].offsetLeft+e[0].offsetWidth/2-l.displayElements.popover[0].offsetWidth/2,n=Math.max(0,Math.min(t,e)),e=Math.min(e,Math.max(0,e-t))-11;n+=window.scrollX,e-=window.scrollX,l.displayElements.popover.css("left",n+"px"),l.displayElements.popoverArrow.css("margin-left",e+"px")},l.hidePopover=function(){l.displayElements.popover.css("display","none"),l.displayElements.popoverContainer.attr("style",""),l.displayElements.popoverContainer.attr("class","popover-content"),l.displayElements.popover.removeClass("in"),l.displayElements.resize.overlay.css("display","none")},l.displayElements.resize.overlay.append(l.displayElements.resize.background),angular.forEach(l.displayElements.resize.anchors,function(e){l.displayElements.resize.overlay.append(e)}),l.displayElements.resize.overlay.append(l.displayElements.resize.info),l.displayElements.scrollWindow.append(l.displayElements.resize.overlay),l.displayElements.resize.background.on("click",function(e){l.displayElements.text[0].focus()}),l.reflowResizeOverlay=function(e){e=angular.element(e)[0],l.displayElements.resize.overlay.css({display:"block",left:e.offsetLeft-5+"px",top:e.offsetTop-5+"px",width:e.offsetWidth+10+"px",height:e.offsetHeight+10+"px"}),l.displayElements.resize.info.text(e.offsetWidth+" x "+e.offsetHeight)},l.showResizeOverlay=function(s){var n=k.find("body");o=function(e){function t(e){var t={x:Math.max(0,o.width+(e.clientX-o.x)),y:Math.max(0,o.height+(e.clientY-o.y))},n=void 0!==c.taResizeForceAspectRatio,r=c.taResizeMaintainAspectRatio;function i(e){return Math.round(Math.max(0,e))}(n||r&&!e.shiftKey)&&(n=t.y/t.x,t.x=n<a?t.x:t.y/a,t.y=n<a?t.x*a:t.y),(r=angular.element(s)).css("height",i(t.y)+"px"),r.css("width",i(t.x)+"px"),l.reflowResizeOverlay(s)}var o={width:parseInt(s.attr("width")),height:parseInt(s.attr("height")),x:e.clientX,y:e.clientY},a=(void 0!==o.width&&!isNaN(o.width)||(o.width=s[0].offsetWidth),void 0!==o.height&&!isNaN(o.height)||(o.height=s[0].offsetHeight),l.hidePopover(),o.height/o.width);n.on("mousemove",t),r(n,"mouseup",function(e){e.preventDefault(),e.stopPropagation(),n.off("mousemove",t),l.$apply(function(){l.hidePopover(),l.updateTaBindtaTextElement()},100)}),e.stopPropagation(),e.preventDefault()},l.displayElements.resize.anchors[3].off("mousedown"),l.displayElements.resize.anchors[3].on("mousedown",o),l.reflowResizeOverlay(s),r(n,"click",function(){l.hideResizeOverlay()})},l.hideResizeOverlay=function(){l.displayElements.resize.anchors[3].off("mousedown",o),l.displayElements.resize.overlay.css("display","none")},l.setup.htmlEditorSetup(l.displayElements.html),l.setup.textEditorSetup(l.displayElements.text),l.displayElements.html.attr({id:"taHtmlElement"+u,"ng-show":"showHtml","ta-bind":"ta-bind","ng-model":"html","ng-model-options":t.attr("ng-model-options")}),l.displayElements.text.attr({id:"taTextElement"+u,contentEditable:"true","ta-bind":"ta-bind","ng-model":"html","ng-model-options":t.attr("ng-model-options")}),l.displayElements.scrollWindow.attr({"ng-hide":"showHtml"}),c.taDefaultWrap&&l.displayElements.text.attr("ta-default-wrap",c.taDefaultWrap),c.taUnsafeSanitizer&&(l.displayElements.text.attr("ta-unsafe-sanitizer",c.taUnsafeSanitizer),l.displayElements.html.attr("ta-unsafe-sanitizer",c.taUnsafeSanitizer)),c.taKeepStyles&&(l.displayElements.text.attr("ta-keep-styles",c.taKeepStyles),l.displayElements.html.attr("ta-keep-styles",c.taKeepStyles)),l.displayElements.scrollWindow.append(l.displayElements.text),t.append(l.displayElements.scrollWindow),t.append(l.displayElements.html),l.displayElements.forminput.attr("name",l._name),t.append(l.displayElements.forminput),c.tabindex&&(t.removeAttr("tabindex"),l.displayElements.text.attr("tabindex",c.tabindex),l.displayElements.html.attr("tabindex",c.tabindex)),c.placeholder&&(l.displayElements.text.attr("placeholder",c.placeholder),l.displayElements.html.attr("placeholder",c.placeholder)),c.taDisabled&&(l.displayElements.text.attr("ta-readonly","disabled"),l.displayElements.html.attr("ta-readonly","disabled"),l.disabled=l.$parent.$eval(c.taDisabled),l.$parent.$watch(c.taDisabled,function(e){l.disabled=e,l.disabled?t.addClass(l.classes.disabled):t.removeClass(l.classes.disabled)})),c.taPaste&&(l._pasteHandler=function(e){return T(c.taPaste)(l.$parent,{$html:e})},l.displayElements.text.attr("ta-paste","_pasteHandler($html)")),g(l.displayElements.scrollWindow)(l),g(l.displayElements.html)(l),l.updateTaBindtaTextElement=l["updateTaBindtaTextElement"+u],l.updateTaBindtaHtmlElement=l["updateTaBindtaHtmlElement"+u],t.addClass("ta-root"),l.displayElements.scrollWindow.addClass("ta-text ta-editor "+l.classes.textEditor),l.displayElements.html.addClass("ta-html ta-editor "+l.classes.htmlEditor);var f,p,m=l._actionRunning=!1;l.startAction=function(){var e,t,n,r;return l._actionRunning=!0,e=k[0].queryCommandState("bold"),t=k[0].queryCommandState("italic"),n=k[0].queryCommandState("underline"),r=k[0].queryCommandState("strikeThrough"),m=rangy.saveSelection(),h("bold",e),h("italic",t),h("underline",n),h("strikeThrough",r),function(){m&&rangy.restoreSelection(m)}},l.endAction=function(){l._actionRunning=!1,m&&((l.showHtml?l.displayElements.html:l.displayElements.text)[0].focus(),rangy.removeMarkers(m)),m=!1,l.updateSelectedStyles(),l.showHtml||l["updateTaBindtaTextElement"+u]()},l.displayElements.html.on("focus",p=function(e){l.focussed=!0,t.addClass(l.classes.focussed),i.focus(),t.triggerHandler("focus"),l.updateSelectedStyles&&!l._bUpdateSelectedStyles&&v(function(){l.updateSelectedStyles()},0)}),l.displayElements.text.on("focus",p),l.displayElements.html.on("blur",p=function(e){return l._actionRunning||k[0].activeElement===l.displayElements.html[0]||k[0].activeElement===l.displayElements.text[0]||(t.removeClass(l.classes.focussed),i.unfocus(),v(function(){l._bUpdateSelectedStyles=!1,t.triggerHandler("blur"),l.focussed=!1},0)),e.preventDefault(),!1}),l.displayElements.text.on("blur",p),l.displayElements.text.on("paste",function(e){t.triggerHandler("paste",e)}),l.queryFormatBlockState=function(e){return!l.showHtml&&e.toLowerCase()===k[0].queryCommandValue("formatBlock").toLowerCase()},l.queryCommandState=function(e){return l.showHtml?"":k[0].queryCommandState(e)},l.switchView=function(){l.showHtml=!l.showHtml,x.enabled(!1,l.displayElements.html),x.enabled(!1,l.displayElements.text),l.showHtml?v(function(){return x.enabled(!0,l.displayElements.html),x.enabled(!0,l.displayElements.text),l.displayElements.html[0].focus()},100):v(function(){return x.enabled(!0,l.displayElements.html),x.enabled(!0,l.displayElements.text),l.displayElements.text[0].focus()},100)},c.ngModel?(f=!0,n.$render=function(){f&&(f=!1,null==l.$parent.$eval(c.ngModel)&&e&&""!==e&&n.$setViewValue(e)),l.displayElements.forminput.val(n.$viewValue),l.html=n.$viewValue||""},t.attr("required")&&(n.$validators.required=function(e,t){e=e||t;return!(!e||""===e.trim())})):(l.displayElements.forminput.val(e),l.html=e),l.$watch("html",function(e,t){e!==t&&(c.ngModel&&n.$viewValue!==e&&n.$setViewValue(e),l.displayElements.forminput.val(e))}),i=c.taTargetToolbars?_.registerEditor(l._name,l,c.taTargetToolbars.split(",")):(p=angular.element('<div text-angular-toolbar name="textAngularToolbar'+u+'">'),c.taToolbar&&p.attr("ta-toolbar",c.taToolbar),c.taToolbarClass&&p.attr("ta-toolbar-class",c.taToolbarClass),c.taToolbarGroupClass&&p.attr("ta-toolbar-group-class",c.taToolbarGroupClass),c.taToolbarButtonClass&&p.attr("ta-toolbar-button-class",c.taToolbarButtonClass),c.taToolbarActiveButtonClass&&p.attr("ta-toolbar-active-button-class",c.taToolbarActiveButtonClass),c.taFocussedClass&&p.attr("ta-focussed-class",c.taFocussedClass),t.prepend(p),g(p)(l.$parent),_.registerEditor(l._name,l,["textAngularToolbar"+u])),l.$on("$destroy",function(){_.unregisterEditor(l._name),angular.element(window).off("blur"),angular.element(window).off("resize",l.handlePopoverEvents),angular.element(window).off("scroll",l.handlePopoverEvents)}),l.$on("ta-element-select",function(e,t){i.triggerElementSelect(e,t)&&l["reApplyOnSelectorHandlerstaTextElement"+u]()}),l.$on("ta-drop-event",function(e,t,n,r){r&&r.files&&0<r.files.length?(l.displayElements.text[0].focus(),y.setSelectionToElementEnd(n.target),angular.forEach(r.files,function(e){try{S.when(l.fileDropHandler(e,l.wrapSelection)||l.fileDropHandler!==l.defaultFileDropHandler&&S.when(l.defaultFileDropHandler(e,l.wrapSelection))).then(function(){l["updateTaBindtaTextElement"+u]()})}catch(e){C.error(e)}}),n.preventDefault(),n.stopPropagation()):v(function(){l["updateTaBindtaTextElement"+u]()},0)}),l._bUpdateSelectedStyles=!1,angular.element(window).on("blur",function(){l._bUpdateSelectedStyles=!1,l.focussed=!1}),l.updateSelectedStyles=function(){var e;a&&v.cancel(a),void 0!==(e=y.getSelectionElement())&&e.parentNode!==l.displayElements.text[0]?i.updateSelectedStyles(angular.element(e)):i.updateSelectedStyles(),l._bUpdateSelectedStyles&&(a=v(l.updateSelectedStyles,200))},l.displayElements.html.on("keydown",p=function(){l.focussed?l._bUpdateSelectedStyles||(l._bUpdateSelectedStyles=!0,l.$apply(function(){l.updateSelectedStyles()})):l._bUpdateSelectedStyles=!1}),l.displayElements.text.on("keydown",p),l.displayElements.html.on("keyup",p=function(){l._bUpdateSelectedStyles=!1}),l.displayElements.text.on("keyup",p),l.displayElements.html.on("keypress",p=function(e,t){var n;y.getSelection&&(n=y.getSelection(),y.getSelectionElement()&&"a"===y.getSelectionElement().nodeName.toLowerCase()&&(3===n.start.element.nodeType&&n.start.element.textContent.length===n.end.offset&&y.setSelectionAfterElement(y.getSelectionElement()),3===n.start.element.nodeType&&0===n.start.offset&&y.setSelectionBeforeElement(y.getSelectionElement()))),t&&angular.extend(e,t),l.$apply(function(){if(i.sendKeyCommand(e))return l._bUpdateSelectedStyles||l.updateSelectedStyles(),e.preventDefault(),!1})}),l.displayElements.text.on("keypress",p),l.displayElements.html.on("mouseup",p=function(){l._bUpdateSelectedStyles=!1,v(function(){l.updateSelectedStyles()},0)}),l.displayElements.text.on("mouseup",p)}}}]),textAngular.service("textAngularManager",["taToolExecuteAction","taTools","taRegisterTool","$interval","$rootScope","$log",function(o,f,a,e,t,n){function s(){Math.abs(Date.now()-i)>u&&(i=Date.now(),r=e(function(){c(),r=void 0},u,1))}var r,l={},p={},i=0,c=function(t){angular.forEach(p,function(e){e.editorFunctions.updateSelectedStyles(t)})},u=50;t.$on("destroy",function(){r&&(e.cancel(r),r=void 0)});return{registerEditor:function(d,h,e){if(!d||""===d)throw"textAngular Error: An editor requires a name";if(!h)throw"textAngular Error: An editor requires a scope";if(p[d])throw'textAngular Error: An Editor with name "'+d+'" already exists';return p[d]={scope:h,toolbars:e,toolbarScopes:[],_registerToolbarScope:function(e){0<=this.toolbars.indexOf(e.name)&&this.toolbarScopes.push(e)},editorFunctions:{disable:function(){angular.forEach(p[d].toolbarScopes,function(e){e.disabled=!0})},enable:function(){angular.forEach(p[d].toolbarScopes,function(e){e.disabled=!1})},focus:function(){angular.forEach(p[d].toolbarScopes,function(e){e._parent=h,e.disabled=!1,e.focussed=!0}),h.focussed=!0},unfocus:function(){angular.forEach(p[d].toolbarScopes,function(e){e.disabled=!0,e.focussed=!1}),h.focussed=!1},updateSelectedStyles:function(n){angular.forEach(p[d].toolbarScopes,function(t){angular.forEach(t.tools,function(e){e.activeState&&(t._parent=h,e.active=e.activeState(n))})})},sendKeyCommand:function(r){var i=!1;return(r.ctrlKey||r.metaKey||r.specialKey)&&angular.forEach(f,function(e,t){if(e.commandKeyCode&&(e.commandKeyCode===r.which||e.commandKeyCode===r.specialKey))for(var n=0;n<p[d].toolbarScopes.length;n++)if(void 0!==p[d].toolbarScopes[n].tools[t]){o.call(p[d].toolbarScopes[n].tools[t],h),i=!0;break}}),i},triggerElementSelect:function(e,n){function r(e,t){for(var n=!0,r=0;r<t.length;r++)n=n&&e.attr(t[r]);return n}var i=[],o={},t=!1,a=(n=angular.element(n),!1);if(angular.forEach(f,function(e,t){e.onElementSelect&&e.onElementSelect.element&&e.onElementSelect.element.toLowerCase()===n[0].tagName.toLowerCase()&&(!e.onElementSelect.filter||e.onElementSelect.filter(n))&&(a=a||angular.isArray(e.onElementSelect.onlyWithAttrs)&&r(n,e.onElementSelect.onlyWithAttrs),e.onElementSelect.onlyWithAttrs&&!r(n,e.onElementSelect.onlyWithAttrs)||(o[t]=e))}),a?(angular.forEach(o,function(e,t){e.onElementSelect.onlyWithAttrs&&r(n,e.onElementSelect.onlyWithAttrs)&&i.push({name:t,tool:e})}),i.sort(function(e,t){return t.tool.onElementSelect.onlyWithAttrs.length-e.tool.onElementSelect.onlyWithAttrs.length})):angular.forEach(o,function(e,t){i.push({name:t,tool:e})}),0<i.length)for(var s=0;s<i.length;s++){for(var l=i[s].tool,c=i[s].name,u=0;u<p[d].toolbarScopes.length;u++)if(void 0!==p[d].toolbarScopes[u].tools[c]){l.onElementSelect.action.call(p[d].toolbarScopes[u].tools[c],e,n,h),t=!0;break}if(t)break}return t}}},angular.forEach(e,function(e){l[e]&&p[d].toolbarScopes.push(l[e])}),s(),p[d].editorFunctions},retrieveEditor:function(e){return p[e]},unregisterEditor:function(e){delete p[e],s()},registerToolbar:function(t){if(!t)throw"textAngular Error: A toolbar requires a scope";if(!t.name||""===t.name)throw"textAngular Error: A toolbar requires a name";if(l[t.name])throw'textAngular Error: A toolbar with name "'+t.name+'" already exists';l[t.name]=t,angular.forEach(p,function(e){e._registerToolbarScope(t)}),s()},retrieveToolbar:function(e){return l[e]},retrieveToolbarsViaEditor:function(e){var t=[],n=this;return angular.forEach(this.retrieveEditor(e).toolbars,function(e){t.push(n.retrieveToolbar(e))}),t},unregisterToolbar:function(e){delete l[e],s()},updateToolsDisplay:function(e){var n=this;angular.forEach(e,function(e,t){n.updateToolDisplay(t,e)})},resetToolsDisplay:function(){var n=this;angular.forEach(f,function(e,t){n.resetToolDisplay(t)}),s()},updateToolDisplay:function(n,r){var i=this;angular.forEach(l,function(e,t){i.updateToolbarToolDisplay(t,n,r)}),s()},resetToolDisplay:function(n){var r=this;angular.forEach(l,function(e,t){r.resetToolbarToolDisplay(t,n)}),s()},updateToolbarToolDisplay:function(e,t,n){if(!l[e])throw'textAngular Error: No Toolbar with name "'+e+'" exists';l[e].updateToolDisplay(t,n)},resetToolbarToolDisplay:function(e,t){if(!l[e])throw'textAngular Error: No Toolbar with name "'+e+'" exists';l[e].updateToolDisplay(t,f[t],!0)},removeTool:function(i){delete f[i],angular.forEach(l,function(e){delete e.tools[i];for(var t=0;t<e.toolbar.length;t++){for(var n,r=0;r<e.toolbar[t].length;r++){if(e.toolbar[t][r]===i){n={group:t,index:r};break}if(void 0!==n)break}void 0!==n&&(e.toolbar[n.group].slice(n.index,1),e._$element.children().eq(n.group).children().eq(n.index).remove())}}),s()},addTool:function(t,n,r,i){a(t,n),angular.forEach(l,function(e){e.addTool(t,n,r,i)}),s()},addToolToToolbar:function(e,t,n,r,i){a(e,t),l[n].addTool(e,t,r,i),s()},refreshEditor:function(e){if(!p[e])throw'textAngular Error: No Editor with name "'+e+'" exists';p[e].scope.updateTaBindtaTextElement(),p[e].scope.$$phase||p[e].scope.$digest(),s()},sendKeyCommand:function(e,t){var n=p[e._name];if(n&&n.editorFunctions.sendKeyCommand(t))return e._bUpdateSelectedStyles||e.updateSelectedStyles(),t.preventDefault(),!1},updateStyles:c,getVersion:function(){return textAngularVersion},getToolbarScopes:function(){var t=[];return angular.forEach(p,function(e){t=t.concat(e.toolbarScopes)}),t}}}]),textAngular.directive("textAngularToolbar",["$compile","textAngularManager","taOptions","taTools","taToolExecuteAction","$window",function(c,t,n,u,r,i){return{scope:{name:"@"},restrict:"EA",link:function(o,a,e){if(!o.name||""===o.name)throw"textAngular Error: A toolbar requires a name";angular.extend(o,angular.copy(n)),e.taToolbar&&(o.toolbar=o.$parent.$eval(e.taToolbar)),e.taToolbarClass&&(o.classes.toolbar=e.taToolbarClass),e.taToolbarGroupClass&&(o.classes.toolbarGroup=e.taToolbarGroupClass),e.taToolbarButtonClass&&(o.classes.toolbarButton=e.taToolbarButtonClass),e.taToolbarActiveButtonClass&&(o.classes.toolbarButtonActive=e.taToolbarActiveButtonClass),e.taFocussedClass&&(o.classes.focussed=e.taFocussedClass),o.disabled=!0,o.focussed=!1,(o._$element=a)[0].innerHTML="",a.addClass("ta-toolbar "+o.classes.toolbar),o.$watch("focussed",function(){o.focussed?a.addClass(o.classes.focussed):a.removeClass(o.classes.focussed)});function s(e,t){var n,r,i=e&&e.display?angular.element(e.display):angular.element("<button type='button'>");return e&&e.class?i.addClass(e.class):i.addClass(o.classes.toolbarButton),i.attr("name",t.name),i.attr("ta-button","ta-button"),i.attr("ng-disabled","isDisabled()"),i.attr("tabindex","-1"),i.attr("ng-click","executeAction()"),i.attr("ng-class","displayActiveToolClass(active)"),e&&e.tooltiptext&&i.attr("title",e.tooltiptext),!e||e.display||t._display||(i[0].innerHTML="",e.buttontext&&(i[0].innerHTML=e.buttontext),e.iconclass&&(n=angular.element("<i>"),r=i[0].innerHTML,n.addClass(e.iconclass),i[0].innerHTML="",i.append(n),r&&""!==r&&i.append("&nbsp;"+r))),t._lastToolDefinition=angular.copy(e),c(i)(t)}o.tools={},o._parent={disabled:!0,showHtml:!1,queryFormatBlockState:function(){return!1},queryCommandState:function(){return!1}};var l={$window:i,$editor:function(){return o._parent},isDisabled:function(){return("html"!==this.name||!o._parent.startAction)&&("function"!=typeof this.$eval("disabled")&&this.$eval("disabled")||this.$eval("disabled()")||"html"!==this.name&&this.$editor().showHtml||this.$parent.disabled||this.$editor().disabled)},displayActiveToolClass:function(e){return e?o.classes.toolbarButtonActive:""},executeAction:r};angular.forEach(o.toolbar,function(e){var t=angular.element("<div>");t.addClass(o.classes.toolbarGroup),angular.forEach(e,function(e){o.tools[e]=angular.extend(o.$new(!0),u[e],l,{name:e}),o.tools[e].$element=s(u[e],o.tools[e]),t.append(o.tools[e].$element)}),a.append(t)}),o.updateToolDisplay=function(e,t,n){var r=o.tools[e];if(r){if(null===(t=r._lastToolDefinition&&!n?angular.extend({},r._lastToolDefinition,t):t).buttontext&&null===t.iconclass&&null===t.display)throw'textAngular Error: Tool Definition for updating "'+e+'" does not have a valid display/iconclass/buttontext value';null===t.buttontext&&delete t.buttontext,null===t.iconclass&&delete t.iconclass,null===t.display&&delete t.display;n=s(t,r);r.$element.replaceWith(n),r.$element=n}},o.addTool=function(e,t,n,r){var i;o.tools[e]=angular.extend(o.$new(!0),u[e],l,{name:e}),o.tools[e].$element=s(u[e],o.tools[e]),void 0===n&&(n=o.toolbar.length-1),i=angular.element(a.children()[n]),void 0===r?(i.append(o.tools[e].$element),o.toolbar[n][o.toolbar[n].length-1]=e):(i.children().eq(r).after(o.tools[e].$element),o.toolbar[n][r]=e)},t.registerToolbar(o),o.$on("$destroy",function(){t.unregisterToolbar(o.name)})}}}]),textAngular.directive("textAngularVersion",["textAngularManager",function(e){var r=e.getVersion();return{restrict:"EA",link:function(e,t,n){t.html(r)}}}]),!function(e,t){"function"==typeof define&&define.amd?define(e):"undefined"!=typeof module&&"object"==typeof exports?module.exports=e():t.rangy=e()}(function(){var r="object",i="function",n="undefined",l=["startContainer","startOffset","endContainer","endOffset","collapsed","commonAncestorContainer"],c=["setStart","setStartBefore","setStartAfter","setEnd","setEndBefore","setEndAfter","collapse","selectNode","selectNodeContents","compareBoundaryPoints","deleteContents","extractContents","cloneContents","insertNode","surroundContents","cloneRange","toString","detach"],N=["boundingHeight","boundingLeft","boundingTop","boundingWidth","htmlText","text"],j=["collapse","compareEndPoints","duplicate","moveToElementText","parentElement","select","setEndPoint","getBoundingClientRect"];function u(e,t){var n=typeof e[t];return n==i||!(n!=r||!e[t])||"unknown"==n}function t(e,t){return!(typeof e[t]!=r||!e[t])}function e(e,t){return typeof e[t]!=n}function o(r){return function(e,t){for(var n=t.length;n--;)if(!r(e,t[n]))return!1;return!0}}var d=o(u),a=o(t),h=o(e);function f(e){return e&&d(e,j)&&h(e,N)}function p(e){return t(e,"body")?e.body:e.getElementsByTagName("body")[0]}var s,m,g,v={},b=typeof window!=n&&typeof document!=n,y={isHostMethod:u,isHostObject:t,isHostProperty:e,areHostMethods:d,areHostObjects:a,areHostProperties:h,isTextRange:f,getBody:p,forEach:[].forEach?function(e,t){e.forEach(t)}:function(e,t){for(var n=0,r=e.length;n<r;++n)t(e[n],n)}},w={version:"1.3.1",initialized:!1,isBrowser:b,supported:!0,util:y,features:{},modules:v,config:{alertOnFail:!1,alertOnWarn:!1,preferTextRange:!1,autoInitialize:typeof rangyAutoInitialize==n||rangyAutoInitialize}};function _(e){typeof console!=n&&u(console,"log")&&console.log(e)}function k(e,t){(b&&t?alert:_)(e)}function x(e){w.initialized=!0,w.supported=!1,k("Rangy is not supported in this environment. Reason: "+e,w.config.alertOnFail)}if(w.fail=x,w.warn=function(e){k("Rangy warning: "+e,w.config.alertOnWarn)},!{}.hasOwnProperty?x("hasOwnProperty not supported"):(y.extend=s=function(e,t,n){var r,i,o;for(o in t)t.hasOwnProperty(o)&&(r=e[o],i=t[o],n&&null!==r&&"object"==typeof r&&null!==i&&"object"==typeof i&&s(r,i,!0),e[o]=i);return t.hasOwnProperty("toString")&&(e.toString=t.toString),e},y.createOptions=function(e,t){var n={};return s(n,t),e&&s(n,e),n}),b||x("Rangy can only run in a browser"),b){var a=document.createElement("div"),C=(a.appendChild(document.createElement("span")),[].slice);try{1==C.call(a.childNodes,0)[0].nodeType&&(m=function(e){return C.call(e,0)})}catch(e){}}y.toArray=m=m||function(e){for(var t=[],n=0,r=e.length;n<r;++n)t[n]=e[n];return t},b&&(u(document,"addEventListener")?g=function(e,t,n){e.addEventListener(t,n,!1)}:u(document,"attachEvent")?g=function(e,t,n){e.attachEvent("on"+t,n)}:x("Document does not have required addEventListener or attachEvent method"),y.addListener=g);var S=[];function T(e){return e.message||e.description||String(e)}function $(){if(b&&!w.initialized){var e,t,n,r=!1,i=!1,o=(u(document,"createRange")&&(e=document.createRange(),d(e,c)&&h(e,l)&&(r=!0)),p(document));if(o&&"body"==o.nodeName.toLowerCase())if(o&&u(o,"createTextRange")&&f(e=o.createTextRange())&&(i=!0),r||i){for(n in w.initialized=!0,w.features={implementsDomRange:r,implementsTextRange:i},v)(t=v[n])instanceof M&&t.init(t,w);for(var a=0,s=S.length;a<s;++a)try{S[a](w)}catch(e){_("Rangy init listener threw an exception. Continuing. Detail: "+T(e))}}else x("Neither Range nor TextRange are available");else x("No body element found")}}function E(e,t,n){n&&(e+=" in module "+n.name),w.warn("DEPRECATED: "+e+" is deprecated. Please use "+t+" instead.")}function A(e,t,n,r){e[t]=function(){return E(t,n,r),e[n].apply(e,y.toArray(arguments))}}y.deprecationNotice=E,y.createAliasForDeprecatedMethod=A,w.init=$,w.addInitListener=function(e){w.initialized?e(w):S.push(e)};var O=[];function M(e,t,n){this.name=e,this.dependencies=t,this.initialized=!1,this.supported=!1,this.initializer=n}function P(t,e,n){e=new M(t,e,function(e){if(!e.initialized){e.initialized=!0;try{n(w,e),e.supported=!0}catch(e){_("Module '"+t+"' failed to load: "+T(e)),e.stack&&_(e.stack)}}});return v[t]=e}function D(){}w.addShimListener=function(e){O.push(e)},b&&(w.shim=w.createMissingNativeApi=function(e){e=e||window,$();for(var t=0,n=O.length;t<n;++t)O[t](e)},A(w,"createMissingNativeApi","shim")),M.prototype={init:function(){for(var e,t,n=this.dependencies||[],r=0,i=n.length;r<i;++r){if(t=n[r],!((e=v[t])&&e instanceof M))throw new Error("required module '"+t+"' not found");if(e.init(),!e.supported)throw new Error("required module '"+t+"' not supported")}this.initializer(this)},fail:function(e){throw this.initialized=!0,this.supported=!1,new Error(e)},warn:function(e){w.warn("Module "+this.name+": "+e)},deprecationNotice:function(e,t){w.warn("DEPRECATED: "+e+" in module "+this.name+" is deprecated. Please use "+t+" instead")},createError:function(e){return new Error("Error in Rangy "+this.name+" module: "+e)}},w.createModule=function(e){var t,n=2==arguments.length?(t=arguments[1],[]):(t=arguments[2],arguments[1]),n=P(e,n,t);w.initialized&&w.supported&&n.init()},w.createCoreModule=function(e,t,n){P(e,t,n)},w.RangePrototype=D,w.rangePrototype=new D,w.selectionPrototype=new function(){},w.createCoreModule("DomUtil",[],function(e,l){function i(e,t){for(var n=e.length;n--;)if(e[n]===t)return!0;return!1}var t="undefined",o=e.util,a=o.getBody,n=(o.areHostMethods(document,["createDocumentFragment","createElement","createTextNode"])||l.fail("document missing a Node creation method"),o.isHostMethod(document,"getElementsByTagName")||l.fail("document missing getElementsByTagName method"),document.createElement("div")),n=(o.areHostMethods(n,["insertBefore","appendChild","cloneNode"])||l.fail("Incomplete Element implementation"),o.isHostProperty(n,"innerHTML")||l.fail("Element is missing innerHTML property"),document.createTextNode("test"));o.areHostMethods(n,["splitText","deleteData","insertData","appendData","cloneNode"])||l.fail("Incomplete Text Node implementation");function c(e){for(var t=0;e=e.previousSibling;)++t;return t}function u(e,t){for(var n=[],r=e;r;r=r.parentNode)n.push(r);for(r=t;r;r=r.parentNode)if(i(n,r))return r;return null}function r(e,t,n){for(var r=n?t:t.parentNode;r;){if(r===e)return!0;r=r.parentNode}return!1}function d(e,t,n){for(var r,i=n?e:e.parentNode;i;){if((r=i.parentNode)===t)return i;i=r}return null}function s(e){e=e.nodeType;return 3==e||4==e||8==e}function h(e,t){var n=t.nextSibling,t=t.parentNode;return n?t.insertBefore(e,n):t.appendChild(e),e}function f(e){if(9==e.nodeType)return e;if(typeof e.ownerDocument!=t)return e.ownerDocument;if(typeof e.document!=t)return e.document;if(e.parentNode)return f(e.parentNode);throw l.createError("getDocument: no document found for node")}function p(e){e=f(e);if(typeof e.defaultView!=t)return e.defaultView;if(typeof e.parentWindow!=t)return e.parentWindow;throw l.createError("Cannot get a window object for node")}function m(e){if(typeof e.contentDocument!=t)return e.contentDocument;if(typeof e.contentWindow!=t)return e.contentWindow.document;throw l.createError("getIframeDocument: No Document object found for iframe element")}function g(e){return e&&o.isHostMethod(e,"setTimeout")&&o.isHostObject(e,"document")}var v,b,y;function w(e){try{return e.parentNode,!1}catch(e){return!0}}function _(e){var t;return e?v&&w(e)?"[Broken node]":s(e)?'"'+e.data+'"':1==e.nodeType?(t=e.id?' id="'+e.id+'"':"","<"+e.nodeName+t+">[index:"+c(e)+",length:"+e.childNodes.length+"]["+(e.innerHTML||"[innerHTML not supported]").slice(0,25)+"]"):e.nodeName:"[No node]"}function k(e){this.root=e,this._next=e}function x(e,t){this.node=e,this.offset=t}function C(e){this.code=this[e],this.codeName=e,this.message="DOMException: "+this.codeName}(n=document.createElement("b")).innerHTML="1",b=n.firstChild,n.innerHTML="<br />",v=w(b),e.features.crashyTextNodes=v,typeof window.getComputedStyle!=t?y=function(e,t){return p(e).getComputedStyle(e,null)[t]}:typeof document.documentElement.currentStyle!=t?y=function(e,t){return e.currentStyle?e.currentStyle[t]:""}:l.fail("No means of obtaining computed style properties found"),k.prototype={_current:null,hasNext:function(){return!!this._next},next:function(){var e,t,n=this._current=this._next;if(this._current)if(e=n.firstChild)this._next=e;else{for(t=null;n!==this.root&&!(t=n.nextSibling);)n=n.parentNode;this._next=t}return this._current},detach:function(){this._current=this._next=this.root=null}},x.prototype={equals:function(e){return!!e&&this.node===e.node&&this.offset==e.offset},inspect:function(){return"[DomPosition("+_(this.node)+":"+this.offset+")]"},toString:function(){return this.inspect()}},(C.prototype={INDEX_SIZE_ERR:1,HIERARCHY_REQUEST_ERR:3,WRONG_DOCUMENT_ERR:4,NO_MODIFICATION_ALLOWED_ERR:7,NOT_FOUND_ERR:8,NOT_SUPPORTED_ERR:9,INVALID_STATE_ERR:11,INVALID_NODE_TYPE_ERR:24}).toString=function(){return this.message},e.dom={arrayContains:i,isHtmlNamespace:function(e){return typeof e.namespaceURI==t||null===(e=e.namespaceURI)||"http://www.w3.org/1999/xhtml"==e},parentElement:function(e){return 1==(e=e.parentNode).nodeType?e:null},getNodeIndex:c,getNodeLength:function(e){switch(e.nodeType){case 7:case 10:return 0;case 3:case 8:return e.length;default:return e.childNodes.length}},getCommonAncestor:u,isAncestorOf:r,isOrIsAncestorOf:function(e,t){return r(e,t,!0)},getClosestAncestorIn:d,isCharacterDataNode:s,isTextOrCommentNode:function(e){return!!e&&(3==(e=e.nodeType)||8==e)},insertAfter:h,splitDataNode:function(e,t,n){var r=e.cloneNode(!1);if(r.deleteData(0,t),e.deleteData(t,e.length-t),h(r,e),n)for(var i,o=0;i=n[o++];)i.node==e&&i.offset>t?(i.node=r,i.offset-=t):i.node==e.parentNode&&i.offset>c(e)&&++i.offset;return r},getDocument:f,getWindow:p,getIframeWindow:function(e){if(typeof e.contentWindow!=t)return e.contentWindow;if(typeof e.contentDocument!=t)return e.contentDocument.defaultView;throw l.createError("getIframeWindow: No Window object found for iframe element")},getIframeDocument:m,getBody:a,isWindow:g,getContentDocument:function(e,t,n){var r;if(e?o.isHostProperty(e,"nodeType")?r=(1==e.nodeType&&"iframe"==e.tagName.toLowerCase()?m:f)(e):g(e)&&(r=e.document):r=document,r)return r;throw t.createError(n+"(): Parameter must be a Window object or DOM node")},getRootContainer:function(e){for(var t;t=e.parentNode;)e=t;return e},comparePoints:function(e,t,n,r){var i,o,a,s;if(e==n)return t===r?0:t<r?-1:1;if(i=d(n,e,!0))return t<=c(i)?-1:1;if(i=d(e,n,!0))return c(i)<r?-1:1;if(!(t=u(e,n)))throw new Error("comparePoints error: nodes have no common ancestor");if((o=e===t?t:d(e,t,!0))===(a=n===t?t:d(n,t,!0)))throw l.createError("comparePoints got to case 4 and childA and childB are the same!");for(s=t.firstChild;s;){if(s===o)return-1;if(s===a)return 1;s=s.nextSibling}},isBrokenNode:w,inspectNode:_,getComputedStyleProperty:y,createTestElement:function(e,t,n){var r=a(e);return(e=e.createElement("div")).contentEditable=""+!!n,t&&(e.innerHTML=t),(n=r.firstChild)?r.insertBefore(e,n):r.appendChild(e),e},removeNode:function(e){return e.parentNode.removeChild(e)},fragmentFromNodeChildren:function(e){for(var t,n=f(e).createDocumentFragment();t=e.firstChild;)n.appendChild(t);return n},createIterator:function(e){return new k(e)},DomPosition:x},e.DOMException=C}),w.createCoreModule("DomRange",["DomUtil"],function(o,N){var s=o.dom,a=o.util,t=s.DomPosition,l=o.DOMException,u=s.isCharacterDataNode,d=s.getNodeIndex,c=s.isOrIsAncestorOf,i=s.getDocument,h=s.comparePoints,f=s.splitDataNode,p=s.getClosestAncestorIn,m=s.getNodeLength,g=s.arrayContains,v=s.getRootContainer,j=o.features.crashyTextNodes,b=s.removeNode;function y(e,t){return 3!=e.nodeType&&(c(e,t.startContainer)||c(e,t.endContainer))}function w(e){return e.document||i(e.startContainer)}function _(e){return new t(e.parentNode,d(e))}function k(e){return new t(e.parentNode,d(e)+1)}function n(e,t,n){var r=11==e.nodeType?e.firstChild:e;return u(t)?n==t.length?s.insertAfter(e,t):t.parentNode.insertBefore(e,0==n?t:f(t,n)):n>=t.childNodes.length?t.appendChild(e):t.insertBefore(e,t.childNodes[n]),r}function L(e,t,n){if(O(e),O(t),w(t)!=w(e))throw new l("WRONG_DOCUMENT_ERR");var r=h(e.startContainer,e.startOffset,t.endContainer,t.endOffset),e=h(e.endContainer,e.endOffset,t.startContainer,t.startOffset);return n?r<=0&&0<=e:r<0&&0<e}function x(e,t,n){var r,i,o,a;for(n=n||{stop:!1};o=e.next();)if(e.isPartiallySelectedSubtree()){if(!1===t(o))return void(n.stop=!0);if(x(a=e.getSubtreeIterator(),t,n),a.detach(),n.stop)return}else for(r=s.createIterator(o);i=r.next();)if(!1===t(i))return void(n.stop=!0)}function V(e){for(var t;e.next();)e.isPartiallySelectedSubtree()?(V(t=e.getSubtreeIterator()),t.detach()):e.remove()}function F(e){for(var t,n,r=w(e.range).createDocumentFragment();t=e.next();){if(e.isPartiallySelectedSubtree()?(t=t.cloneNode(!1),n=e.getSubtreeIterator(),t.appendChild(F(n)),n.detach()):e.remove(),10==t.nodeType)throw new l("HIERARCHY_REQUEST_ERR");r.appendChild(t)}return r}function z(e){return"["+(void 0===e.getName?"Range":e.getName())+"("+s.inspectNode(e.startContainer)+":"+e.startOffset+", "+s.inspectNode(e.endContainer)+":"+e.endOffset+")]"}function C(e,t){this.range=e,this.clonePartiallySelectedTextNodes=t,e.collapsed||(this.sc=e.startContainer,this.so=e.startOffset,this.ec=e.endContainer,this.eo=e.endOffset,t=e.commonAncestorContainer,this.sc===this.ec&&u(this.sc)?(this.isSingleCharacterDataNode=!0,this._first=this._last=this._next=this.sc):(this._first=this._next=this.sc!==t||u(this.sc)?p(this.sc,t,!0):this.sc.childNodes[this.so],this._last=this.ec!==t||u(this.ec)?p(this.ec,t,!0):this.ec.childNodes[this.eo-1]))}C.prototype={_current:null,_next:null,_first:null,_last:null,isSingleCharacterDataNode:!1,reset:function(){this._current=null,this._next=this._first},hasNext:function(){return!!this._next},next:function(){var e=this._current=this._next;return e&&(this._next=e!==this._last?e.nextSibling:null,u(e)&&this.clonePartiallySelectedTextNodes&&(e===this.ec&&(e=e.cloneNode(!0)).deleteData(this.eo,e.length-this.eo),this._current===this.sc&&(e=e.cloneNode(!0)).deleteData(0,this.so))),e},remove:function(){var e,t,n=this._current;!u(n)||n!==this.sc&&n!==this.ec?n.parentNode&&b(n):(e=n===this.sc?this.so:0)!=(t=n===this.ec?this.eo:n.length)&&n.deleteData(e,t-e)},isPartiallySelectedSubtree:function(){return y(this._current,this.range)},getSubtreeIterator:function(){var e,t,n,r,i,o;return this.isSingleCharacterDataNode?(e=this.range.cloneRange()).collapse(!1):(e=new I(w(this.range)),t=this._current,r=0,o=m(i=n=t),c(t,this.sc)&&(n=this.sc,r=this.so),c(t,this.ec)&&(i=this.ec,o=this.eo),R(e,n,r,i,o)),new C(e,this.clonePartiallySelectedTextNodes)},detach:function(){this.range=this._current=this._next=this._first=this._last=this.sc=this.so=this.ec=this.eo=null}};var B=[1,3,4,5,7,8,10],H=[2,9,11],U=[1,3,4,5,7,8,10,11],W=[1,3,4,5,7,8];function e(i){return function(e,t){for(var n,r=t?e:e.parentNode;r;){if(n=r.nodeType,g(i,n))return r;r=r.parentNode}return null}}var q=e([9,11]),Y=e([5,6,10,12]),G=e([6,10,12]),K=e([1]);function S(e,t){if(G(e,t))throw new l("INVALID_NODE_TYPE_ERR")}function T(e,t){if(!g(t,e.nodeType))throw new l("INVALID_NODE_TYPE_ERR")}function $(e,t){if(t<0||t>(u(e)?e:e.childNodes).length)throw new l("INDEX_SIZE_ERR")}function E(e,t){if(q(e,!0)!==q(t,!0))throw new l("WRONG_DOCUMENT_ERR")}function A(e){if(Y(e,!0))throw new l("NO_MODIFICATION_ALLOWED_ERR")}function X(e,t){if(!e)throw new l(t)}function J(e,t){return t<=(u(e)?e:e.childNodes).length}function Q(e){return!!e.startContainer&&!!e.endContainer&&!(j&&(s.isBrokenNode(e.startContainer)||s.isBrokenNode(e.endContainer)))&&v(e.startContainer)==v(e.endContainer)&&J(e.startContainer,e.startOffset)&&J(e.endContainer,e.endOffset)}function O(e){if(!Q(e))throw new Error("Range error: Range is not valid. This usually happens after DOM mutation. Range: ("+e.inspect()+")")}var Z=document.createElement("style"),r=!1;try{Z.innerHTML="<b>x</b>",r=3==Z.firstChild.nodeType}catch(e){}function ee(e,t){O(e);var n=e.startContainer,r=e.startOffset,i=e.endContainer,o=e.endOffset,a=n===i;u(i)&&0<o&&o<i.length&&f(i,o,t),u(n)&&0<r&&r<n.length&&(n=f(n,r,t),a?(o-=r,i=n):i==n.parentNode&&o>=d(n)&&o++,r=0),e.setStartAndEnd(n,r,i,o)}function te(e){O(e);var t=e.commonAncestorContainer.parentNode.cloneNode(!1);return t.appendChild(e.cloneContents()),t.innerHTML}o.features.htmlParsingConforms=r;var M=["startContainer","startOffset","endContainer","endOffset","collapsed","commonAncestorContainer"],P=0,ne=1,re=2,ie=3,oe=0,ae=1,se=2,D=3;function le(e){e.START_TO_START=P,e.START_TO_END=ne,e.END_TO_END=re,e.END_TO_START=ie,e.NODE_BEFORE=oe,e.NODE_AFTER=ae,e.NODE_BEFORE_AND_AFTER=se,e.NODE_INSIDE=D}function ce(e){le(e),le(e.prototype)}function ue(i,o){return function(){O(this);var e=this.startContainer,t=this.startOffset,n=this.commonAncestorContainer,r=new C(this,!0),n=(e!==n&&(e=(n=k(p(e,n,!0))).node,t=n.offset),x(r,A),r.reset(),i(r));return r.detach(),o(this,e,t,e,t),n}}function de(e,c){function t(t,n){return function(e){T(e,B),T(v(e),H);e=(t?_:k)(e);(n?r:i)(this,e.node,e.offset)}}function r(e,t,n){var r=e.endContainer,i=e.endOffset;t===e.startContainer&&n===e.startOffset||(v(t)==v(r)&&1!=h(t,n,r,i)||(r=t,i=n),c(e,t,n,r,i))}function i(e,t,n){var r=e.startContainer,i=e.startOffset;t===e.endContainer&&n===e.endOffset||(v(t)==v(r)&&-1!=h(t,n,r,i)||(r=t,i=n),c(e,r,i,t,n))}function n(){}n.prototype=o.rangePrototype,e.prototype=new n,a.extend(e.prototype,{setStart:function(e,t){S(e,!0),$(e,t),r(this,e,t)},setEnd:function(e,t){S(e,!0),$(e,t),i(this,e,t)},setStartAndEnd:function(){var e=arguments,t=e[0],n=e[1],r=t,i=n;switch(e.length){case 3:i=e[2];break;case 4:r=e[2],i=e[3]}S(t,!0),$(t,n),S(r,!0),$(r,i),c(this,t,n,r,i)},setBoundary:function(e,t,n){this["set"+(n?"Start":"End")](e,t)},setStartBefore:t(!0,!0),setStartAfter:t(!1,!0),setEndBefore:t(!0,!1),setEndAfter:t(!1,!1),collapse:function(e){O(this),e?c(this,this.startContainer,this.startOffset,this.startContainer,this.startOffset):c(this,this.endContainer,this.endOffset,this.endContainer,this.endOffset)},selectNodeContents:function(e){S(e,!0),c(this,e,0,e,m(e))},selectNode:function(e){S(e,!1),T(e,B);var t=_(e),e=k(e);c(this,t.node,t.offset,e.node,e.offset)},extractContents:ue(F,c),deleteContents:ue(V,c),canSurroundContents:function(){O(this),A(this.startContainer),A(this.endContainer);var e=new C(this,!0),t=e._first&&y(e._first,this)||e._last&&y(e._last,this);return e.detach(),!t},splitBoundaries:function(){ee(this)},splitBoundariesPreservingPositions:function(e){ee(this,e)},normalizeBoundaries:function(){O(this);function e(e){var t=e.nextSibling;t&&t.nodeType==e.nodeType&&(s=(a=e).length,e.appendData(t.data),b(t))}function t(e){var t,n=e.previousSibling;n&&n.nodeType==e.nodeType&&(t=(i=e).length,o=n.length,e.insertData(0,n.data),b(n),i==a?(s+=o,a=i):a==e.parentNode&&(n=d(e),s==n?(a=e,s=t):n<s&&s--))}var n,r,i=this.startContainer,o=this.startOffset,a=this.endContainer,s=this.endOffset,l=!0;u(a)?s==a.length?e(a):0==s&&(n=a.previousSibling)&&n.nodeType==a.nodeType&&(s=n.length,i==a&&(l=!1),n.appendData(a.data),b(a),a=n):(0<s&&((r=a.childNodes[s-1])&&u(r)&&e(r)),l=!this.collapsed),l?u(i)?0==o?t(i):o==i.length&&(n=i.nextSibling)&&n.nodeType==i.nodeType&&(a==n&&(s+=(a=i).length),i.appendData(n.data),b(n)):o<i.childNodes.length&&((r=i.childNodes[o])&&u(r)&&t(r)):(i=a,o=s),c(this,i,o,a,s)},collapseToPoint:function(e,t){S(e,!0),$(e,t),this.setStartAndEnd(e,t)},parentElement:function(){return O(this),this.commonAncestorContainer?K(this.commonAncestorContainer,!0):null}}),ce(e)}function R(e,t,n,r,i){e.startContainer=t,e.startOffset=n,e.endContainer=r,e.endOffset=i,e.document=s.getDocument(t),(n=e).collapsed=n.startContainer===n.endContainer&&n.startOffset===n.endOffset,n.commonAncestorContainer=n.collapsed?n.startContainer:s.getCommonAncestor(n.startContainer,n.endContainer)}function I(e){R(this,e,0,e,0)}a.extend(o.rangePrototype,{compareBoundaryPoints:function(e,t){O(this),E(this.startContainer,t.startContainer);var n=e==ie||e==P?"start":"end",e=e==ne||e==P?"start":"end",r=this[n+"Container"],n=this[n+"Offset"],i=t[e+"Container"],t=t[e+"Offset"];return h(r,n,i,t)},insertNode:function(e){if(O(this),T(e,U),A(this.startContainer),c(e,this.startContainer))throw new l("HIERARCHY_REQUEST_ERR");e=n(e,this.startContainer,this.startOffset);this.setStartBefore(e)},cloneContents:function(){var e,t;return O(this),this.collapsed?w(this).createDocumentFragment():this.startContainer===this.endContainer&&u(this.startContainer)?((t=this.startContainer.cloneNode(!0)).data=t.data.slice(this.startOffset,this.endOffset),(e=w(this).createDocumentFragment()).appendChild(t),e):(t=function e(t){for(var n,r,i=w(t.range).createDocumentFragment();n=t.next();){if(r=t.isPartiallySelectedSubtree(),n=n.cloneNode(!r),r&&(r=t.getSubtreeIterator(),n.appendChild(e(r)),r.detach()),10==n.nodeType)throw new l("HIERARCHY_REQUEST_ERR");i.appendChild(n)}return i}(e=new C(this,!0)),e.detach(),t)},canSurroundContents:function(){O(this),A(this.startContainer),A(this.endContainer);var e=new C(this,!0),t=e._first&&y(e._first,this)||e._last&&y(e._last,this);return e.detach(),!t},surroundContents:function(e){if(T(e,W),!this.canSurroundContents())throw new l("INVALID_STATE_ERR");var t=this.extractContents();if(e.hasChildNodes())for(;e.lastChild;)e.removeChild(e.lastChild);n(e,this.startContainer,this.startOffset),e.appendChild(t),this.selectNode(e)},cloneRange:function(){O(this);for(var e,t=new I(w(this)),n=M.length;n--;)t[e=M[n]]=this[e];return t},toString:function(){O(this);var t,e=this.startContainer;return e===this.endContainer&&u(e)?3==e.nodeType||4==e.nodeType?e.data.slice(this.startOffset,this.endOffset):"":(t=[],x(e=new C(this,!0),function(e){3!=e.nodeType&&4!=e.nodeType||t.push(e.data)}),e.detach(),t.join(""))},compareNode:function(e){O(this);var t,n=e.parentNode,e=d(e);if(n)return t=this.comparePoint(n,e),n=this.comparePoint(n,e+1),t<0?0<n?se:oe:0<n?ae:D;throw new l("NOT_FOUND_ERR")},comparePoint:function(e,t){return O(this),X(e,"HIERARCHY_REQUEST_ERR"),E(e,this.startContainer),h(e,t,this.startContainer,this.startOffset)<0?-1:0<h(e,t,this.endContainer,this.endOffset)?1:0},createContextualFragment:r?function(e){var t,n=this.startContainer,r=i(n);if(n)return t=null,1==n.nodeType?t=n:u(n)&&(t=s.parentElement(n)),(t=null===t||"HTML"==t.nodeName&&s.isHtmlNamespace(i(t).documentElement)&&s.isHtmlNamespace(t)?r.createElement("body"):t.cloneNode(!1)).innerHTML=e,s.fragmentFromNodeChildren(t);throw new l("INVALID_STATE_ERR")}:function(e){var t=w(this).createElement("body");return t.innerHTML=e,s.fragmentFromNodeChildren(t)},toHtml:function(){return te(this)},intersectsNode:function(e,t){var n,r;return O(this),v(e)==v(this.startContainer)&&(r=e.parentNode,e=d(e),!r||(n=h(r,e,this.endContainer,this.endOffset),r=h(r,e+1,this.startContainer,this.startOffset),t?n<=0&&0<=r:n<0&&0<r))},isPointInRange:function(e,t){return O(this),X(e,"HIERARCHY_REQUEST_ERR"),E(e,this.startContainer),0<=h(e,t,this.startContainer,this.startOffset)&&h(e,t,this.endContainer,this.endOffset)<=0},intersectsRange:function(e){return L(this,e,!1)},intersectsOrTouchesRange:function(e){return L(this,e,!0)},intersection:function(e){var t,n,r;return this.intersectsRange(e)?(t=h(this.startContainer,this.startOffset,e.startContainer,e.startOffset),n=h(this.endContainer,this.endOffset,e.endContainer,e.endOffset),r=this.cloneRange(),-1==t&&r.setStart(e.startContainer,e.startOffset),1==n&&r.setEnd(e.endContainer,e.endOffset),r):null},union:function(e){var t;if(this.intersectsOrTouchesRange(e))return t=this.cloneRange(),-1==h(e.startContainer,e.startOffset,this.startContainer,this.startOffset)&&t.setStart(e.startContainer,e.startOffset),1==h(e.endContainer,e.endOffset,this.endContainer,this.endOffset)&&t.setEnd(e.endContainer,e.endOffset),t;throw new l("Ranges do not intersect")},containsNode:function(e,t){return t?this.intersectsNode(e,!1):this.compareNode(e)==D},containsNodeContents:function(e){return 0<=this.comparePoint(e,0)&&this.comparePoint(e,m(e))<=0},containsRange:function(e){var t=this.intersection(e);return null!==t&&e.equals(t)},containsNodeText:function(e){var t=this.cloneRange(),n=(t.selectNode(e),t.getNodes([3]));return 0<n.length?(t.setStart(n[0],0),n=n.pop(),t.setEnd(n,n.length),this.containsRange(t)):this.containsNodeContents(e)},getNodes:function(e,t){return O(this),n=this,r=t,o=!(!(t=e)||!t.length),a=!!r,o&&(i=new RegExp("^("+t.join("|")+")$")),x(new C(n,!(s=[])),function(e){var t;o&&!i.test(e.nodeType)||a&&!r(e)||(e==(t=n.startContainer)&&u(t)&&n.startOffset==t.length||(e==(t=n.endContainer)&&u(t)&&0==n.endOffset||s.push(e)))}),s;var n,r,i,o,a,s},getDocument:function(){return w(this)},collapseBefore:function(e){this.setEndBefore(e),this.collapse(!1)},collapseAfter:function(e){this.setStartAfter(e),this.collapse(!0)},getBookmark:function(e){var t=w(this),n=o.createRange(t),t=(e=e||s.getBody(t),n.selectNodeContents(e),this.intersection(n)),r=0,i=0;return t&&(n.setEnd(t.startContainer,t.startOffset),i=(r=n.toString().length)+t.toString().length),{start:r,end:i,containerNode:e}},moveToBookmark:function(e){for(var t,n,r,i,o=e.containerNode,a=0,s=(this.setStart(o,0),this.collapse(!0),[o]),l=!1,c=!1;!c&&(t=s.pop());)if(3==t.nodeType)n=a+t.length,!l&&e.start>=a&&e.start<=n&&(this.setStart(t,e.start-a),l=!0),l&&e.end>=a&&e.end<=n&&(this.setEnd(t,e.end-a),c=!0),a=n;else for(r=(i=t.childNodes).length;r--;)s.push(i[r])},getName:function(){return"DomRange"},equals:function(e){return I.rangesEqual(this,e)},isValid:function(){return Q(this)},inspect:function(){return z(this)},detach:function(){}}),de(I,R),a.extend(I,{rangeProperties:M,RangeIterator:C,copyComparisonConstants:ce,createPrototypeRange:de,inspect:z,toHtml:te,getRangeDocument:w,rangesEqual:function(e,t){return e.startContainer===t.startContainer&&e.startOffset===t.startOffset&&e.endContainer===t.endContainer&&e.endOffset===t.endOffset}}),o.DomRange=I}),w.createCoreModule("WrappedRange",["DomRange"],function(n,t){var e,o,r,i,v=n.dom,a=n.util,b=v.DomPosition,s=n.DomRange,l=v.getBody,c=v.getContentDocument,y=v.isCharacterDataNode;if(n.features.implementsDomRange){var u,d=s.rangeProperties;function h(e){for(var t,n=d.length;n--;)e[t=d[n]]=e.nativeRange[t];e.collapsed=e.startContainer===e.endContainer&&e.startOffset===e.endOffset}s.createPrototypeRange(e=function(e){if(!e)throw t.createError("WrappedRange: Range must be specified");this.nativeRange=e,h(this)},function(e,t,n,r,i){var o=e.startContainer!==t||e.startOffset!=n,a=e.endContainer!==r||e.endOffset!=i,s=!e.equals(e.nativeRange);(o||a||s)&&(e.setEnd(r,i),e.setStart(t,n))}),(u=e.prototype).selectNode=function(e){this.nativeRange.selectNode(e),h(this)},u.cloneContents=function(){return this.nativeRange.cloneContents()},u.surroundContents=function(e){this.nativeRange.surroundContents(e),h(this)},u.collapse=function(e){this.nativeRange.collapse(e),h(this)},u.cloneRange=function(){return new e(this.nativeRange.cloneRange())},u.refresh=function(){h(this)},u.toString=function(){return this.nativeRange.toString()};var f=document.createTextNode("test"),p=(l(document).appendChild(f),document.createRange());p.setStart(f,0),p.setEnd(f,0);try{p.setStart(f,1),u.setStart=function(e,t){this.nativeRange.setStart(e,t),h(this)},u.setEnd=function(e,t){this.nativeRange.setEnd(e,t),h(this)},m=function(t){return function(e){this.nativeRange[t](e),h(this)}}}catch(e){u.setStart=function(t,n){try{this.nativeRange.setStart(t,n)}catch(e){this.nativeRange.setEnd(t,n),this.nativeRange.setStart(t,n)}h(this)},u.setEnd=function(t,n){try{this.nativeRange.setEnd(t,n)}catch(e){this.nativeRange.setStart(t,n),this.nativeRange.setEnd(t,n)}h(this)},m=function(n,r){return function(t){try{this.nativeRange[n](t)}catch(e){this.nativeRange[r](t),this.nativeRange[n](t)}h(this)}}}u.setStartBefore=m("setStartBefore","setEndBefore"),u.setStartAfter=m("setStartAfter","setEndAfter"),u.setEndBefore=m("setEndBefore","setStartBefore"),u.setEndAfter=m("setEndAfter","setStartAfter"),u.selectNodeContents=function(e){this.setStartAndEnd(e,0,v.getNodeLength(e))},p.selectNodeContents(f),p.setEnd(f,3);var m=document.createRange();m.selectNodeContents(f),m.setEnd(f,4),m.setStart(f,2),-1==p.compareBoundaryPoints(p.START_TO_END,m)&&1==p.compareBoundaryPoints(p.END_TO_START,m)?u.compareBoundaryPoints=function(e,t){return e==(t=t.nativeRange||t).START_TO_END?e=t.END_TO_START:e==t.END_TO_START&&(e=t.START_TO_END),this.nativeRange.compareBoundaryPoints(e,t)}:u.compareBoundaryPoints=function(e,t){return this.nativeRange.compareBoundaryPoints(e,t.nativeRange||t)};(m=document.createElement("div")).innerHTML="123";var g=m.firstChild,w=l(document);w.appendChild(m),p.setStart(g,1),p.setEnd(g,2),p.deleteContents(),"13"==g.data&&(u.deleteContents=function(){this.nativeRange.deleteContents(),h(this)},u.extractContents=function(){var e=this.nativeRange.extractContents();return h(this),e}),w.removeChild(m),w=null,a.isHostMethod(p,"createContextualFragment")&&(u.createContextualFragment=function(e){return this.nativeRange.createContextualFragment(e)}),l(document).removeChild(f),u.getName=function(){return"WrappedRange"},n.WrappedRange=e,n.createNativeRange=function(e){return(e=c(e,t,"createNativeRange")).createRange()}}n.features.implementsTextRange&&(o=function(e,t,n,r,i){var o=e.duplicate(),a=(o.collapse(n),o.parentElement());if(!(a=v.isOrIsAncestorOf(t,a)?a:t).canHaveHTML)return{boundaryPosition:t=new b(a.parentNode,v.getNodeIndex(a)),nodeInfo:{nodeIndex:t.offset,containerElement:t.node}};var s=v.getDocument(a).createElement("span");s.parentNode&&v.removeNode(s);for(var l,c,u=n?"StartToStart":"StartToEnd",d=i&&i.containerElement==a?i.nodeIndex:0,h=a.childNodes.length,f=h,p=f;p==h?a.appendChild(s):a.insertBefore(s,a.childNodes[p]),o.moveToElementText(s),0!=(l=o.compareEndPoints(u,e))&&d!=f;){if(-1==l){if(f==d+1)break;d=p}else f=f==d+1?d:p;p=Math.floor((d+f)/2),a.removeChild(s)}if(t=s.nextSibling,-1==l&&t&&y(t)){if(o.setEndPoint(n?"EndToStart":"EndToEnd",e),/[\r\n]/.test(t.data))for(var m=o.duplicate(),i=m.text.replace(/\r\n/g,"\r").length,g=m.moveStart("character",i);-1==(l=m.compareEndPoints("StartToEnd",m));)g++,m.moveStart("character",1);else g=o.text.length;c=new b(t,g)}else i=(r||!n)&&s.previousSibling,c=(t=(r||n)&&s.nextSibling)&&y(t)?new b(t,0):i&&y(i)?new b(i,i.data.length):new b(a,v.getNodeIndex(s));return v.removeNode(s),{boundaryPosition:c,nodeInfo:{nodeIndex:p,containerElement:a}}},r=function(e,t){var n,r=e.offset,i=v.getDocument(e.node),o=l(i).createTextRange(),a=y(e.node),s=a?(n=e.node).parentNode:(n=r<(s=e.node.childNodes).length?s[r]:null,e.node),e=i.createElement("span");return e.innerHTML="&#feff;",n?s.insertBefore(e,n):s.appendChild(e),o.moveToElementText(e),o.collapse(!t),s.removeChild(e),a&&o[t?"moveStart":"moveEnd"]("character",r),o},((g=function(e){this.textRange=e,this.refresh()}).prototype=new s(document)).refresh=function(){n=this.textRange,t=n.parentElement(),(i=n.duplicate()).collapse(!0),r=i.parentElement(),(i=n.duplicate()).collapse(!1),n=i.parentElement();var e,t,n,r=(i=r==n?r:v.getCommonAncestor(r,n))==t?i:v.getCommonAncestor(t,i),i=0==(n=this.textRange).compareEndPoints("StartToEnd",n)?e=o(this.textRange,r,!0,!0).boundaryPosition:(e=(t=o(this.textRange,r,!0,!1)).boundaryPosition,o(this.textRange,r,!1,!1,t.nodeInfo).boundaryPosition);this.setStart(e.node,e.offset),this.setEnd(i.node,i.offset)},g.prototype.getName=function(){return"WrappedTextRange"},s.copyComparisonConstants(g),g.rangeToTextRange=i=function(e){var t,n;return e.collapsed?r(new b(e.startContainer,e.startOffset),!0):(t=r(new b(e.startContainer,e.startOffset),!0),n=r(new b(e.endContainer,e.endOffset),!1),(e=l(s.getRangeDocument(e)).createTextRange()).setEndPoint("StartToStart",t),e.setEndPoint("EndToEnd",n),e)},g.prototype.toTextRange=function(){return i(this)},n.WrappedTextRange=g,n.features.implementsDomRange&&!n.config.preferTextRange||(void 0===(m=Function("return this;")()).Range&&(m.Range=g),n.createNativeRange=function(e){return e=c(e,t,"createNativeRange"),l(e).createTextRange()},n.WrappedRange=g)),n.createRange=function(e){return e=c(e,t,"createRange"),new n.WrappedRange(n.createNativeRange(e))},n.createRangyRange=function(e){return e=c(e,t,"createRangyRange"),new s(e)},a.createAliasForDeprecatedMethod(n,"createIframeRange","createRange"),a.createAliasForDeprecatedMethod(n,"createIframeRangyRange","createRangyRange"),n.addShimListener(function(e){var t=e.document;void 0===t.createRange&&(t.createRange=function(){return n.createRange(t)}),t=null})}),w.createCoreModule("WrappedSelection",["DomRange","WrappedRange"],function(a,s){a.config.checkSelectionRanges=!0;var i,r,N="number",l=a.dom,e=a.util,t=e.isHostMethod,c=a.DomRange,j=a.WrappedRange,n=a.DOMException,L=l.DomPosition,o=a.features,u="Control",d=l.getDocument,h=l.getBody,V=c.rangesEqual;function F(e){return"string"==typeof e?/^backward(s)?$/i.test(e):!!e}function f(e,t){return e?l.isWindow(e)?e:e instanceof M?e.win:(e=l.getContentDocument(e,s,t),l.getWindow(e)):window}function z(e){return f(e,"getDocSelection").document.selection}function B(e){var t=!1;return t=e.anchorNode?1==l.comparePoints(e.anchorNode,e.anchorOffset,e.focusNode,e.focusOffset):t}var p=t(window,"getSelection"),m=e.isHostObject(document,"selection"),g=(o.implementsWinGetSelection=p,(o.implementsDocSelection=m)&&(!p||a.config.preferTextRange));if(g)i=z,a.isSelectionValid=function(e){var e=f(e,"isSelectionValid").document,t=e.selection;return"None"!=t.type||d(t.createRange().parentElement())==e};else{if(!p)return s.fail("Neither document.selection or window.getSelection() detected."),!1;i=function(e){return f(e,"getWinSelection").getSelection()},a.isSelectionValid=function(){return!0}}p=(a.getNativeSelection=i)();if(!p)return s.fail("Native selection was null (possibly issue 138?)"),!1;var H=a.createNativeRange(document),U=h(document),v=e.areHostProperties(p,["anchorNode","focusNode","anchorOffset","focusOffset"]),b=(o.selectionHasAnchorAndFocus=v,t(p,"extend")),W=(o.selectionHasExtend=b,t(p,"setBaseAndExtent")),q=(o.selectionHasSetBaseAndExtent=W,typeof p.rangeCount==N),Y=(o.selectionHasRangeCount=q,!1),G=!0,K=b?function(e,t){var n=c.getRangeDocument(t),n=a.createRange(n);n.collapseToPoint(t.endContainer,t.endOffset),e.addRange(Z(n)),e.extend(t.startContainer,t.startOffset)}:null;if(e.areHostMethods(p,["addRange","getRangeAt","removeAllRanges"])&&typeof p.rangeCount==N&&o.implementsDomRange){var y=window.getSelection();if(y){for(var X=y.rangeCount,w=1<X,_=[],J=B(y),k=0;k<X;++k)_[k]=y.getRangeAt(k);var Q=l.createTestElement(document,"",!1),x=Q.appendChild(document.createTextNode("")),C=document.createRange();for(C.setStart(x,1),C.collapse(!0),y.removeAllRanges(),y.addRange(C),G=1==y.rangeCount,y.removeAllRanges(),w||(w=window.navigator.appVersion.match(/Chrome\/(.*?) /),Y=!(w&&36<=parseInt(w[1]))&&(w=C.cloneRange(),C.setStart(x,0),w.setEnd(x,3),w.setStart(x,2),y.addRange(C),y.addRange(w),2==y.rangeCount)),l.removeNode(Q),y.removeAllRanges(),k=0;k<X;++k)0==k&&J?K?K(y,_[k]):(a.warn("Rangy initialization: original selection was backwards but selection has been restored forwards because the browser does not support Selection.extend"),y.addRange(_[k])):y.addRange(_[k])}}o.selectionSupportsMultipleRanges=Y,o.collapsedNonEditableSelectionsSupported=G;var S,T=!1;function $(e,t,n){var r=n?"end":"start",n=n?"start":"end";e.anchorNode=t[r+"Container"],e.anchorOffset=t[r+"Offset"],e.focusNode=t[n+"Container"],e.focusOffset=t[n+"Offset"]}function E(e){e.anchorNode=e.focusNode=null,e.anchorOffset=e.focusOffset=0,e.rangeCount=0,e.isCollapsed=!0,e._ranges.length=0,A(e)}function A(e){e.type=0==e.rangeCount?"None":r(e)?"Caret":"Range"}function Z(e){var t;return e instanceof c?((t=a.createNativeRange(e.getDocument())).setEnd(e.endContainer,e.endOffset),t.setStart(e.startContainer,e.startOffset)):e instanceof j?t=e.nativeRange:o.implementsDomRange&&e instanceof l.getWindow(e.startContainer).Range&&(t=e),t}function ee(e){var t=e.getNodes();if(function(e){if(e.length&&1==e[0].nodeType){for(var t=1,n=e.length;t<n;++t)if(!l.isAncestorOf(e[0],e[t]))return;return 1}}(t))return t[0];throw s.createError("getSingleElementFromRange: range "+e.inspect()+" did not consist of a single element")}function te(e){return e&&void 0!==e.text}function ne(e,t){t=new j(t);e._ranges=[t],$(e,t,!1),e.rangeCount=1,e.isCollapsed=t.collapsed,A(e)}function O(e){if(e._ranges.length=0,"None"==e.docSelection.type)E(e);else{var t=e.docSelection.createRange();if(te(t))ne(e,t);else{e.rangeCount=t.length;for(var n,r=d(t.item(0)),i=0;i<e.rangeCount;++i)(n=a.createRange(r)).selectNode(t.item(i)),e._ranges.push(n);e.isCollapsed=1==e.rangeCount&&e._ranges[0].collapsed,$(e,e._ranges[e.rangeCount-1],!1),A(e)}}}function re(e,t){for(var n=e.docSelection.createRange(),t=ee(t),r=d(n.item(0)),i=h(r).createControlRange(),o=0,a=n.length;o<a;++o)i.add(n.item(o));try{i.add(t)}catch(e){throw s.createError("addRange(): Element within the specified Range could not be added to control selection (does it have layout?)")}i.select(),O(e)}function M(e,t,n){this.nativeSelection=e,this.docSelection=t,this._ranges=[],this.win=n,this.refresh()}function ie(e){e.win=e.anchorNode=e.focusNode=e._ranges=null,e.rangeCount=e.anchorOffset=e.focusOffset=0,e.detached=!0,A(e)}U&&t(U,"createControlRange")&&(x=U.createControlRange(),e.areHostProperties(x,["item","add"])&&(T=!0)),o.implementsControlRange=T,r=v?function(e){return e.anchorNode===e.focusNode&&e.anchorOffset===e.focusOffset}:function(e){return!!e.rangeCount&&e.getRangeAt(e.rangeCount-1).collapsed},t(p,"getRangeAt")?S=function(e,t){try{return e.getRangeAt(t)}catch(e){return null}}:v&&(S=function(e){var t=d(e.anchorNode),t=a.createRange(t);return t.setStartAndEnd(e.anchorNode,e.anchorOffset,e.focusNode,e.focusOffset),t.collapsed!==this.isCollapsed&&t.setStartAndEnd(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset),t}),M.prototype=a.selectionPrototype;var P=[];function oe(e,t){for(var n,r,i=P.length;i--;)if(r=(n=P[i]).selection,"deleteAll"==t)ie(r);else if(n.win==e)return"delete"==t?(P.splice(i,1),!0):r;return"deleteAll"==t&&(P.length=0),null}function ae(e){var t,n,r;return e&&e instanceof M?(e.refresh(),e):(t=oe(e=f(e,"getNativeSelection")),n=i(e),r=m?z(e):null,t?(t.nativeSelection=n,t.docSelection=r,t.refresh()):(t=new M(n,r,e),P.push({win:e,selection:t})),t)}a.getSelection=ae,e.createAliasForDeprecatedMethod(a,"getIframeSelection","getSelection");var D,C=M.prototype;function se(e,t){for(var n,r=d(t[0].startContainer),i=h(r).createControlRange(),o=0,a=t.length;o<a;++o){n=ee(t[o]);try{i.add(n)}catch(e){throw s.createError("setRanges(): Element within one of the specified Ranges could not be added to control selection (does it have layout?)")}}i.select(),O(e)}if(!g&&v&&e.areHostMethods(p,["removeAllRanges","addRange"])){C.removeAllRanges=function(){this.nativeSelection.removeAllRanges(),E(this)};function le(e,t){K(e.nativeSelection,t),e.refresh()}C.addRange=q?function(e,t){if(T&&m&&this.docSelection.type==u)re(this,e);else if(F(t)&&b)le(this,e);else{var t=Y?this.rangeCount:(this.removeAllRanges(),0),n=Z(e).cloneRange();try{this.nativeSelection.addRange(n)}catch(e){}this.rangeCount=this.nativeSelection.rangeCount,this.rangeCount==t+1?(a.config.checkSelectionRanges&&(n=S(this.nativeSelection,this.rangeCount-1))&&!V(n,e)&&(e=new j(n)),this._ranges[this.rangeCount-1]=e,$(this,e,R(this.nativeSelection)),this.isCollapsed=r(this),A(this)):this.refresh()}}:function(e,t){F(t)&&b?le(this,e):(this.nativeSelection.addRange(Z(e)),this.refresh())},C.setRanges=function(e){if(T&&m&&1<e.length)se(this,e);else{this.removeAllRanges();for(var t=0,n=e.length;t<n;++t)this.addRange(e[t])}}}else{if(!(t(p,"empty")&&t(H,"select")&&T&&g))return s.fail("No means of selecting a Range or TextRange was found"),!1;C.removeAllRanges=function(){try{var e,t;this.docSelection.empty(),"None"!=this.docSelection.type&&(this.anchorNode?e=d(this.anchorNode):this.docSelection.type==u&&(t=this.docSelection.createRange()).length&&(e=d(t.item(0))),e&&(h(e).createTextRange().select(),this.docSelection.empty()))}catch(e){}E(this)},C.addRange=function(e){this.docSelection.type==u?re(this,e):(a.WrappedTextRange.rangeToTextRange(e).select(),this._ranges[0]=e,this.rangeCount=1,this.isCollapsed=this._ranges[0].collapsed,$(this,e,!1),A(this))},C.setRanges=function(e){this.removeAllRanges();var t=e.length;1<t?se(this,e):t&&this.addRange(e[0])}}if(C.getRangeAt=function(e){if(e<0||e>=this.rangeCount)throw new n("INDEX_SIZE_ERR");return this._ranges[e].cloneRange()},g)D=function(e){var t;a.isSelectionValid(e.win)?t=e.docSelection.createRange():(t=h(e.win.document).createTextRange()).collapse(!0),e.docSelection.type==u?O(e):te(t)?ne(e,t):E(e)};else if(t(p,"getRangeAt")&&typeof p.rangeCount==N)D=function(e){if(T&&m&&e.docSelection.type==u)O(e);else if(e._ranges.length=e.rangeCount=e.nativeSelection.rangeCount,e.rangeCount){for(var t=0,n=e.rangeCount;t<n;++t)e._ranges[t]=new a.WrappedRange(e.nativeSelection.getRangeAt(t));$(e,e._ranges[e.rangeCount-1],R(e.nativeSelection)),e.isCollapsed=r(e),A(e)}else E(e)};else{if(!v||"boolean"!=typeof p.isCollapsed||"boolean"!=typeof H.collapsed||!o.implementsDomRange)return s.fail("No means of obtaining a Range or TextRange from the user's selection was found"),!1;D=function(e){var t,n=e.nativeSelection;(n.anchorNode?(n=S(n,0),e._ranges=[n],e.rangeCount=1,t=(n=e).nativeSelection,n.anchorNode=t.anchorNode,n.anchorOffset=t.anchorOffset,n.focusNode=t.focusNode,n.focusOffset=t.focusOffset,e.isCollapsed=r(e),A):E)(e)}}C.refresh=function(e){var t=e?this._ranges.slice(0):null,n=this.anchorNode,r=this.anchorOffset;if(D(this),e){var i=t.length;if(i!=this._ranges.length)return!0;if(this.anchorNode!=n||this.anchorOffset!=r)return!0;for(;i--;)if(!V(t[i],this._ranges[i]))return!0;return!1}};function ce(e,t){var n=e.getAllRanges();e.removeAllRanges();for(var r=0,i=n.length;r<i;++r)V(t,n[r])||e.addRange(n[r]);e.rangeCount||E(e)}var R;function I(e,t){if(e.win.document!=d(t))throw new n("WRONG_DOCUMENT_ERR")}function ue(e,t){if(t<0||t>(l.isCharacterDataNode(e)?e:e.childNodes).length)throw new n("INDEX_SIZE_ERR")}function de(r){return function(e,t){var n;this.rangeCount?(n=this.getRangeAt(0))["set"+(r?"Start":"End")](e,t):(n=a.createRange(this.win.document)).setStartAndEnd(e,t),this.setSingleRange(n,this.isBackward())}}function he(e){var t=[],n=new L(e.anchorNode,e.anchorOffset),r=new L(e.focusNode,e.focusOffset),i="function"==typeof e.getName?e.getName():"Selection";if(void 0!==e.rangeCount)for(var o=0,a=e.rangeCount;o<a;++o)t[o]=c.inspect(e.getRangeAt(o));return"["+i+"(Ranges: "+t.join(", ")+")(anchor: "+n.inspect()+", focus: "+r.inspect()+"]"}C.removeRange=T&&m?function(e){if(this.docSelection.type==u){for(var t=this.docSelection.createRange(),n=ee(e),r=d(t.item(0)),i=h(r).createControlRange(),o=!1,a=0,s=t.length;a<s;++a)t.item(a)!==n||o?i.add(t.item(a)):o=!0;i.select(),O(this)}else ce(this,e)}:function(e){ce(this,e)},!g&&v&&o.implementsDomRange?(R=B,C.isBackward=function(){return R(this)}):R=C.isBackward=function(){return!1},C.isBackwards=C.isBackward,C.toString=function(){for(var e=[],t=0,n=this.rangeCount;t<n;++t)e[t]=""+this._ranges[t];return e.join("")},C.collapse=function(e,t){I(this,e);var n=a.createRange(e);n.collapseToPoint(e,t),this.setSingleRange(n),this.isCollapsed=!0},C.collapseToStart=function(){if(!this.rangeCount)throw new n("INVALID_STATE_ERR");var e=this._ranges[0];this.collapse(e.startContainer,e.startOffset)},C.collapseToEnd=function(){if(!this.rangeCount)throw new n("INVALID_STATE_ERR");var e=this._ranges[this.rangeCount-1];this.collapse(e.endContainer,e.endOffset)},C.selectAllChildren=function(e){I(this,e);var t=a.createRange(e);t.selectNodeContents(e),this.setSingleRange(t)},W?C.setBaseAndExtent=function(e,t,n,r){this.nativeSelection.setBaseAndExtent(e,t,n,r),this.refresh()}:b&&(C.setBaseAndExtent=function(e,t,n,r){ue(e,t),ue(n,r),I(this,e),I(this,n);var i=a.createRange(node),o=-1==l.comparePoints(e,t,n,r);o?i.setStartAndEnd(n,r,e,t):i.setStartAndEnd(e,t,n,r),this.setSingleRange(i,o)}),C.deleteFromDocument=function(){if(T&&m&&this.docSelection.type==u){for(var e,t=this.docSelection.createRange();t.length;)e=t.item(0),t.remove(e),l.removeNode(e);this.refresh()}else if(this.rangeCount){var n=this.getAllRanges();if(n.length){this.removeAllRanges();for(var r=0,i=n.length;r<i;++r)n[r].deleteContents();this.addRange(n[i-1])}}},C.eachRange=function(e,t){for(var n=0,r=this._ranges.length;n<r;++n)if(e(this.getRangeAt(n)))return t},C.getAllRanges=function(){var t=[];return this.eachRange(function(e){t.push(e)}),t},C.setSingleRange=function(e,t){this.removeAllRanges(),this.addRange(e,t)},C.callMethodOnEachRange=function(t,n){var r=[];return this.eachRange(function(e){r.push(e[t].apply(e,n||[]))}),r},C.setStart=de(!0),C.setEnd=de(!1),a.rangePrototype.select=function(e){ae(this.getDocument()).setSingleRange(this,e)},C.changeEachRange=function(t){var n=[],e=this.isBackward();this.eachRange(function(e){t(e),n.push(e)}),this.removeAllRanges(),e&&1==n.length?this.addRange(n[0],"backward"):this.setRanges(n)},C.containsNode=function(t,n){return this.eachRange(function(e){return e.containsNode(t,n)},!0)||!1},C.getBookmark=function(e){return{backward:this.isBackward(),rangeBookmarks:this.callMethodOnEachRange("getBookmark",[e])}},C.moveToBookmark=function(e){for(var t,n,r=[],i=0;t=e.rangeBookmarks[i++];)(n=a.createRange(this.win)).moveToBookmark(t),r.push(n);e.backward?this.setSingleRange(r[0],"backward"):this.setRanges(r)},C.saveRanges=function(){return{backward:this.isBackward(),ranges:this.callMethodOnEachRange("cloneRange")}},C.restoreRanges=function(e){this.removeAllRanges();for(var t,n=0;t=e.ranges[n];++n)this.addRange(t,e.backward&&0==n)},C.toHtml=function(){var t=[];return this.eachRange(function(e){t.push(c.toHtml(e))}),t.join("")},o.implementsTextRange&&(C.getNativeTextRange=function(){if(e=this.docSelection){var e=e.createRange();if(te(e))return e;throw s.createError("getNativeTextRange: selection is a control selection")}if(0<this.rangeCount)return a.WrappedTextRange.rangeToTextRange(this.getRangeAt(0));throw s.createError("getNativeTextRange: selection contains no range")}),C.getName=function(){return"WrappedSelection"},C.inspect=function(){return he(this)},C.detach=function(){oe(this.win,"delete"),ie(this)},M.detachAll=function(){oe(null,"deleteAll")},M.inspect=he,M.isDirectionBackward=F,a.Selection=M,a.selectionPrototype=C,a.addShimListener(function(e){void 0===e.getSelection&&(e.getSelection=function(){return ae(e)}),e=null})});function R(e){I||(I=!0,!w.initialized&&w.config.autoInitialize&&$())}var I=!1;return b&&("complete"==document.readyState?R():(u(document,"addEventListener")&&document.addEventListener("DOMContentLoaded",R,!1),g(window,"load",R))),w},this),!function(e,t){"function"==typeof define&&define.amd?define(["./rangy-core"],e):"undefined"!=typeof module&&"object"==typeof exports?module.exports=e(require("rangy")):e(t.rangy)}(function(e){return e.createModule("SaveRestore",["WrappedSelection"],function(l,a){var i=l.dom,s=i.removeNode,c=l.Selection.isDirectionBackward,o="\ufeff";function u(e,t){return(t||document).getElementById(e)}function d(e,t){var n="selectionBoundary_"+ +new Date+"_"+(""+Math.random()).slice(2),r=i.getDocument(e.startContainer),e=e.cloneRange();return e.collapse(t),(t=r.createElement("span")).id=n,t.style.lineHeight="0",t.style.display="none",t.className="rangySelectionBoundary",t.appendChild(r.createTextNode(o)),e.insertNode(t),t}function h(e,t,n,r){n=u(n,e);n?(t[r?"setStartBefore":"setEndBefore"](n),s(n)):a.warn("Marker element has been removed. Cannot restore selection.")}function f(e,t){return t.compareBoundaryPoints(e.START_TO_START,e)}function p(e,t){var n,r=l.DomRange.getRangeDocument(e),i=e.toString(),t=c(t);return e.collapsed?{document:r,markerId:(n=d(e,!1)).id,collapsed:!0}:(n=d(e,!1),{document:r,startMarkerId:d(e,!0).id,endMarkerId:n.id,collapsed:!1,backward:t,toString:function(){return"original text: '"+i+"', new text: '"+e.toString()+"'"}})}function r(e,t){var n,r,i=e.document,o=(void 0===t&&(t=!0),l.createRange(i));return e.collapsed?(n=u(e.markerId,i))?(n.style.display="inline",(r=n.previousSibling)&&3==r.nodeType?(s(n),o.collapseToPoint(r,r.length)):(o.collapseBefore(n),s(n))):a.warn("Marker element has been removed. Cannot restore selection."):(h(i,o,e.startMarkerId,!0),h(i,o,e.endMarkerId,!1)),t&&o.normalizeBoundaries(),o}function m(e,t){var n,r,i=[],o=c(t);(e=e.slice(0)).sort(f);for(var a=0,s=e.length;a<s;++a)i[a]=p(e[a],o);for(a=s-1;0<=a;--a)n=e[a],r=l.DomRange.getRangeDocument(n),n.collapsed?n.collapseAfter(u(i[a].markerId,r)):(n.setEndBefore(u(i[a].endMarkerId,r)),n.setStartAfter(u(i[a].startMarkerId,r)));return i}function g(e){for(var t=[],n=e.length-1;0<=n;n--)t[n]=r(e[n],!0);return t}function v(e,t){t=u(t,e);t&&s(t)}l.util.extend(l,{saveRange:p,restoreRange:r,saveRanges:m,restoreRanges:g,saveSelection:function(e){var t,n,r,i;return l.isSelectionValid(e)?(i=m(n=(t=l.getSelection(e)).getAllRanges(),r=1==n.length&&t.isBackward()),r?t.setSingleRange(n[0],r):t.setRanges(n),{win:e,rangeInfos:i,restored:!1}):(a.warn("Cannot save selection. This usually happens when the selection is collapsed and the selection document has lost focus."),null)},restoreSelection:function(e,t){var n,r,i;e.restored||(n=e.rangeInfos,r=l.getSelection(e.win),i=g(n),1==n.length&&t&&l.features.selectionHasExtend&&n[0].backward?(r.removeAllRanges(),r.addRange(i[0],!0)):r.setRanges(i),e.restored=!0)},removeMarkerElement:v,removeMarkers:function(e){for(var t,n=e.rangeInfos,r=0,i=n.length;r<i;++r)(t=n[r]).collapsed?v(e.doc,t.markerId):(v(e.doc,t.startMarkerId),v(e.doc,t.endMarkerId))}})}),e},this),!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.moment=t()}(this,function(){"use strict";var N;function f(){return N.apply(null,arguments)}function d(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function j(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e)}function h(e){return void 0===e}function L(e){return"number"==typeof e||"[object Number]"===Object.prototype.toString.call(e)}function V(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function F(e,t){for(var n=[],r=0;r<e.length;++r)n.push(t(e[r],r));return n}function p(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function m(e,t){for(var n in t)p(t,n)&&(e[n]=t[n]);return p(t,"toString")&&(e.toString=t.toString),p(t,"valueOf")&&(e.valueOf=t.valueOf),e}function c(e,t,n,r){return At(e,t,n,r,!0).utc()}function g(e){return null==e._pf&&(e._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null,rfc2822:!1,weekdayMismatch:!1}),e._pf}var z=Array.prototype.some||function(e){for(var t=Object(this),n=t.length>>>0,r=0;r<n;r++)if(r in t&&e.call(this,t[r],r,t))return!0;return!1};function B(e){if(null==e._isValid){var t=g(e),n=z.call(t.parsedDateParts,function(e){return null!=e}),n=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidMonth&&!t.invalidWeekday&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&n);if(e._strict&&(n=n&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour),null!=Object.isFrozen&&Object.isFrozen(e))return n;e._isValid=n}return e._isValid}function H(e){var t=c(NaN);return null!=e?m(g(t),e):g(t).userInvalidated=!0,t}var U=f.momentProperties=[];function W(e,t){var n,r,i;if(h(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),h(t._i)||(e._i=t._i),h(t._f)||(e._f=t._f),h(t._l)||(e._l=t._l),h(t._strict)||(e._strict=t._strict),h(t._tzm)||(e._tzm=t._tzm),h(t._isUTC)||(e._isUTC=t._isUTC),h(t._offset)||(e._offset=t._offset),h(t._pf)||(e._pf=g(t)),h(t._locale)||(e._locale=t._locale),0<U.length)for(n=0;n<U.length;n++)h(i=t[r=U[n]])||(e[r]=i);return e}var q=!1;function Y(e){W(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===q&&(q=!0,f.updateOffset(this),q=!1)}function v(e){return e instanceof Y||null!=e&&null!=e._isAMomentObject}function s(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function u(e){var e=+e,t=0;return t=0!=e&&isFinite(e)?s(e):t}function G(e,t,n){for(var r=Math.min(e.length,t.length),i=Math.abs(e.length-t.length),o=0,a=0;a<r;a++)(n&&e[a]!==t[a]||!n&&u(e[a])!==u(t[a]))&&o++;return o+i}function K(e){!1===f.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function e(i,o){var a=!0;return m(function(){if(null!=f.deprecationHandler&&f.deprecationHandler(null,i),a){for(var e,t=[],n=0;n<arguments.length;n++){if(e="","object"==typeof arguments[n]){for(var r in e+="\n["+n+"] ",arguments[0])e+=r+": "+arguments[0][r]+", ";e=e.slice(0,-2)}else e=arguments[n];t.push(e)}K(i+"\nArguments: "+Array.prototype.slice.call(t).join("")+"\n"+(new Error).stack),a=!1}return o.apply(this,arguments)},o)}var X={};function J(e,t){null!=f.deprecationHandler&&f.deprecationHandler(e,t),X[e]||(K(t),X[e]=!0)}function a(e){return e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function Q(e,t){var n,r=m({},e);for(n in t)p(t,n)&&(j(e[n])&&j(t[n])?(r[n]={},m(r[n],e[n]),m(r[n],t[n])):null!=t[n]?r[n]=t[n]:delete r[n]);for(n in e)p(e,n)&&!p(t,n)&&j(e[n])&&(r[n]=m({},r[n]));return r}function Z(e){null!=e&&this.set(e)}f.suppressDeprecationWarnings=!1,f.deprecationHandler=null;var ee=Object.keys||function(e){var t,n=[];for(t in e)p(e,t)&&n.push(t);return n};var te={};function t(e,t){var n=e.toLowerCase();te[n]=te[n+"s"]=te[t]=e}function o(e){return"string"==typeof e?te[e]||te[e.toLowerCase()]:void 0}function ne(e){var t,n,r={};for(n in e)p(e,n)&&(t=o(n))&&(r[t]=e[n]);return r}var re={};function n(e,t){re[e]=t}function ie(t,n){return function(e){return null!=e?(ae(this,t,e),f.updateOffset(this,n),this):oe(this,t)}}function oe(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function ae(e,t,n){e.isValid()&&e._d["set"+(e._isUTC?"UTC":"")+t](n)}function l(e,t,n){var r=""+Math.abs(e);return(0<=e?n?"+":"":"-")+Math.pow(10,Math.max(0,t-r.length)).toString().substr(1)+r}var se=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,le=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,ce={},ue={};function r(e,t,n,r){var i="string"==typeof r?function(){return this[r]()}:r;e&&(ue[e]=i),t&&(ue[t[0]]=function(){return l(i.apply(this,arguments),t[1],t[2])}),n&&(ue[n]=function(){return this.localeData().ordinal(i.apply(this,arguments),e)})}function de(e,t){return e.isValid()?(t=he(t,e.localeData()),ce[t]=ce[t]||function(r){for(var e,i=r.match(se),t=0,o=i.length;t<o;t++)ue[i[t]]?i[t]=ue[i[t]]:i[t]=(e=i[t]).match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"");return function(e){for(var t="",n=0;n<o;n++)t+=a(i[n])?i[n].call(e,r):i[n];return t}}(t),ce[t](e)):e.localeData().invalidDate()}function he(e,t){var n=5;function r(e){return t.longDateFormat(e)||e}for(le.lastIndex=0;0<=n&&le.test(e);)e=e.replace(le,r),le.lastIndex=0,--n;return e}var fe=/\d/,i=/\d\d/,pe=/\d{3}/,me=/\d{4}/,b=/[+-]?\d{6}/,y=/\d\d?/,ge=/\d\d\d\d?/,ve=/\d\d\d\d\d\d?/,be=/\d{1,3}/,ye=/\d{1,4}/,w=/[+-]?\d{1,6}/,we=/\d+/,_e=/[+-]?\d+/,ke=/Z|[+-]\d\d:?\d\d/gi,xe=/Z|[+-]\d\d(?::?\d\d)?/gi,Ce=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,Se={};function _(e,n,r){Se[e]=a(n)?n:function(e,t){return e&&r?r:n}}function Te(e,t){return p(Se,e)?Se[e](t._strict,t._locale):new RegExp($e(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,n,r,i){return t||n||r||i})))}function $e(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var Ee={};function k(e,n){var t,r=n;for("string"==typeof e&&(e=[e]),L(n)&&(r=function(e,t){t[n]=u(e)}),t=0;t<e.length;t++)Ee[e[t]]=r}function Ae(e,i){k(e,function(e,t,n,r){n._w=n._w||{},i(e,n._w,n,r)})}var x=0,C=1,S=2,T=3,$=4,E=5,Oe=6,Me=7,Pe=8,De=Array.prototype.indexOf||function(e){for(var t=0;t<this.length;++t)if(this[t]===e)return t;return-1},A=De;function Re(e,t){return new Date(Date.UTC(e,t+1,0)).getUTCDate()}r("M",["MM",2],"Mo",function(){return this.month()+1}),r("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)}),r("MMMM",0,0,function(e){return this.localeData().months(this,e)}),t("month","M"),n("month",8),_("M",y),_("MM",y,i),_("MMM",function(e,t){return t.monthsShortRegex(e)}),_("MMMM",function(e,t){return t.monthsRegex(e)}),k(["M","MM"],function(e,t){t[C]=u(e)-1}),k(["MMM","MMMM"],function(e,t,n,r){r=n._locale.monthsParse(e,r,n._strict);null!=r?t[C]=r:g(n).invalidMonth=e});var Ie=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,De="January_February_March_April_May_June_July_August_September_October_November_December".split("_");var Ne="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_");function je(e,t){var n;if(e.isValid()){if("string"==typeof t)if(/^\d+$/.test(t))t=u(t);else if(!L(t=e.localeData().monthsParse(t)))return;n=Math.min(e.date(),Re(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n)}}function Le(e){return null!=e?(je(this,e),f.updateOffset(this,!0),this):oe(this,"Month")}var Ve=Ce;var Fe=Ce;function ze(){function e(e,t){return t.length-e.length}for(var t,n=[],r=[],i=[],o=0;o<12;o++)t=c([2e3,o]),n.push(this.monthsShort(t,"")),r.push(this.months(t,"")),i.push(this.months(t,"")),i.push(this.monthsShort(t,""));for(n.sort(e),r.sort(e),i.sort(e),o=0;o<12;o++)n[o]=$e(n[o]),r[o]=$e(r[o]);for(o=0;o<24;o++)i[o]=$e(i[o]);this._monthsRegex=new RegExp("^("+i.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+n.join("|")+")","i")}function Be(e){return He(e)?366:365}function He(e){return e%4==0&&e%100!=0||e%400==0}r("Y",0,0,function(){var e=this.year();return e<=9999?""+e:"+"+e}),r(0,["YY",2],0,function(){return this.year()%100}),r(0,["YYYY",4],0,"year"),r(0,["YYYYY",5],0,"year"),r(0,["YYYYYY",6,!0],0,"year"),t("year","y"),n("year",1),_("Y",_e),_("YY",y,i),_("YYYY",ye,me),_("YYYYY",w,b),_("YYYYYY",w,b),k(["YYYYY","YYYYYY"],x),k("YYYY",function(e,t){t[x]=2===e.length?f.parseTwoDigitYear(e):u(e)}),k("YY",function(e,t){t[x]=f.parseTwoDigitYear(e)}),k("Y",function(e,t){t[x]=parseInt(e,10)}),f.parseTwoDigitYear=function(e){return u(e)+(68<u(e)?1900:2e3)};var Ue=ie("FullYear",!0);function We(e,t,n,r,i,o,a){t=new Date(e,t,n,r,i,o,a);return e<100&&0<=e&&isFinite(t.getFullYear())&&t.setFullYear(e),t}function qe(e){var t=new Date(Date.UTC.apply(null,arguments));return e<100&&0<=e&&isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e),t}function Ye(e,t,n){n=7+t-n;return n-(7+qe(e,0,n).getUTCDay()-t)%7-1}function Ge(e,t,n,r,i){var o,t=1+7*(t-1)+(7+n-r)%7+Ye(e,r,i),n=t<=0?Be(o=e-1)+t:t>Be(e)?(o=e+1,t-Be(e)):(o=e,t);return{year:o,dayOfYear:n}}function Ke(e,t,n){var r,i,o=Ye(e.year(),t,n),o=Math.floor((e.dayOfYear()-o-1)/7)+1;return o<1?r=o+Xe(i=e.year()-1,t,n):o>Xe(e.year(),t,n)?(r=o-Xe(e.year(),t,n),i=e.year()+1):(i=e.year(),r=o),{week:r,year:i}}function Xe(e,t,n){var r=Ye(e,t,n),t=Ye(e+1,t,n);return(Be(e)-r+t)/7}r("w",["ww",2],"wo","week"),r("W",["WW",2],"Wo","isoWeek"),t("week","w"),t("isoWeek","W"),n("week",5),n("isoWeek",5),_("w",y),_("ww",y,i),_("W",y),_("WW",y,i),Ae(["w","ww","W","WW"],function(e,t,n,r){t[r.substr(0,1)]=u(e)});r("d",0,"do","day"),r("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)}),r("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)}),r("dddd",0,0,function(e){return this.localeData().weekdays(this,e)}),r("e",0,0,"weekday"),r("E",0,0,"isoWeekday"),t("day","d"),t("weekday","e"),t("isoWeekday","E"),n("day",11),n("weekday",11),n("isoWeekday",11),_("d",y),_("e",y),_("E",y),_("dd",function(e,t){return t.weekdaysMinRegex(e)}),_("ddd",function(e,t){return t.weekdaysShortRegex(e)}),_("dddd",function(e,t){return t.weekdaysRegex(e)}),Ae(["dd","ddd","dddd"],function(e,t,n,r){r=n._locale.weekdaysParse(e,r,n._strict);null!=r?t.d=r:g(n).invalidWeekday=e}),Ae(["d","e","E"],function(e,t,n,r){t[r]=u(e)});var Je="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_");var Qe="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_");var Ze="Su_Mo_Tu_We_Th_Fr_Sa".split("_");var et=Ce;var tt=Ce;var nt=Ce;function rt(){function e(e,t){return t.length-e.length}for(var t,n,r,i=[],o=[],a=[],s=[],l=0;l<7;l++)r=c([2e3,1]).day(l),t=this.weekdaysMin(r,""),n=this.weekdaysShort(r,""),r=this.weekdays(r,""),i.push(t),o.push(n),a.push(r),s.push(t),s.push(n),s.push(r);for(i.sort(e),o.sort(e),a.sort(e),s.sort(e),l=0;l<7;l++)o[l]=$e(o[l]),a[l]=$e(a[l]),s[l]=$e(s[l]);this._weekdaysRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+a.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+o.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+i.join("|")+")","i")}function it(){return this.hours()%12||12}function ot(e,t){r(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}function at(e,t){return t._meridiemParse}r("H",["HH",2],0,"hour"),r("h",["hh",2],0,it),r("k",["kk",2],0,function(){return this.hours()||24}),r("hmm",0,0,function(){return""+it.apply(this)+l(this.minutes(),2)}),r("hmmss",0,0,function(){return""+it.apply(this)+l(this.minutes(),2)+l(this.seconds(),2)}),r("Hmm",0,0,function(){return""+this.hours()+l(this.minutes(),2)}),r("Hmmss",0,0,function(){return""+this.hours()+l(this.minutes(),2)+l(this.seconds(),2)}),ot("a",!0),ot("A",!1),t("hour","h"),n("hour",13),_("a",at),_("A",at),_("H",y),_("h",y),_("k",y),_("HH",y,i),_("hh",y,i),_("kk",y,i),_("hmm",ge),_("hmmss",ve),_("Hmm",ge),_("Hmmss",ve),k(["H","HH"],T),k(["k","kk"],function(e,t,n){e=u(e);t[T]=24===e?0:e}),k(["a","A"],function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e}),k(["h","hh"],function(e,t,n){t[T]=u(e),g(n).bigHour=!0}),k("hmm",function(e,t,n){var r=e.length-2;t[T]=u(e.substr(0,r)),t[$]=u(e.substr(r)),g(n).bigHour=!0}),k("hmmss",function(e,t,n){var r=e.length-4,i=e.length-2;t[T]=u(e.substr(0,r)),t[$]=u(e.substr(r,2)),t[E]=u(e.substr(i)),g(n).bigHour=!0}),k("Hmm",function(e,t,n){var r=e.length-2;t[T]=u(e.substr(0,r)),t[$]=u(e.substr(r))}),k("Hmmss",function(e,t,n){var r=e.length-4,i=e.length-2;t[T]=u(e.substr(0,r)),t[$]=u(e.substr(r,2)),t[E]=u(e.substr(i))});var st,Ce=ie("Hours",!0),lt={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:De,monthsShort:Ne,week:{dow:0,doy:6},weekdays:Je,weekdaysMin:Ze,weekdaysShort:Qe,meridiemParse:/[ap]\.?m?\.?/i},O={},ct={};function ut(e){return e&&e.toLowerCase().replace("_","-")}function dt(e){var t;if(!O[e]&&"undefined"!=typeof module&&module&&module.exports)try{t=st._abbr,require("./locale/"+e),ht(t)}catch(e){}return O[e]}function ht(e,t){return(st=e&&(e=h(t)?pt(e):ft(e,t))?e:st)._abbr}function ft(e,t){if(null===t)return delete O[e],null;var n=lt;if(t.abbr=e,null!=O[e])J("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),n=O[e]._config;else if(null!=t.parentLocale){if(null==O[t.parentLocale])return ct[t.parentLocale]||(ct[t.parentLocale]=[]),ct[t.parentLocale].push({name:e,config:t}),null;n=O[t.parentLocale]._config}return O[e]=new Z(Q(n,t)),ct[e]&&ct[e].forEach(function(e){ft(e.name,e.config)}),ht(e),O[e]}function pt(e){var t;if(!(e=e&&e._locale&&e._locale._abbr?e._locale._abbr:e))return st;if(!d(e)){if(t=dt(e))return t;e=[e]}for(var n,r,i,o,a=e,s=0;s<a.length;){for(n=(o=ut(a[s]).split("-")).length,r=(r=ut(a[s+1]))?r.split("-"):null;0<n;){if(i=dt(o.slice(0,n).join("-")))return i;if(r&&r.length>=n&&G(o,r,!0)>=n-1)break;n--}s++}return null}function mt(e){var t=e._a;return t&&-2===g(e).overflow&&(t=t[C]<0||11<t[C]?C:t[S]<1||t[S]>Re(t[x],t[C])?S:t[T]<0||24<t[T]||24===t[T]&&(0!==t[$]||0!==t[E]||0!==t[Oe])?T:t[$]<0||59<t[$]?$:t[E]<0||59<t[E]?E:t[Oe]<0||999<t[Oe]?Oe:-1,g(e)._overflowDayOfYear&&(t<x||S<t)&&(t=S),g(e)._overflowWeeks&&-1===t&&(t=Me),g(e)._overflowWeekday&&-1===t&&(t=Pe),g(e).overflow=t),e}var gt=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,vt=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,bt=/Z|[+-]\d\d(?::?\d\d)?/,yt=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],wt=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],_t=/^\/?Date\((\-?\d+)/i;function kt(e){var t,n,r,i,o,a,s=e._i,l=gt.exec(s)||vt.exec(s);if(l){for(g(e).iso=!0,t=0,n=yt.length;t<n;t++)if(yt[t][1].exec(l[1])){i=yt[t][0],r=!1!==yt[t][2];break}if(null==i)e._isValid=!1;else{if(l[3]){for(t=0,n=wt.length;t<n;t++)if(wt[t][1].exec(l[3])){o=(l[2]||" ")+wt[t][0];break}if(null==o)return void(e._isValid=!1)}if(r||null==o){if(l[4]){if(!bt.exec(l[4]))return void(e._isValid=!1);a="Z"}e._f=i+(o||"")+(a||""),$t(e)}else e._isValid=!1}}else e._isValid=!1}var xt=/^((?:Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d?\d\s(?:Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(?:\d\d)?\d\d\s)(\d\d:\d\d)(\:\d\d)?(\s(?:UT|GMT|[ECMP][SD]T|[A-IK-Za-ik-z]|[+-]\d{4}))$/;function Ct(e){var t,n,r,i,o={" GMT":" +0000"," EDT":" -0400"," EST":" -0500"," CDT":" -0500"," CST":" -0600"," MDT":" -0600"," MST":" -0700"," PDT":" -0700"," PST":" -0800"},a=e._i.replace(/\([^\)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s|\s$/g,""),s=xt.exec(a);if(s){if(a=s[1]?"ddd"+(5===s[1].length?", ":" "):"",t="D MMM "+(10<s[2].length?"YYYY ":"YY "),n="HH:mm"+(s[4]?":ss":""),s[1]){var l=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"][new Date(s[2]).getDay()];if(s[1].substr(0,3)!==l)return g(e).weekdayMismatch=!0,void(e._isValid=!1)}switch(s[5].length){case 2:r=0===i?" +0000":((i="YXWVUTSRQPONZABCDEFGHIKLM".indexOf(s[5][1].toUpperCase())-12)<0?" -":" +")+(""+i).replace(/^-?/,"0").match(/..$/)[0]+"00";break;case 4:r=o[s[5]];break;default:r=o[" GMT"]}s[5]=r,e._i=s.splice(1).join(""),e._f=a+t+n+" ZZ",$t(e),g(e).rfc2822=!0}else e._isValid=!1}function St(e,t,n){return null!=e?e:null!=t?t:n}function Tt(e){var t,n,r,i,o,a,s,l,c,u,d,h=[];if(!e._d){for(r=e,i=new Date(f.now()),n=r._useUTC?[i.getUTCFullYear(),i.getUTCMonth(),i.getUTCDate()]:[i.getFullYear(),i.getMonth(),i.getDate()],e._w&&null==e._a[S]&&null==e._a[C]&&(null!=(i=(r=e)._w).GG||null!=i.W||null!=i.E?(l=1,c=4,o=St(i.GG,r._a[x],Ke(M(),1,4).year),a=St(i.W,1),((s=St(i.E,1))<1||7<s)&&(u=!0)):(l=r._locale._week.dow,c=r._locale._week.doy,d=Ke(M(),l,c),o=St(i.gg,r._a[x],d.year),a=St(i.w,d.week),null!=i.d?((s=i.d)<0||6<s)&&(u=!0):null!=i.e?(s=i.e+l,(i.e<0||6<i.e)&&(u=!0)):s=l),a<1||a>Xe(o,l,c)?g(r)._overflowWeeks=!0:null!=u?g(r)._overflowWeekday=!0:(d=Ge(o,a,s,l,c),r._a[x]=d.year,r._dayOfYear=d.dayOfYear)),null!=e._dayOfYear&&(i=St(e._a[x],n[x]),(e._dayOfYear>Be(i)||0===e._dayOfYear)&&(g(e)._overflowDayOfYear=!0),u=qe(i,0,e._dayOfYear),e._a[C]=u.getUTCMonth(),e._a[S]=u.getUTCDate()),t=0;t<3&&null==e._a[t];++t)e._a[t]=h[t]=n[t];for(;t<7;t++)e._a[t]=h[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[T]&&0===e._a[$]&&0===e._a[E]&&0===e._a[Oe]&&(e._nextDay=!0,e._a[T]=0),e._d=(e._useUTC?qe:We).apply(null,h),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[T]=24)}}function $t(e){if(e._f===f.ISO_8601)kt(e);else if(e._f===f.RFC_2822)Ct(e);else{e._a=[],g(e).empty=!0;for(var t,n,r,i,o,a=""+e._i,s=a.length,l=0,c=he(e._f,e._locale).match(se)||[],u=0;u<c.length;u++)n=c[u],(t=(a.match(Te(n,e))||[])[0])&&(0<(r=a.substr(0,a.indexOf(t))).length&&g(e).unusedInput.push(r),a=a.slice(a.indexOf(t)+t.length),l+=t.length),ue[n]?(t?g(e).empty=!1:g(e).unusedTokens.push(n),r=n,o=e,null!=(i=t)&&p(Ee,r)&&Ee[r](i,o._a,o,r)):e._strict&&!t&&g(e).unusedTokens.push(n);g(e).charsLeftOver=s-l,0<a.length&&g(e).unusedInput.push(a),e._a[T]<=12&&!0===g(e).bigHour&&0<e._a[T]&&(g(e).bigHour=void 0),g(e).parsedDateParts=e._a.slice(0),g(e).meridiem=e._meridiem,e._a[T]=function(e,t,n){if(null==n)return t;return null!=e.meridiemHour?e.meridiemHour(t,n):null!=e.isPM?((e=e.isPM(n))&&t<12&&(t+=12),t=e||12!==t?t:0):t}(e._locale,e._a[T],e._meridiem),Tt(e),mt(e)}}function Et(e){var t,n,r=e._i,i=e._f;if(e._locale=e._locale||pt(e._l),null===r||void 0===i&&""===r)return H({nullInput:!0});if("string"==typeof r&&(e._i=r=e._locale.preparse(r)),v(r))return new Y(mt(r));if(V(r))e._d=r;else if(d(i)){var o,a,s,l,c,u=e;if(0===u._f.length)g(u).invalidFormat=!0,u._d=new Date(NaN);else{for(l=0;l<u._f.length;l++)c=0,o=W({},u),null!=u._useUTC&&(o._useUTC=u._useUTC),o._f=u._f[l],$t(o),B(o)&&(c=(c+=g(o).charsLeftOver)+10*g(o).unusedTokens.length,g(o).score=c,(null==s||c<s)&&(s=c,a=o));m(u,a||o)}}else if(i)$t(e);else if(h(i=(r=e)._i))r._d=new Date(f.now());else V(i)?r._d=new Date(i.valueOf()):"string"==typeof i?(n=r,null!==(t=_t.exec(n._i))?n._d=new Date(+t[1]):(kt(n),!1===n._isValid&&(delete n._isValid,Ct(n),!1===n._isValid&&(delete n._isValid,f.createFromInputFallback(n))))):d(i)?(r._a=F(i.slice(0),function(e){return parseInt(e,10)}),Tt(r)):j(i)?(t=r)._d||(n=ne(t._i),t._a=F([n.year,n.month,n.day||n.date,n.hour,n.minute,n.second,n.millisecond],function(e){return e&&parseInt(e,10)}),Tt(t)):L(i)?r._d=new Date(i):f.createFromInputFallback(r);return B(e)||(e._d=null),e}function At(e,t,n,r,i){var o={};return!0!==n&&!1!==n||(r=n,n=void 0),(j(e)&&function(e){for(var t in e)return;return 1}(e)||d(e)&&0===e.length)&&(e=void 0),o._isAMomentObject=!0,o._useUTC=o._isUTC=i,o._l=n,o._i=e,o._f=t,o._strict=r,(i=new Y(mt(Et(i=o))))._nextDay&&(i.add(1,"d"),i._nextDay=void 0),i}function M(e,t,n,r){return At(e,t,n,r,!1)}f.createFromInputFallback=e("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))}),f.ISO_8601=function(){},f.RFC_2822=function(){};ge=e("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=M.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:H()}),ve=e("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=M.apply(null,arguments);return this.isValid()&&e.isValid()?this<e?this:e:H()});function Ot(e,t){var n,r;if(!(t=1===t.length&&d(t[0])?t[0]:t).length)return M();for(n=t[0],r=1;r<t.length;++r)t[r].isValid()&&!t[r][e](n)||(n=t[r]);return n}var Mt=["year","quarter","month","week","day","hour","minute","second","millisecond"];function Pt(e){var e=ne(e),t=e.year||0,n=e.quarter||0,r=e.month||0,i=e.week||0,o=e.day||0,a=e.hour||0,s=e.minute||0,l=e.second||0,c=e.millisecond||0;this._isValid=function(e){for(var t in e)if(-1===Mt.indexOf(t)||null!=e[t]&&isNaN(e[t]))return!1;for(var n=!1,r=0;r<Mt.length;++r)if(e[Mt[r]]){if(n)return!1;parseFloat(e[Mt[r]])!==u(e[Mt[r]])&&(n=!0)}return!0}(e),this._milliseconds=+c+1e3*l+6e4*s+1e3*a*60*60,this._days=+o+7*i,this._months=+r+3*n+12*t,this._data={},this._locale=pt(),this._bubble()}function Dt(e){return e instanceof Pt}function Rt(e){return e<0?-1*Math.round(-1*e):Math.round(e)}function It(e,n){r(e,0,0,function(){var e=this.utcOffset(),t="+";return e<0&&(e=-e,t="-"),t+l(~~(e/60),2)+n+l(~~e%60,2)})}It("Z",":"),It("ZZ",""),_("Z",xe),_("ZZ",xe),k(["Z","ZZ"],function(e,t,n){n._useUTC=!0,n._tzm=jt(xe,e)});var Nt=/([\+\-]|\d\d)/gi;function jt(e,t){var t=(t||"").match(e);return null===t?null:0===(t=60*(e=((t[t.length-1]||[])+"").match(Nt)||["-",0,0])[1]+u(e[2]))?0:"+"===e[0]?t:-t}function Lt(e,t){var n;return t._isUTC?(t=t.clone(),n=(v(e)||V(e)?e:M(e)).valueOf()-t.valueOf(),t._d.setTime(t._d.valueOf()+n),f.updateOffset(t,!1),t):M(e).local()}function Vt(e){return 15*-Math.round(e._d.getTimezoneOffset()/15)}function Ft(){return!!this.isValid()&&(this._isUTC&&0===this._offset)}f.updateOffset=function(){};var zt=/^(\-)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,Bt=/^(-)?P(?:(-?[0-9,.]*)Y)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)W)?(?:(-?[0-9,.]*)D)?(?:T(?:(-?[0-9,.]*)H)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)S)?)?$/;function P(e,t){var n,r=e,i=null;return Dt(e)?r={ms:e._milliseconds,d:e._days,M:e._months}:L(e)?(r={},t?r[t]=e:r.milliseconds=e):(i=zt.exec(e))?(n="-"===i[1]?-1:1,r={y:0,d:u(i[S])*n,h:u(i[T])*n,m:u(i[$])*n,s:u(i[E])*n,ms:u(Rt(1e3*i[Oe]))*n}):(i=Bt.exec(e))?(n="-"===i[1]?-1:1,r={y:Ht(i[2],n),M:Ht(i[3],n),w:Ht(i[4],n),d:Ht(i[5],n),h:Ht(i[6],n),m:Ht(i[7],n),s:Ht(i[8],n)}):null==r?r={}:"object"==typeof r&&("from"in r||"to"in r)&&(t=function(e,t){var n;if(!e.isValid()||!t.isValid())return{milliseconds:0,months:0};t=Lt(t,e),e.isBefore(t)?n=Ut(e,t):((n=Ut(t,e)).milliseconds=-n.milliseconds,n.months=-n.months);return n}(M(r.from),M(r.to)),(r={}).ms=t.milliseconds,r.M=t.months),i=new Pt(r),Dt(e)&&p(e,"_locale")&&(i._locale=e._locale),i}function Ht(e,t){e=e&&parseFloat(e.replace(",","."));return(isNaN(e)?0:e)*t}function Ut(e,t){var n={milliseconds:0,months:0};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function Wt(r,i){return function(e,t){var n;return null===t||isNaN(+t)||(J(i,"moment()."+i+"(period, number) is deprecated. Please use moment()."+i+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),n=e,e=t,t=n),qt(this,P(e="string"==typeof e?+e:e,t),r),this}}function qt(e,t,n,r){var i=t._milliseconds,o=Rt(t._days),t=Rt(t._months);e.isValid()&&(r=null==r||r,i&&e._d.setTime(e._d.valueOf()+i*n),o&&ae(e,"Date",oe(e,"Date")+o*n),t&&je(e,oe(e,"Month")+t*n),r&&f.updateOffset(e,o||t))}P.fn=Pt.prototype,P.invalid=function(){return P(NaN)};De=Wt(1,"add"),Ne=Wt(-1,"subtract");function Yt(e){return void 0===e?this._locale._abbr:(null!=(e=pt(e))&&(this._locale=e),this)}f.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",f.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";Je=e("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return void 0===e?this.localeData():this.locale(e)});function Gt(){return this._locale}function Kt(e,t){r(0,[e,e.length],0,t)}function Xt(e,t,n,r,i){var o;return null==e?Ke(this,r,i).year:(o=Xe(e,r,i),function(e,t,n,r,i){e=Ge(e,t,n,r,i),t=qe(e.year,0,e.dayOfYear);return this.year(t.getUTCFullYear()),this.month(t.getUTCMonth()),this.date(t.getUTCDate()),this}.call(this,e,t=o<t?o:t,n,r,i))}r(0,["gg",2],0,function(){return this.weekYear()%100}),r(0,["GG",2],0,function(){return this.isoWeekYear()%100}),Kt("gggg","weekYear"),Kt("ggggg","weekYear"),Kt("GGGG","isoWeekYear"),Kt("GGGGG","isoWeekYear"),t("weekYear","gg"),t("isoWeekYear","GG"),n("weekYear",1),n("isoWeekYear",1),_("G",_e),_("g",_e),_("GG",y,i),_("gg",y,i),_("GGGG",ye,me),_("gggg",ye,me),_("GGGGG",w,b),_("ggggg",w,b),Ae(["gggg","ggggg","GGGG","GGGGG"],function(e,t,n,r){t[r.substr(0,2)]=u(e)}),Ae(["gg","GG"],function(e,t,n,r){t[r]=f.parseTwoDigitYear(e)}),r("Q",0,"Qo","quarter"),t("quarter","Q"),n("quarter",7),_("Q",fe),k("Q",function(e,t){t[C]=3*(u(e)-1)}),r("D",["DD",2],"Do","date"),t("date","D"),n("date",9),_("D",y),_("DD",y,i),_("Do",function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient}),k(["D","DD"],S),k("Do",function(e,t){t[S]=u(e.match(y)[0])});Ze=ie("Date",!0);r("DDD",["DDDD",3],"DDDo","dayOfYear"),t("dayOfYear","DDD"),n("dayOfYear",4),_("DDD",be),_("DDDD",pe),k(["DDD","DDDD"],function(e,t,n){n._dayOfYear=u(e)}),r("m",["mm",2],0,"minute"),t("minute","m"),n("minute",14),_("m",y),_("mm",y,i),k(["m","mm"],$);var Jt,Qe=ie("Minutes",!1),ye=(r("s",["ss",2],0,"second"),t("second","s"),n("second",15),_("s",y),_("ss",y,i),k(["s","ss"],E),ie("Seconds",!1));for(r("S",0,0,function(){return~~(this.millisecond()/100)}),r(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),r(0,["SSS",3],0,"millisecond"),r(0,["SSSS",4],0,function(){return 10*this.millisecond()}),r(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),r(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),r(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),r(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),r(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),t("millisecond","ms"),n("millisecond",16),_("S",be,fe),_("SS",be,i),_("SSS",be,pe),Jt="SSSS";Jt.length<=9;Jt+="S")_(Jt,we);function Qt(e,t){t[Oe]=u(1e3*("0."+e))}for(Jt="S";Jt.length<=9;Jt+="S")k(Jt,Qt);me=ie("Milliseconds",!1);r("z",0,0,"zoneAbbr"),r("zz",0,0,"zoneName");w=Y.prototype;function Zt(e){return e}w.add=De,w.calendar=function(e,t){var n=Lt(e=e||M(),this).startOf("day"),n=f.calendarFormat(this,n)||"sameElse",t=t&&(a(t[n])?t[n].call(this,e):t[n]);return this.format(t||this.localeData().calendar(n,this,M(e)))},w.clone=function(){return new Y(this)},w.diff=function(e,t,n){var r,i;return this.isValid()&&(e=Lt(e,this)).isValid()?(r=6e4*(e.utcOffset()-this.utcOffset()),"year"===(t=o(t))||"month"===t||"quarter"===t?(i=function(e,t){var n,r=12*(t.year()-e.year())+(t.month()-e.month()),i=e.clone().add(r,"months");e=t-i<0?(n=e.clone().add(r-1,"months"),(t-i)/(i-n)):(n=e.clone().add(1+r,"months"),(t-i)/(n-i));return-(r+e)||0}(this,e),"quarter"===t?i/=3:"year"===t&&(i/=12)):(e=this-e,i="second"===t?e/1e3:"minute"===t?e/6e4:"hour"===t?e/36e5:"day"===t?(e-r)/864e5:"week"===t?(e-r)/6048e5:e),n?i:s(i)):NaN},w.endOf=function(e){return void 0===(e=o(e))||"millisecond"===e?this:this.startOf(e="date"===e?"day":e).add(1,"isoWeek"===e?"week":e).subtract(1,"ms")},w.format=function(e){return e=e||(this.isUtc()?f.defaultFormatUtc:f.defaultFormat),e=de(this,e),this.localeData().postformat(e)},w.from=function(e,t){return this.isValid()&&(v(e)&&e.isValid()||M(e).isValid())?P({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},w.fromNow=function(e){return this.from(M(),e)},w.to=function(e,t){return this.isValid()&&(v(e)&&e.isValid()||M(e).isValid())?P({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},w.toNow=function(e){return this.to(M(),e)},w.get=function(e){return a(this[e=o(e)])?this[e]():this},w.invalidAt=function(){return g(this).overflow},w.isAfter=function(e,t){return e=v(e)?e:M(e),!(!this.isValid()||!e.isValid())&&("millisecond"===(t=o(h(t)?"millisecond":t))?this.valueOf()>e.valueOf():e.valueOf()<this.clone().startOf(t).valueOf())},w.isBefore=function(e,t){return e=v(e)?e:M(e),!(!this.isValid()||!e.isValid())&&("millisecond"===(t=o(h(t)?"millisecond":t))?this.valueOf()<e.valueOf():this.clone().endOf(t).valueOf()<e.valueOf())},w.isBetween=function(e,t,n,r){return("("===(r=r||"()")[0]?this.isAfter(e,n):!this.isBefore(e,n))&&(")"===r[1]?this.isBefore(t,n):!this.isAfter(t,n))},w.isSame=function(e,t){var e=v(e)?e:M(e);return!(!this.isValid()||!e.isValid())&&("millisecond"===(t=o(t||"millisecond"))?this.valueOf()===e.valueOf():(e=e.valueOf(),this.clone().startOf(t).valueOf()<=e&&e<=this.clone().endOf(t).valueOf()))},w.isSameOrAfter=function(e,t){return this.isSame(e,t)||this.isAfter(e,t)},w.isSameOrBefore=function(e,t){return this.isSame(e,t)||this.isBefore(e,t)},w.isValid=function(){return B(this)},w.lang=Je,w.locale=Yt,w.localeData=Gt,w.max=ve,w.min=ge,w.parsingFlags=function(){return m({},g(this))},w.set=function(e,t){if("object"==typeof e)for(var n=function(e){var t,n=[];for(t in e)n.push({unit:t,priority:re[t]});return n.sort(function(e,t){return e.priority-t.priority}),n}(e=ne(e)),r=0;r<n.length;r++)this[n[r].unit](e[n[r].unit]);else if(a(this[e=o(e)]))return this[e](t);return this},w.startOf=function(e){switch(e=o(e)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":case"date":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===e&&this.weekday(0),"isoWeek"===e&&this.isoWeekday(1),"quarter"===e&&this.month(3*Math.floor(this.month()/3)),this},w.subtract=Ne,w.toArray=function(){return[this.year(),this.month(),this.date(),this.hour(),this.minute(),this.second(),this.millisecond()]},w.toObject=function(){return{years:this.year(),months:this.month(),date:this.date(),hours:this.hours(),minutes:this.minutes(),seconds:this.seconds(),milliseconds:this.milliseconds()}},w.toDate=function(){return new Date(this.valueOf())},w.toISOString=function(){var e;return this.isValid()?(e=this.clone().utc()).year()<0||9999<e.year()?de(e,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):a(Date.prototype.toISOString)?this.toDate().toISOString():de(e,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):null},w.inspect=function(){var e,t,n;return this.isValid()?(t="moment",e="",this.isLocal()||(t=0===this.utcOffset()?"moment.utc":"moment.parseZone",e="Z"),t="["+t+'("]',n=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",this.format(t+n+"-MM-DD[T]HH:mm:ss.SSS"+(e+'[")]'))):"moment.invalid(/* "+this._i+" */)"},w.toJSON=function(){return this.isValid()?this.toISOString():null},w.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},w.unix=function(){return Math.floor(this.valueOf()/1e3)},w.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},w.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},w.year=Ue,w.isLeapYear=function(){return He(this.year())},w.weekYear=function(e){return Xt.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)},w.isoWeekYear=function(e){return Xt.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)},w.quarter=w.quarters=function(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)},w.month=Le,w.daysInMonth=function(){return Re(this.year(),this.month())},w.week=w.weeks=function(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")},w.isoWeek=w.isoWeeks=function(e){var t=Ke(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")},w.weeksInYear=function(){var e=this.localeData()._week;return Xe(this.year(),e.dow,e.doy)},w.isoWeeksInYear=function(){return Xe(this.year(),1,4)},w.date=Ze,w.day=w.days=function(e){var t,n,r;return this.isValid()?(t=this._isUTC?this._d.getUTCDay():this._d.getDay(),null!=e?(n=e,r=this.localeData(),e="string"!=typeof n?n:isNaN(n)?"number"==typeof(n=r.weekdaysParse(n))?n:null:parseInt(n,10),this.add(e-t,"d")):t):null!=e?this:NaN},w.weekday=function(e){var t;return this.isValid()?(t=(this.day()+7-this.localeData()._week.dow)%7,null==e?t:this.add(e-t,"d")):null!=e?this:NaN},w.isoWeekday=function(e){var t,n;return this.isValid()?null!=e?(t=e,n=this.localeData(),n="string"==typeof t?n.weekdaysParse(t)%7||7:isNaN(t)?null:t,this.day(this.day()%7?n:n-7)):this.day()||7:null!=e?this:NaN},w.dayOfYear=function(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")},w.hour=w.hours=Ce,w.minute=w.minutes=Qe,w.second=w.seconds=ye,w.millisecond=w.milliseconds=me,w.utcOffset=function(e,t,n){var r,i=this._offset||0;if(!this.isValid())return null!=e?this:NaN;if(null==e)return this._isUTC?i:Vt(this);if("string"==typeof e){if(null===(e=jt(xe,e)))return this}else Math.abs(e)<16&&!n&&(e*=60);return!this._isUTC&&t&&(r=Vt(this)),this._offset=e,this._isUTC=!0,null!=r&&this.add(r,"m"),i!==e&&(!t||this._changeInProgress?qt(this,P(e-i,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,f.updateOffset(this,!0),this._changeInProgress=null)),this},w.utc=function(e){return this.utcOffset(0,e)},w.local=function(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(Vt(this),"m")),this},w.parseZone=function(){var e;return null!=this._tzm?this.utcOffset(this._tzm,!1,!0):"string"==typeof this._i&&(null!=(e=jt(ke,this._i))?this.utcOffset(e):this.utcOffset(0,!0)),this},w.hasAlignedHourOffset=function(e){return!!this.isValid()&&(e=e?M(e).utcOffset():0,(this.utcOffset()-e)%60==0)},w.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},w.isLocal=function(){return!!this.isValid()&&!this._isUTC},w.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},w.isUtc=Ft,w.isUTC=Ft,w.zoneAbbr=function(){return this._isUTC?"UTC":""},w.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},w.dates=e("dates accessor is deprecated. Use date instead.",Ze),w.months=e("months accessor is deprecated. Use month instead",Le),w.years=e("years accessor is deprecated. Use year instead",Ue),w.zone=e("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",function(e,t){return null!=e?(this.utcOffset(e="string"!=typeof e?-e:e,t),this):-this.utcOffset()}),w.isDSTShifted=e("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",function(){var e,t;return h(this._isDSTShifted)&&(W(e={},this),(e=Et(e))._a?(t=(e._isUTC?c:M)(e._a),this._isDSTShifted=this.isValid()&&0<G(e._a,t.toArray())):this._isDSTShifted=!1),this._isDSTShifted});b=Z.prototype;function en(e,t,n,r){var i=pt(),r=c().set(r,t);return i[n](r,e)}function tn(e,t,n){if(L(e)&&(t=e,e=void 0),e=e||"",null!=t)return en(e,t,n,"month");for(var r=[],i=0;i<12;i++)r[i]=en(e,i,n,"month");return r}function nn(e,t,n,r){t=("boolean"==typeof e?L(t)&&(n=t,t=void 0):(t=e,e=!1,L(n=t)&&(n=t,t=void 0)),t||"");var i=pt(),o=e?i._week.dow:0;if(null!=n)return en(t,(n+o)%7,r,"day");for(var a=[],s=0;s<7;s++)a[s]=en(t,(s+o)%7,r,"day");return a}b.calendar=function(e,t,n){return a(e=this._calendar[e]||this._calendar.sameElse)?e.call(t,n):e},b.longDateFormat=function(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.replace(/MMMM|MM|DD|dddd/g,function(e){return e.slice(1)}),this._longDateFormat[e])},b.invalidDate=function(){return this._invalidDate},b.ordinal=function(e){return this._ordinal.replace("%d",e)},b.preparse=Zt,b.postformat=Zt,b.relativeTime=function(e,t,n,r){var i=this._relativeTime[n];return a(i)?i(e,t,n,r):i.replace(/%d/i,e)},b.pastFuture=function(e,t){return a(e=this._relativeTime[0<e?"future":"past"])?e(t):e.replace(/%s/i,t)},b.set=function(e){var t,n;for(n in e)a(t=e[n])?this[n]=t:this["_"+n]=t;this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)},b.months=function(e,t){return e?(d(this._months)?this._months:this._months[(this._months.isFormat||Ie).test(t)?"format":"standalone"])[e.month()]:d(this._months)?this._months:this._months.standalone},b.monthsShort=function(e,t){return e?(d(this._monthsShort)?this._monthsShort:this._monthsShort[Ie.test(t)?"format":"standalone"])[e.month()]:d(this._monthsShort)?this._monthsShort:this._monthsShort.standalone},b.monthsParse=function(e,t,n){var r,i;if(this._monthsParseExact)return function(e,t,n){var r,i,o,e=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;r<12;++r)o=c([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(o,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(o,"").toLocaleLowerCase();return n?"MMM"===t?-1!==(i=A.call(this._shortMonthsParse,e))?i:null:-1!==(i=A.call(this._longMonthsParse,e))?i:null:"MMM"===t?-1!==(i=A.call(this._shortMonthsParse,e))||-1!==(i=A.call(this._longMonthsParse,e))?i:null:-1!==(i=A.call(this._longMonthsParse,e))||-1!==(i=A.call(this._shortMonthsParse,e))?i:null}.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++){if(i=c([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),n||this._monthsParse[r]||(i="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[r]=new RegExp(i.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[r].test(e))return r;if(n&&"MMM"===t&&this._shortMonthsParse[r].test(e))return r;if(!n&&this._monthsParse[r].test(e))return r}},b.monthsRegex=function(e){return this._monthsParseExact?(p(this,"_monthsRegex")||ze.call(this),e?this._monthsStrictRegex:this._monthsRegex):(p(this,"_monthsRegex")||(this._monthsRegex=Fe),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)},b.monthsShortRegex=function(e){return this._monthsParseExact?(p(this,"_monthsRegex")||ze.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(p(this,"_monthsShortRegex")||(this._monthsShortRegex=Ve),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)},b.week=function(e){return Ke(e,this._week.dow,this._week.doy).week},b.firstDayOfYear=function(){return this._week.doy},b.firstDayOfWeek=function(){return this._week.dow},b.weekdays=function(e,t){return e?(d(this._weekdays)?this._weekdays:this._weekdays[this._weekdays.isFormat.test(t)?"format":"standalone"])[e.day()]:d(this._weekdays)?this._weekdays:this._weekdays.standalone},b.weekdaysMin=function(e){return e?this._weekdaysMin[e.day()]:this._weekdaysMin},b.weekdaysShort=function(e){return e?this._weekdaysShort[e.day()]:this._weekdaysShort},b.weekdaysParse=function(e,t,n){var r,i;if(this._weekdaysParseExact)return function(e,t,n){var r,i,o,e=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;r<7;++r)o=c([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(o,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(o,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(o,"").toLocaleLowerCase();return n?"dddd"===t?-1!==(i=A.call(this._weekdaysParse,e))?i:null:"ddd"===t?-1!==(i=A.call(this._shortWeekdaysParse,e))?i:null:-1!==(i=A.call(this._minWeekdaysParse,e))?i:null:"dddd"===t?-1!==(i=A.call(this._weekdaysParse,e))||-1!==(i=A.call(this._shortWeekdaysParse,e))||-1!==(i=A.call(this._minWeekdaysParse,e))?i:null:"ddd"===t?-1!==(i=A.call(this._shortWeekdaysParse,e))||-1!==(i=A.call(this._weekdaysParse,e))||-1!==(i=A.call(this._minWeekdaysParse,e))?i:null:-1!==(i=A.call(this._minWeekdaysParse,e))||-1!==(i=A.call(this._weekdaysParse,e))||-1!==(i=A.call(this._shortWeekdaysParse,e))?i:null}.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++){if(i=c([2e3,1]).day(r),n&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(i,"").replace(".",".?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(i,"").replace(".",".?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(i,"").replace(".",".?")+"$","i")),this._weekdaysParse[r]||(i="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[r]=new RegExp(i.replace(".",""),"i")),n&&"dddd"===t&&this._fullWeekdaysParse[r].test(e))return r;if(n&&"ddd"===t&&this._shortWeekdaysParse[r].test(e))return r;if(n&&"dd"===t&&this._minWeekdaysParse[r].test(e))return r;if(!n&&this._weekdaysParse[r].test(e))return r}},b.weekdaysRegex=function(e){return this._weekdaysParseExact?(p(this,"_weekdaysRegex")||rt.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(p(this,"_weekdaysRegex")||(this._weekdaysRegex=et),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)},b.weekdaysShortRegex=function(e){return this._weekdaysParseExact?(p(this,"_weekdaysRegex")||rt.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(p(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=tt),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},b.weekdaysMinRegex=function(e){return this._weekdaysParseExact?(p(this,"_weekdaysRegex")||rt.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(p(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=nt),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},b.isPM=function(e){return"p"===(e+"").toLowerCase().charAt(0)},b.meridiem=function(e,t,n){return 11<e?n?"pm":"PM":n?"am":"AM"},ht("en",{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10;return e+(1===u(e%100/10)?"th":1==t?"st":2==t?"nd":3==t?"rd":"th")}}),f.lang=e("moment.lang is deprecated. Use moment.locale instead.",ht),f.langData=e("moment.langData is deprecated. Use moment.localeData instead.",pt);var D=Math.abs;function rn(e,t,n,r){t=P(t,n);return e._milliseconds+=r*t._milliseconds,e._days+=r*t._days,e._months+=r*t._months,e._bubble()}function on(e){return e<0?Math.floor(e):Math.ceil(e)}function an(e){return 4800*e/146097}function sn(e){return 146097*e/4800}function ln(e){return function(){return this.as(e)}}fe=ln("ms"),i=ln("s"),be=ln("m"),pe=ln("h"),De=ln("d"),ve=ln("w"),ge=ln("M"),Ne=ln("y");function cn(e){return function(){return this.isValid()?this._data[e]:NaN}}Ce=cn("milliseconds"),Qe=cn("seconds"),ye=cn("minutes"),me=cn("hours"),Ze=cn("days"),Ue=cn("months"),b=cn("years");var un=Math.round,R={ss:44,s:45,m:45,h:22,d:26,M:11};function dn(e,t,n){var r=P(e).abs(),i=un(r.as("s")),o=un(r.as("m")),a=un(r.as("h")),s=un(r.as("d")),l=un(r.as("M")),r=un(r.as("y")),i=(i<=R.ss?["s",i]:i<R.s&&["ss",i])||o<=1&&["m"]||o<R.m&&["mm",o]||a<=1&&["h"]||a<R.h&&["hh",a]||s<=1&&["d"]||s<R.d&&["dd",s]||l<=1&&["M"]||l<R.M&&["MM",l]||r<=1&&["y"]||["yy",r];return i[2]=t,i[3]=0<+e,i[4]=n,function(e,t,n,r,i){return i.relativeTime(t||1,!!n,e,r)}.apply(null,i)}var hn=Math.abs;function fn(){var e,t,n,r,i,o,a;return this.isValid()?(o=hn(this._milliseconds)/1e3,n=hn(this._days),t=hn(this._months),i=s(o/60),r=s(i/60),o%=60,i%=60,e=s(t/12),t=t%=12,n=n,r=r,i=i,o=o,(a=this.asSeconds())?(a<0?"-":"")+"P"+(e?e+"Y":"")+(t?t+"M":"")+(n?n+"D":"")+(r||i||o?"T":"")+(r?r+"H":"")+(i?i+"M":"")+(o?o+"S":""):"P0D"):this.localeData().invalidDate()}var I=Pt.prototype;return I.isValid=function(){return this._isValid},I.abs=function(){var e=this._data;return this._milliseconds=D(this._milliseconds),this._days=D(this._days),this._months=D(this._months),e.milliseconds=D(e.milliseconds),e.seconds=D(e.seconds),e.minutes=D(e.minutes),e.hours=D(e.hours),e.months=D(e.months),e.years=D(e.years),this},I.add=function(e,t){return rn(this,e,t,1)},I.subtract=function(e,t){return rn(this,e,t,-1)},I.as=function(e){if(!this.isValid())return NaN;var t,n,r=this._milliseconds;if("month"===(e=o(e))||"year"===e)return t=this._days+r/864e5,n=this._months+an(t),"month"===e?n:n/12;switch(t=this._days+Math.round(sn(this._months)),e){case"week":return t/7+r/6048e5;case"day":return t+r/864e5;case"hour":return 24*t+r/36e5;case"minute":return 1440*t+r/6e4;case"second":return 86400*t+r/1e3;case"millisecond":return Math.floor(864e5*t)+r;default:throw new Error("Unknown unit "+e)}},I.asMilliseconds=fe,I.asSeconds=i,I.asMinutes=be,I.asHours=pe,I.asDays=De,I.asWeeks=ve,I.asMonths=ge,I.asYears=Ne,I.valueOf=function(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*u(this._months/12):NaN},I._bubble=function(){var e=this._milliseconds,t=this._days,n=this._months,r=this._data;return 0<=e&&0<=t&&0<=n||e<=0&&t<=0&&n<=0||(e+=864e5*on(sn(n)+t),n=t=0),r.milliseconds=e%1e3,e=s(e/1e3),r.seconds=e%60,e=s(e/60),r.minutes=e%60,e=s(e/60),r.hours=e%24,t+=s(e/24),n+=e=s(an(t)),t-=on(sn(e)),e=s(n/12),n%=12,r.days=t,r.months=n,r.years=e,this},I.get=function(e){return e=o(e),this.isValid()?this[e+"s"]():NaN},I.milliseconds=Ce,I.seconds=Qe,I.minutes=ye,I.hours=me,I.days=Ze,I.weeks=function(){return s(this.days()/7)},I.months=Ue,I.years=b,I.humanize=function(e){var t,n;return this.isValid()?(t=this.localeData(),n=dn(this,!e,t),e&&(n=t.pastFuture(+this,n)),t.postformat(n)):this.localeData().invalidDate()},I.toISOString=fn,I.toString=fn,I.toJSON=fn,I.locale=Yt,I.localeData=Gt,I.toIsoString=e("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",fn),I.lang=Je,r("X",0,0,"unix"),r("x",0,0,"valueOf"),_("x",_e),_("X",/[+-]?\d+(\.\d{1,3})?/),k("X",function(e,t,n){n._d=new Date(1e3*parseFloat(e,10))}),k("x",function(e,t,n){n._d=new Date(u(e))}),f.version="2.18.1",N=M,f.fn=w,f.min=function(){return Ot("isBefore",[].slice.call(arguments,0))},f.max=function(){return Ot("isAfter",[].slice.call(arguments,0))},f.now=function(){return Date.now?Date.now():+new Date},f.utc=c,f.unix=function(e){return M(1e3*e)},f.months=function(e,t){return tn(e,t,"months")},f.isDate=V,f.locale=ht,f.invalid=H,f.duration=P,f.isMoment=v,f.weekdays=function(e,t,n){return nn(e,t,n,"weekdays")},f.parseZone=function(){return M.apply(null,arguments).parseZone()},f.localeData=pt,f.isDuration=Dt,f.monthsShort=function(e,t){return tn(e,t,"monthsShort")},f.weekdaysMin=function(e,t,n){return nn(e,t,n,"weekdaysMin")},f.defineLocale=ft,f.updateLocale=function(e,t){var n;return null!=t?(n=lt,(n=new Z(t=Q(n=null!=O[e]?O[e]._config:n,t))).parentLocale=O[e],O[e]=n,ht(e)):null!=O[e]&&(null!=O[e].parentLocale?O[e]=O[e].parentLocale:null!=O[e]&&delete O[e]),O[e]},f.locales=function(){return ee(O)},f.weekdaysShort=function(e,t,n){return nn(e,t,n,"weekdaysShort")},f.normalizeUnits=o,f.relativeTimeRounding=function(e){return void 0===e?un:"function"==typeof e&&(un=e,!0)},f.relativeTimeThreshold=function(e,t){return void 0!==R[e]&&(void 0===t?R[e]:(R[e]=t,"s"===e&&(R.ss=t-1),!0))},f.calendarFormat=function(e,t){return(e=e.diff(t,"days",!0))<-6?"sameElse":e<-1?"lastWeek":e<0?"lastDay":e<1?"sameDay":e<2?"nextDay":e<7?"nextWeek":"sameElse"},f.prototype=w,f}),!function(){"use strict";function C(e){return angular.isUndefined(e)||null===e}function e(x,e){if(void 0===e){if("function"!=typeof require)throw new Error("Moment cannot be found by angular-moment! Please reference to: https://github.com/urish/angular-moment");e=function(){try{return require("moment")}catch(e){throw new Error("Please install moment via npm. Please reference to: https://github.com/urish/angular-moment")}}()}return x.module("angularMoment",[]).constant("angularMomentConfig",{preprocess:null,timezone:null,format:null,statefulFilters:!0}).constant("moment",e).constant("amTimeAgoConfig",{withoutSuffix:!1,serverTime:null,titleFormat:null,fullDateThreshold:null,fullDateFormat:null,fullDateThresholdUnit:"day"}).directive("amTimeAgo",["$window","moment","amMoment","amTimeAgoConfig",function(y,w,_,k){return function(e,i,t){var n,r,o=null,a=k.withoutSuffix,s=k.titleFormat,l=k.fullDateThreshold,c=k.fullDateFormat,u=k.fullDateThresholdUnit,d=(new Date).getTime(),h=t.amTimeAgo,f="TIME"===i[0].nodeName.toUpperCase(),p=!i.attr("title");function m(){var e;return r||(k.serverTime?(e=(new Date).getTime()-d+k.serverTime,w(e)):w())}function g(){o&&(y.clearTimeout(o),o=null)}function v(e){f&&i.attr("datetime",e)}function b(){var e;g(),n&&(function e(t){var n,r=m().diff(t,u),r=l&&l<=r;r?i.text(t.format(c)):i.text(t.from(m(),a)),s&&p&&i.attr("title",t.format(s)),r||(r=3600,(n=Math.abs(m().diff(t,"minute")))<1?r=1:n<60?r=30:n<180&&(r=300),o=y.setTimeout(function(){e(t)},1e3*r))}(e=_.preprocessDate(n)),v(e.toISOString()))}e.$watch(h,function(e){C(e)||""===e?(g(),n&&(i.text(""),v(""),n=null)):(n=e,b())}),x.isDefined(t.amFrom)&&e.$watch(t.amFrom,function(e){r=C(e)||""===e?null:w(e),b()}),x.isDefined(t.amWithoutSuffix)&&e.$watch(t.amWithoutSuffix,function(e){"boolean"==typeof e?(a=e,b()):a=k.withoutSuffix}),t.$observe("amFullDateThreshold",function(e){l=e,b()}),t.$observe("amFullDateFormat",function(e){c=e,b()}),t.$observe("amFullDateThresholdUnit",function(e){u=e,b()}),e.$on("$destroy",function(){g()}),e.$on("amMoment:localeChanged",function(){b()})}}]).service("amMoment",["moment","$rootScope","$log","angularMomentConfig",function(n,r,t,i){var o=null;this.changeLocale=function(e,t){t=n.locale(e,t);return x.isDefined(e)&&r.$broadcast("amMoment:localeChanged"),t},this.changeTimezone=function(e){n.tz&&n.tz.setDefault?(n.tz.setDefault(e),r.$broadcast("amMoment:timezoneChanged")):t.warn("angular-moment: changeTimezone() works only with moment-timezone.js v0.3.0 or greater."),i.timezone=e,o=e},this.preprocessDate=function(e){return o!==i.timezone&&this.changeTimezone(i.timezone),i.preprocess?i.preprocess(e):!isNaN(parseFloat(e))&&isFinite(e)?n(parseInt(e,10)):n(e)}}]).filter("amParse",["moment",function(n){return function(e,t){return n(e,t)}}]).filter("amFromUnix",["moment",function(t){return function(e){return t.unix(e)}}]).filter("amUtc",["moment",function(t){return function(e){return t.utc(e)}}]).filter("amUtcOffset",["amMoment",function(n){return function(e,t){return n.preprocessDate(e).utcOffset(t)}}]).filter("amLocal",["moment",function(t){return function(e){return t.isMoment(e)?e.local():null}}]).filter("amTimezone",["amMoment","angularMomentConfig","$log",function(n,e,r){return function(e,t){return e=n.preprocessDate(e),t?e.tz?e.tz(t):(r.warn("angular-moment: named timezone specified but moment.tz() is undefined. Did you forget to include moment-timezone.js ?"),e):e}}]).filter("amCalendar",["moment","amMoment","angularMomentConfig",function(e,r,t){function n(e,t,n){return!C(e)&&(e=r.preprocessDate(e)).isValid()?e.calendar(t,n):""}return n.$stateful=t.statefulFilters,n}]).filter("amDifference",["moment","amMoment","angularMomentConfig",function(i,o,e){function t(e,t,n,r){return!C(e)&&(e=o.preprocessDate(e),t=C(t)?i():o.preprocessDate(t),e.isValid()&&t.isValid())?e.diff(t,n,r):""}return t.$stateful=e.statefulFilters,t}]).filter("amDateFormat",["moment","amMoment","angularMomentConfig",function(e,n,t){function r(e,t){return!C(e)&&(e=n.preprocessDate(e)).isValid()?e.format(t):""}return r.$stateful=t.statefulFilters,r}]).filter("amDurationFormat",["moment","angularMomentConfig",function(r,e){function t(e,t,n){return C(e)?"":r.duration(e,t).humanize(n)}return t.$stateful=e.statefulFilters,t}]).filter("amTimeAgo",["moment","amMoment","angularMomentConfig",function(i,o,e){function t(e,t,n){var r;return!C(e)&&(e=o.preprocessDate(e),(e=i(e)).isValid())?(r=i(n),!C(n)&&r.isValid()?e.from(r,t):e.fromNow(t)):""}return t.$stateful=e.statefulFilters,t}]).filter("amSubtract",["moment","angularMomentConfig",function(r,e){function t(e,t,n){return C(e)?"":r(e).subtract(parseInt(t,10),n)}return t.$stateful=e.statefulFilters,t}]).filter("amAdd",["moment","angularMomentConfig",function(r,e){function t(e,t,n){return C(e)?"":r(e).add(parseInt(t,10),n)}return t.$stateful=e.statefulFilters,t}]).filter("amStartOf",["moment","angularMomentConfig",function(n,e){function t(e,t){return C(e)?"":n(e).startOf(t)}return t.$stateful=e.statefulFilters,t}]).filter("amEndOf",["moment","angularMomentConfig",function(n,e){function t(e,t){return C(e)?"":n(e).endOf(t)}return t.$stateful=e.statefulFilters,t}]),"angularMoment"}var t=window&&window.process&&window.process.type;"function"==typeof define&&define.amd?define(["angular","moment"],e):"undefined"!=typeof module&&module&&module.exports&&"function"==typeof require&&!t?module.exports=e(require("angular"),require("moment")):e(angular,("undefined"!=typeof global?global:window).moment)}(),!function(e,t,n){"use strict";function r(t,e){return(e="string"==typeof e||e instanceof String?new RegExp(e):e)instanceof RegExp?e.test(t):e&&Array.isArray(e.and)?e.and.every(function(e){return r(t,e)}):e&&Array.isArray(e.or)?e.or.some(function(e){return r(t,e)}):!(!e||!e.not)&&!r(t,e.not)}function i(n,e){return(e="string"==typeof e||e instanceof String?new RegExp(e):e)instanceof RegExp?e.exec(n):e&&Array.isArray(e)?e.reduce(function(e,t){return e||i(n,t)},null):null}n&&n.module("reTree",[]).factory("reTree",[function(){return{test:r,exec:i}}]),t&&(t.reTree={test:r,exec:i}),e&&(e.exports={test:r,exec:i})}("undefined"==typeof module?null:module,"undefined"==typeof window?null:window,"undefined"==typeof angular?null:angular),!function(e){"use strict";var n={CHROME:"chrome",FIREFOX:"firefox",SAFARI:"safari",OPERA:"opera",IE:"ie",MS_EDGE:"ms-edge",FB_MESSENGER:"fb-messenger",CORDOVA:"cordova",UNKNOWN:"unknown"},r={CHROME:[/\bChrome\/([\d\.]+)\b/,/\bCriOS\/([\d\.]+)\b/],FIREFOX:[/\bFirefox\/([\d\.]+)\b/,/\bFxiOS\/([\d\.]+)\b/],SAFARI:/\bVersion\/([\d\.]+)\b/,OPERA:[/\bVersion\/([\d\.]+)\b/,/\bOPR\/([\d\.]+)\b/],IE:[/\bMSIE ([\d\.]+\w?)\b/,/\brv:([\d\.]+\w?)\b/],CORDOVA:/\bCordova\/([\d\.]+)\b/,MS_EDGE:/\bEdge\/([\d\.]+)\b/},t=Object.keys(r).reduce(function(e,t){return e[n[t]]=r[t],e},{});e.module("ng.deviceDetector",["reTree"]).constant("OS_RE",{WINDOWS:{and:[{or:[/\bWindows|(Win\d\d)\b/,/\bWin 9x\b/]},{not:/\bWindows Phone\b/}]},MAC:{and:[/\bMac OS\b/,{not:/Windows Phone/}]},IOS:{and:[{or:[/\biPad\b/,/\biPhone\b/,/\biPod\b/]},{not:/Windows Phone/}]},ANDROID:{and:[/\bAndroid\b/,{not:/Windows Phone/}]},LINUX:/\bLinux\b/,UNIX:/\bUNIX\b/,FIREFOX_OS:{and:[/\bFirefox\b/,/Mobile\b/]},CHROME_OS:/\bCrOS\b/,WINDOWS_PHONE:{or:[/\bIEMobile\b/,/\bWindows Phone\b/]},PS4:/\bMozilla\/5.0 \(PlayStation 4\b/,VITA:/\bMozilla\/5.0 \(Play(S|s)tation Vita\b/}).constant("BROWSERS_RE",{CHROME:{and:[{or:[/\bChrome\b/,/\bCriOS\b/]},{not:{or:[/\bOPR\b/,/\bEdge\b/,/\bCordova\b/]}}]},FIREFOX:{and:[{or:[/\bFirefox\b/,/\bFxiOS\b/]},{not:/\bCordova\b/}]},SAFARI:{and:[/^((?!CriOS).)*\Safari\b.*$/,{not:{or:[/\bOPR\b/,/\bEdge\b/,/Windows Phone/,/\bCordova\b/,/\bChrome\b/]}}]},OPERA:{or:[/Opera\b/,/\bOPR\b/]},IE:{or:[/\bMSIE\b/,/\bTrident\b/,/^Mozilla\/5\.0 \(Windows NT 10\.0; Win64; x64\)$/]},MS_EDGE:{or:[/\bEdge\b/]},PS4:/\bMozilla\/5.0 \(PlayStation 4\b/,VITA:/\bMozilla\/5.0 \(Play(S|s)tation Vita\b/,CORDOVA:/\bCordova\b/,FB_MESSENGER:/\bFBAN\/MessengerForiOS\b/}).constant("DEVICES_RE",{ANDROID:{and:[/\bAndroid\b/,{not:/Windows Phone/}]},I_PAD:/\biPad\b/,IPHONE:{and:[/\biPhone\b/,{not:/Windows Phone/}]},I_POD:/\biPod\b/,BLACKBERRY:/\bblackberry\b/,FIREFOX_OS:{and:[/\bFirefox\b/,/\bMobile\b/]},CHROME_BOOK:/\bCrOS\b/,WINDOWS_PHONE:{or:[/\bIEMobile\b/,/\bWindows Phone\b/]},PS4:/\bMozilla\/5.0 \(PlayStation 4\b/,CHROMECAST:/\bCrKey\b/,APPLE_TV:/^iTunes-AppleTV\/4.1$/,GOOGLE_TV:/\bGoogleTV\b/,VITA:/\bMozilla\/5.0 \(Play(S|s)tation Vita\b/}).constant("OS_VERSIONS_RE",{WINDOWS_3_11:/Win16/,WINDOWS_95:/(Windows 95|Win95|Windows_95)/,WINDOWS_ME:/(Win 9x 4.90|Windows ME)/,WINDOWS_98:/(Windows 98|Win98)/,WINDOWS_CE:/Windows CE/,WINDOWS_2000:/(Windows NT 5.0|Windows 2000)/,WINDOWS_XP:/(Windows NT 5.1|Windows XP)/,WINDOWS_SERVER_2003:/Windows NT 5.2/,WINDOWS_VISTA:/Windows NT 6.0/,WINDOWS_7:/(Windows 7|Windows NT 6.1)/,WINDOWS_8_1:/(Windows 8.1|Windows NT 6.3)/,WINDOWS_8:/(Windows 8|Windows NT 6.2)/,WINDOWS_10:/(Windows NT 10.0)/,WINDOWS_PHONE_7_5:/(Windows Phone OS 7.5)/,WINDOWS_PHONE_8_1:/(Windows Phone 8.1)/,WINDOWS_PHONE_10:/(Windows Phone 10)/,WINDOWS_NT_4_0:{and:[/(Windows NT 4.0|WinNT4.0|WinNT|Windows NT)/,{not:/Windows NT 10.0/}]},MACOSX:/(MAC OS X\s*[^ 0-9])/,MACOSX_3:/(Darwin 10.3|Mac OS X 10.3)/,MACOSX_4:/(Darwin 10.4|Mac OS X 10.4)/,MACOSX_5:/(Mac OS X 10.5)/,MACOSX_6:/(Mac OS X 10.6)/,MACOSX_7:/(Mac OS X 10.7)/,MACOSX_8:/(Mac OS X 10.8)/,MACOSX_9:/(Mac OS X 10.9)/,MACOSX_10:/(Mac OS X 10.10)/,MACOSX_11:/(Mac OS X 10.11)/,MACOSX_12:/(Mac OS X 10.12)/,MACOSX_13:/(Mac OS X 10.13)/,MACOSX_14:/(Mac OS X 10.14)/,MACOSX_15:/(Mac OS X 10.15)/}).constant("BROWSER_VERSIONS_RE_MAP",r).constant("BROWSER_VERSIONS_RE",t).constant("BROWSERS",n).constant("DEVICES",{ANDROID:"android",I_PAD:"ipad",IPHONE:"iphone",I_POD:"ipod",BLACKBERRY:"blackberry",FIREFOX_OS:"firefox-os",CHROME_BOOK:"chrome-book",WINDOWS_PHONE:"windows-phone",PS4:"ps4",VITA:"vita",CHROMECAST:"chromecast",APPLE_TV:"apple-tv",GOOGLE_TV:"google-tv",UNKNOWN:"unknown"}).constant("OS",{WINDOWS:"windows",MAC:"mac",IOS:"ios",ANDROID:"android",LINUX:"linux",UNIX:"unix",FIREFOX_OS:"firefox-os",CHROME_OS:"chrome-os",WINDOWS_PHONE:"windows-phone",UNKNOWN:"unknown"}).constant("OS_VERSIONS",{WINDOWS_3_11:"windows-3-11",WINDOWS_95:"windows-95",WINDOWS_ME:"windows-me",WINDOWS_98:"windows-98",WINDOWS_CE:"windows-ce",WINDOWS_2000:"windows-2000",WINDOWS_XP:"windows-xp",WINDOWS_SERVER_2003:"windows-server-2003",WINDOWS_VISTA:"windows-vista",WINDOWS_7:"windows-7",WINDOWS_8_1:"windows-8-1",WINDOWS_8:"windows-8",WINDOWS_10:"windows-10",WINDOWS_PHONE_7_5:"windows-phone-7-5",WINDOWS_PHONE_8_1:"windows-phone-8-1",WINDOWS_PHONE_10:"windows-phone-10",WINDOWS_NT_4_0:"windows-nt-4-0",MACOSX_15:"mac-os-x-15",MACOSX_14:"mac-os-x-14",MACOSX_13:"mac-os-x-13",MACOSX_12:"mac-os-x-12",MACOSX_11:"mac-os-x-11",MACOSX_10:"mac-os-x-10",MACOSX_9:"mac-os-x-9",MACOSX_8:"mac-os-x-8",MACOSX_7:"mac-os-x-7",MACOSX_6:"mac-os-x-6",MACOSX_5:"mac-os-x-5",MACOSX_4:"mac-os-x-4",MACOSX_3:"mac-os-x-3",MACOSX_2:"mac-os-x-2",MACOSX:"mac-os-x",UNKNOWN:"unknown"}).service("detectUtils",["deviceDetector","DEVICES","BROWSERS","OS",function(e,t,n,r){var i=e;this.isMobile=function(){return"unknown"!==i.device},this.isAndroid=function(){return i.device===t.ANDROID||i.OS===r.ANDROID},this.isIOS=function(){return i.os===r.IOS||i.device===t.I_POD||i.device===t.IPHONE}}]).provider("deviceDetector",function(){var b=[];this.addCustom=function(e,t){b.push({name:e,re:t})},this.$get=["$window","DEVICES","BROWSERS","OS","OS_VERSIONS","reTree","OS_RE","BROWSERS_RE","DEVICES_RE","OS_VERSIONS_RE","BROWSER_VERSIONS_RE_MAP","BROWSER_VERSIONS_RE",function(e,n,r,i,o,a,s,l,c,u,t,d){Object.keys||(Object.keys=(h=Object.prototype.hasOwnProperty,f=!{toString:null}.propertyIsEnumerable("toString"),m=(p=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"]).length,function(e){if("object"!=typeof e&&("function"!=typeof e||null===e))throw new TypeError("Object.keys called on non-object");var t,n,r=[];for(t in e)h.call(e,t)&&r.push(t);if(f)for(n=0;n<m;n++)h.call(e,p[n])&&r.push(p[n]);return r})),Array.prototype.reduce||(Array.prototype.reduce=function(e){if(null==this)throw new TypeError("Array.prototype.reduce called on null or undefined");if("function"!=typeof e)throw new TypeError(e+" is not a function");var t,n=Object(this),r=n.length>>>0,i=0;if(2==arguments.length)t=arguments[1];else{for(;i<r&&!(i in n);)i++;if(r<=i)throw new TypeError("Reduce of empty array with no initial value");t=n[i++]}for(;i<r;i++)i in n&&(t=e(t,n[i],i,n));return t});var h,f,p,m,g=e.navigator.userAgent,v={raw:{userAgent:g,os:{},browser:{},device:{}}};return v.raw.os=Object.keys(i).reduce(function(e,t){return e[i[t]]=a.test(g,s[t]),e},{}),v.raw.browser=Object.keys(r).reduce(function(e,t){return e[r[t]]=a.test(g,l[t]),e},{}),v.raw.device=Object.keys(n).reduce(function(e,t){return e[n[t]]=a.test(g,c[t]),e},{}),v.raw.os_version=Object.keys(o).reduce(function(e,t){return e[o[t]]=a.test(g,u[t]),e},{}),v.os=[i.WINDOWS,i.IOS,i.MAC,i.ANDROID,i.LINUX,i.UNIX,i.FIREFOX_OS,i.CHROME_OS,i.WINDOWS_PHONE].reduce(function(e,t){return e===i.UNKNOWN&&v.raw.os[t]?t:e},i.UNKNOWN),v.browser=[r.CHROME,r.FIREFOX,r.SAFARI,r.OPERA,r.IE,r.MS_EDGE,r.CORDOVA,r.FB_MESSENGER].reduce(function(e,t){return e===r.UNKNOWN&&v.raw.browser[t]?t:e},r.UNKNOWN),v.device=[n.ANDROID,n.I_PAD,n.IPHONE,n.I_POD,n.BLACKBERRY,n.FIREFOX_OS,n.CHROME_BOOK,n.WINDOWS_PHONE,n.PS4,n.CHROMECAST,n.APPLE_TV,n.GOOGLE_TV,n.VITA].reduce(function(e,t){return e===n.UNKNOWN&&v.raw.device[t]?t:e},n.UNKNOWN),v.os_version=[o.WINDOWS_3_11,o.WINDOWS_95,o.WINDOWS_ME,o.WINDOWS_98,o.WINDOWS_CE,o.WINDOWS_2000,o.WINDOWS_XP,o.WINDOWS_SERVER_2003,o.WINDOWS_VISTA,o.WINDOWS_7,o.WINDOWS_8_1,o.WINDOWS_8,o.WINDOWS_10,o.WINDOWS_PHONE_7_5,o.WINDOWS_PHONE_8_1,o.WINDOWS_PHONE_10,o.WINDOWS_NT_4_0,o.MACOSX,o.MACOSX_3,o.MACOSX_4,o.MACOSX_5,o.MACOSX_6,o.MACOSX_7,o.MACOSX_8,o.MACOSX_9,o.MACOSX_10,o.MACOSX_11,o.MACOSX_12,o.MACOSX_13,o.MACOSX_14,o.MACOSX_15].reduce(function(e,t){return e===o.UNKNOWN&&v.raw.os_version[t]?t:e},o.UNKNOWN),v.browser_version="0",v.browser!==r.UNKNOWN&&(e=d[v.browser],(d=a.exec(g,e))&&(v.browser_version=d[1])),v.isMobile=function(){return[n.ANDROID,n.I_PAD,n.IPHONE,n.I_POD,n.BLACKBERRY,n.FIREFOX_OS,n.WINDOWS_PHONE,n.VITA].some(function(e){return v.device==e})},v.isTablet=function(){return[n.I_PAD,n.FIREFOX_OS].some(function(e){return v.device==e})},v.isDesktop=function(){return[n.PS4,n.CHROME_BOOK,n.UNKNOWN].some(function(e){return v.device==e})},v.custom=b.reduce(function(e,t){return e[t.name]=a.test(g,t.re),e},{}),v}]}).directive("deviceDetector",["deviceDetector",function(n){return{restrict:"A",link:function(e,t){t.addClass("os-"+n.os),t.addClass("browser-"+n.browser),t.addClass("device-"+n.device),t.toggleClass("is-mobile",n.isMobile()),t.toggleClass("is-tablet",n.isTablet()),t.toggleClass("is-desktop",n.isDesktop()),Object.keys(n.custom).forEach(function(e){t.toggleClass("is-"+e.toLowerCase().replace(/[^0-9a-z]+/g,"-"),n.custom[e])})}}}])}(angular),!function(e,t){"use strict";"undefined"!=typeof module&&module.exports?(t("undefined"==typeof angular?require("angular"):angular,"undefined"==typeof moment?require("moment"):moment),module.exports="ui.bootstrap.datetimepicker"):"function"==typeof define&&define.amd?define(["angular","moment"],t):t(e.angular,e.moment)}(this,function(a,b){"use strict";function e(i,o){var e={bindToController:!1,controller:t,controllerAs:"dateTimePickerController",replace:!0,require:"ngModel",restrict:"E",scope:{beforeRender:"&",onSetTime:"&"},templateUrl:"templates/datetimepicker.html"};function t(c,e,t){var p=e.controller("ngModel"),m=n(),u=(c.screenReader=m.screenReader,c.changeView=function(e,t,n){n&&(n.stopPropagation(),n.preventDefault());if(e&&t.utcDateValue>-1/0&&t.selectable&&u[e]){var r=u[e](t.utcDateValue),i=[];if(r.weeks)for(var o=0;o<r.weeks.length;o+=1)for(var a=r.weeks[o],s=0;s<a.dates.length;s+=1){var l=a.dates[s];i.push(l)}c.beforeRender({$view:r.currentView,$dates:r.dates||i,$leftDate:r.leftDate,$upDate:r.previousViewDate,$rightDate:r.rightDate}),c.data=r}},p.$render=function(){c.changeView(m.startView,new v({utcDateValue:function(e){var t=new Date;if(e){var n=r(e);if(!n.isValid())throw new Error("Invalid date: "+e);t=n.toDate()}return t.getTime()-6e4*t.getTimezoneOffset()}(p.$viewValue)}))},m.configureOn&&c.$on(m.configureOn,function(){m=n(),c.screenReader=m.screenReader,p.$render()}),m.renderOn&&c.$on(m.renderOn,p.$render),{year:function(e){for(var t=b.utc(e).startOf("year"),n=10*parseInt(t.year()/10,10),r=b.utc(d(e)).subtract(1,"year").startOf("year"),i="YYYY",o=g(p.$modelValue,i),a=b().format(i),s={currentView:"year",nextView:"year"===m.minView?"setTime":"month",previousViewDate:new v({utcDateValue:null,display:n+"-"+(9+n)}),leftDate:new v({utcDateValue:b.utc(r).subtract(9,"year").valueOf()}),rightDate:new v({utcDateValue:b.utc(r).add(11,"year").valueOf()}),dates:[]},l=0;l<12;l+=1){var c=b.utc(r).add(l,"years"),c={active:c.format(i)===o,current:c.format(i)===a,display:c.format(i),future:c.year()>9+n,past:c.year()<n,utcDateValue:c.valueOf()};s.dates.push(new v(c))}return s},month:function(e){for(var t=b.utc(e).startOf("year"),e=d(e),n="YYYY-MMM",r=g(p.$modelValue,n),i=b().format(n),o={previousView:"year",currentView:"month",nextView:"month"===m.minView?"setTime":"day",previousViewDate:new v({utcDateValue:e.valueOf(),display:t.format("YYYY")}),leftDate:new v({utcDateValue:b.utc(t).subtract(1,"year").valueOf()}),rightDate:new v({utcDateValue:b.utc(t).add(1,"year").valueOf()}),dates:[]},a=0;a<12;a+=1){var s=b.utc(t).add(a,"months"),s={active:s.format(n)===r,current:s.format(n)===i,display:s.format("MMM"),utcDateValue:s.valueOf()};o.dates.push(new v(s))}return o},day:function(e){for(var e=b.utc(e),t=b.utc(e).startOf("month"),n=b.utc(e).startOf("year"),r=b.utc(e).endOf("month"),i=b.utc(t).subtract(Math.abs(t.weekday()),"days"),o="YYYY-MMM-DD",a=g(p.$modelValue,o),s=b().format(o),l={previousView:"month",currentView:"day",nextView:"day"===m.minView?"setTime":"hour",previousViewDate:new v({utcDateValue:n.valueOf(),display:t.format("YYYY-MMM")}),leftDate:new v({utcDateValue:b.utc(t).subtract(1,"months").valueOf()}),rightDate:new v({utcDateValue:b.utc(t).add(1,"months").valueOf()}),dayNames:[],weeks:[]},c=0;c<7;c+=1)l.dayNames.push(b.utc().weekday(c).format("dd"));for(var u=0;u<6;u+=1){for(var d={dates:[]},h=0;h<7;h+=1){var f=b.utc(i).add(7*u+h,"days"),f={active:f.format(o)===a,current:f.format(o)===s,display:f.format("D"),future:f.isAfter(r),past:f.isBefore(t),utcDateValue:f.valueOf()};d.dates.push(new v(f))}l.weeks.push(d)}return l},hour:function(e){for(var t=b.utc(e).startOf("day"),e=b.utc(t).startOf("month"),n="YYYY-MM-DD H",r=g(p.$modelValue,n),i=b().format(n),o={previousView:"day",currentView:"hour",nextView:"hour"===m.minView?"setTime":"minute",previousViewDate:new v({utcDateValue:e.valueOf(),display:t.format("ll")}),leftDate:new v({utcDateValue:b.utc(t).subtract(1,"days").valueOf()}),rightDate:new v({utcDateValue:b.utc(t).add(1,"days").valueOf()}),dates:[]},a=0;a<24;a+=1){var s=b.utc(t).add(a,"hours"),s={active:s.format(n)===r,current:s.format(n)===i,display:s.format("LT"),utcDateValue:s.valueOf()};o.dates.push(new v(s))}return o},minute:function(e){for(var t=b.utc(e).startOf("hour"),e=b.utc(t).startOf("day"),n="YYYY-MM-DD H:mm",r=g(p.$modelValue,n),i=b().format(n),o={previousView:"hour",currentView:"minute",nextView:"setTime",previousViewDate:new v({utcDateValue:e.valueOf(),display:t.format("lll")}),leftDate:new v({utcDateValue:b.utc(t).subtract(1,"hours").valueOf()}),rightDate:new v({utcDateValue:b.utc(t).add(1,"hours").valueOf()}),dates:[]},a=60/m.minuteStep,s=0;s<a;s+=1){var l=b.utc(t).add(s*m.minuteStep,"minute"),l={active:l.format(n)===r,current:l.format(n)===i,display:l.format("LT"),utcDateValue:l.valueOf()};o.dates.push(new v(l))}return o},setTime:function(e){var t=new Date(e),n=new Date(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds(),t.getUTCMilliseconds());switch(m.modelType){case"Date":break;case"moment":n=b([t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds(),t.getUTCMilliseconds()]);break;case"milliseconds":n=e;break;default:n=b([t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds(),t.getUTCMilliseconds()]).format(m.modelType)}var r=p.$modelValue;p.$setViewValue(n),m.dropdownSelector&&jQuery(m.dropdownSelector).dropdown("toggle");return c.onSetTime({newDate:n,oldDate:r}),u[m.startView](e)}});function d(e){var t=10*parseInt(b.utc(e).year()/10,10);return b.utc(e).year(t).startOf("year")}function g(e,t){return e?r(e).format(t):""}function r(e){return b(e,a.isString(e)?m.parseFormat:void 0)}function n(){var e={},e=(t.datetimepickerConfig&&(e=c.$parent.$eval(t.datetimepickerConfig)),a.extend({},i,e));return o.validate(e),e}}function v(){var e=new Date(arguments[0].utcDateValue),t=6e4*e.getTimezoneOffset(),n=(this.utcDateValue=e.getTime(),this.selectable=!0,this.localDateValue=function(){return this.utcDateValue+t},["active","current","display","future","past","selectable","utcDateValue"]),r=arguments[0];Object.keys(r).filter(function(e){return 0<=n.indexOf(e)}).forEach(function(e){this[e]=r[e]},this)}return t.$inject=["$scope","$element","$attrs"],e}function t(r){return{validate:function(e){var t=["configureOn","dropdownSelector","minuteStep","minView","modelType","parseFormat","renderOn","startView","screenReader"],n=Object.keys(e).filter(function(e){return t.indexOf(e)<0});if(n.length)throw new Error("Invalid options: "+n.join(", "));n=["minute","hour","day","month","year"];if(n.indexOf(e.startView)<0)throw new Error("invalid startView value: "+e.startView);if(n.indexOf(e.minView)<0)throw new Error("invalid minView value: "+e.minView);if(n.indexOf(e.minView)>n.indexOf(e.startView))throw new Error("startView must be greater than minView");if(!a.isNumber(e.minuteStep))throw new Error("minuteStep must be numeric");if(e.minuteStep<=0||60<=e.minuteStep)throw new Error("minuteStep must be greater than zero and less than 60");if(null!==e.configureOn&&!a.isString(e.configureOn))throw new Error("configureOn must be a string");if(null!==e.configureOn&&e.configureOn.length<1)throw new Error("configureOn must not be an empty string");if(null!==e.renderOn&&!a.isString(e.renderOn))throw new Error("renderOn must be a string");if(null!==e.renderOn&&e.renderOn.length<1)throw new Error("renderOn must not be an empty string");if(null!==e.modelType&&!a.isString(e.modelType))throw new Error("modelType must be a string");if(null!==e.modelType&&e.modelType.length<1)throw new Error("modelType must not be an empty string");"Date"!==e.modelType&&"moment"!==e.modelType&&"milliseconds"!==e.modelType&&(e.parseFormat=e.modelType);if(null!==e.dropdownSelector&&!a.isString(e.dropdownSelector))throw new Error("dropdownSelector must be a string");null===e.dropdownSelector||"undefined"!=typeof jQuery&&"function"==typeof jQuery().dropdown||(r.error("Please DO NOT specify the dropdownSelector option unless you are using jQuery AND Bootstrap.js. Please include jQuery AND Bootstrap.js, or write code to close the dropdown in the on-set-time callback. \n\nThe dropdownSelector configuration option is being removed because it will not function properly."),delete e.dropdownSelector)}}}a.module("ui.bootstrap.datetimepicker",[]).service("dateTimePickerConfig",function(){var e={bg:{previous:"",next:""},ca:{previous:"anterior",next:"segent"},da:{previous:"forrige",next:"nste"},de:{previous:"vorige",next:"weiter"},"en-au":{previous:"previous",next:"next"},"en-gb":{previous:"previous",next:"next"},en:{previous:"previous",next:"next"},"es-us":{previous:"atrs",next:"siguiente"},es:{previous:"atrs",next:"siguiente"},fi:{previous:"edellinen",next:"seuraava"},fr:{previous:"prcdent",next:"suivant"},hu:{previous:"elz",next:"kvetkez"},it:{previous:"precedente",next:"successivo"},ja:{previous:"",next:""},ml:{previous:"",next:""},nl:{previous:"vorige",next:"volgende"},pl:{previous:"poprzednia",next:"nastpna"},"pt-br":{previous:"anteriores",next:"prximos"},pt:{previous:"anterior",next:"prximo"},ro:{previous:"anterior",next:"urmtor"},ru:{previous:"",next:""},sk:{previous:"predol",next:"alia"},sv:{previous:"fregende",next:"nsta"},tr:{previous:"nceki",next:"sonraki"},uk:{previous:"",next:""},"zh-cn":{previous:"",next:""},"zh-tw":{previous:"",next:""}}[b.locale().toLowerCase()];return a.extend({},{configureOn:null,dropdownSelector:null,minuteStep:5,minView:"minute",modelType:"Date",parseFormat:"YYYY-MM-DDTHH:mm:ss.SSSZZ",renderOn:null,startView:"day"},{screenReader:e})}).service("dateTimePickerValidator",t).directive("datetimepicker",e),e.$inject=["dateTimePickerConfig","dateTimePickerValidator"],t.$inject=["$log"]}),!function(e,t){"use strict";"undefined"!=typeof module&&module.exports?(t("undefined"==typeof angular?require("angular"):angular),module.exports="ui.bootstrap.datetimepicker.templates"):"function"==typeof define&&define.amd?define(["angular"],t):t(e.angular,e.moment)}(this,function(e){"use strict";e.module("ui.bootstrap.datetimepicker").run(["$templateCache",function(e){e.put("templates/datetimepicker.html",'<div class="datetimepicker table-responsive">\n    <table class="table table-condensed {{ data.currentView }}-view">\n        <thead>\n        <tr>\n            <th class="left" data-ng-click="changeView(data.currentView, data.leftDate, $event)" data-ng-show="data.leftDate.selectable"><i class="glyphicon glyphicon-arrow-left"><span class="sr-only">{{ screenReader.previous }}</span></i>\n            </th>\n            <th class="switch" colspan="5" data-ng-show="data.previousViewDate.selectable" data-ng-click="changeView(data.previousView, data.previousViewDate, $event)">{{ data.previousViewDate.display }}</th>\n            <th class="right" data-ng-click="changeView(data.currentView, data.rightDate, $event)" data-ng-show="data.rightDate.selectable"><i class="glyphicon glyphicon-arrow-right"><span class="sr-only">{{ screenReader.next }}</span></i>\n            </th>\n        </tr>\n        <tr>\n            <th class="dow" data-ng-repeat="day in data.dayNames">{{ day }}</th>\n        </tr>\n        </thead>\n        <tbody>\n        <tr data-ng-if="data.currentView !== \'day\'">\n            <td colspan="7">\n                          <span class="{{ data.currentView }}" data-ng-repeat="dateObject in data.dates" data-ng-class="{current: dateObject.current, active: dateObject.active, past: dateObject.past, future: dateObject.future, disabled: !dateObject.selectable}" data-ng-click="changeView(data.nextView, dateObject, $event)">{{ dateObject.display }}</span></td>\n        </tr>\n        <tr data-ng-if="data.currentView === \'day\'" data-ng-repeat="week in data.weeks">\n            <td data-ng-repeat="dateObject in week.dates" data-ng-click="changeView(data.nextView, dateObject, $event)" class="day" data-ng-class="{current: dateObject.current, active: dateObject.active, past: dateObject.past, future: dateObject.future, disabled: !dateObject.selectable}">{{ dateObject.display }}</td>\n        </tr>\n        </tbody>\n    </table>\n</div>\n')}])}),!function(){"use strict";for(var j,e,t,n,r,L=function(e,o){if(!(this instanceof L))return new L(e,o);var t,n,r={direction:"horizontal",touchEventsTarget:"container",initialSlide:0,speed:300,autoplay:!1,autoplayDisableOnInteraction:!0,autoplayStopOnLast:!1,iOSEdgeSwipeDetection:!1,iOSEdgeSwipeThreshold:20,freeMode:!1,freeModeMomentum:!0,freeModeMomentumRatio:1,freeModeMomentumBounce:!0,freeModeMomentumBounceRatio:1,freeModeMomentumVelocityRatio:1,freeModeSticky:!1,freeModeMinimumVelocity:.02,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",coverflow:{rotate:50,stretch:0,depth:100,modifier:1,slideShadows:!0},flip:{slideShadows:!0,limitRotation:!0},cube:{slideShadows:!0,shadow:!0,shadowOffset:20,shadowScale:.94},fade:{crossFade:!1},parallax:!1,zoom:!1,zoomMax:3,zoomMin:1,zoomToggle:!0,scrollbar:null,scrollbarHide:!0,scrollbarDraggable:!1,scrollbarSnapOnRelease:!1,keyboardControl:!1,mousewheelControl:!1,mousewheelReleaseOnEdges:!1,mousewheelInvert:!1,mousewheelForceToAxis:!1,mousewheelSensitivity:1,mousewheelEventsTarged:"container",hashnav:!1,hashnavWatchState:!1,history:!1,replaceState:!1,breakpoints:void 0,spaceBetween:0,slidesPerView:1,slidesPerColumn:1,slidesPerColumnFill:"column",slidesPerGroup:1,centeredSlides:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,onlyExternal:!1,threshold:0,touchMoveStopPropagation:!0,touchReleaseOnEdges:!1,uniqueNavElements:!0,pagination:null,paginationElement:"span",paginationClickable:!1,paginationHide:!1,paginationBulletRender:null,paginationProgressRender:null,paginationFractionRender:null,paginationCustomRender:null,paginationType:"bullets",resistance:!0,resistanceRatio:.85,nextButton:null,prevButton:null,watchSlidesProgress:!1,watchSlidesVisibility:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,lazyLoading:!1,lazyLoadingInPrevNext:!1,lazyLoadingInPrevNextAmount:1,lazyLoadingOnTransitionStart:!1,preloadImages:!0,updateOnImagesReady:!0,loop:!1,loopAdditionalSlides:0,loopedSlides:null,control:void 0,controlInverse:!1,controlBy:"slide",normalizeSlideIndex:!0,allowSwipeToPrev:!0,allowSwipeToNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",passiveListeners:!0,containerModifierClass:"swiper-container-",slideClass:"swiper-slide",slideActiveClass:"swiper-slide-active",slideDuplicateActiveClass:"swiper-slide-duplicate-active",slideVisibleClass:"swiper-slide-visible",slideDuplicateClass:"swiper-slide-duplicate",slideNextClass:"swiper-slide-next",slideDuplicateNextClass:"swiper-slide-duplicate-next",slidePrevClass:"swiper-slide-prev",slideDuplicatePrevClass:"swiper-slide-duplicate-prev",wrapperClass:"swiper-wrapper",bulletClass:"swiper-pagination-bullet",bulletActiveClass:"swiper-pagination-bullet-active",buttonDisabledClass:"swiper-button-disabled",paginationCurrentClass:"swiper-pagination-current",paginationTotalClass:"swiper-pagination-total",paginationHiddenClass:"swiper-pagination-hidden",paginationProgressbarClass:"swiper-pagination-progressbar",paginationClickableClass:"swiper-pagination-clickable",paginationModifierClass:"swiper-pagination-",lazyLoadingClass:"swiper-lazy",lazyStatusLoadingClass:"swiper-lazy-loading",lazyStatusLoadedClass:"swiper-lazy-loaded",lazyPreloaderClass:"swiper-lazy-preloader",notificationClass:"swiper-notification",preloaderClass:"preloader",zoomContainerClass:"swiper-zoom-container",observer:!1,observeParents:!1,a11y:!1,prevSlideMessage:"Previous slide",nextSlideMessage:"Next slide",firstSlideMessage:"This is the first slide",lastSlideMessage:"This is the last slide",paginationBulletMessage:"Go to slide {{index}}",runCallbacksOnInit:!0},i=o&&o.virtualTranslate,a={};for(t in o=o||{})if("object"!=typeof o[t]||null===o[t]||(o[t].nodeType||o[t]===window||o[t]===document||"undefined"!=typeof Dom7&&o[t]instanceof Dom7||"undefined"!=typeof jQuery&&o[t]instanceof jQuery))a[t]=o[t];else for(var s in a[t]={},o[t])a[t][s]=o[t][s];for(n in r)if(void 0===o[n])o[n]=r[n];else if("object"==typeof o[n])for(var l in r[n])void 0===o[n][l]&&(o[n][l]=r[n][l]);var c,m=this;if(m.params=o,m.originalParams=a,m.classNames=[],(void 0!==(j=void 0!==j&&"undefined"!=typeof Dom7?Dom7:j)||(j="undefined"==typeof Dom7?window.Dom7||window.Zepto||window.jQuery:Dom7))&&(m.$=j,m.currentBreakpoint=void 0,m.getActiveBreakpoint=function(){if(!m.params.breakpoints)return!1;var e,t=!1,n=[];for(e in m.params.breakpoints)m.params.breakpoints.hasOwnProperty(e)&&n.push(e);n.sort(function(e,t){return parseInt(e,10)>parseInt(t,10)});for(var r=0;r<n.length;r++)(e=n[r])>=window.innerWidth&&!t&&(t=e);return t||"max"},m.setBreakpoint=function(){var e=m.getActiveBreakpoint();if(e&&m.currentBreakpoint!==e){var t,n=e in m.params.breakpoints?m.params.breakpoints[e]:m.originalParams,r=m.params.loop&&n.slidesPerView!==m.params.slidesPerView;for(t in n)m.params[t]=n[t];m.currentBreakpoint=e,r&&m.destroyLoop&&m.reLoop(!0)}},m.params.breakpoints&&m.setBreakpoint(),m.container=j(e),0!==m.container.length)){if(1<m.container.length)return c=[],m.container.each(function(){c.push(new L(this,o))}),c;(m.container[0].swiper=m).container.data("swiper",m),m.classNames.push(m.params.containerModifierClass+m.params.direction),m.params.freeMode&&m.classNames.push(m.params.containerModifierClass+"free-mode"),m.support.flexbox||(m.classNames.push(m.params.containerModifierClass+"no-flexbox"),m.params.slidesPerColumn=1),m.params.autoHeight&&m.classNames.push(m.params.containerModifierClass+"autoheight"),(m.params.parallax||m.params.watchSlidesVisibility)&&(m.params.watchSlidesProgress=!0),m.params.touchReleaseOnEdges&&(m.params.resistanceRatio=0),0<=["cube","coverflow","flip"].indexOf(m.params.effect)&&(m.support.transforms3d?(m.params.watchSlidesProgress=!0,m.classNames.push(m.params.containerModifierClass+"3d")):m.params.effect="slide"),"slide"!==m.params.effect&&m.classNames.push(m.params.containerModifierClass+m.params.effect),"cube"===m.params.effect&&(m.params.resistanceRatio=0,m.params.slidesPerView=1,m.params.slidesPerColumn=1,m.params.slidesPerGroup=1,m.params.centeredSlides=!1,m.params.spaceBetween=0,m.params.virtualTranslate=!0),"fade"!==m.params.effect&&"flip"!==m.params.effect||(m.params.slidesPerView=1,m.params.slidesPerColumn=1,m.params.slidesPerGroup=1,m.params.watchSlidesProgress=!0,void(m.params.spaceBetween=0)===i&&(m.params.virtualTranslate=!0)),m.params.grabCursor&&m.support.touch&&(m.params.grabCursor=!1),m.wrapper=m.container.children("."+m.params.wrapperClass),m.params.pagination&&(m.paginationContainer=j(m.params.pagination),m.params.uniqueNavElements&&"string"==typeof m.params.pagination&&1<m.paginationContainer.length&&1===m.container.find(m.params.pagination).length&&(m.paginationContainer=m.container.find(m.params.pagination)),"bullets"===m.params.paginationType&&m.params.paginationClickable?m.paginationContainer.addClass(m.params.paginationModifierClass+"clickable"):m.params.paginationClickable=!1,m.paginationContainer.addClass(m.params.paginationModifierClass+m.params.paginationType)),(m.params.nextButton||m.params.prevButton)&&(m.params.nextButton&&(m.nextButton=j(m.params.nextButton),m.params.uniqueNavElements&&"string"==typeof m.params.nextButton&&1<m.nextButton.length&&1===m.container.find(m.params.nextButton).length&&(m.nextButton=m.container.find(m.params.nextButton))),m.params.prevButton&&(m.prevButton=j(m.params.prevButton),m.params.uniqueNavElements&&"string"==typeof m.params.prevButton&&1<m.prevButton.length&&1===m.container.find(m.params.prevButton).length&&(m.prevButton=m.container.find(m.params.prevButton)))),m.isHorizontal=function(){return"horizontal"===m.params.direction},m.rtl=m.isHorizontal()&&("rtl"===m.container[0].dir.toLowerCase()||"rtl"===m.container.css("direction")),m.rtl&&m.classNames.push(m.params.containerModifierClass+"rtl"),m.rtl&&(m.wrongRTL="-webkit-box"===m.wrapper.css("display")),1<m.params.slidesPerColumn&&m.classNames.push(m.params.containerModifierClass+"multirow"),m.device.android&&m.classNames.push(m.params.containerModifierClass+"android"),m.container.addClass(m.classNames.join(" ")),m.translate=0,m.progress=0,m.velocity=0,m.lockSwipeToNext=function(){(m.params.allowSwipeToNext=!1)===m.params.allowSwipeToPrev&&m.params.grabCursor&&m.unsetGrabCursor()},m.lockSwipeToPrev=function(){(m.params.allowSwipeToPrev=!1)===m.params.allowSwipeToNext&&m.params.grabCursor&&m.unsetGrabCursor()},m.lockSwipes=function(){m.params.allowSwipeToNext=m.params.allowSwipeToPrev=!1,m.params.grabCursor&&m.unsetGrabCursor()},m.unlockSwipeToNext=function(){(m.params.allowSwipeToNext=!0)===m.params.allowSwipeToPrev&&m.params.grabCursor&&m.setGrabCursor()},m.unlockSwipeToPrev=function(){(m.params.allowSwipeToPrev=!0)===m.params.allowSwipeToNext&&m.params.grabCursor&&m.setGrabCursor()},m.unlockSwipes=function(){m.params.allowSwipeToNext=m.params.allowSwipeToPrev=!0,m.params.grabCursor&&m.setGrabCursor()},m.setGrabCursor=function(e){m.container[0].style.cursor="move",m.container[0].style.cursor=e?"-webkit-grabbing":"-webkit-grab",m.container[0].style.cursor=e?"-moz-grabbin":"-moz-grab",m.container[0].style.cursor=e?"grabbing":"grab"},m.unsetGrabCursor=function(){m.container[0].style.cursor=""},m.params.grabCursor&&m.setGrabCursor(),m.imagesToLoad=[],m.imagesLoaded=0,m.loadImage=function(e,t,n,r,i,o){function a(){o&&o()}(!e.complete||!i)&&t?((e=new window.Image).onload=a,e.onerror=a,r&&(e.sizes=r),n&&(e.srcset=n),t&&(e.src=t)):a()},m.preloadImages=function(){function e(){null!=m&&m&&(void 0!==m.imagesLoaded&&m.imagesLoaded++,m.imagesLoaded===m.imagesToLoad.length&&(m.params.updateOnImagesReady&&m.update(),m.emit("onImagesReady",m)))}m.imagesToLoad=m.container.find("img");for(var t=0;t<m.imagesToLoad.length;t++)m.loadImage(m.imagesToLoad[t],m.imagesToLoad[t].currentSrc||m.imagesToLoad[t].getAttribute("src"),m.imagesToLoad[t].srcset||m.imagesToLoad[t].getAttribute("srcset"),m.imagesToLoad[t].sizes||m.imagesToLoad[t].getAttribute("sizes"),!0,e)},m.autoplayTimeoutId=void 0,m.autoplaying=!1,m.autoplayPaused=!1,m.startAutoplay=function(){return void 0===m.autoplayTimeoutId&&(!!m.params.autoplay&&(!m.autoplaying&&(m.autoplaying=!0,m.emit("onAutoplayStart",m),void O())))},m.stopAutoplay=function(e){m.autoplayTimeoutId&&(m.autoplayTimeoutId&&clearTimeout(m.autoplayTimeoutId),m.autoplaying=!1,m.autoplayTimeoutId=void 0,m.emit("onAutoplayStop",m))},m.pauseAutoplay=function(e){m.autoplayPaused||(m.autoplayTimeoutId&&clearTimeout(m.autoplayTimeoutId),m.autoplayPaused=!0,0===e?(m.autoplayPaused=!1,O()):m.wrapper.transitionEnd(function(){m&&(m.autoplayPaused=!1,m.autoplaying?O():m.stopAutoplay())}))},m.minTranslate=function(){return-m.snapGrid[0]},m.maxTranslate=function(){return-m.snapGrid[m.snapGrid.length-1]},m.updateAutoHeight=function(){var e,t,n=[],r=0;if("auto"!==m.params.slidesPerView&&1<m.params.slidesPerView)for(e=0;e<Math.ceil(m.params.slidesPerView);e++){var i=m.activeIndex+e;if(i>m.slides.length)break;n.push(m.slides.eq(i)[0])}else n.push(m.slides.eq(m.activeIndex)[0]);for(e=0;e<n.length;e++)void 0!==n[e]&&(r=r<(t=n[e].offsetHeight)?t:r);r&&m.wrapper.css("height",r+"px")},m.updateContainerSize=function(){var e=void 0!==m.params.width?m.params.width:m.container[0].clientWidth,t=void 0!==m.params.height?m.params.height:m.container[0].clientHeight;0===e&&m.isHorizontal()||0===t&&!m.isHorizontal()||(e=e-parseInt(m.container.css("padding-left"),10)-parseInt(m.container.css("padding-right"),10),t=t-parseInt(m.container.css("padding-top"),10)-parseInt(m.container.css("padding-bottom"),10),m.width=e,m.height=t,m.size=m.isHorizontal()?m.width:m.height)},m.updateSlidesSize=function(){m.slides=m.wrapper.children("."+m.params.slideClass),m.snapGrid=[],m.slidesGrid=[],m.slidesSizesGrid=[];var e=m.params.spaceBetween,t=-m.params.slidesOffsetBefore,n=0,r=0;if(void 0!==m.size){"string"==typeof e&&0<=e.indexOf("%")&&(e=parseFloat(e.replace("%",""))/100*m.size),m.virtualSize=-e,m.rtl?m.slides.css({marginLeft:"",marginTop:""}):m.slides.css({marginRight:"",marginBottom:""}),1<m.params.slidesPerColumn&&(i=Math.floor(m.slides.length/m.params.slidesPerColumn)===m.slides.length/m.params.slidesPerColumn?m.slides.length:Math.ceil(m.slides.length/m.params.slidesPerColumn)*m.params.slidesPerColumn,"auto"!==m.params.slidesPerView&&"row"===m.params.slidesPerColumnFill&&(i=Math.max(i,m.params.slidesPerView*m.params.slidesPerColumn)));for(var i,o,a=m.params.slidesPerColumn,s=i/a,l=s-(m.params.slidesPerColumn*s-m.slides.length),c=0;c<m.slides.length;c++){var u,d,h,f=0,p=m.slides.eq(c);1<m.params.slidesPerColumn&&("column"===m.params.slidesPerColumnFill?(h=c-(d=Math.floor(c/a))*a,(l<d||d===l&&h===a-1)&&++h>=a&&(h=0,d++),p.css({"-webkit-box-ordinal-group":u=d+h*i/a,"-moz-box-ordinal-group":u,"-ms-flex-order":u,"-webkit-order":u,order:u})):d=c-(h=Math.floor(c/s))*s,p.css("margin-"+(m.isHorizontal()?"top":"left"),0!==h&&m.params.spaceBetween&&m.params.spaceBetween+"px").attr("data-swiper-column",d).attr("data-swiper-row",h)),"none"!==p.css("display")&&("auto"===m.params.slidesPerView?(f=m.isHorizontal()?p.outerWidth(!0):p.outerHeight(!0),m.params.roundLengths&&(f=A(f))):(f=(m.size-(m.params.slidesPerView-1)*e)/m.params.slidesPerView,m.params.roundLengths&&(f=A(f)),m.isHorizontal()?m.slides[c].style.width=f+"px":m.slides[c].style.height=f+"px"),m.slides[c].swiperSlideSize=f,m.slidesSizesGrid.push(f),m.params.centeredSlides?(t=t+f/2+n/2+e,0===n&&0!==c&&(t=t-m.size/2-e),0===c&&(t=t-m.size/2-e),Math.abs(t)<.001&&(t=0),r%m.params.slidesPerGroup==0&&m.snapGrid.push(t),m.slidesGrid.push(t)):(r%m.params.slidesPerGroup==0&&m.snapGrid.push(t),m.slidesGrid.push(t),t=t+f+e),m.virtualSize+=f+e,n=f,r++)}if(m.virtualSize=Math.max(m.virtualSize,m.size)+m.params.slidesOffsetAfter,m.rtl&&m.wrongRTL&&("slide"===m.params.effect||"coverflow"===m.params.effect)&&m.wrapper.css({width:m.virtualSize+m.params.spaceBetween+"px"}),m.support.flexbox&&!m.params.setWrapperSize||(m.isHorizontal()?m.wrapper.css({width:m.virtualSize+m.params.spaceBetween+"px"}):m.wrapper.css({height:m.virtualSize+m.params.spaceBetween+"px"})),1<m.params.slidesPerColumn&&(m.virtualSize=(f+m.params.spaceBetween)*i,m.virtualSize=Math.ceil(m.virtualSize/m.params.slidesPerColumn)-m.params.spaceBetween,m.isHorizontal()?m.wrapper.css({width:m.virtualSize+m.params.spaceBetween+"px"}):m.wrapper.css({height:m.virtualSize+m.params.spaceBetween+"px"}),m.params.centeredSlides)){for(o=[],c=0;c<m.snapGrid.length;c++)m.snapGrid[c]<m.virtualSize+m.snapGrid[0]&&o.push(m.snapGrid[c]);m.snapGrid=o}if(!m.params.centeredSlides){for(o=[],c=0;c<m.snapGrid.length;c++)m.snapGrid[c]<=m.virtualSize-m.size&&o.push(m.snapGrid[c]);m.snapGrid=o,1<Math.floor(m.virtualSize-m.size)-Math.floor(m.snapGrid[m.snapGrid.length-1])&&m.snapGrid.push(m.virtualSize-m.size)}0===m.snapGrid.length&&(m.snapGrid=[0]),0!==m.params.spaceBetween&&(m.isHorizontal()?m.rtl?m.slides.css({marginLeft:e+"px"}):m.slides.css({marginRight:e+"px"}):m.slides.css({marginBottom:e+"px"})),m.params.watchSlidesProgress&&m.updateSlidesOffset()}},m.updateSlidesOffset=function(){for(var e=0;e<m.slides.length;e++)m.slides[e].swiperSlideOffset=m.isHorizontal()?m.slides[e].offsetLeft:m.slides[e].offsetTop},m.currentSlidesPerView=function(){var e,t=1;if(m.params.centeredSlides){for(var n,r=m.slides[m.activeIndex].swiperSlideSize,i=m.activeIndex+1;i<m.slides.length;i++)m.slides[i]&&!n&&(t++,(r+=m.slides[i].swiperSlideSize)>m.size&&(n=!0));for(e=m.activeIndex-1;0<=e;e--)m.slides[e]&&!n&&(t++,(r+=m.slides[e].swiperSlideSize)>m.size&&(n=!0))}else for(i=m.activeIndex+1;i<m.slides.length;i++)m.slidesGrid[i]-m.slidesGrid[m.activeIndex]<m.size&&t++;return t},m.updateSlidesProgress=function(e){if(void 0===e&&(e=m.translate||0),0!==m.slides.length){void 0===m.slides[0].swiperSlideOffset&&m.updateSlidesOffset();var t=-e;m.rtl&&(t=e),m.slides.removeClass(m.params.slideVisibleClass);for(var n=0;n<m.slides.length;n++){var r,i,o=m.slides[n],a=(t+(m.params.centeredSlides?m.minTranslate():0)-o.swiperSlideOffset)/(o.swiperSlideSize+m.params.spaceBetween);m.params.watchSlidesVisibility&&(i=(r=-(t-o.swiperSlideOffset))+m.slidesSizesGrid[n],(0<=r&&r<m.size||0<i&&i<=m.size||r<=0&&i>=m.size)&&m.slides.eq(n).addClass(m.params.slideVisibleClass)),o.progress=m.rtl?-a:a}}},m.updateProgress=function(e){void 0===e&&(e=m.translate||0);var t=m.maxTranslate()-m.minTranslate(),n=m.isBeginning,r=m.isEnd;0==t?(m.progress=0,m.isBeginning=m.isEnd=!0):(m.progress=(e-m.minTranslate())/t,m.isBeginning=m.progress<=0,m.isEnd=1<=m.progress),m.isBeginning&&!n&&m.emit("onReachBeginning",m),m.isEnd&&!r&&m.emit("onReachEnd",m),m.params.watchSlidesProgress&&m.updateSlidesProgress(e),m.emit("onProgress",m,m.progress)},m.updateActiveIndex=function(){for(var e,t,n=m.rtl?m.translate:-m.translate,r=0;r<m.slidesGrid.length;r++)void 0!==m.slidesGrid[r+1]?n>=m.slidesGrid[r]&&n<m.slidesGrid[r+1]-(m.slidesGrid[r+1]-m.slidesGrid[r])/2?e=r:n>=m.slidesGrid[r]&&n<m.slidesGrid[r+1]&&(e=r+1):n>=m.slidesGrid[r]&&(e=r);m.params.normalizeSlideIndex&&(e<0||void 0===e)&&(e=0),(t=Math.floor(e/m.params.slidesPerGroup))>=m.snapGrid.length&&(t=m.snapGrid.length-1),e!==m.activeIndex&&(m.snapIndex=t,m.previousIndex=m.activeIndex,m.activeIndex=e,m.updateClasses(),m.updateRealIndex())},m.updateRealIndex=function(){m.realIndex=parseInt(m.slides.eq(m.activeIndex).attr("data-swiper-slide-index")||m.activeIndex,10)},m.updateClasses=function(){m.slides.removeClass(m.params.slideActiveClass+" "+m.params.slideNextClass+" "+m.params.slidePrevClass+" "+m.params.slideDuplicateActiveClass+" "+m.params.slideDuplicateNextClass+" "+m.params.slideDuplicatePrevClass);var e,t,n,r=m.slides.eq(m.activeIndex),i=(r.addClass(m.params.slideActiveClass),o.loop&&(r.hasClass(m.params.slideDuplicateClass)?m.wrapper.children("."+m.params.slideClass+":not(."+m.params.slideDuplicateClass+')[data-swiper-slide-index="'+m.realIndex+'"]'):m.wrapper.children("."+m.params.slideClass+"."+m.params.slideDuplicateClass+'[data-swiper-slide-index="'+m.realIndex+'"]')).addClass(m.params.slideDuplicateActiveClass),r.next("."+m.params.slideClass).addClass(m.params.slideNextClass)),r=(m.params.loop&&0===i.length&&(i=m.slides.eq(0)).addClass(m.params.slideNextClass),r.prev("."+m.params.slideClass).addClass(m.params.slidePrevClass));m.params.loop&&0===r.length&&(r=m.slides.eq(-1)).addClass(m.params.slidePrevClass),o.loop&&((i.hasClass(m.params.slideDuplicateClass)?m.wrapper.children("."+m.params.slideClass+":not(."+m.params.slideDuplicateClass+')[data-swiper-slide-index="'+i.attr("data-swiper-slide-index")+'"]'):m.wrapper.children("."+m.params.slideClass+"."+m.params.slideDuplicateClass+'[data-swiper-slide-index="'+i.attr("data-swiper-slide-index")+'"]')).addClass(m.params.slideDuplicateNextClass),(r.hasClass(m.params.slideDuplicateClass)?m.wrapper.children("."+m.params.slideClass+":not(."+m.params.slideDuplicateClass+')[data-swiper-slide-index="'+r.attr("data-swiper-slide-index")+'"]'):m.wrapper.children("."+m.params.slideClass+"."+m.params.slideDuplicateClass+'[data-swiper-slide-index="'+r.attr("data-swiper-slide-index")+'"]')).addClass(m.params.slideDuplicatePrevClass)),m.paginationContainer&&0<m.paginationContainer.length&&(i=m.params.loop?Math.ceil((m.slides.length-2*m.loopedSlides)/m.params.slidesPerGroup):m.snapGrid.length,m.params.loop?((e=Math.ceil((m.activeIndex-m.loopedSlides)/m.params.slidesPerGroup))>m.slides.length-1-2*m.loopedSlides&&(e-=m.slides.length-2*m.loopedSlides),i-1<e&&(e-=i),e<0&&"bullets"!==m.params.paginationType&&(e=i+e)):e=void 0!==m.snapIndex?m.snapIndex:m.activeIndex||0,"bullets"===m.params.paginationType&&m.bullets&&0<m.bullets.length&&(m.bullets.removeClass(m.params.bulletActiveClass),1<m.paginationContainer.length?m.bullets.each(function(){j(this).index()===e&&j(this).addClass(m.params.bulletActiveClass)}):m.bullets.eq(e).addClass(m.params.bulletActiveClass)),"fraction"===m.params.paginationType&&(m.paginationContainer.find("."+m.params.paginationCurrentClass).text(e+1),m.paginationContainer.find("."+m.params.paginationTotalClass).text(i)),"progress"===m.params.paginationType&&(t=r=(e+1)/i,n=1,m.isHorizontal()||(n=r,t=1),m.paginationContainer.find("."+m.params.paginationProgressbarClass).transform("translate3d(0,0,0) scaleX("+t+") scaleY("+n+")").transition(m.params.speed)),"custom"===m.params.paginationType&&m.params.paginationCustomRender&&(m.paginationContainer.html(m.params.paginationCustomRender(m,e+1,i)),m.emit("onPaginationRendered",m,m.paginationContainer[0]))),m.params.loop||(m.params.prevButton&&m.prevButton&&0<m.prevButton.length&&(m.isBeginning?(m.prevButton.addClass(m.params.buttonDisabledClass),m.params.a11y&&m.a11y&&m.a11y.disable(m.prevButton)):(m.prevButton.removeClass(m.params.buttonDisabledClass),m.params.a11y&&m.a11y&&m.a11y.enable(m.prevButton))),m.params.nextButton&&m.nextButton&&0<m.nextButton.length&&(m.isEnd?(m.nextButton.addClass(m.params.buttonDisabledClass),m.params.a11y&&m.a11y&&m.a11y.disable(m.nextButton)):(m.nextButton.removeClass(m.params.buttonDisabledClass),m.params.a11y&&m.a11y&&m.a11y.enable(m.nextButton))))},m.updatePagination=function(){if(m.params.pagination&&m.paginationContainer&&0<m.paginationContainer.length){var e="";if("bullets"===m.params.paginationType){for(var t=m.params.loop?Math.ceil((m.slides.length-2*m.loopedSlides)/m.params.slidesPerGroup):m.snapGrid.length,n=0;n<t;n++)m.params.paginationBulletRender?e+=m.params.paginationBulletRender(m,n,m.params.bulletClass):e+="<"+m.params.paginationElement+' class="'+m.params.bulletClass+'"></'+m.params.paginationElement+">";m.paginationContainer.html(e),m.bullets=m.paginationContainer.find("."+m.params.bulletClass),m.params.paginationClickable&&m.params.a11y&&m.a11y&&m.a11y.initPagination()}"fraction"===m.params.paginationType&&(e=m.params.paginationFractionRender?m.params.paginationFractionRender(m,m.params.paginationCurrentClass,m.params.paginationTotalClass):'<span class="'+m.params.paginationCurrentClass+'"></span> / <span class="'+m.params.paginationTotalClass+'"></span>',m.paginationContainer.html(e)),"progress"===m.params.paginationType&&(e=m.params.paginationProgressRender?m.params.paginationProgressRender(m,m.params.paginationProgressbarClass):'<span class="'+m.params.paginationProgressbarClass+'"></span>',m.paginationContainer.html(e)),"custom"!==m.params.paginationType&&m.emit("onPaginationRendered",m,m.paginationContainer[0])}},m.update=function(e){var t;function n(){m.rtl,m.translate;t=Math.min(Math.max(m.translate,m.maxTranslate()),m.minTranslate()),m.setWrapperTranslate(t),m.updateActiveIndex(),m.updateClasses()}m&&(m.updateContainerSize(),m.updateSlidesSize(),m.updateProgress(),m.updatePagination(),m.updateClasses(),m.params.scrollbar&&m.scrollbar&&m.scrollbar.set(),e?(m.controller&&m.controller.spline&&(m.controller.spline=void 0),m.params.freeMode?(n(),m.params.autoHeight&&m.updateAutoHeight()):(("auto"===m.params.slidesPerView||1<m.params.slidesPerView)&&m.isEnd&&!m.params.centeredSlides?m.slideTo(m.slides.length-1,0,!1,!0):m.slideTo(m.activeIndex,0,!1,!0))||n()):m.params.autoHeight&&m.updateAutoHeight())},m.onResize=function(e){m.params.onBeforeResize&&m.params.onBeforeResize(m),m.params.breakpoints&&m.setBreakpoint();var t,n=m.params.allowSwipeToPrev,r=m.params.allowSwipeToNext,e=(m.params.allowSwipeToPrev=m.params.allowSwipeToNext=!0,m.updateContainerSize(),m.updateSlidesSize(),("auto"===m.params.slidesPerView||m.params.freeMode||e)&&m.updatePagination(),m.params.scrollbar&&m.scrollbar&&m.scrollbar.set(),m.controller&&m.controller.spline&&(m.controller.spline=void 0),!1);m.params.freeMode?(t=Math.min(Math.max(m.translate,m.maxTranslate()),m.minTranslate()),m.setWrapperTranslate(t),m.updateActiveIndex(),m.updateClasses(),m.params.autoHeight&&m.updateAutoHeight()):(m.updateClasses(),e=("auto"===m.params.slidesPerView||1<m.params.slidesPerView)&&m.isEnd&&!m.params.centeredSlides?m.slideTo(m.slides.length-1,0,!1,!0):m.slideTo(m.activeIndex,0,!1,!0)),m.params.lazyLoading&&!e&&m.lazy&&m.lazy.load(),m.params.allowSwipeToPrev=n,m.params.allowSwipeToNext=r,m.params.onAfterResize&&m.params.onAfterResize(m)},m.touchEventsDesktop={start:"mousedown",move:"mousemove",end:"mouseup"},window.navigator.pointerEnabled?m.touchEventsDesktop={start:"pointerdown",move:"pointermove",end:"pointerup"}:window.navigator.msPointerEnabled&&(m.touchEventsDesktop={start:"MSPointerDown",move:"MSPointerMove",end:"MSPointerUp"}),m.touchEvents={start:m.support.touch||!m.params.simulateTouch?"touchstart":m.touchEventsDesktop.start,move:m.support.touch||!m.params.simulateTouch?"touchmove":m.touchEventsDesktop.move,end:m.support.touch||!m.params.simulateTouch?"touchend":m.touchEventsDesktop.end},(window.navigator.pointerEnabled||window.navigator.msPointerEnabled)&&("container"===m.params.touchEventsTarget?m.container:m.wrapper).addClass("swiper-wp8-"+m.params.direction),m.initEvents=function(e){var t=e?"off":"on",e=e?"removeEventListener":"addEventListener",n=("container"===m.params.touchEventsTarget?m.container:m.wrapper)[0],r=m.support.touch?n:document,i=!!m.params.nested;m.browser.ie?(n[e](m.touchEvents.start,m.onTouchStart,!1),r[e](m.touchEvents.move,m.onTouchMove,i),r[e](m.touchEvents.end,m.onTouchEnd,!1)):(m.support.touch&&(r=!("touchstart"!==m.touchEvents.start||!m.support.passiveListener||!m.params.passiveListeners)&&{passive:!0,capture:!1},n[e](m.touchEvents.start,m.onTouchStart,r),n[e](m.touchEvents.move,m.onTouchMove,i),n[e](m.touchEvents.end,m.onTouchEnd,r)),(o.simulateTouch&&!m.device.ios&&!m.device.android||o.simulateTouch&&!m.support.touch&&m.device.ios)&&(n[e]("mousedown",m.onTouchStart,!1),document[e]("mousemove",m.onTouchMove,i),document[e]("mouseup",m.onTouchEnd,!1))),window[e]("resize",m.onResize),m.params.nextButton&&m.nextButton&&0<m.nextButton.length&&(m.nextButton[t]("click",m.onClickNext),m.params.a11y&&m.a11y&&m.nextButton[t]("keydown",m.a11y.onEnterKey)),m.params.prevButton&&m.prevButton&&0<m.prevButton.length&&(m.prevButton[t]("click",m.onClickPrev),m.params.a11y&&m.a11y&&m.prevButton[t]("keydown",m.a11y.onEnterKey)),m.params.pagination&&m.params.paginationClickable&&(m.paginationContainer[t]("click","."+m.params.bulletClass,m.onClickIndex),m.params.a11y&&m.a11y&&m.paginationContainer[t]("keydown","."+m.params.bulletClass,m.a11y.onEnterKey)),(m.params.preventClicks||m.params.preventClicksPropagation)&&n[e]("click",m.preventClicks,!0)},m.attachEvents=function(){m.initEvents()},m.detachEvents=function(){m.initEvents(!0)},m.allowClick=!0,m.preventClicks=function(e){m.allowClick||(m.params.preventClicks&&e.preventDefault(),m.params.preventClicksPropagation&&m.animating&&(e.stopPropagation(),e.stopImmediatePropagation()))},m.onClickNext=function(e){e.preventDefault(),m.isEnd&&!m.params.loop||m.slideNext()},m.onClickPrev=function(e){e.preventDefault(),m.isBeginning&&!m.params.loop||m.slidePrev()},m.onClickIndex=function(e){e.preventDefault();e=j(this).index()*m.params.slidesPerGroup;m.params.loop&&(e+=m.loopedSlides),m.slideTo(e)},m.updateClickedSlide=function(e){var t,n,r=M(e,"."+m.params.slideClass),i=!1;if(r)for(var o=0;o<m.slides.length;o++)m.slides[o]===r&&(i=!0);r&&i?(m.clickedSlide=r,m.clickedIndex=j(r).index(),m.params.slideToClickedSlide&&void 0!==m.clickedIndex&&m.clickedIndex!==m.activeIndex&&(t=m.clickedIndex,e="auto"===m.params.slidesPerView?m.currentSlidesPerView():m.params.slidesPerView,m.params.loop?m.animating||(n=parseInt(j(m.clickedSlide).attr("data-swiper-slide-index"),10),m.params.centeredSlides?t<m.loopedSlides-e/2||t>m.slides.length-m.loopedSlides+e/2?(m.fixLoop(),t=m.wrapper.children("."+m.params.slideClass+'[data-swiper-slide-index="'+n+'"]:not(.'+m.params.slideDuplicateClass+")").eq(0).index(),setTimeout(function(){m.slideTo(t)},0)):m.slideTo(t):t>m.slides.length-e?(m.fixLoop(),t=m.wrapper.children("."+m.params.slideClass+'[data-swiper-slide-index="'+n+'"]:not(.'+m.params.slideDuplicateClass+")").eq(0).index(),setTimeout(function(){m.slideTo(t)},0)):m.slideTo(t)):m.slideTo(t))):(m.clickedSlide=void 0,m.clickedIndex=void 0)};var f,p,g,v,u,b,y,d,w,_,h,k,x,C,S="input, select, textarea, button, video",T=Date.now(),$=[];for(C in m.animating=!1,m.touches={startX:0,startY:0,currentX:0,currentY:0,diff:0},m.onTouchStart=function(e){var t,n;e.originalEvent&&(e=e.originalEvent),!(h="touchstart"===e.type)&&"which"in e&&3===e.which||(m.params.noSwiping&&M(e,"."+m.params.noSwipingClass)?m.allowClick=!0:m.params.swipeHandler&&!M(e,m.params.swipeHandler)||(n=m.touches.currentX=("touchstart"===e.type?e.targetTouches[0]:e).pageX,t=m.touches.currentY=("touchstart"===e.type?e.targetTouches[0]:e).pageY,m.device.ios&&m.params.iOSEdgeSwipeDetection&&n<=m.params.iOSEdgeSwipeThreshold||(g=!(p=!(f=!0)),k=u=void 0,m.touches.startX=n,m.touches.startY=t,v=Date.now(),m.allowClick=!0,m.updateContainerSize(),m.swipeDirection=void 0,0<m.params.threshold&&(d=!1),"touchstart"!==e.type&&(n=!0,j(e.target).is(S)&&(n=!1),document.activeElement&&j(document.activeElement).is(S)&&document.activeElement.blur(),n&&e.preventDefault()),m.emit("onTouchStart",m,e))))},m.onTouchMove=function(e){if(e.originalEvent&&(e=e.originalEvent),!h||"mousemove"!==e.type)if(e.preventedByNestedSwiper)m.touches.startX=("touchmove"===e.type?e.targetTouches[0]:e).pageX,m.touches.startY=("touchmove"===e.type?e.targetTouches[0]:e).pageY;else if(m.params.onlyExternal)m.allowClick=!1,f&&(m.touches.startX=m.touches.currentX=("touchmove"===e.type?e.targetTouches[0]:e).pageX,m.touches.startY=m.touches.currentY=("touchmove"===e.type?e.targetTouches[0]:e).pageY,v=Date.now());else{if(h&&m.params.touchReleaseOnEdges&&!m.params.loop)if(m.isHorizontal()){if(m.touches.currentX<m.touches.startX&&m.translate<=m.maxTranslate()||m.touches.currentX>m.touches.startX&&m.translate>=m.minTranslate())return}else if(m.touches.currentY<m.touches.startY&&m.translate<=m.maxTranslate()||m.touches.currentY>m.touches.startY&&m.translate>=m.minTranslate())return;if(h&&document.activeElement&&e.target===document.activeElement&&j(e.target).is(S))p=!0,m.allowClick=!1;else if(g&&m.emit("onTouchMove",m,e),!(e.targetTouches&&1<e.targetTouches.length))if(m.touches.currentX=("touchmove"===e.type?e.targetTouches[0]:e).pageX,m.touches.currentY=("touchmove"===e.type?e.targetTouches[0]:e).pageY,(u=void 0===u?!(m.isHorizontal()&&m.touches.currentY===m.touches.startY||!m.isHorizontal()&&m.touches.currentX===m.touches.startX)&&(t=180*Math.atan2(Math.abs(m.touches.currentY-m.touches.startY),Math.abs(m.touches.currentX-m.touches.startX))/Math.PI,m.isHorizontal()?t>m.params.touchAngle:90-t>m.params.touchAngle):u)&&m.emit("onTouchMoveOpposite",m,e),void 0!==k||m.touches.currentX===m.touches.startX&&m.touches.currentY===m.touches.startY||(k=!0),f)if(u)f=!1;else if(k){m.allowClick=!1,m.emit("onSliderMove",m,e),e.preventDefault(),m.params.touchMoveStopPropagation&&!m.params.nested&&e.stopPropagation(),p||(o.loop&&m.fixLoop(),y=m.getWrapperTranslate(),m.setWrapperTransition(0),m.animating&&m.wrapper.trigger("webkitTransitionEnd transitionend oTransitionEnd MSTransitionEnd msTransitionEnd"),m.params.autoplay&&m.autoplaying&&(m.params.autoplayDisableOnInteraction?m.stopAutoplay():m.pauseAutoplay()),_=!1,!m.params.grabCursor||!0!==m.params.allowSwipeToNext&&!0!==m.params.allowSwipeToPrev||m.setGrabCursor(!0)),p=!0;var t=m.touches.diff=m.isHorizontal()?m.touches.currentX-m.touches.startX:m.touches.currentY-m.touches.startY,n=(t*=m.params.touchRatio,m.rtl&&(t=-t),m.swipeDirection=0<t?"prev":"next",b=t+y,!0);if(0<t&&b>m.minTranslate()?(n=!1,m.params.resistance&&(b=m.minTranslate()-1+Math.pow(-m.minTranslate()+y+t,m.params.resistanceRatio))):t<0&&b<m.maxTranslate()&&(n=!1,m.params.resistance&&(b=m.maxTranslate()+1-Math.pow(m.maxTranslate()-y-t,m.params.resistanceRatio))),n&&(e.preventedByNestedSwiper=!0),!m.params.allowSwipeToNext&&"next"===m.swipeDirection&&b<y&&(b=y),!m.params.allowSwipeToPrev&&"prev"===m.swipeDirection&&y<b&&(b=y),0<m.params.threshold){if(!(Math.abs(t)>m.params.threshold||d))return void(b=y);if(!d)return d=!0,m.touches.startX=m.touches.currentX,m.touches.startY=m.touches.currentY,b=y,void(m.touches.diff=m.isHorizontal()?m.touches.currentX-m.touches.startX:m.touches.currentY-m.touches.startY)}m.params.followFinger&&((m.params.freeMode||m.params.watchSlidesProgress)&&m.updateActiveIndex(),m.params.freeMode&&(0===$.length&&$.push({position:m.touches[m.isHorizontal()?"startX":"startY"],time:v}),$.push({position:m.touches[m.isHorizontal()?"currentX":"currentY"],time:(new window.Date).getTime()})),m.updateProgress(b),m.setWrapperTranslate(b))}}},m.onTouchEnd=function(e){if(e.originalEvent&&(e=e.originalEvent),g&&m.emit("onTouchEnd",m,e),g=!1,f){m.params.grabCursor&&p&&f&&(!0===m.params.allowSwipeToNext||!0===m.params.allowSwipeToPrev)&&m.setGrabCursor(!1);var t,n=Date.now(),r=n-v;if(m.allowClick&&(m.updateClickedSlide(e),m.emit("onTap",m,e),r<300&&300<n-T&&(w&&clearTimeout(w),w=setTimeout(function(){m&&(m.params.paginationHide&&0<m.paginationContainer.length&&!j(e.target).hasClass(m.params.bulletClass)&&m.paginationContainer.toggleClass(m.params.paginationHiddenClass),m.emit("onClick",m,e))},300)),r<300&&n-T<300&&(w&&clearTimeout(w),m.emit("onDoubleTap",m,e))),T=Date.now(),setTimeout(function(){m&&(m.allowClick=!0)},0),f&&p&&m.swipeDirection&&0!==m.touches.diff&&b!==y)if(f=p=!1,t=m.params.followFinger?m.rtl?m.translate:-m.translate:-b,m.params.freeMode)if(t<-m.minTranslate())m.slideTo(m.activeIndex);else if(t>-m.maxTranslate())m.slides.length<m.snapGrid.length?m.slideTo(m.snapGrid.length-1):m.slideTo(m.slides.length-1);else{if(m.params.freeModeMomentum){1<$.length&&(n=$.pop(),a=$.pop(),o=n.position-a.position,a=n.time-a.time,m.velocity=o/a,m.velocity=m.velocity/2,Math.abs(m.velocity)<m.params.freeModeMinimumVelocity&&(m.velocity=0),!(150<a||300<(new window.Date).getTime()-n.time))||(m.velocity=0),m.velocity=m.velocity*m.params.freeModeMomentumVelocityRatio,$.length=0;var i,o=1e3*m.params.freeModeMomentumRatio,a=m.velocity*o,s=m.translate+a,n=(m.rtl&&(s=-s),!1),a=20*Math.abs(m.velocity)*m.params.freeModeMomentumBounceRatio;if(s<m.maxTranslate())m.params.freeModeMomentumBounce?(s+m.maxTranslate()<-a&&(s=m.maxTranslate()-a),i=m.maxTranslate(),_=n=!0):s=m.maxTranslate();else if(s>m.minTranslate())m.params.freeModeMomentumBounce?(s-m.minTranslate()>a&&(s=m.minTranslate()+a),i=m.minTranslate(),_=n=!0):s=m.minTranslate();else if(m.params.freeModeSticky){for(var l,c=0,c=0;c<m.snapGrid.length;c+=1)if(m.snapGrid[c]>-s){l=c;break}s=Math.abs(m.snapGrid[l]-s)<Math.abs(m.snapGrid[l-1]-s)||"next"===m.swipeDirection?m.snapGrid[l]:m.snapGrid[l-1],m.rtl||(s=-s)}if(0!==m.velocity)o=m.rtl?Math.abs((-s-m.translate)/m.velocity):Math.abs((s-m.translate)/m.velocity);else if(m.params.freeModeSticky)return void m.slideReset();m.params.freeModeMomentumBounce&&n?(m.updateProgress(i),m.setWrapperTransition(o),m.setWrapperTranslate(s),m.onTransitionStart(),m.animating=!0,m.wrapper.transitionEnd(function(){m&&_&&(m.emit("onMomentumBounce",m),m.setWrapperTransition(m.params.speed),m.setWrapperTranslate(i),m.wrapper.transitionEnd(function(){m&&m.onTransitionEnd()}))})):m.velocity?(m.updateProgress(s),m.setWrapperTransition(o),m.setWrapperTranslate(s),m.onTransitionStart(),m.animating||(m.animating=!0,m.wrapper.transitionEnd(function(){m&&m.onTransitionEnd()}))):m.updateProgress(s),m.updateActiveIndex()}(!m.params.freeModeMomentum||r>=m.params.longSwipesMs)&&(m.updateProgress(),m.updateActiveIndex())}else{for(var u=0,d=m.slidesSizesGrid[0],h=0;h<m.slidesGrid.length;h+=m.params.slidesPerGroup)void 0!==m.slidesGrid[h+m.params.slidesPerGroup]?t>=m.slidesGrid[h]&&t<m.slidesGrid[h+m.params.slidesPerGroup]&&(u=h,d=m.slidesGrid[h+m.params.slidesPerGroup]-m.slidesGrid[h]):t>=m.slidesGrid[h]&&(u=h,d=m.slidesGrid[m.slidesGrid.length-1]-m.slidesGrid[m.slidesGrid.length-2]);a=(t-m.slidesGrid[u])/d;r>m.params.longSwipesMs?m.params.longSwipes?("next"===m.swipeDirection&&(a>=m.params.longSwipesRatio?m.slideTo(u+m.params.slidesPerGroup):m.slideTo(u)),"prev"===m.swipeDirection&&(a>1-m.params.longSwipesRatio?m.slideTo(u+m.params.slidesPerGroup):m.slideTo(u))):m.slideTo(m.activeIndex):m.params.shortSwipes?("next"===m.swipeDirection&&m.slideTo(u+m.params.slidesPerGroup),"prev"===m.swipeDirection&&m.slideTo(u)):m.slideTo(m.activeIndex)}else f=p=!1}},m._slideTo=function(e,t){return m.slideTo(e,t,!0,!0)},m.slideTo=function(e,t,n,r){void 0===n&&(n=!0),(e=void 0===e?0:e)<0&&(e=0),m.snapIndex=Math.floor(e/m.params.slidesPerGroup),m.snapIndex>=m.snapGrid.length&&(m.snapIndex=m.snapGrid.length-1);var i=-m.snapGrid[m.snapIndex];if(m.params.autoplay&&m.autoplaying&&(r||!m.params.autoplayDisableOnInteraction?m.pauseAutoplay(t):m.stopAutoplay()),m.updateProgress(i),m.params.normalizeSlideIndex)for(var o=0;o<m.slidesGrid.length;o++)-Math.floor(100*i)>=Math.floor(100*m.slidesGrid[o])&&(e=o);return!(!m.params.allowSwipeToNext&&i<m.translate&&i<m.minTranslate())&&(!(!m.params.allowSwipeToPrev&&i>m.translate&&i>m.maxTranslate()&&(m.activeIndex||0)!==e)&&(void 0===t&&(t=m.params.speed),m.previousIndex=m.activeIndex||0,m.activeIndex=e,m.updateRealIndex(),m.rtl&&-i===m.translate||!m.rtl&&i===m.translate?(m.params.autoHeight&&m.updateAutoHeight(),m.updateClasses(),"slide"!==m.params.effect&&m.setWrapperTranslate(i),!1):(m.updateClasses(),m.onTransitionStart(n),0===t||m.browser.lteIE9?(m.setWrapperTranslate(i),m.setWrapperTransition(0),m.onTransitionEnd(n)):(m.setWrapperTranslate(i),m.setWrapperTransition(t),m.animating||(m.animating=!0,m.wrapper.transitionEnd(function(){m&&m.onTransitionEnd(n)}))),!0)))},m.onTransitionStart=function(e){void 0===e&&(e=!0),m.params.autoHeight&&m.updateAutoHeight(),m.lazy&&m.lazy.onTransitionStart(),e&&(m.emit("onTransitionStart",m),m.activeIndex!==m.previousIndex&&(m.emit("onSlideChangeStart",m),m.activeIndex>m.previousIndex?m.emit("onSlideNextStart",m):m.emit("onSlidePrevStart",m)))},m.onTransitionEnd=function(e){m.animating=!1,m.setWrapperTransition(0),void 0===e&&(e=!0),m.lazy&&m.lazy.onTransitionEnd(),e&&(m.emit("onTransitionEnd",m),m.activeIndex!==m.previousIndex&&(m.emit("onSlideChangeEnd",m),m.activeIndex>m.previousIndex?m.emit("onSlideNextEnd",m):m.emit("onSlidePrevEnd",m))),m.params.history&&m.history&&m.history.setHistory(m.params.history,m.activeIndex),m.params.hashnav&&m.hashnav&&m.hashnav.setHash()},m.slideNext=function(e,t,n){if(m.params.loop){if(m.animating)return!1;m.fixLoop();m.container[0].clientLeft}return m.slideTo(m.activeIndex+m.params.slidesPerGroup,t,e,n)},m._slideNext=function(e){return m.slideNext(!0,e,!0)},m.slidePrev=function(e,t,n){if(m.params.loop){if(m.animating)return!1;m.fixLoop();m.container[0].clientLeft}return m.slideTo(m.activeIndex-1,t,e,n)},m._slidePrev=function(e){return m.slidePrev(!0,e,!0)},m.slideReset=function(e,t,n){return m.slideTo(m.activeIndex,t,e)},m.disableTouchControl=function(){return m.params.onlyExternal=!0},m.enableTouchControl=function(){return!(m.params.onlyExternal=!1)},m.setWrapperTransition=function(e,t){m.wrapper.transition(e),"slide"!==m.params.effect&&m.effects[m.params.effect]&&m.effects[m.params.effect].setTransition(e),m.params.parallax&&m.parallax&&m.parallax.setTransition(e),m.params.scrollbar&&m.scrollbar&&m.scrollbar.setTransition(e),m.params.control&&m.controller&&m.controller.setTransition(e,t),m.emit("onSetTransition",m,e)},m.setWrapperTranslate=function(e,t,n){var r=0,i=0,r=(m.isHorizontal()?r=m.rtl?-e:e:i=e,m.params.roundLengths&&(r=A(r),i=A(i)),m.params.virtualTranslate||(m.support.transforms3d?m.wrapper.transform("translate3d("+r+"px, "+i+"px, 0px)"):m.wrapper.transform("translate("+r+"px, "+i+"px)")),m.translate=m.isHorizontal()?r:i,m.maxTranslate()-m.minTranslate()),i=0==r?0:(e-m.minTranslate())/r;i!==m.progress&&m.updateProgress(e),t&&m.updateActiveIndex(),"slide"!==m.params.effect&&m.effects[m.params.effect]&&m.effects[m.params.effect].setTranslate(m.translate),m.params.parallax&&m.parallax&&m.parallax.setTranslate(m.translate),m.params.scrollbar&&m.scrollbar&&m.scrollbar.setTranslate(m.translate),m.params.control&&m.controller&&m.controller.setTranslate(m.translate,n),m.emit("onSetTranslate",m,m.translate)},m.getTranslate=function(e,t){var n,r,i;return void 0===t&&(t="x"),m.params.virtualTranslate?m.rtl?-m.translate:m.translate:(e=window.getComputedStyle(e,null),window.WebKitCSSMatrix?(6<(r=e.transform||e.webkitTransform).split(",").length&&(r=r.split(", ").map(function(e){return e.replace(",",".")}).join(", ")),i=new window.WebKitCSSMatrix("none"===r?"":r)):n=(i=e.MozTransform||e.OTransform||e.MsTransform||e.msTransform||e.transform||e.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,")).toString().split(","),"x"===t&&(r=window.WebKitCSSMatrix?i.m41:16===n.length?parseFloat(n[12]):parseFloat(n[4])),"y"===t&&(r=window.WebKitCSSMatrix?i.m42:16===n.length?parseFloat(n[13]):parseFloat(n[5])),(r=m.rtl&&r?-r:r)||0)},m.getWrapperTranslate=function(e){return void 0===e&&(e=m.isHorizontal()?"x":"y"),m.getTranslate(m.wrapper[0],e)},m.observers=[],m.initObservers=function(){if(m.params.observeParents)for(var e=m.container.parents(),t=0;t<e.length;t++)P(e[t]);P(m.container[0],{childList:!1}),P(m.wrapper[0],{attributes:!1})},m.disconnectObservers=function(){for(var e=0;e<m.observers.length;e++)m.observers[e].disconnect();m.observers=[]},m.createLoop=function(){m.wrapper.children("."+m.params.slideClass+"."+m.params.slideDuplicateClass).remove();var e,r=m.wrapper.children("."+m.params.slideClass),i=("auto"!==m.params.slidesPerView||m.params.loopedSlides||(m.params.loopedSlides=r.length),m.loopedSlides=parseInt(m.params.loopedSlides||m.params.slidesPerView,10),m.loopedSlides=m.loopedSlides+m.params.loopAdditionalSlides,m.loopedSlides>r.length&&(m.loopedSlides=r.length),[]),o=[];for(r.each(function(e,t){var n=j(this);e<m.loopedSlides&&o.push(t),e<r.length&&e>=r.length-m.loopedSlides&&i.push(t),n.attr("data-swiper-slide-index",e)}),e=0;e<o.length;e++)m.wrapper.append(j(o[e].cloneNode(!0)).addClass(m.params.slideDuplicateClass));for(e=i.length-1;0<=e;e--)m.wrapper.prepend(j(i[e].cloneNode(!0)).addClass(m.params.slideDuplicateClass))},m.destroyLoop=function(){m.wrapper.children("."+m.params.slideClass+"."+m.params.slideDuplicateClass).remove(),m.slides.removeAttr("data-swiper-slide-index")},m.reLoop=function(e){var t=m.activeIndex-m.loopedSlides;m.destroyLoop(),m.createLoop(),m.updateSlidesSize(),e&&m.slideTo(t+m.loopedSlides,0,!1)},m.fixLoop=function(){var e;m.activeIndex<m.loopedSlides?(e=m.slides.length-3*m.loopedSlides+m.activeIndex,e+=m.loopedSlides,m.slideTo(e,0,!1,!0)):("auto"===m.params.slidesPerView&&m.activeIndex>=2*m.loopedSlides||m.activeIndex>m.slides.length-2*m.params.slidesPerView)&&(e=-m.slides.length+m.activeIndex+m.loopedSlides,e+=m.loopedSlides,m.slideTo(e,0,!1,!0))},m.appendSlide=function(e){if(m.params.loop&&m.destroyLoop(),"object"==typeof e&&e.length)for(var t=0;t<e.length;t++)e[t]&&m.wrapper.append(e[t]);else m.wrapper.append(e);m.params.loop&&m.createLoop(),m.params.observer&&m.support.observer||m.update(!0)},m.prependSlide=function(e){m.params.loop&&m.destroyLoop();var t=m.activeIndex+1;if("object"==typeof e&&e.length){for(var n=0;n<e.length;n++)e[n]&&m.wrapper.prepend(e[n]);t=m.activeIndex+e.length}else m.wrapper.prepend(e);m.params.loop&&m.createLoop(),m.params.observer&&m.support.observer||m.update(!0),m.slideTo(t,0,!1)},m.removeSlide=function(e){m.params.loop&&(m.destroyLoop(),m.slides=m.wrapper.children("."+m.params.slideClass));var t,n=m.activeIndex;if("object"==typeof e&&e.length)for(var r=0;r<e.length;r++)t=e[r],m.slides[t]&&m.slides.eq(t).remove(),t<n&&n--;else m.slides[t=e]&&m.slides.eq(t).remove(),t<n&&n--;n=Math.max(n,0),m.params.loop&&m.createLoop(),m.params.observer&&m.support.observer||m.update(!0),m.params.loop?m.slideTo(n+m.loopedSlides,0,!1):m.slideTo(n,0,!1)},m.removeAllSlides=function(){for(var e=[],t=0;t<m.slides.length;t++)e.push(t);m.removeSlide(e)},m.effects={fade:{setTranslate:function(){for(var e=0;e<m.slides.length;e++){var t=m.slides.eq(e),n=-t[0].swiperSlideOffset,r=(m.params.virtualTranslate||(n-=m.translate),0),i=(m.isHorizontal()||(r=n,n=0),m.params.fade.crossFade?Math.max(1-Math.abs(t[0].progress),0):1+Math.min(Math.max(t[0].progress,-1),0));t.css({opacity:i}).transform("translate3d("+n+"px, "+r+"px, 0px)")}},setTransition:function(e){var n;m.slides.transition(e),m.params.virtualTranslate&&0!==e&&(n=!1,m.slides.transitionEnd(function(){if(!n&&m){n=!0,m.animating=!1;for(var e=["webkitTransitionEnd","transitionend","oTransitionEnd","MSTransitionEnd","msTransitionEnd"],t=0;t<e.length;t++)m.wrapper.trigger(e[t])}}))}},flip:{setTranslate:function(){for(var e=0;e<m.slides.length;e++){var t,n,r=m.slides.eq(e),i=r[0].progress,o=(m.params.flip.limitRotation&&(i=Math.max(Math.min(r[0].progress,1),-1)),r[0].swiperSlideOffset),a=-180*i,s=0,o=-o,l=0;m.isHorizontal()?m.rtl&&(a=-a):(l=o,s=-a,a=o=0),r[0].style.zIndex=-Math.abs(Math.round(i))+m.slides.length,m.params.flip.slideShadows&&(t=m.isHorizontal()?r.find(".swiper-slide-shadow-left"):r.find(".swiper-slide-shadow-top"),n=m.isHorizontal()?r.find(".swiper-slide-shadow-right"):r.find(".swiper-slide-shadow-bottom"),0===t.length&&(t=j('<div class="swiper-slide-shadow-'+(m.isHorizontal()?"left":"top")+'"></div>'),r.append(t)),0===n.length&&(n=j('<div class="swiper-slide-shadow-'+(m.isHorizontal()?"right":"bottom")+'"></div>'),r.append(n)),t.length&&(t[0].style.opacity=Math.max(-i,0)),n.length&&(n[0].style.opacity=Math.max(i,0))),r.transform("translate3d("+o+"px, "+l+"px, 0px) rotateX("+s+"deg) rotateY("+a+"deg)")}},setTransition:function(e){var n;m.slides.transition(e).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(e),m.params.virtualTranslate&&0!==e&&(n=!1,m.slides.eq(m.activeIndex).transitionEnd(function(){if(!n&&m&&j(this).hasClass(m.params.slideActiveClass)){n=!0,m.animating=!1;for(var e=["webkitTransitionEnd","transitionend","oTransitionEnd","MSTransitionEnd","msTransitionEnd"],t=0;t<e.length;t++)m.wrapper.trigger(e[t])}}))}},cube:{setTranslate:function(){var e=0;m.params.cube.shadow&&(m.isHorizontal()?(0===(h=m.wrapper.find(".swiper-cube-shadow")).length&&(h=j('<div class="swiper-cube-shadow"></div>'),m.wrapper.append(h)),h.css({height:m.width+"px"})):0===(h=m.container.find(".swiper-cube-shadow")).length&&(h=j('<div class="swiper-cube-shadow"></div>'),m.container.append(h)));for(var t,n,r,i=0;i<m.slides.length;i++){var o=m.slides.eq(i),a=90*i,s=Math.floor(a/360),l=(m.rtl&&(a=-a,s=Math.floor(-a/360)),Math.max(Math.min(o[0].progress,1),-1)),c=0,u=0,d=0,s=(i%4==0?(c=4*-s*m.size,d=0):(i-1)%4==0?(c=0,d=4*-s*m.size):(i-2)%4==0?(c=m.size+4*s*m.size,d=m.size):(i-3)%4==0&&(c=-m.size,d=3*m.size+4*m.size*s),m.rtl&&(c=-c),m.isHorizontal()||(u=c,c=0),"rotateX("+(m.isHorizontal()?0:-a)+"deg) rotateY("+(m.isHorizontal()?a:0)+"deg) translate3d("+c+"px, "+u+"px, "+d+"px)");l<=1&&-1<l&&(e=90*i+90*l,m.rtl&&(e=90*-i-90*l)),o.transform(s),m.params.cube.slideShadows&&(a=m.isHorizontal()?o.find(".swiper-slide-shadow-left"):o.find(".swiper-slide-shadow-top"),c=m.isHorizontal()?o.find(".swiper-slide-shadow-right"):o.find(".swiper-slide-shadow-bottom"),0===a.length&&(a=j('<div class="swiper-slide-shadow-'+(m.isHorizontal()?"left":"top")+'"></div>'),o.append(a)),0===c.length&&(c=j('<div class="swiper-slide-shadow-'+(m.isHorizontal()?"right":"bottom")+'"></div>'),o.append(c)),a.length&&(a[0].style.opacity=Math.max(-l,0)),c.length&&(c[0].style.opacity=Math.max(l,0)))}m.wrapper.css({"-webkit-transform-origin":"50% 50% -"+m.size/2+"px","-moz-transform-origin":"50% 50% -"+m.size/2+"px","-ms-transform-origin":"50% 50% -"+m.size/2+"px","transform-origin":"50% 50% -"+m.size/2+"px"}),m.params.cube.shadow&&(m.isHorizontal()?h.transform("translate3d(0px, "+(m.width/2+m.params.cube.shadowOffset)+"px, "+-m.width/2+"px) rotateX(90deg) rotateZ(0deg) scale("+m.params.cube.shadowScale+")"):(n=Math.abs(e)-90*Math.floor(Math.abs(e)/90),n=1.5-(Math.sin(2*n*Math.PI/360)/2+Math.cos(2*n*Math.PI/360)/2),t=m.params.cube.shadowScale,n=m.params.cube.shadowScale/n,r=m.params.cube.shadowOffset,h.transform("scale3d("+t+", 1, "+n+") translate3d(0px, "+(m.height/2+r)+"px, "+-m.height/2/n+"px) rotateX(-90deg)")));var h=m.isSafari||m.isUiWebView?-m.size/2:0;m.wrapper.transform("translate3d(0px,0,"+h+"px) rotateX("+(m.isHorizontal()?0:e)+"deg) rotateY("+(m.isHorizontal()?-e:0)+"deg)")},setTransition:function(e){m.slides.transition(e).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(e),m.params.cube.shadow&&!m.isHorizontal()&&m.container.find(".swiper-cube-shadow").transition(e)}},coverflow:{setTranslate:function(){for(var e=m.translate,t=m.isHorizontal()?-e+m.width/2:-e+m.height/2,n=m.isHorizontal()?m.params.coverflow.rotate:-m.params.coverflow.rotate,r=m.params.coverflow.depth,i=0,o=m.slides.length;i<o;i++){var a=m.slides.eq(i),s=m.slidesSizesGrid[i],s=(t-a[0].swiperSlideOffset-s/2)/s*m.params.coverflow.modifier,l=m.isHorizontal()?n*s:0,c=m.isHorizontal()?0:n*s,u=-r*Math.abs(s),d=m.isHorizontal()?0:m.params.coverflow.stretch*s,h=m.isHorizontal()?m.params.coverflow.stretch*s:0,h=(Math.abs(h)<.001&&(h=0),Math.abs(d)<.001&&(d=0),Math.abs(u)<.001&&(u=0),Math.abs(l)<.001&&(l=0),"translate3d("+h+"px,"+d+"px,"+u+"px)  rotateX("+(c=Math.abs(c)<.001?0:c)+"deg) rotateY("+l+"deg)");a.transform(h),a[0].style.zIndex=1-Math.abs(Math.round(s)),m.params.coverflow.slideShadows&&(d=m.isHorizontal()?a.find(".swiper-slide-shadow-left"):a.find(".swiper-slide-shadow-top"),u=m.isHorizontal()?a.find(".swiper-slide-shadow-right"):a.find(".swiper-slide-shadow-bottom"),0===d.length&&(d=j('<div class="swiper-slide-shadow-'+(m.isHorizontal()?"left":"top")+'"></div>'),a.append(d)),0===u.length&&(u=j('<div class="swiper-slide-shadow-'+(m.isHorizontal()?"right":"bottom")+'"></div>'),a.append(u)),d.length&&(d[0].style.opacity=0<s?s:0),u.length&&(u[0].style.opacity=0<-s?-s:0))}m.browser.ie&&(m.wrapper[0].style.perspectiveOrigin=t+"px 50%")},setTransition:function(e){m.slides.transition(e).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(e)}}},m.lazy={initialImageLoaded:!1,loadImageInSlide:function(e,s){var l;void 0!==e&&(void 0===s&&(s=!0),0!==m.slides.length&&(e=(l=m.slides.eq(e)).find("."+m.params.lazyLoadingClass+":not(."+m.params.lazyStatusLoadedClass+"):not(."+m.params.lazyStatusLoadingClass+")"),0!==(e=!l.hasClass(m.params.lazyLoadingClass)||l.hasClass(m.params.lazyStatusLoadedClass)||l.hasClass(m.params.lazyStatusLoadingClass)?e:e.add(l[0])).length&&e.each(function(){var n=j(this),r=(n.addClass(m.params.lazyStatusLoadingClass),n.attr("data-background")),i=n.attr("data-src"),o=n.attr("data-srcset"),a=n.attr("data-sizes");m.loadImage(n[0],i||r,o,a,!1,function(){var e,t;null!=m&&m&&(r?(n.css("background-image",'url("'+r+'")'),n.removeAttr("data-background")):(o&&(n.attr("srcset",o),n.removeAttr("data-srcset")),a&&(n.attr("sizes",a),n.removeAttr("data-sizes")),i&&(n.attr("src",i),n.removeAttr("data-src"))),n.addClass(m.params.lazyStatusLoadedClass).removeClass(m.params.lazyStatusLoadingClass),l.find("."+m.params.lazyPreloaderClass+", ."+m.params.preloaderClass).remove(),m.params.loop&&s&&(e=l.attr("data-swiper-slide-index"),l.hasClass(m.params.slideDuplicateClass)?(t=m.wrapper.children('[data-swiper-slide-index="'+e+'"]:not(.'+m.params.slideDuplicateClass+")"),m.lazy.loadImageInSlide(t.index(),!1)):(t=m.wrapper.children("."+m.params.slideDuplicateClass+'[data-swiper-slide-index="'+e+'"]'),m.lazy.loadImageInSlide(t.index(),!1))),m.emit("onLazyImageReady",m,l[0],n[0]))}),m.emit("onLazyImageLoad",m,l[0],n[0])})))},load:function(){var e=m.params.slidesPerView;if("auto"===e&&(e=0),m.lazy.initialImageLoaded||(m.lazy.initialImageLoaded=!0),m.params.watchSlidesVisibility)m.wrapper.children("."+m.params.slideVisibleClass).each(function(){m.lazy.loadImageInSlide(j(this).index())});else if(1<e)for(i=m.activeIndex;i<m.activeIndex+e;i++)m.slides[i]&&m.lazy.loadImageInSlide(i);else m.lazy.loadImageInSlide(m.activeIndex);if(m.params.lazyLoadingInPrevNext)if(1<e||m.params.lazyLoadingInPrevNextAmount&&1<m.params.lazyLoadingInPrevNextAmount){for(var t=m.params.lazyLoadingInPrevNextAmount,n=e,r=Math.min(m.activeIndex+n+Math.max(t,n),m.slides.length),n=Math.max(m.activeIndex-Math.max(n,t),0),i=m.activeIndex+e;i<r;i++)m.slides[i]&&m.lazy.loadImageInSlide(i);for(i=n;i<m.activeIndex;i++)m.slides[i]&&m.lazy.loadImageInSlide(i)}else{t=m.wrapper.children("."+m.params.slideNextClass),n=(0<t.length&&m.lazy.loadImageInSlide(t.index()),m.wrapper.children("."+m.params.slidePrevClass));0<n.length&&m.lazy.loadImageInSlide(n.index())}},onTransitionStart:function(){!m.params.lazyLoading||!m.params.lazyLoadingOnTransitionStart&&(m.params.lazyLoadingOnTransitionStart||m.lazy.initialImageLoaded)||m.lazy.load()},onTransitionEnd:function(){m.params.lazyLoading&&!m.params.lazyLoadingOnTransitionStart&&m.lazy.load()}},m.scrollbar={isTouched:!1,setDragPosition:function(e){var t=m.scrollbar,e=(m.isHorizontal()?"touchstart"===e.type||"touchmove"===e.type?e.targetTouches[0].pageX:e.pageX||e.clientX:"touchstart"===e.type||"touchmove"===e.type?e.targetTouches[0].pageY:e.pageY||e.clientY)-t.track.offset()[m.isHorizontal()?"left":"top"]-t.dragSize/2,n=-m.minTranslate()*t.moveDivider,r=-m.maxTranslate()*t.moveDivider;e<n?e=n:r<e&&(e=r),e=-e/t.moveDivider,m.updateProgress(e),m.setWrapperTranslate(e,!0)},dragStart:function(e){var t=m.scrollbar;t.isTouched=!0,e.preventDefault(),e.stopPropagation(),t.setDragPosition(e),clearTimeout(t.dragTimeout),t.track.transition(0),m.params.scrollbarHide&&t.track.css("opacity",1),m.wrapper.transition(100),t.drag.transition(100),m.emit("onScrollbarDragStart",m)},dragMove:function(e){var t=m.scrollbar;t.isTouched&&(e.preventDefault?e.preventDefault():e.returnValue=!1,t.setDragPosition(e),m.wrapper.transition(0),t.track.transition(0),t.drag.transition(0),m.emit("onScrollbarDragMove",m))},dragEnd:function(e){var t=m.scrollbar;t.isTouched&&(t.isTouched=!1,m.params.scrollbarHide&&(clearTimeout(t.dragTimeout),t.dragTimeout=setTimeout(function(){t.track.css("opacity",0),t.track.transition(400)},1e3)),m.emit("onScrollbarDragEnd",m),m.params.scrollbarSnapOnRelease&&m.slideReset())},draggableEvents:!1!==m.params.simulateTouch||m.support.touch?m.touchEvents:m.touchEventsDesktop,enableDraggable:function(){var e=m.scrollbar,t=m.support.touch?e.track:document;j(e.track).on(e.draggableEvents.start,e.dragStart),j(t).on(e.draggableEvents.move,e.dragMove),j(t).on(e.draggableEvents.end,e.dragEnd)},disableDraggable:function(){var e=m.scrollbar,t=m.support.touch?e.track:document;j(e.track).off(e.draggableEvents.start,e.dragStart),j(t).off(e.draggableEvents.move,e.dragMove),j(t).off(e.draggableEvents.end,e.dragEnd)},set:function(){var e;m.params.scrollbar&&((e=m.scrollbar).track=j(m.params.scrollbar),m.params.uniqueNavElements&&"string"==typeof m.params.scrollbar&&1<e.track.length&&1===m.container.find(m.params.scrollbar).length&&(e.track=m.container.find(m.params.scrollbar)),e.drag=e.track.find(".swiper-scrollbar-drag"),0===e.drag.length&&(e.drag=j('<div class="swiper-scrollbar-drag"></div>'),e.track.append(e.drag)),e.drag[0].style.width="",e.drag[0].style.height="",e.trackSize=m.isHorizontal()?e.track[0].offsetWidth:e.track[0].offsetHeight,e.divider=m.size/m.virtualSize,e.moveDivider=e.divider*(e.trackSize/m.size),e.dragSize=e.trackSize*e.divider,m.isHorizontal()?e.drag[0].style.width=e.dragSize+"px":e.drag[0].style.height=e.dragSize+"px",1<=e.divider?e.track[0].style.display="none":e.track[0].style.display="",m.params.scrollbarHide&&(e.track[0].style.opacity=0))},setTranslate:function(){var e,t,n;m.params.scrollbar&&(e=m.scrollbar,m.translate,t=e.dragSize,n=(e.trackSize-e.dragSize)*m.progress,m.rtl&&m.isHorizontal()?0<(n=-n)?(t=e.dragSize-n,n=0):-n+e.dragSize>e.trackSize&&(t=e.trackSize+n):n<0?(t=e.dragSize+n,n=0):n+e.dragSize>e.trackSize&&(t=e.trackSize-n),m.isHorizontal()?(m.support.transforms3d?e.drag.transform("translate3d("+n+"px, 0, 0)"):e.drag.transform("translateX("+n+"px)"),e.drag[0].style.width=t+"px"):(m.support.transforms3d?e.drag.transform("translate3d(0px, "+n+"px, 0)"):e.drag.transform("translateY("+n+"px)"),e.drag[0].style.height=t+"px"),m.params.scrollbarHide&&(clearTimeout(e.timeout),e.track[0].style.opacity=1,e.timeout=setTimeout(function(){e.track[0].style.opacity=0,e.track.transition(400)},1e3)))},setTransition:function(e){m.params.scrollbar&&m.scrollbar.drag.transition(e)}},m.controller={LinearSpline:function(e,t){var n,r,i,o,a,s=function(e,t){for(r=-1,n=e.length;1<n-r;)e[i=n+r>>1]<=t?r=i:n=i;return n};this.x=e,this.y=t,this.lastIndex=e.length-1,this.x.length;this.interpolate=function(e){return e?(a=s(this.x,e),o=a-1,(e-this.x[o])*(this.y[a]-this.y[o])/(this.x[a]-this.x[o])+this.y[o]):0}},getInterpolateFunction:function(e){m.controller.spline||(m.controller.spline=m.params.loop?new m.controller.LinearSpline(m.slidesGrid,e.slidesGrid):new m.controller.LinearSpline(m.snapGrid,e.snapGrid))},setTranslate:function(t,e){var n,r,i=m.params.control;function o(e){t=e.rtl&&"horizontal"===e.params.direction?-m.translate:m.translate,"slide"===m.params.controlBy&&(m.controller.getInterpolateFunction(e),r=-m.controller.spline.interpolate(-t)),r&&"container"!==m.params.controlBy||(n=(e.maxTranslate()-e.minTranslate())/(m.maxTranslate()-m.minTranslate()),r=(t-m.minTranslate())*n+e.minTranslate()),m.params.controlInverse&&(r=e.maxTranslate()-r),e.updateProgress(r),e.setWrapperTranslate(r,!1,m),e.updateActiveIndex()}if(Array.isArray(i))for(var a=0;a<i.length;a++)i[a]!==e&&i[a]instanceof L&&o(i[a]);else i instanceof L&&e!==i&&o(i)},setTransition:function(t,e){var n,r=m.params.control;function i(e){e.setWrapperTransition(t,m),0!==t&&(e.onTransitionStart(),e.wrapper.transitionEnd(function(){r&&(e.params.loop&&"slide"===m.params.controlBy&&e.fixLoop(),e.onTransitionEnd())}))}if(Array.isArray(r))for(n=0;n<r.length;n++)r[n]!==e&&r[n]instanceof L&&i(r[n]);else r instanceof L&&e!==r&&i(r)}},m.hashnav={onHashCange:function(e,t){var n=document.location.hash.replace("#","");n!==m.slides.eq(m.activeIndex).attr("data-hash")&&m.slideTo(m.wrapper.children("."+m.params.slideClass+'[data-hash="'+n+'"]').index())},attachEvents:function(e){e=e?"off":"on";j(window)[e]("hashchange",m.hashnav.onHashCange)},setHash:function(){var e;m.hashnav.initialized&&m.params.hashnav&&(m.params.replaceState&&window.history&&window.history.replaceState?window.history.replaceState(null,null,"#"+m.slides.eq(m.activeIndex).attr("data-hash")||""):(e=(e=m.slides.eq(m.activeIndex)).attr("data-hash")||e.attr("data-history"),document.location.hash=e||""))},init:function(){if(m.params.hashnav&&!m.params.history){m.hashnav.initialized=!0;var e=document.location.hash.replace("#","");if(e)for(var t=0,n=m.slides.length;t<n;t++){var r=m.slides.eq(t);(r.attr("data-hash")||r.attr("data-history"))!==e||r.hasClass(m.params.slideDuplicateClass)||(r=r.index(),m.slideTo(r,0,m.params.runCallbacksOnInit,!0))}m.params.hashnavWatchState&&m.hashnav.attachEvents()}},destroy:function(){m.params.hashnavWatchState&&m.hashnav.attachEvents(!0)}},m.history={init:function(){m.params.history&&(window.history&&window.history.pushState?(m.history.initialized=!0,this.paths=this.getPathValues(),(this.paths.key||this.paths.value)&&(this.scrollToSlide(0,this.paths.value,m.params.runCallbacksOnInit),m.params.replaceState||window.addEventListener("popstate",this.setHistoryPopState))):(m.params.history=!1,m.params.hashnav=!0))},setHistoryPopState:function(){m.history.paths=m.history.getPathValues(),m.history.scrollToSlide(m.params.speed,m.history.paths.value,!1)},getPathValues:function(){var e=window.location.pathname.slice(1).split("/"),t=e.length;return{key:e[t-2],value:e[t-1]}},setHistory:function(e,t){m.history.initialized&&m.params.history&&(t=m.slides.eq(t),t=this.slugify(t.attr("data-history")),window.location.pathname.includes(e)||(t=e+"/"+t),m.params.replaceState?window.history.replaceState(null,null,t):window.history.pushState(null,null,t))},slugify:function(e){return e.toString().toLowerCase().replace(/\s+/g,"-").replace(/[^\w\-]+/g,"").replace(/\-\-+/g,"-").replace(/^-+/,"").replace(/-+$/,"")},scrollToSlide:function(e,t,n){if(t)for(var r=0,i=m.slides.length;r<i;r++){var o=m.slides.eq(r);this.slugify(o.attr("data-history"))!==t||o.hasClass(m.params.slideDuplicateClass)||(o=o.index(),m.slideTo(o,e,n))}else m.slideTo(0,e,n)}},m.disableKeyboardControl=function(){m.params.keyboardControl=!1,j(document).off("keydown",D)},m.enableKeyboardControl=function(){m.params.keyboardControl=!0,j(document).on("keydown",D)},m.mousewheel={event:!1,lastScrollTime:(new window.Date).getTime()},m.params.mousewheelControl&&(m.mousewheel.event=-1<navigator.userAgent.indexOf("firefox")?"DOMMouseScroll":((i=(e="onwheel")in document)||((x=document.createElement("div")).setAttribute(e,"return;"),i="function"==typeof x[e]),(i=!i&&document.implementation&&document.implementation.hasFeature&&!0!==document.implementation.hasFeature("","")?document.implementation.hasFeature("Events.wheel","3.0"):i)?"wheel":"mousewheel")),m.disableMousewheelControl=function(){var e;return!!m.mousewheel.event&&(e=m.container,(e="container"!==m.params.mousewheelEventsTarged?j(m.params.mousewheelEventsTarged):e).off(m.mousewheel.event,R),!(m.params.mousewheelControl=!1))},m.enableMousewheelControl=function(){var e;return!!m.mousewheel.event&&(e=m.container,(e="container"!==m.params.mousewheelEventsTarged?j(m.params.mousewheelEventsTarged):e).on(m.mousewheel.event,R),m.params.mousewheelControl=!0)},m.parallax={setTranslate:function(){m.container.children("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]").each(function(){N(this,m.progress)}),m.slides.each(function(){var e=j(this);e.find("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]").each(function(){N(this,Math.min(Math.max(e[0].progress,-1),1))})})},setTransition:function(n){void 0===n&&(n=m.params.speed),m.container.find("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]").each(function(){var e=j(this),t=parseInt(e.attr("data-swiper-parallax-duration"),10)||n;0===n&&(t=0),e.transition(t)})}},m.zoom={scale:1,currentScale:1,isScaling:!1,gesture:{slide:void 0,slideWidth:void 0,slideHeight:void 0,image:void 0,imageWrap:void 0,zoomMax:m.params.zoomMax},image:{isTouched:void 0,isMoved:void 0,currentX:void 0,currentY:void 0,minX:void 0,minY:void 0,maxX:void 0,maxY:void 0,width:void 0,height:void 0,startX:void 0,startY:void 0,touchesStart:{},touchesCurrent:{}},velocity:{x:void 0,y:void 0,prevPositionX:void 0,prevPositionY:void 0,prevTime:void 0},getDistanceBetweenTouches:function(e){var t,n,r;return e.targetTouches.length<2?1:(t=e.targetTouches[0].pageX,n=e.targetTouches[0].pageY,r=e.targetTouches[1].pageX,e=e.targetTouches[1].pageY,Math.sqrt(Math.pow(r-t,2)+Math.pow(e-n,2)))},onGestureStart:function(e){var t=m.zoom;if(!m.support.gestures){if("touchstart"!==e.type||"touchstart"===e.type&&e.targetTouches.length<2)return;t.gesture.scaleStart=t.getDistanceBetweenTouches(e)}t.gesture.slide&&t.gesture.slide.length||(t.gesture.slide=j(this),0===t.gesture.slide.length&&(t.gesture.slide=m.slides.eq(m.activeIndex)),t.gesture.image=t.gesture.slide.find("img, svg, canvas"),t.gesture.imageWrap=t.gesture.image.parent("."+m.params.zoomContainerClass),t.gesture.zoomMax=t.gesture.imageWrap.attr("data-swiper-zoom")||m.params.zoomMax,0!==t.gesture.imageWrap.length)?(t.gesture.image.transition(0),t.isScaling=!0):t.gesture.image=void 0},onGestureChange:function(e){var t=m.zoom;if(!m.support.gestures){if("touchmove"!==e.type||"touchmove"===e.type&&e.targetTouches.length<2)return;t.gesture.scaleMove=t.getDistanceBetweenTouches(e)}t.gesture.image&&0!==t.gesture.image.length&&(m.support.gestures?t.scale=e.scale*t.currentScale:t.scale=t.gesture.scaleMove/t.gesture.scaleStart*t.currentScale,t.scale>t.gesture.zoomMax&&(t.scale=t.gesture.zoomMax-1+Math.pow(t.scale-t.gesture.zoomMax+1,.5)),t.scale<m.params.zoomMin&&(t.scale=m.params.zoomMin+1-Math.pow(m.params.zoomMin-t.scale+1,.5)),t.gesture.image.transform("translate3d(0,0,0) scale("+t.scale+")"))},onGestureEnd:function(e){var t=m.zoom;!m.support.gestures&&("touchend"!==e.type||"touchend"===e.type&&e.changedTouches.length<2)||t.gesture.image&&0!==t.gesture.image.length&&(t.scale=Math.max(Math.min(t.scale,t.gesture.zoomMax),m.params.zoomMin),t.gesture.image.transition(m.params.speed).transform("translate3d(0,0,0) scale("+t.scale+")"),t.currentScale=t.scale,t.isScaling=!1,1===t.scale&&(t.gesture.slide=void 0))},onTouchStart:function(e,t){var n=e.zoom;n.gesture.image&&0!==n.gesture.image.length&&!n.image.isTouched&&("android"===e.device.os&&t.preventDefault(),n.image.isTouched=!0,n.image.touchesStart.x=("touchstart"===t.type?t.targetTouches[0]:t).pageX,n.image.touchesStart.y=("touchstart"===t.type?t.targetTouches[0]:t).pageY)},onTouchMove:function(e){var t=m.zoom;if(t.gesture.image&&0!==t.gesture.image.length&&(m.allowClick=!1,t.image.isTouched&&t.gesture.slide)){t.image.isMoved||(t.image.width=t.gesture.image[0].offsetWidth,t.image.height=t.gesture.image[0].offsetHeight,t.image.startX=m.getTranslate(t.gesture.imageWrap[0],"x")||0,t.image.startY=m.getTranslate(t.gesture.imageWrap[0],"y")||0,t.gesture.slideWidth=t.gesture.slide[0].offsetWidth,t.gesture.slideHeight=t.gesture.slide[0].offsetHeight,t.gesture.imageWrap.transition(0),m.rtl&&(t.image.startX=-t.image.startX),m.rtl&&(t.image.startY=-t.image.startY));var n=t.image.width*t.scale,r=t.image.height*t.scale;if(!(n<t.gesture.slideWidth&&r<t.gesture.slideHeight)){if(t.image.minX=Math.min(t.gesture.slideWidth/2-n/2,0),t.image.maxX=-t.image.minX,t.image.minY=Math.min(t.gesture.slideHeight/2-r/2,0),t.image.maxY=-t.image.minY,t.image.touchesCurrent.x=("touchmove"===e.type?e.targetTouches[0]:e).pageX,t.image.touchesCurrent.y=("touchmove"===e.type?e.targetTouches[0]:e).pageY,!t.image.isMoved&&!t.isScaling){if(m.isHorizontal()&&Math.floor(t.image.minX)===Math.floor(t.image.startX)&&t.image.touchesCurrent.x<t.image.touchesStart.x||Math.floor(t.image.maxX)===Math.floor(t.image.startX)&&t.image.touchesCurrent.x>t.image.touchesStart.x)return void(t.image.isTouched=!1);if(!m.isHorizontal()&&Math.floor(t.image.minY)===Math.floor(t.image.startY)&&t.image.touchesCurrent.y<t.image.touchesStart.y||Math.floor(t.image.maxY)===Math.floor(t.image.startY)&&t.image.touchesCurrent.y>t.image.touchesStart.y)return void(t.image.isTouched=!1)}e.preventDefault(),e.stopPropagation(),t.image.isMoved=!0,t.image.currentX=t.image.touchesCurrent.x-t.image.touchesStart.x+t.image.startX,t.image.currentY=t.image.touchesCurrent.y-t.image.touchesStart.y+t.image.startY,t.image.currentX<t.image.minX&&(t.image.currentX=t.image.minX+1-Math.pow(t.image.minX-t.image.currentX+1,.8)),t.image.currentX>t.image.maxX&&(t.image.currentX=t.image.maxX-1+Math.pow(t.image.currentX-t.image.maxX+1,.8)),t.image.currentY<t.image.minY&&(t.image.currentY=t.image.minY+1-Math.pow(t.image.minY-t.image.currentY+1,.8)),t.image.currentY>t.image.maxY&&(t.image.currentY=t.image.maxY-1+Math.pow(t.image.currentY-t.image.maxY+1,.8)),t.velocity.prevPositionX||(t.velocity.prevPositionX=t.image.touchesCurrent.x),t.velocity.prevPositionY||(t.velocity.prevPositionY=t.image.touchesCurrent.y),t.velocity.prevTime||(t.velocity.prevTime=Date.now()),t.velocity.x=(t.image.touchesCurrent.x-t.velocity.prevPositionX)/(Date.now()-t.velocity.prevTime)/2,t.velocity.y=(t.image.touchesCurrent.y-t.velocity.prevPositionY)/(Date.now()-t.velocity.prevTime)/2,Math.abs(t.image.touchesCurrent.x-t.velocity.prevPositionX)<2&&(t.velocity.x=0),Math.abs(t.image.touchesCurrent.y-t.velocity.prevPositionY)<2&&(t.velocity.y=0),t.velocity.prevPositionX=t.image.touchesCurrent.x,t.velocity.prevPositionY=t.image.touchesCurrent.y,t.velocity.prevTime=Date.now(),t.gesture.imageWrap.transform("translate3d("+t.image.currentX+"px, "+t.image.currentY+"px,0)")}}},onTouchEnd:function(e,t){var n,r,i,o,e=e.zoom;e.gesture.image&&0!==e.gesture.image.length&&(e.image.isTouched&&e.image.isMoved?(e.image.isTouched=!1,e.image.isMoved=!1,o=e.velocity.x*(r=300),o=e.image.currentX+o,n=e.velocity.y*(i=300),n=e.image.currentY+n,0!==e.velocity.x&&(r=Math.abs((o-e.image.currentX)/e.velocity.x)),0!==e.velocity.y&&(i=Math.abs((n-e.image.currentY)/e.velocity.y)),r=Math.max(r,i),e.image.currentX=o,e.image.currentY=n,i=e.image.width*e.scale,o=e.image.height*e.scale,e.image.minX=Math.min(e.gesture.slideWidth/2-i/2,0),e.image.maxX=-e.image.minX,e.image.minY=Math.min(e.gesture.slideHeight/2-o/2,0),e.image.maxY=-e.image.minY,e.image.currentX=Math.max(Math.min(e.image.currentX,e.image.maxX),e.image.minX),e.image.currentY=Math.max(Math.min(e.image.currentY,e.image.maxY),e.image.minY),e.gesture.imageWrap.transition(r).transform("translate3d("+e.image.currentX+"px, "+e.image.currentY+"px,0)")):(e.image.isTouched=!1,e.image.isMoved=!1))},onTransitionEnd:function(e){var t=e.zoom;t.gesture.slide&&e.previousIndex!==e.activeIndex&&(t.gesture.image.transform("translate3d(0,0,0) scale(1)"),t.gesture.imageWrap.transform("translate3d(0,0,0)"),t.gesture.slide=t.gesture.image=t.gesture.imageWrap=void 0,t.scale=t.currentScale=1)},toggleZoom:function(e,t){var n,r,i,o,a,s=e.zoom;s.gesture.slide||(s.gesture.slide=e.clickedSlide?j(e.clickedSlide):e.slides.eq(e.activeIndex),s.gesture.image=s.gesture.slide.find("img, svg, canvas"),s.gesture.imageWrap=s.gesture.image.parent("."+e.params.zoomContainerClass)),s.gesture.image&&0!==s.gesture.image.length&&(a=void 0===s.image.touchesStart.x&&t?(o=("touchend"===t.type?t.changedTouches[0]:t).pageX,("touchend"===t.type?t.changedTouches[0]:t).pageY):(o=s.image.touchesStart.x,s.image.touchesStart.y),s.scale&&1!==s.scale?(s.scale=s.currentScale=1,s.gesture.imageWrap.transition(300).transform("translate3d(0,0,0)"),s.gesture.image.transition(300).transform("translate3d(0,0,0) scale(1)"),s.gesture.slide=void 0):(s.scale=s.currentScale=s.gesture.imageWrap.attr("data-swiper-zoom")||e.params.zoomMax,t?(e=s.gesture.slide[0].offsetWidth,t=s.gesture.slide[0].offsetHeight,o=s.gesture.slide.offset().left+e/2-o,a=s.gesture.slide.offset().top+t/2-a,i=s.gesture.image[0].offsetWidth,r=s.gesture.image[0].offsetHeight,i=i*s.scale,r=r*s.scale,e=Math.min(e/2-i/2,0),i=Math.min(t/2-r/2,0),(t=-e)<(r=(r=o*s.scale)<e?e:r)&&(r=t),(o=-i)<(n=(n=a*s.scale)<i?i:n)&&(n=o)):n=r=0,s.gesture.imageWrap.transition(300).transform("translate3d("+r+"px, "+n+"px,0)"),s.gesture.image.transition(300).transform("translate3d(0,0,0) scale("+s.scale+")")))},attachEvents:function(e){var n=e?"off":"on";m.params.zoom&&(m.slides,e=!("touchstart"!==m.touchEvents.start||!m.support.passiveListener||!m.params.passiveListeners)&&{passive:!0,capture:!1},m.support.gestures?(m.slides[n]("gesturestart",m.zoom.onGestureStart,e),m.slides[n]("gesturechange",m.zoom.onGestureChange,e),m.slides[n]("gestureend",m.zoom.onGestureEnd,e)):"touchstart"===m.touchEvents.start&&(m.slides[n](m.touchEvents.start,m.zoom.onGestureStart,e),m.slides[n](m.touchEvents.move,m.zoom.onGestureChange,e),m.slides[n](m.touchEvents.end,m.zoom.onGestureEnd,e)),m[n]("touchStart",m.zoom.onTouchStart),m.slides.each(function(e,t){0<j(t).find("."+m.params.zoomContainerClass).length&&j(t)[n](m.touchEvents.move,m.zoom.onTouchMove)}),m[n]("touchEnd",m.zoom.onTouchEnd),m[n]("transitionEnd",m.zoom.onTransitionEnd),m.params.zoomToggle&&m.on("doubleTap",m.zoom.toggleZoom))},init:function(){m.zoom.attachEvents()},destroy:function(){m.zoom.attachEvents(!0)}},m._plugins=[],m.plugins){var E=m.plugins[C](m,m.params[C]);E&&m._plugins.push(E)}return m.callPlugins=function(e){for(var t=0;t<m._plugins.length;t++)e in m._plugins[t]&&m._plugins[t][e](arguments[1],arguments[2],arguments[3],arguments[4],arguments[5])},m.emitterEventListeners={},m.emit=function(e){var t;if(m.params[e]&&m.params[e](arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),m.emitterEventListeners[e])for(t=0;t<m.emitterEventListeners[e].length;t++)m.emitterEventListeners[e][t](arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);m.callPlugins&&m.callPlugins(e,arguments[1],arguments[2],arguments[3],arguments[4],arguments[5])},m.on=function(e,t){return e=I(e),m.emitterEventListeners[e]||(m.emitterEventListeners[e]=[]),m.emitterEventListeners[e].push(t),m},m.off=function(e,t){var n;if(e=I(e),void 0===t)return m.emitterEventListeners[e]=[],m;if(m.emitterEventListeners[e]&&0!==m.emitterEventListeners[e].length){for(n=0;n<m.emitterEventListeners[e].length;n++)m.emitterEventListeners[e][n]===t&&m.emitterEventListeners[e].splice(n,1);return m}},m.once=function(e,t){e=I(e);var n=function(){t(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]),m.off(e,n)};return m.on(e,n),m},m.a11y={makeFocusable:function(e){return e.attr("tabIndex","0"),e},addRole:function(e,t){return e.attr("role",t),e},addLabel:function(e,t){return e.attr("aria-label",t),e},disable:function(e){return e.attr("aria-disabled",!0),e},enable:function(e){return e.attr("aria-disabled",!1),e},onEnterKey:function(e){13===e.keyCode&&(j(e.target).is(m.params.nextButton)?(m.onClickNext(e),m.isEnd?m.a11y.notify(m.params.lastSlideMessage):m.a11y.notify(m.params.nextSlideMessage)):j(e.target).is(m.params.prevButton)&&(m.onClickPrev(e),m.isBeginning?m.a11y.notify(m.params.firstSlideMessage):m.a11y.notify(m.params.prevSlideMessage)),j(e.target).is("."+m.params.bulletClass)&&j(e.target)[0].click())},liveRegion:j('<span class="'+m.params.notificationClass+'" aria-live="assertive" aria-atomic="true"></span>'),notify:function(e){var t=m.a11y.liveRegion;0!==t.length&&(t.html(""),t.html(e))},init:function(){m.params.nextButton&&m.nextButton&&0<m.nextButton.length&&(m.a11y.makeFocusable(m.nextButton),m.a11y.addRole(m.nextButton,"button"),m.a11y.addLabel(m.nextButton,m.params.nextSlideMessage)),m.params.prevButton&&m.prevButton&&0<m.prevButton.length&&(m.a11y.makeFocusable(m.prevButton),m.a11y.addRole(m.prevButton,"button"),m.a11y.addLabel(m.prevButton,m.params.prevSlideMessage)),j(m.container).append(m.a11y.liveRegion)},initPagination:function(){m.params.pagination&&m.params.paginationClickable&&m.bullets&&m.bullets.length&&m.bullets.each(function(){var e=j(this);m.a11y.makeFocusable(e),m.a11y.addRole(e,"button"),m.a11y.addLabel(e,m.params.paginationBulletMessage.replace(/{{index}}/,e.index()+1))})},destroy:function(){m.a11y.liveRegion&&0<m.a11y.liveRegion.length&&m.a11y.liveRegion.remove()}},m.init=function(){m.params.loop&&m.createLoop(),m.updateContainerSize(),m.updateSlidesSize(),m.updatePagination(),m.params.scrollbar&&m.scrollbar&&(m.scrollbar.set(),m.params.scrollbarDraggable&&m.scrollbar.enableDraggable()),"slide"!==m.params.effect&&m.effects[m.params.effect]&&(m.params.loop||m.updateProgress(),m.effects[m.params.effect].setTranslate()),m.params.loop?m.slideTo(m.params.initialSlide+m.loopedSlides,0,m.params.runCallbacksOnInit):(m.slideTo(m.params.initialSlide,0,m.params.runCallbacksOnInit),0===m.params.initialSlide&&(m.parallax&&m.params.parallax&&m.parallax.setTranslate(),m.lazy&&m.params.lazyLoading&&(m.lazy.load(),m.lazy.initialImageLoaded=!0))),m.attachEvents(),m.params.observer&&m.support.observer&&m.initObservers(),m.params.preloadImages&&!m.params.lazyLoading&&m.preloadImages(),m.params.zoom&&m.zoom&&m.zoom.init(),m.params.autoplay&&m.startAutoplay(),m.params.keyboardControl&&m.enableKeyboardControl&&m.enableKeyboardControl(),m.params.mousewheelControl&&m.enableMousewheelControl&&m.enableMousewheelControl(),m.params.hashnavReplaceState&&(m.params.replaceState=m.params.hashnavReplaceState),m.params.history&&m.history&&m.history.init(),m.params.hashnav&&m.hashnav&&m.hashnav.init(),m.params.a11y&&m.a11y&&m.a11y.init(),m.emit("onInit",m)},m.cleanupStyles=function(){m.container.removeClass(m.classNames.join(" ")).removeAttr("style"),m.wrapper.removeAttr("style"),m.slides&&m.slides.length&&m.slides.removeClass([m.params.slideVisibleClass,m.params.slideActiveClass,m.params.slideNextClass,m.params.slidePrevClass].join(" ")).removeAttr("style").removeAttr("data-swiper-column").removeAttr("data-swiper-row"),m.paginationContainer&&m.paginationContainer.length&&m.paginationContainer.removeClass(m.params.paginationHiddenClass),m.bullets&&m.bullets.length&&m.bullets.removeClass(m.params.bulletActiveClass),m.params.prevButton&&j(m.params.prevButton).removeClass(m.params.buttonDisabledClass),m.params.nextButton&&j(m.params.nextButton).removeClass(m.params.buttonDisabledClass),m.params.scrollbar&&m.scrollbar&&(m.scrollbar.track&&m.scrollbar.track.length&&m.scrollbar.track.removeAttr("style"),m.scrollbar.drag&&m.scrollbar.drag.length&&m.scrollbar.drag.removeAttr("style"))},m.destroy=function(e,t){m.detachEvents(),m.stopAutoplay(),m.params.scrollbar&&m.scrollbar&&m.params.scrollbarDraggable&&m.scrollbar.disableDraggable(),m.params.loop&&m.destroyLoop(),t&&m.cleanupStyles(),m.disconnectObservers(),m.params.zoom&&m.zoom&&m.zoom.destroy(),m.params.keyboardControl&&m.disableKeyboardControl&&m.disableKeyboardControl(),m.params.mousewheelControl&&m.disableMousewheelControl&&m.disableMousewheelControl(),m.params.a11y&&m.a11y&&m.a11y.destroy(),m.params.history&&!m.params.replaceState&&window.removeEventListener("popstate",m.history.setHistoryPopState),m.params.hashnav&&m.hashnav&&m.hashnav.destroy(),m.emit("onDestroy"),!1!==e&&(m=null)},m.init(),m}function A(e){return Math.floor(e)}function O(){var e=m.params.autoplay,t=m.slides.eq(m.activeIndex);t.attr("data-swiper-autoplay")&&(e=t.attr("data-swiper-autoplay")||m.params.autoplay),m.autoplayTimeoutId=setTimeout(function(){m.params.loop?(m.fixLoop(),m._slideNext(),m.emit("onAutoplay",m)):m.isEnd?o.autoplayStopOnLast?m.stopAutoplay():(m._slideTo(0),m.emit("onAutoplay",m)):(m._slideNext(),m.emit("onAutoplay",m))},e)}function M(e,n){var r,e=j(e.target);if(!e.is(n))if("string"==typeof n)e=e.parents(n);else if(n.nodeType)return e.parents().each(function(e,t){t===n&&(r=n)}),r?n:void 0;if(0!==e.length)return e[0]}function P(e,t){t=t||{};var n=new(window.MutationObserver||window.WebkitMutationObserver)(function(e){e.forEach(function(e){m.onResize(!0),m.emit("onObserverUpdate",m,e)})});n.observe(e,{attributes:void 0===t.attributes||t.attributes,childList:void 0===t.childList||t.childList,characterData:void 0===t.characterData||t.characterData}),m.observers.push(n)}function D(e){var t=(e=e.originalEvent?e.originalEvent:e).keyCode||e.charCode;if(!m.params.allowSwipeToNext&&(m.isHorizontal()&&39===t||!m.isHorizontal()&&40===t))return!1;if(!m.params.allowSwipeToPrev&&(m.isHorizontal()&&37===t||!m.isHorizontal()&&38===t))return!1;if(!(e.shiftKey||e.altKey||e.ctrlKey||e.metaKey||document.activeElement&&document.activeElement.nodeName&&("input"===document.activeElement.nodeName.toLowerCase()||"textarea"===document.activeElement.nodeName.toLowerCase()))){if(37===t||39===t||38===t||40===t){var n=!1;if(0<m.container.parents("."+m.params.slideClass).length&&0===m.container.parents("."+m.params.slideActiveClass).length)return;for(var r=window.pageXOffset,i=window.pageYOffset,o=window.innerWidth,a=window.innerHeight,s=m.container.offset(),l=(m.rtl&&(s.left=s.left-m.container[0].scrollLeft),[[s.left,s.top],[s.left+m.width,s.top],[s.left,s.top+m.height],[s.left+m.width,s.top+m.height]]),c=0;c<l.length;c++){var u=l[c];u[0]>=r&&u[0]<=r+o&&u[1]>=i&&u[1]<=i+a&&(n=!0)}if(!n)return}m.isHorizontal()?(37!==t&&39!==t||(e.preventDefault?e.preventDefault():e.returnValue=!1),(39===t&&!m.rtl||37===t&&m.rtl)&&m.slideNext(),(37===t&&!m.rtl||39===t&&m.rtl)&&m.slidePrev()):(38!==t&&40!==t||(e.preventDefault?e.preventDefault():e.returnValue=!1),40===t&&m.slideNext(),38===t&&m.slidePrev()),m.emit("onKeyPress",m,t)}}function R(e){e.originalEvent&&(e=e.originalEvent);var t,n=0,r=m.rtl?-1:1,i=(t=s=a=o=0,"detail"in(i=e)&&(a=i.detail),"wheelDelta"in i&&(a=-i.wheelDelta/120),"wheelDeltaY"in i&&(a=-i.wheelDeltaY/120),"wheelDeltaX"in i&&(o=-i.wheelDeltaX/120),"axis"in i&&i.axis===i.HORIZONTAL_AXIS&&(o=a,a=0),s=10*o,t=10*a,"deltaY"in i&&(t=i.deltaY),((s="deltaX"in i?i.deltaX:s)||t)&&i.deltaMode&&(1===i.deltaMode?(s*=40,t*=40):(s*=800,t*=800)),{spinX:o=s&&!o?s<1?-1:1:o,spinY:a=t&&!a?t<1?-1:1:a,pixelX:s,pixelY:t});if(m.params.mousewheelForceToAxis)if(m.isHorizontal()){if(!(Math.abs(i.pixelX)>Math.abs(i.pixelY)))return;n=i.pixelX*r}else{if(!(Math.abs(i.pixelY)>Math.abs(i.pixelX)))return;n=i.pixelY}else n=Math.abs(i.pixelX)>Math.abs(i.pixelY)?-i.pixelX*r:-i.pixelY;if(0!==n){if(m.params.mousewheelInvert&&(n=-n),m.params.freeMode){var o=m.getWrapperTranslate()+n*m.params.mousewheelSensitivity,a=m.isBeginning,s=m.isEnd;if((o=o>=m.minTranslate()?m.minTranslate():o)<=m.maxTranslate()&&(o=m.maxTranslate()),m.setWrapperTransition(0),m.setWrapperTranslate(o),m.updateProgress(),m.updateActiveIndex(),(!a&&m.isBeginning||!s&&m.isEnd)&&m.updateClasses(),m.params.freeModeSticky?(clearTimeout(m.mousewheel.timeout),m.mousewheel.timeout=setTimeout(function(){m.slideReset()},300)):m.params.lazyLoading&&m.lazy&&m.lazy.load(),m.emit("onScroll",m,e),m.params.autoplay&&m.params.autoplayDisableOnInteraction&&m.stopAutoplay(),0===o||o===m.maxTranslate())return}else{if(60<(new window.Date).getTime()-m.mousewheel.lastScrollTime)if(n<0)if(m.isEnd&&!m.params.loop||m.animating){if(m.params.mousewheelReleaseOnEdges)return!0}else m.slideNext(),m.emit("onScroll",m,e);else if(m.isBeginning&&!m.params.loop||m.animating){if(m.params.mousewheelReleaseOnEdges)return!0}else m.slidePrev(),m.emit("onScroll",m,e);m.mousewheel.lastScrollTime=(new window.Date).getTime()}return e.preventDefault?e.preventDefault():e.returnValue=!1,!1}}function N(e,t){e=j(e);var n=m.rtl?-1:1,r=e.attr("data-swiper-parallax")||"0",i=e.attr("data-swiper-parallax-x"),o=e.attr("data-swiper-parallax-y");i||o?(i=i||"0",o=o||"0"):m.isHorizontal()?(i=r,o="0"):(o=r,i="0"),i=0<=i.indexOf("%")?parseInt(i,10)*t*n+"%":i*t*n+"px",o=0<=o.indexOf("%")?parseInt(o,10)*t+"%":o*t+"px",e.transform("translate3d("+i+", "+o+",0px)")}function I(e){return e=0!==e.indexOf("on")?e[0]!==e[0].toUpperCase()?"on"+e[0].toUpperCase()+e.substring(1):"on"+e:e}},i=(L.prototype={isSafari:0<=(r=window.navigator.userAgent.toLowerCase()).indexOf("safari")&&r.indexOf("chrome")<0&&r.indexOf("android")<0,isUiWebView:/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(window.navigator.userAgent),isArray:function(e){return"[object Array]"===Object.prototype.toString.apply(e)},browser:{ie:window.navigator.pointerEnabled||window.navigator.msPointerEnabled,ieTouch:window.navigator.msPointerEnabled&&1<window.navigator.msMaxTouchPoints||window.navigator.pointerEnabled&&1<window.navigator.maxTouchPoints,lteIE9:((r=document.createElement("div")).innerHTML="\x3c!--[if lte IE 9]><i></i><![endif]--\x3e",1===r.getElementsByTagName("i").length)},device:(r=window.navigator.userAgent,e=r.match(/(Android);?[\s\/]+([\d.]+)?/),t=r.match(/(iPad).*OS\s([\d_]+)/),n=r.match(/(iPod)(.*OS\s([\d_]+))?/),r=!t&&r.match(/(iPhone\sOS|iOS)\s([\d_]+)/),{ios:t||r||n,android:e}),support:{touch:window.Modernizr&&!0===Modernizr.touch||!!("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch),transforms3d:window.Modernizr&&!0===Modernizr.csstransforms3d||("webkitPerspective"in(t=document.createElement("div").style)||"MozPerspective"in t||"OPerspective"in t||"MsPerspective"in t||"perspective"in t),flexbox:function(){for(var e=document.createElement("div").style,t="alignItems webkitAlignItems webkitBoxAlign msFlexAlign mozBoxAlign webkitFlexDirection msFlexDirection mozBoxDirection mozBoxOrient webkitBoxDirection webkitBoxOrient".split(" "),n=0;n<t.length;n++)if(t[n]in e)return!0}(),observer:"MutationObserver"in window||"WebkitMutationObserver"in window,passiveListener:function(){var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("testPassiveListener",null,t)}catch(e){}return e}(),gestures:"ongesturestart"in window},plugins:{}},["jQuery","Zepto","Dom7"]),o=0;o<i.length;o++)window[i[o]]&&!function(e){e.fn.swiper=function(t){var n;return e(this).each(function(){var e=new L(this,t);n=n||e}),n}}(window[i[o]]);(r="undefined"==typeof Dom7?window.Dom7||window.Zepto||window.jQuery:Dom7)&&("transitionEnd"in r.fn||(r.fn.transitionEnd=function(t){var n,r=["webkitTransitionEnd","transitionend","oTransitionEnd","MSTransitionEnd","msTransitionEnd"],i=this;function o(e){if(e.target===this)for(t.call(this,e),n=0;n<r.length;n++)i.off(r[n],o)}if(t)for(n=0;n<r.length;n++)i.on(r[n],o);return this}),"transform"in r.fn||(r.fn.transform=function(e){for(var t=0;t<this.length;t++){var n=this[t].style;n.webkitTransform=n.MsTransform=n.msTransform=n.MozTransform=n.OTransform=n.transform=e}return this}),"transition"in r.fn||(r.fn.transition=function(e){"string"!=typeof e&&(e+="ms");for(var t=0;t<this.length;t++){var n=this[t].style;n.webkitTransitionDuration=n.MsTransitionDuration=n.msTransitionDuration=n.MozTransitionDuration=n.OTransitionDuration=n.transitionDuration=e}return this}),"outerWidth"in r.fn||(r.fn.outerWidth=function(e){return 0<this.length?e?this[0].offsetWidth+parseFloat(this.css("margin-right"))+parseFloat(this.css("margin-left")):this[0].offsetWidth:null})),window.Swiper=L}(),"undefined"!=typeof module?module.exports=window.Swiper:"function"==typeof define&&define.amd&&define([],function(){"use strict";return window.Swiper}),!function(p){"use strict";function s(e){e=e.slice(9);return null!=e&&0<e.length?e.substring(0,1).toLowerCase()+e.substring(1):e}var m=window.angulartics||(window.angulartics={});m.waitForVendorCount=0,m.waitForVendorApi=function(e,t,n,r,i){i||m.waitForVendorCount++,r||(r=n,n=void 0),!Object.prototype.hasOwnProperty.call(window,e)||void 0!==n&&void 0===window[e][n]?setTimeout(function(){m.waitForVendorApi(e,t,n,r,!0)},t):(m.waitForVendorCount--,r(window[e]))},p.module("angulartics",[]).provider("$analytics",function(){function o(e,t,n){return l[e]||(l[e]=[]),l[e].push(t),c[t]=n,function(){var i;if(!this.settings.optOut)return i=Array.prototype.slice.apply(arguments),this.$inject(["$q",p.bind(this,function(r){return r.all(l[e].map(function(e){var t,n;return(c[e]||{}).async?(t=r.defer(),(n=p.copy(i)).unshift(t.resolve),e.apply(this,n),t.promise):r.when(e.apply(this,i))},this))})])}}function r(e,r,t){var i;n.developerMode||(u[e]=o(e,r,t),t=(t=n[e])?t.bufferFlushDelay:null,i=null!==t?t:n.bufferFlushDelay,p.forEach(s[e],function(e,t){var n;n=function(){r.apply(this,e)},(t=t*i)?setTimeout(n,t):n()}))}function e(n){var e,t="register"+n.replace(/^./,function(e){return e.toUpperCase()});d[t]=function(e,t){r(n,e,t)},u[n]=o(n,(e=n,function(){m.waitForVendorCount&&(s[e]||(s[e]=[]),s[e].push(arguments))}))}function t(e,t,n){for(var r in p.forEach(t,n),e)i[r]=e[r]}var i=this,n={pageTracking:{autoTrackFirstPage:!0,autoTrackVirtualPages:!0,trackRelativePath:!1,trackRoutes:!0,trackStates:!0,autoBasePath:!1,basePath:"",excludedRoutes:[],queryKeysWhitelisted:[],queryKeysBlacklisted:[]},eventTracking:{},bufferFlushDelay:1e3,trackExceptions:!1,optOut:!1,developerMode:!1},a=["pageTrack","eventTrack","exceptionTrack","transactionTrack","setAlias","setUsername","setUserProperties","setUserPropertiesOnce","setSuperProperties","setSuperPropertiesOnce","incrementProperty","userTimings","clearCookies"],s={},l={},c={},u={settings:n,setOptOut:function(e){this.settings.optOut=e,f()},getOptOut:function(){return this.settings.optOut}},d={$get:["$injector",function(e){return h(e)}],api:u,settings:n,virtualPageviews:function(e){this.settings.pageTracking.autoTrackVirtualPages=e},trackStates:function(e){this.settings.pageTracking.trackStates=e},trackRoutes:function(e){this.settings.pageTracking.trackRoutes=e},excludeRoutes:function(e){this.settings.pageTracking.excludedRoutes=e},queryKeysWhitelist:function(e){this.settings.pageTracking.queryKeysWhitelisted=e},queryKeysBlacklist:function(e){this.settings.pageTracking.queryKeysBlacklisted=e},firstPageview:function(e){this.settings.pageTracking.autoTrackFirstPage=e},withBase:function(e){this.settings.pageTracking.basePath=e?p.element(document).find("base").attr("href"):""},withAutoBase:function(e){this.settings.pageTracking.autoBasePath=e},trackExceptions:function(e){this.settings.trackExceptions=e},developerMode:function(e){this.settings.developerMode=e}},h=function(e){return p.extend(u,{$inject:e.invoke})},f=function(){t(d,a,e)};t(d,a,e)}).run(["$rootScope","$window","$analytics","$injector",function(i,o,a,s){function n(e,t,n){if(/\?/.test(e)&&0<t.length){for(var r=e.split("?"),i=r[0],o=r[1].split("&"),a=[],s=0;s<t.length;s++)for(var l=t[s],c=0;c<o.length;c++)(l instanceof RegExp&&l.test(o[c])||-1<o[c].indexOf(l))&&a.push(o[c]);r="white"==n?a:function(e,t){for(var n=[],r=0;r<e.length;r++)-1===t.indexOf(e[r])&&n.push(e[r]);return n}(o,a);return 0<r.length?i+"?"+r.join("&"):i}return e}function l(e,t){!function(e){for(var t=0;t<a.settings.pageTracking.excludedRoutes.length;t++){var n=a.settings.pageTracking.excludedRoutes[t];if(n instanceof RegExp&&n.test(e)||-1<e.indexOf(n))return 1}}(e)&&(e=n(e,a.settings.pageTracking.queryKeysWhitelisted,"white"),e=n(e,a.settings.pageTracking.queryKeysBlacklisted,"black"),a.pageTrack(e,t))}a.settings.pageTracking.autoTrackFirstPage&&s.invoke(["$location",function(e){var t,n=!0;if(s.has("$route")){var r=s.get("$route");if(r)for(var i in r.routes){n=!1;break}else null===r&&(n=!1)}else if(s.has("$state"))for(t in s.get("$state").get()){n=!1;break}n&&(a.settings.pageTracking.autoBasePath&&(a.settings.pageTracking.basePath=o.location.pathname),a.settings.pageTracking.trackRelativePath?l(a.settings.pageTracking.basePath+e.url(),e):l(e.absUrl(),e))}]),a.settings.pageTracking.autoTrackVirtualPages&&s.invoke(["$location",function(n){a.settings.pageTracking.autoBasePath&&(a.settings.pageTracking.basePath=o.location.pathname+"#");var e=!0;if(a.settings.pageTracking.trackRoutes&&s.has("$route")){var t=s.get("$route");if(t)for(var r in t.routes){e=!1;break}else null===t&&(e=!1);i.$on("$routeChangeSuccess",function(e,t){t&&(t.$$route||t).redirectTo||l(a.settings.pageTracking.basePath+n.url(),n)})}a.settings.pageTracking.trackStates&&(s.has("$state")&&!s.has("$transitions")&&(e=!1,i.$on("$stateChangeSuccess",function(e,t){l(a.settings.pageTracking.basePath+n.url(),n)})),s.has("$state")&&s.has("$transitions")&&(e=!1,s.invoke(["$transitions",function(e){e.onSuccess({},function(e){e.options().notify&&l(a.settings.pageTracking.basePath+n.url(),n)})}]))),e&&i.$on("$locationChangeSuccess",function(e,t){t&&(t.$$route||t).redirectTo||(a.settings.pageTracking.trackRelativePath?l(a.settings.pageTracking.basePath+n.url(),n):l(n.absUrl(),n))})}]),a.settings.developerMode&&p.forEach(a,function(e,t){"function"==typeof e&&(a[t]=function(){})})}]).directive("analyticsOn",["$analytics",function(a){return{restrict:"A",link:function(n,r,i){var e=i.analyticsOn||"click",o={};p.forEach(i.$attr,function(e,t){var n;"analytics"===(n=t).substr(0,9)&&-1===["On","Event","If","Properties","EventType"].indexOf(n.substr(9))&&(o[s(t)]=i[t],i.$observe(t,function(e){o[s(t)]=e}))}),p.element(r[0]).bind(e,function(e){var t=i.analyticsEvent||(function(e){return 0<=["a:","button:","button:button","button:submit","input:button","input:submit"].indexOf(e.tagName.toLowerCase()+":"+(e.type||""))}(t=r[0])?t.innerText||t.value:t.id||t.name||t.tagName);o.eventType=e.type,i.analyticsIf&&!n.$eval(i.analyticsIf)||(i.analyticsProperties&&p.extend(o,n.$eval(i.analyticsProperties)),a.eventTrack(t,o))})}}}]).config(["$provide",function(e){e.decorator("$exceptionHandler",["$delegate","$injector",function(i,o){return function(e,t){var n=i(e,t),r=o.get("$analytics");return r.settings.trackExceptions&&r.exceptionTrack(e,t),n}}])}])}(angular),!function(s,l){"use strict";l.module("angulartics.google.analytics",["angulartics"]).config(["$analyticsProvider",function(o){o.settings.pageTracking.trackRelativePath=!0,o.settings.ga={additionalAccountNames:void 0,additionalAccountHitTypes:{pageview:!0,event:!0,exception:!1,ecommerce:!1,userTiming:!1,setUserProperties:!1,userId:!1},disableEventTracking:null,disablePageTracking:null,enhancedEcommerce:!1,transport:null,userId:null},o.registerPageTrack(function(e,t){t=t||{},o.settings.ga.disablePageTracking||i("pageview","send",l.extend({},t,{hitType:"pageview",page:e}))}),o.registerEventTrack(function(e,t){var n;o.settings.ga.disableEventTracking||!e&&e+""!="0"||((t=t||{}).category=t.category||"Event",t.value&&(n=parseInt(t.value,10),t.value=isNaN(n)?0:n),l.isFunction(t.hitCallback)||(t.hitCallback=null),t.nonInteraction=t.nonInteraction||t.noninteraction,i("event","send",l.extend({},t,{hitType:"event",eventCategory:t.category,eventAction:e,eventLabel:t.label,eventValue:t.value,nonInteraction:t.nonInteraction,page:t.page||s.location.hash.substring(1)||s.location.pathname,hitCallback:t.hitCallback})))}),o.registerExceptionTrack(function(e,t){i("exception","send",{hitType:"event",eventCategory:"Exceptions",eventAction:e.toString(),eventLabel:e.stack,nonInteraction:!0,page:s.location.hash.substring(1)||s.location.pathname,isException:!0})}),o.registerSetUsername(function(e){o.settings.ga.userId=e}),o.registerSetUserProperties(function(e){e&&i("setUserProperties","set",function(e){var t,n={};for(t in e)t.indexOf("dimension")&&t.indexOf("metric")||(n[t]=e[t]);return n}(e))}),o.registerUserTimings(function(t){if(!l.isObject(t)||l.isArray(t))return console.log("Required argument properties is missing or not an object");l.forEach(["timingCategory","timingVar","timingValue"],function(e){if(l.isUndefined(t[e]))return console.log("Argument properties missing required property "+e)}),i("userTiming","send",{hitType:"timing",timingCategory:t.timingCategory,timingVar:t.timingVar,timingValue:t.timingValue,timingLabel:t.timingLabel,optSampleRate:t.optSampleRate,page:t.page||s.location.hash.substring(1)||s.location.pathname})}),o.registerTransactionTrack(function(e){var t,n;if(i("ecommerce","require","ecommerce"),i("ecommerce","ecommerce:addTransaction",e),e.products)for(n=0;n<e.products.length;n++)(t=e.products[n]).sku=t.id,t.id=e.id,i("ecommerce","ecommerce:addItem",e.products[n]);e.currencyCode&&i("ecommerce","_set",e.currencyCode),i("ecommerce","ecommerce:send",l.copy(e))});l.isUndefined(s._gaq)||(r=function(e,t,n){if("set"===e)return console.log('Classic Analytics does not support the "set" command or Custom Dimensions. Command ignored.');var r;if("send"===e)switch(t.hitType){case"pageview":r=["_trackPageview",t.page];break;case"event":r=["_trackEvent",t.category,t.action,t.label,t.value,t.nonInteraction];break;case"timing":r=["_trackTiming",t.timingCategory,t.timingVar,t.timingValue,t.timingLabel,t.optSampleRate]}"ecommerce:addTransaction"===e&&(r=["_addTrans",t.id,t.affiliation,t.revenue,t.tax,t.shipping,t.billingCity,t.billingRegion,t.billingCountry]);"ecommerce:addItem"===e&&(r=["_addItem",t.id,t.sku,t.name,t.category,t.price,t.quantity]);"_set"===e&&(r=["_set","currencyCode",t]);"ecommerce:send"===e&&(r=["_trackTrans"]);if(!r)return console.log("Unable to find command "+e+" or fieldsObj missing required properties. Command ignored.");s._gaq.push(r),n&&l.forEach(o.settings.ga.additionalAccountNames,function(e){var t=[].slice.call(r);t[0]=e+"."+t[0],s._gaq.push(t)})});var r,e,i=(r=(e=s.GoogleAnalyticsObject)&&s[e]?function(e,t,n){var r,i=o.settings.ga.userId;if("require"===e&&"ecommerce"===t)return r=t,o.settings.ga.enhancedEcommerce&&(r="ec"),a([e,r],n);i&&l.isObject(t)&&(t.userId=i);o.settings.ga.transport&&(t.transport=o.settings.ga.transport);if(-1<e.indexOf("ecommerce:")&&o.settings.ga.enhancedEcommerce)switch(e){case"ecommerce:addTransaction":e=["ec:setAction","purchase"];break;case"ecommerce:addItem":e="ec:addProduct",t.id=t.sku;break;case"ecommerce:send":e="send",t.hitType="event",t.eventCategory="Angulartics Enhanced Ecommerce",t.eventAction="Purchase",t.nonInteraction=!0}a(e instanceof Array?e.concat(t):[e,t],n)}:r)?function(e,t,n){e=o.settings.ga.additionalAccountHitTypes[e];r(t,n,e)}:l.noop;function a(e,t){var n,r=o.settings.ga.userId,i=s.GoogleAnalyticsObject;s[i].apply(this,e),t&&(n=l.copy(e),r&&!o.settings.ga.additionalAccountHitTypes.userId&&n[2]&&"object"==typeof n[2]&&delete n[2].userId,l.forEach(o.settings.ga.additionalAccountNames,function(e){n[0]=e+"."+n[0],s[i].apply(this,n)}))}}])}(window,window.angular),!function(n){"use strict";window.angular.module("angulartics.facebook.pixel",["angulartics"]).config(["$analyticsProvider",function(e){e.settings.pageTracking.trackRelativePath=!0,e.registerPageTrack(function(e){n.fbq&&fbq("track","PageView")}),e.registerEventTrack(function(e,t){t=t||{};n.fbq&&(-1===["ViewContent","Search","AddToCart","AddToWishlist","InitiateCheckout","AddPaymentInfo","Purchase","Lead","CompleteRegistration"].indexOf(e)?fbq("trackCustom",e,t):fbq("track",e,t))})}])}(window),!function(n){"use strict";window.angular.module("angulartics.adroll",["angulartics"]).config(["$analyticsProvider",function(t){angulartics.waitForVendorApi("__adroll",500,function(e){t.registerPageTrack(function(e,t){0})}),t.registerEventTrack(function(e,t){if(n.__adroll)try{n.setTimeout(function(){n.__adroll.record_user({adroll_segments:t.segments})},500)}catch(e){console.log(e)}})}])}(window),!function(){"use strict";angular.module("angulartics.google.tagmanager",["angulartics"]).config(["$analyticsProvider",function(n){n.settings.ga={userId:null},n.registerPageTrack(function(e){(window.dataLayer=window.dataLayer||[]).push({event:"content-view","content-name":e,userId:n.settings.ga.userId})}),n.registerEventTrack(function(e,t){(window.dataLayer=window.dataLayer||[]).push({event:(t=t||{}).event||"interaction",target:t.category,action:e,"target-properties":t.label,value:t.value,"interaction-type":t.noninteraction,userId:n.settings.ga.userId})}),n.registerSetUsername(function(e){n.settings.ga.userId=e})}])}(),!function(){function e(e,t){angular.element(t).on("resize",function(){e.$emit("resizeMsg")})}angular.module("googlechart",[]).run(e),e.$inject=["$rootScope","$window"]}(),angular.module("googlechart").factory("FormatManager",function(){return function(a){var s=this,l={};s.iFormats={},s.applyFormats=function(e,t,n){var r,i,o=!1;if(!angular.isDefined(t)||!angular.isDefined(e))return{requiresHtml:!1};for(r in t)t.hasOwnProperty(r)&&(i=function(e,t){var n=e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()+"Format";return a.visualization.hasOwnProperty(n)?google.visualization[n]:angular.isDefined(t)&&t.hasOwnProperty(e)?t[e]:void 0}(r,n),angular.isFunction(i)&&(function(e,t,n){var r;if(angular.isArray(n[e])&&!angular.equals(n[e],l[e]))if(l[e]=n[e],s.iFormats[e]=[],"color"===e)!function(e){var t,n,r,i,o="color";for(t=0;t<e[o].length;t++){for(n=new a.visualization.ColorFormat,r=0;r<e[o][t].formats.length;r++)void 0!==(i=e[o][t].formats[r]).fromBgColor&&void 0!==i.toBgColor?n.addGradientRange(i.from,i.to,i.color,i.fromBgColor,i.toBgColor):n.addRange(i.from,i.to,i.color,i.bgcolor);s.iFormats[o].push(n)}}(n);else for(r=0;r<n[e].length;r++)s.iFormats[e].push(new t(n[e][r]))}(r,i,t),"arrow"!==r&&"bar"!==r&&"color"!==r||(o=!0)));return function(e,t){var n,r;for(r in e)if(e.hasOwnProperty(r))for(n=0;n<s.iFormats[r].length;n++)e[r][n].columnNum<t.getNumberOfColumns()&&s.iFormats[r][n].format(t,e[r][n].columnNum)}(t,e),{requiresHtml:o}}}}),!function(){function e(t,e,n,r,i,o,a,s){var l,c,u=this;function d(){l()}function h(){h.triggered||void 0===u.chart?void 0!==u.chart&&(i.cancel(h.recallTimeout),h.recallTimeout=i(h,10)):(h.triggered=!0,i(m,0,!0))}function f(){c.getReadyPromise().then(h)}function p(){c.draw(),h.triggered=!1}function m(){c.setup(e,u.chart.type,u.chart.data,u.chart.view,u.chart.options,u.chart.formatters,u.chart.customFormatters),i(p)}function g(){u.chart=t.$eval(n.chart),f()}function v(){var e=t.$eval(n.chart);if(angular.isDefined(e)&&angular.isObject(e))return{customFormatters:e.customFormatters,data:e.data,formatters:e.formatters,options:e.options,type:e.type,view:e.view}}c=new s,u.registerChartListener=c.registerChartListener,u.registerWrapperListener=c.registerWrapperListener,u.registerServiceListener=c.registerServiceListener,t.$watch(v,g,!0),l=a.$on("resizeMsg",f),t.$on("$destroy",d)}angular.module("googlechart").controller("GoogleChartController",e),e.$inject=["$scope","$element","$attrs","$injector","$timeout","$window","$rootScope","GoogleChartService"]}(),angular.module("googlechart").directive("agcBeforeDraw",function(){return{restrict:"A",scope:!1,require:"googleChart",link:function(t,e,n,r){function i(e){t.$apply(function(){t.$eval(n.agcBeforeDraw,{chartWrapper:e})})}i.$inject=["chartWrapper"],r.registerServiceListener("beforeDraw",i,this)}}}),angular.module("googlechart").provider("agcGstaticLoader",function(){var i=!1,o="current",a={packages:["corechart"]};function t(){var e=!isNaN(+o)&&+o<45,t=-1<a.packages.indexOf("geochart")||-1<a.packages.indexOf("map");return e&&t}this.addPackage=function(e){return a.packages=a.packages||[],a.packages.push(e),t()&&(i=!0),this},this.clearOption=function(e){return delete this._options[e],this},this.removePackage=function(e){a.packages=this._options.packages||[];e=a.packages.indexOf(e);return-1<e&&a.packages.splice(e,1),this},this.setOption=function(e,t){return a[e]=t,this},this.setOptions=function(e){return a=e,this},this.setVersion=function(e){return o=e,t()&&(i=!0),this},this.useBothLoaders=function(e){return i=!!(e=void 0===e?!0:e),this},this.$get=function(t,n,e){var r=e("https://www.gstatic.com/charts/loader.js");return(r=i?r.then(function(){return e("https://www.google.com/jsapi")}):r).then(function(){var e;return google&&google.charts&&"function"==typeof google.charts.setOnLoadCallback?(e=n.defer(),google.charts.load(o,a),google.charts.setOnLoadCallback(function(){t.$apply(function(){e.resolve(google)})}),e.promise):n.reject("Google charts library loader not present.")})},this.$get.$inject=["$rootScope","$q","agcScriptTagHelper"]}),!function(){function e(e,t,n,r,i){e.debug("[AGC] jsapi loader invoked.");var o=n.defer(),a=(i.optionalSettings=i.optionalSettings||{},i.optionalSettings.callback),s={callback:function(){angular.isFunction(a)&&a.call(this),t.$apply(function(){o.resolve(google)})}},s=angular.extend({},i.optionalSettings,s);return e.debug("[AGC] Calling tag helper..."),r("//www.google.com/jsapi").then(function(){e.debug("[AGC] Tag helper returned success."),window.google.load("visualization",i.version||"1",s)}).catch(function(){e.error("[AGC] Tag helper returned error. Script may have failed to load."),o.reject()}),o.promise}angular.module("googlechart").factory("agcJsapiLoader",e),e.$inject=["$log","$rootScope","$q","agcScriptTagHelper","googleChartApiConfig"]}(),!function(){function e(t){this.$get=function(e){return e},this.setLoader=function(e){t.has(this.getProviderName(e))?this.$get.$inject=[this.getProviderName(e)]:(console.warn('[Angular-GoogleChart] Loader type "'+e+"\" doesn't exist. Defaulting to JSAPI loader."),this.$get.$inject=[this.getProviderName("Jsapi")])},this.getProviderName=function(e){return"agc"+(e=e.charAt(0).toUpperCase()+e.slice(1))+"Loader"},this.setLoader("Jsapi")}angular.module("googlechart").provider("agcLibraryLoader",e),e.$inject=["$injector"]}(),!function(){function e(){this._hasTrigger=!1,this._libraryOverride=null,this._triggerFunction=function(){this._deferred?this._deferred.resolve(this._libraryOverride||google):this._hasTrigger=!1}.bind(this),this._deferred=null}angular.module("googlechart").provider("agcNullLoader",e),(e.prototype.$get=function(e){return this._deferred=e.defer(),this._hasTrigger||this._deferred.resolve(this._libraryOverride||google),this._deferred.promise}).$inject=["$q"],e.prototype.getTriggerFunction=function(){return this._hasTrigger=!0,this._triggerFunction},e.prototype.overrideLibrary=function(e){this._libraryOverride=e}}(),angular.module("googlechart").directive("agcOnClick",function(){return{restrict:"A",scope:!1,require:"googleChart",link:function(r,e,i,t){function n(e,t,n){r.$apply(function(){r.$eval(i.agcOnClick,{args:e,chart:t,chartWrapper:n})})}n.$inject=["args","chart","chartWrapper"],t.registerChartListener("click",n,this)}}}),angular.module("googlechart").directive("agcOnError",function(){return{restrict:"A",scope:!1,require:"googleChart",link:function(i,e,o,t){function n(e,t,n){var r={chartWrapper:e,chart:t,args:n,error:n[0],err:n[0],id:n[0].id,message:n[0].message};i.$apply(function(){i.$eval(o.agcOnError,r)})}n.$inject=["chartWrapper","chart","args"],t.registerWrapperListener("error",n,this)}}}),angular.module("googlechart").directive("agcOnMouseout",function(){return{restrict:"A",scope:!1,require:"googleChart",link:function(i,e,o,t){function n(e,t,n){var r={chartWrapper:n,chart:t,args:e,column:e[0].column,row:e[0].row};i.$apply(function(){i.$eval(o.agcOnMouseout,r)})}n.$inject=["args","chart","chartWrapper"],t.registerChartListener("onmouseout",n,this)}}}),angular.module("googlechart").directive("agcOnMouseover",function(){return{restrict:"A",scope:!1,require:"googleChart",link:function(i,e,o,t){function n(e,t,n){var r={chartWrapper:n,chart:t,args:e,column:e[0].column,row:e[0].row};i.$apply(function(){i.$eval(o.agcOnMouseover,r)})}n.$inject=["args","chart","chartWrapper"],t.registerChartListener("onmouseover",n,this)}}}),angular.module("googlechart").directive("agcOnRangeChange",function(){return{restrict:"A",scope:!1,require:"googleChart",link:function(i,e,o,t){function n(e,t,n){var r={chartWrapper:n,chart:t,args:e,start:e[0].start,end:e[0].end};i.$apply(function(){i.$eval(o.agcOnRangeChange,r)})}n.$inject=["args","chart","chartWrapper"],t.registerChartListener("rangechange",n,this)}}}),angular.module("googlechart").directive("agcOnReady",function(){return{restrict:"A",scope:!1,require:"googleChart",link:function(t,e,n,r){function i(e){t.$apply(function(){t.$eval(n.agcOnReady,{chartWrapper:e})})}i.$inject=["chartWrapper"],r.registerWrapperListener("ready",i,this)}}}),angular.module("googlechart").directive("agcOnSelect",function(){return{restrict:"A",scope:!1,require:"googleChart",link:function(r,e,i,t){function n(e,t){var n={selectedItems:t.getSelection()};n.selectedItem=n.selectedItems[0],n.chartWrapper=e,n.chart=t,r.$apply(function(){r.$eval(i.agcOnSelect,n)})}n.$inject=["chartWrapper","chart"],t.registerWrapperListener("select",n,this)}}}),!function(){function e(i,o){return function(e){var t=i.defer(),n=o.find("head"),r=angular.element("<script><\/script>");return r.attr("type","text/javascript"),r.on("load",function(){t.resolve()}),r.on("error",function(){t.reject()}),r.attr("src",e),n[0].appendChild(r[0]),t.promise}}angular.module("googlechart").factory("agcScriptTagHelper",e),e.$inject=["$q","$document"]}(),!function(){function e(){return{restrict:"A",scope:!1,controller:"GoogleChartController"}}angular.module("googlechart").directive("googleChart",e),e.$inject=[]}(),angular.module("googlechart").value("googleChartApiConfig",{version:"1",optionalSettings:{packages:["corechart"]}}),!function(){function e(e){return e}angular.module("googlechart").factory("googleChartApiPromise",e),e.$inject=["agcLibraryLoader"]}(),!function(){function e($,E,A,O){return function(){var e=this;e.draw=function(){o&&(s=s.then(_));s=s.then((function(e){var t;if(angular.isArray(g[e]))for(t=0;t<g[e].length;t++)g[e][t]()}("beforeDraw"),void l.draw()))},e.getChartWrapper=function(){return l},e.getData=function(){var e=d||{};return angular.copy(e)},e.getElement=function(){return c},e.getOption=function(e){return k(f||{},e)},e.getOptions=function(){var e=f||{};return angular.copy(e)},e.getView=function(){var e=h||{};return angular.copy(e)},e.getReadyPromise=function(){return i.promise},e.isApiReady=function(){return t},e.registerChartListener=function(e,t,n){return C(b,e,t,n)},e.registerServiceListener=function(e,t,n){return C(g,e,t,n)},e.registerWrapperListener=T,e.setData=function(e){angular.isDefined(e)&&(d=angular.copy(e),o=!0)},e.setElement=function(e){angular.isElement(e)&&c!==e&&(c=e,o=!(l=null))},e.setOption=function(e,t){k(f=f||{},e,angular.copy(t)),o=!0},e.setOptions=function(e){angular.isDefined(e)&&(f=angular.copy(e),o=!0)},e.setup=function(e,t,n,r,i,o,a){c=e||c,u=t||u,d=n||d,h=r||h,f=i||f,p=o||p,m=a||m,s=s.then(_)},e.setView=function(e){h=angular.copy(e)};var a,s,t,l,c,u,d,h,f,p,n,r,m,i,o=!0,g={},v={},b={};function y(e){return e}function w(e){return a=e,t=!0,i.resolve(),e}function _(){angular.isDefined(l)?(l.setChartType(u),l.setDataTable(d),l.setView(h),l.setOptions(f)):S(l=new a.visualization.ChartWrapper({chartType:u,dataTable:d,view:h,options:f,containerId:c[0]}),v),(r=r||new O(a)).applyFormats(l.getDataTable(),p,m).requiresHtml&&l.setOption("allowHtml",!0),o=!1}function k(e,t,n){for(var r=t?t.split("."):[];r.length&&e;){var i=r.shift();new RegExp("(.+)\\[([0-9]*)\\]").exec(i);n&&(void 0===e[i]&&(e[i]={}),0===r.length&&(e[i]=n)),e=e[i]}return e}function x(){n!==l.getChart()&&S(n=l.getChart(),b)}function C(t,n,r,i){function o(){var e={chartWrapper:l,chart:l.getChart(),args:arguments};E.invoke(r,i||this,e)}if(angular.isDefined(t)&&angular.isObject(t))return angular.isArray(t[n])||(t[n]=[]),t[n].push(o),function(){angular.isDefined(o.googleListenerHandle)&&a.visualization.events.removeListener(o.googleListenerHandle);var e=t[n].indexOf(o);t[n].splice(e,1),0===t[n].length&&(t[n]=void 0)}}function S(e,t){for(var n in t)if(t.hasOwnProperty(n)&&angular.isArray(t[n]))for(var r=0;r<t[n].length;r++)angular.isFunction(t[n][r])&&(t[n][r].googleListenerHandle=a.visualization.events.addListener(e,n,t[n][r]))}function T(e,t,n){return C(v,e,t,n)}t=!1,i=A.defer(),s=$.then(w).catch(y),T("ready",x,e)}}angular.module("googlechart").factory("GoogleChartService",e),e.$inject=["agcLibraryLoader","$injector","$q","FormatManager"]}(),angular.module("timer",[]).directive("timer",["$compile",function(d){return{restrict:"EA",replace:!1,scope:{interval:"=interval",startTimeAttr:"=startTime",endTimeAttr:"=endTime",countdownattr:"=countdown",finishCallback:"&finishCallback",autoStart:"&autoStart",language:"@?",fallback:"@?",maxTimeUnit:"=",seconds:"=?",minutes:"=?",hours:"=?",days:"=?",months:"=?",years:"=?",secondsS:"=?",minutesS:"=?",hoursS:"=?",daysS:"=?",monthsS:"=?",yearsS:"=?"},controller:["$scope","$element","$attrs","$timeout","I18nService","$interpolate","progressBarService",function(r,e,t,n,i,o,a){"function"!=typeof String.prototype.trim&&(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")}),r.autoStart=t.autoStart||t.autostart,r.language=r.language||"en",r.fallback=r.fallback||"en",r.$watch("language",function(e,t){void 0!==e&&s.init(e,r.fallback)});var s=new i;function l(){r.timeoutId&&clearTimeout(r.timeoutId)}function c(){var e;void 0!==t.startTime&&(r.millis=moment().diff(moment(r.startTimeAttr))),e=s.getTimeUnits(r.millis),r.maxTimeUnit&&"day"!==r.maxTimeUnit?"second"===r.maxTimeUnit?(r.seconds=Math.floor(r.millis/1e3),r.minutes=0,r.hours=0,r.days=0,r.months=0,r.years=0):"minute"===r.maxTimeUnit?(r.seconds=Math.floor(r.millis/1e3%60),r.minutes=Math.floor(r.millis/6e4),r.hours=0,r.days=0,r.months=0,r.years=0):"hour"===r.maxTimeUnit?(r.seconds=Math.floor(r.millis/1e3%60),r.minutes=Math.floor(r.millis/6e4%60),r.hours=Math.floor(r.millis/36e5),r.days=0,r.months=0,r.years=0):"month"===r.maxTimeUnit?(r.seconds=Math.floor(r.millis/1e3%60),r.minutes=Math.floor(r.millis/6e4%60),r.hours=Math.floor(r.millis/36e5%24),r.days=Math.floor(r.millis/36e5/24%30),r.months=Math.floor(r.millis/36e5/24/30),r.years=0):"year"===r.maxTimeUnit&&(r.seconds=Math.floor(r.millis/1e3%60),r.minutes=Math.floor(r.millis/6e4%60),r.hours=Math.floor(r.millis/36e5%24),r.days=Math.floor(r.millis/36e5/24%30),r.months=Math.floor(r.millis/36e5/24/30%12),r.years=Math.floor(r.millis/36e5/24/365)):(r.seconds=Math.floor(r.millis/1e3%60),r.minutes=Math.floor(r.millis/6e4%60),r.hours=Math.floor(r.millis/36e5%24),r.days=Math.floor(r.millis/36e5/24),r.months=0,r.years=0),r.secondsS=1===r.seconds?"":"s",r.minutesS=1===r.minutes?"":"s",r.hoursS=1===r.hours?"":"s",r.daysS=1===r.days?"":"s",r.monthsS=1===r.months?"":"s",r.yearsS=1===r.years?"":"s",r.secondUnit=e.seconds,r.minuteUnit=e.minutes,r.hourUnit=e.hours,r.dayUnit=e.days,r.monthUnit=e.months,r.yearUnit=e.years,r.sseconds=r.seconds<10?"0"+r.seconds:r.seconds,r.mminutes=r.minutes<10?"0"+r.minutes:r.minutes,r.hhours=r.hours<10?"0"+r.hours:r.hours,r.ddays=r.days<10?"0"+r.days:r.days,r.mmonths=r.months<10?"0"+r.months:r.months,r.yyears=r.years<10?"0"+r.years:r.years}s.init(r.language,r.fallback),r.displayProgressBar=0,r.displayProgressActive="active",0===e.html().trim().length?e.append(d("<span>"+o.startSymbol()+"millis"+o.endSymbol()+"</span>")(r)):e.append(d(e.contents())(r)),r.startTime=null,r.endTime=null,r.timeoutId=null,r.countdown=angular.isNumber(r.countdownattr)&&0<=parseInt(r.countdownattr,10)?parseInt(r.countdownattr,10):void 0,r.isRunning=!1,r.$on("timer-start",function(){r.start()}),r.$on("timer-resume",function(){r.resume()}),r.$on("timer-stop",function(){r.stop()}),r.$on("timer-clear",function(){r.clear()}),r.$on("timer-reset",function(){r.reset()}),r.$on("timer-set-countdown",function(e,t){r.countdown=t}),r.$watch("startTimeAttr",function(e,t){e!==t&&r.isRunning&&r.start()}),r.$watch("endTimeAttr",function(e,t){e!==t&&r.isRunning&&r.start()}),r.start=function(){r.startTime=r.startTimeAttr?moment(r.startTimeAttr):moment(),r.endTime=r.endTimeAttr?moment(r.endTimeAttr):null,angular.isNumber(r.countdown)||(r.countdown=angular.isNumber(r.countdownattr)&&0<parseInt(r.countdownattr,10)?parseInt(r.countdownattr,10):void 0),l(),u(),r.isRunning=!0,r.$emit("timer-started",{timeoutId:r.timeoutId,millis:r.millis,seconds:r.seconds,minutes:r.minutes,hours:r.hours,days:r.days})},r.resume=function(){l(),r.countdownattr&&(r.countdown+=1),r.startTime=moment().diff(moment(r.stoppedTime).diff(moment(r.startTime))),u(),r.isRunning=!0,r.$emit("timer-started",{timeoutId:r.timeoutId,millis:r.millis,seconds:r.seconds,minutes:r.minutes,hours:r.hours,days:r.days})},r.stop=r.pause=function(){var e=r.timeoutId;r.clear(),r.$emit("timer-stopped",{timeoutId:e,millis:r.millis,seconds:r.seconds,minutes:r.minutes,hours:r.hours,days:r.days})},r.clear=function(){r.stoppedTime=moment(),l(),r.timeoutId=null,r.isRunning=!1},r.reset=function(){r.startTime=r.startTimeAttr?moment(r.startTimeAttr):moment(),r.endTime=r.endTimeAttr?moment(r.endTimeAttr):null,r.countdown=angular.isNumber(r.countdownattr)&&0<parseInt(r.countdownattr,10)?parseInt(r.countdownattr,10):void 0,l(),u(),r.isRunning=!1,r.clear(),r.$emit("timer-reset",{timeoutId:timeoutId,millis:r.millis,seconds:r.seconds,minutes:r.minutes,hours:r.hours,days:r.days})},e.bind("$destroy",function(){l(),r.isRunning=!1}),r.countdownattr?(r.millis=1e3*r.countdownattr,r.addCDSeconds=function(e){r.countdown+=e,r.isRunning||r.start()},r.$on("timer-add-cd-seconds",function(e,t){r.addCDSeconds(t)}),r.$on("timer-set-countdown-seconds",function(e,t){r.isRunning||r.clear(),r.countdown=t,r.millis=1e3*t,c()})):r.millis=0,c();var u=function e(){var t=null,n=(r.millis=moment().diff(r.startTime),r.millis%1e3);r.endTimeAttr&&(t=r.endTimeAttr,r.millis=moment(r.endTime).diff(moment()),n=r.interval-r.millis%1e3),r.countdownattr&&(t=r.countdownattr,r.millis=1e3*r.countdown),r.millis<0?(r.stop(),r.millis=0,c(),r.finishCallback&&r.$eval(r.finishCallback)):(c(),r.timeoutId=setTimeout(function(){e(),r.$apply()},r.interval-n),r.$emit("timer-tick",{timeoutId:r.timeoutId,millis:r.millis,seconds:r.seconds,minutes:r.minutes,hours:r.hours,days:r.days}),0<r.countdown?r.countdown--:r.countdown<=0&&(r.stop(),r.finishCallback&&r.$eval(r.finishCallback)),null!==t&&(r.progressBar=a.calculateProgressBar(r.startTime,r.millis,r.endTime,r.countdownattr),100===r.progressBar&&(r.displayProgressActive="")))};void 0!==r.autoStart&&!0!==r.autoStart||r.start()}]}}]).directive("timerControls",function(){return{restrict:"EA",scope:!0,controller:["$scope",function(t){t.timerStatus="reset",t.$on("timer-started",function(){t.timerStatus="started"}),t.$on("timer-stopped",function(){t.timerStatus="stopped"}),t.$on("timer-reset",function(){t.timerStatus="reset"}),t.timerStart=function(){t.$broadcast("timer-start")},t.timerStop=function(){t.$broadcast("timer-stop")},t.timerResume=function(){t.$broadcast("timer-resume")},t.timerToggle=function(){switch(t.timerStatus){case"started":t.timerStop();break;case"stopped":t.timerResume();break;case"reset":t.timerStart()}},t.timerAddCDSeconds=function(e){t.$broadcast("timer-add-cd-seconds",e)}}]}})),app=("undefined"!=typeof module&&"undefined"!=typeof exports&&module.exports===exports&&(module.exports=timerModule),angular.module("timer")),app=(app.factory("I18nService",function(){function e(){}return e.prototype.language="en",e.prototype.fallback="en",e.prototype.timeHumanizer={},e.prototype.init=function(e,t){var n=humanizeDuration.getSupportedLanguages();this.fallback=void 0!==t?t:"en",-1===n.indexOf(t)&&(this.fallback="en"),this.language=e,-1===n.indexOf(e)&&(this.language=this.fallback),this.timeHumanizer=humanizeDuration.humanizer({language:this.language,halfUnit:!1})},e.prototype.getTimeUnits=function(e){var e=1e3*Math.round(e/1e3),t={};return void 0!==this.timeHumanizer?t={millis:this.timeHumanizer(e,{units:["ms"]}),seconds:this.timeHumanizer(e,{units:["s"]}),minutes:this.timeHumanizer(e,{units:["m","s"]}),hours:this.timeHumanizer(e,{units:["h","m","s"]}),days:this.timeHumanizer(e,{units:["d","h","m","s"]}),months:this.timeHumanizer(e,{units:["mo","d","h","m","s"]}),years:this.timeHumanizer(e,{units:["y","mo","d","h","m","s"]})}:console.error('i18nService has not been initialized. You must call i18nService.init("en") for example'),t},e}),angular.module("timer"));app.factory("progressBarService",function(){function e(){}return e.prototype.calculateProgressBar=function(e,t,n,r){var i=0;return t/=1e3,i=100-(i=null!==n?100*t/moment(n).diff(e,"seconds"):100*t/r),i=100<(i=Math.round(10*i)/10)?100:i},new e}),!function(){var v={ar:{y:function(e){return 1===e?"":""},mo:function(e){return 1===e?"":""},w:function(e){return 1===e?"":""},d:function(e){return 1===e?"":""},h:function(e){return 1===e?"":""},m:function(e){return 1===e?"":""},s:function(e){return 1===e?"":""},ms:function(e){return 1===e?"  ":"  "},decimal:","},ca:{y:function(e){return"any"+(1===e?"":"s")},mo:function(e){return"mes"+(1===e?"":"os")},w:function(e){return"setman"+(1===e?"a":"es")},d:function(e){return"di"+(1===e?"a":"es")},h:function(e){return"hor"+(1===e?"a":"es")},m:function(e){return"minut"+(1===e?"":"s")},s:function(e){return"segon"+(1===e?"":"s")},ms:function(e){return"milisegon"+(1===e?"":"s")},decimal:","},cs:{y:function(e){return["rok","roku","roky","let"][n(e)]},mo:function(e){return["msc","msce","msce","msc"][n(e)]},w:function(e){return["tden","tdne","tdny","tdn"][n(e)]},d:function(e){return["den","dne","dny","dn"][n(e)]},h:function(e){return["hodina","hodiny","hodiny","hodin"][n(e)]},m:function(e){return["minuta","minuty","minuty","minut"][n(e)]},s:function(e){return["sekunda","sekundy","sekundy","sekund"][n(e)]},ms:function(e){return["milisekunda","milisekundy","milisekundy","milisekund"][n(e)]},decimal:","},da:{y:"r",mo:function(e){return"mned"+(1===e?"":"er")},w:function(e){return"uge"+(1===e?"":"r")},d:function(e){return"dag"+(1===e?"":"e")},h:function(e){return"time"+(1===e?"":"r")},m:function(e){return"minut"+(1===e?"":"ter")},s:function(e){return"sekund"+(1===e?"":"er")},ms:function(e){return"millisekund"+(1===e?"":"er")},decimal:","},de:{y:function(e){return"Jahr"+(1===e?"":"e")},mo:function(e){return"Monat"+(1===e?"":"e")},w:function(e){return"Woche"+(1===e?"":"n")},d:function(e){return"Tag"+(1===e?"":"e")},h:function(e){return"Stunde"+(1===e?"":"n")},m:function(e){return"Minute"+(1===e?"":"n")},s:function(e){return"Sekunde"+(1===e?"":"n")},ms:function(e){return"Millisekunde"+(1===e?"":"n")},decimal:","},en:{y:function(e){return"year"+(1===e?"":"s")},mo:function(e){return"month"+(1===e?"":"s")},w:function(e){return"week"+(1===e?"":"s")},d:function(e){return"day"+(1===e?"":"s")},h:function(e){return"hour"+(1===e?"":"s")},m:function(e){return"minute"+(1===e?"":"s")},s:function(e){return"second"+(1===e?"":"s")},ms:function(e){return"millisecond"+(1===e?"":"s")},decimal:"."},es:{y:function(e){return"ao"+(1===e?"":"s")},mo:function(e){return"mes"+(1===e?"":"es")},w:function(e){return"semana"+(1===e?"":"s")},d:function(e){return"da"+(1===e?"":"s")},h:function(e){return"hora"+(1===e?"":"s")},m:function(e){return"minuto"+(1===e?"":"s")},s:function(e){return"segundo"+(1===e?"":"s")},ms:function(e){return"milisegundo"+(1===e?"":"s")},decimal:","},fi:{y:function(e){return 1===e?"vuosi":"vuotta"},mo:function(e){return 1===e?"kuukausi":"kuukautta"},w:function(e){return"viikko"+(1===e?"":"a")},d:function(e){return"piv"+(1===e?"":"")},h:function(e){return"tunti"+(1===e?"":"a")},m:function(e){return"minuutti"+(1===e?"":"a")},s:function(e){return"sekunti"+(1===e?"":"a")},ms:function(e){return"millisekunti"+(1===e?"":"a")},decimal:","},fr:{y:function(e){return"an"+(2<=e?"s":"")},mo:"mois",w:function(e){return"semaine"+(2<=e?"s":"")},d:function(e){return"jour"+(2<=e?"s":"")},h:function(e){return"heure"+(2<=e?"s":"")},m:function(e){return"minute"+(2<=e?"s":"")},s:function(e){return"seconde"+(2<=e?"s":"")},ms:function(e){return"milliseconde"+(2<=e?"s":"")},decimal:","},gr:{y:function(e){return 1===e?"":""},mo:function(e){return 1===e?"":""},w:function(e){return 1===e?"":""},d:function(e){return 1===e?"":""},h:function(e){return 1===e?"":""},m:function(e){return 1===e?"":""},s:function(e){return 1===e?"":""},ms:function(e){return 1===e?"  ":"  "},decimal:","},hu:{y:"v",mo:"hnap",w:"ht",d:"nap",h:"ra",m:"perc",s:"msodperc",ms:"ezredmsodperc",decimal:","},id:{y:"tahun",mo:"bulan",w:"minggu",d:"hari",h:"jam",m:"menit",s:"detik",ms:"milidetik",decimal:"."},is:{y:"r",mo:function(e){return"mnu"+(1===e?"ur":"ir")},w:function(e){return"vik"+(1===e?"a":"ur")},d:function(e){return"dag"+(1===e?"ur":"ar")},h:function(e){return"klukkutm"+(1===e?"i":"ar")},m:function(e){return"mnt"+(1===e?"a":"ur")},s:function(e){return"seknd"+(1===e?"a":"ur")},ms:function(e){return"milliseknd"+(1===e?"a":"ur")},decimal:"."},it:{y:function(e){return"ann"+(1===e?"o":"i")},mo:function(e){return"mes"+(1===e?"e":"i")},w:function(e){return"settiman"+(1===e?"a":"e")},d:function(e){return"giorn"+(1===e?"o":"i")},h:function(e){return"or"+(1===e?"a":"e")},m:function(e){return"minut"+(1===e?"o":"i")},s:function(e){return"second"+(1===e?"o":"i")},ms:function(e){return"millisecond"+(1===e?"o":"i")},decimal:","},ja:{y:"",mo:"",w:"",d:"",h:"",m:"",s:"",ms:"",decimal:"."},ko:{y:"",mo:"",w:"",d:"",h:"",m:"",s:"",ms:" ",decimal:"."},lt:{y:function(e){return e%10==0||10<=e%100&&e%100<=20?"met":"metai"},mo:function(e){return["mnuo","mnesiai","mnesi"][o(e)]},w:function(e){return["savait","savaits","savaii"][o(e)]},d:function(e){return["diena","dienos","dien"][o(e)]},h:function(e){return["valanda","valandos","valand"][o(e)]},m:function(e){return["minut","minuts","minui"][o(e)]},s:function(e){return["sekund","sekunds","sekundi"][o(e)]},ms:function(e){return["milisekund","milisekunds","milisekundi"][o(e)]},decimal:","},ms:{y:"tahun",mo:"bulan",w:"minggu",d:"hari",h:"jam",m:"minit",s:"saat",ms:"milisaat",decimal:"."},nl:{y:"jaar",mo:function(e){return 1===e?"maand":"maanden"},w:function(e){return 1===e?"week":"weken"},d:function(e){return 1===e?"dag":"dagen"},h:"uur",m:function(e){return 1===e?"minuut":"minuten"},s:function(e){return 1===e?"seconde":"seconden"},ms:function(e){return 1===e?"milliseconde":"milliseconden"},decimal:","},no:{y:"r",mo:function(e){return"mned"+(1===e?"":"er")},w:function(e){return"uke"+(1===e?"":"r")},d:function(e){return"dag"+(1===e?"":"er")},h:function(e){return"time"+(1===e?"":"r")},m:function(e){return"minutt"+(1===e?"":"er")},s:function(e){return"sekund"+(1===e?"":"er")},ms:function(e){return"millisekund"+(1===e?"":"er")},decimal:","},pl:{y:function(e){return["rok","roku","lata","lat"][r(e)]},mo:function(e){return["miesic","miesica","miesice","miesicy"][r(e)]},w:function(e){return["tydzie","tygodnia","tygodnie","tygodni"][r(e)]},d:function(e){return["dzie","dnia","dni","dni"][r(e)]},h:function(e){return["godzina","godziny","godziny","godzin"][r(e)]},m:function(e){return["minuta","minuty","minuty","minut"][r(e)]},s:function(e){return["sekunda","sekundy","sekundy","sekund"][r(e)]},ms:function(e){return["milisekunda","milisekundy","milisekundy","milisekund"][r(e)]},decimal:","},pt:{y:function(e){return"ano"+(1===e?"":"s")},mo:function(e){return 1!==e?"meses":"ms"},w:function(e){return"semana"+(1===e?"":"s")},d:function(e){return"dia"+(1===e?"":"s")},h:function(e){return"hora"+(1===e?"":"s")},m:function(e){return"minuto"+(1===e?"":"s")},s:function(e){return"segundo"+(1===e?"":"s")},ms:function(e){return"milissegundo"+(1===e?"":"s")},decimal:","},ru:{y:function(e){return["","",""][i(e)]},mo:function(e){return["","",""][i(e)]},w:function(e){return["","",""][i(e)]},d:function(e){return["","",""][i(e)]},h:function(e){return["","",""][i(e)]},m:function(e){return["","",""][i(e)]},s:function(e){return["","",""][i(e)]},ms:function(e){return["","",""][i(e)]},decimal:","},uk:{y:function(e){return["","",""][i(e)]},mo:function(e){return["","",""][i(e)]},w:function(e){return["","",""][i(e)]},d:function(e){return["","",""][i(e)]},h:function(e){return["","",""][i(e)]},m:function(e){return["","",""][i(e)]},s:function(e){return["","",""][i(e)]},ms:function(e){return["","",""][i(e)]},decimal:","},sv:{y:"r",mo:function(e){return"mnad"+(1===e?"":"er")},w:function(e){return"veck"+(1===e?"a":"or")},d:function(e){return"dag"+(1===e?"":"ar")},h:function(e){return"timm"+(1===e?"e":"ar")},m:function(e){return"minut"+(1===e?"":"er")},s:function(e){return"sekund"+(1===e?"":"er")},ms:function(e){return"millisekund"+(1===e?"":"er")},decimal:","},tr:{y:"yl",mo:"ay",w:"hafta",d:"gn",h:"saat",m:"dakika",s:"saniye",ms:"milisaniye",decimal:","},vi:{y:"nm",mo:"thng",w:"tun",d:"ngy",h:"gi",m:"pht",s:"giy",ms:"mili giy",decimal:","},zh_CN:{y:"",mo:"",w:"",d:"",h:"",m:"",s:"",ms:"",decimal:"."},zh_TW:{y:"",mo:"",w:"",d:"",h:"",m:"",s:"",ms:"",decimal:"."}};function e(e){function g(e,t){var t=y({},g,t||{}),n=e,r=t;n=Math.abs(n);var i,o,a,s=r.languages[r.language]||v[r.language];if(!s)throw new Error("No language "+s+".");var l,c,u,d=[];for(i=0,o=r.units.length;i<o;i++)l=r.units[i],c=r.unitMeasures[l],u=i+1===o?n/c:Math.floor(n/c),d.push({unitCount:u,unitName:l}),n-=u*c;var h,f,p=0;for(i=0;i<d.length;i++)if(d[i].unitCount){p=i;break}if(r.round)for(i=d.length-1;0<=i&&((a=d[i]).unitCount=Math.round(a.unitCount),0!==i);i--)f=d[i-1],h=r.unitMeasures[f.unitName]/r.unitMeasures[a.unitName],(a.unitCount%h==0||r.largest&&r.largest-1<i-p)&&(f.unitCount+=a.unitCount/h,a.unitCount=0);var m=[];for(i=0,d.length;i<o&&((a=d[i]).unitCount&&m.push(b(a.unitCount,a.unitName,s,r)),m.length!==r.largest);i++);return m.length?r.conjunction&&1!==m.length?2===m.length?m.join(r.conjunction):2<m.length?m.slice(0,-1).join(r.delimiter)+(r.serialComma?",":"")+r.conjunction+m.slice(-1):void 0:m.join(r.delimiter):b(0,r.units[r.units.length-1],s,r)}return y(g,{language:"en",delimiter:", ",spacer:" ",conjunction:"",serialComma:!0,units:["y","mo","w","d","h","m","s"],languages:{},round:!1,unitMeasures:{y:315576e5,mo:26298e5,w:6048e5,d:864e5,h:36e5,m:6e4,s:1e3,ms:1}},e)}var t=e({});function b(e,t,n,r){var i=(void 0===r.decimal?n:r).decimal,i=e.toString().replace(".",i),n=n[t],t="function"==typeof n?n(e):n;return i+r.spacer+t}function y(e){for(var t,n=1;n<arguments.length;n++)for(var r in t=arguments[n])t.hasOwnProperty(r)&&(e[r]=t[r]);return e}function n(e){return 1===e?0:Math.floor(e)!==e?1:2<=e%10&&e%10<=4&&e%100<10?2:3}function r(e){return 1===e?0:Math.floor(e)!==e?1:2<=e%10&&e%10<=4&&!(10<e%100&&e%100<20)?2:3}function i(e){return Math.floor(e)!==e?2:5<=e%100&&e%100<=20||5<=e%10&&e%10<=9||e%10==0?0:e%10==1?1:1<e?2:0}function o(e){return 1===e||e%10==1&&20<e%100?0:Math.floor(e)!==e||2<=e%10&&20<e%100||2<=e%10&&e%100<10?1:2}t.getSupportedLanguages=function(){var e,t=[];for(e in v)v.hasOwnProperty(e)&&t.push(e);return t},t.humanizer=e,"function"==typeof define&&define.amd?define(function(){return t}):"undefined"!=typeof module&&module.exports?module.exports=t:this.humanizeDuration=t}(),!function(e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).Clipboard=e()}(function(){return function r(i,o,a){function s(n,e){if(!o[n]){if(!i[n]){var t="function"==typeof require&&require;if(!e&&t)return t(n,!0);if(l)return l(n,!0);e=new Error("Cannot find module '"+n+"'");throw e.code="MODULE_NOT_FOUND",e}t=o[n]={exports:{}};i[n][0].call(t.exports,function(e){var t=i[n][1][e];return s(t||e)},t,t.exports,r,i,o,a)}return o[n].exports}for(var l="function"==typeof require&&require,e=0;e<a.length;e++)s(a[e]);return s}({1:[function(e,t,n){var r;"undefined"==typeof Element||Element.prototype.matches||((r=Element.prototype).matches=r.matchesSelector||r.mozMatchesSelector||r.msMatchesSelector||r.oMatchesSelector||r.webkitMatchesSelector),t.exports=function(e,t){for(;e&&9!==e.nodeType;){if("function"==typeof e.matches&&e.matches(t))return e;e=e.parentNode}}},{}],2:[function(e,t,n){var a=e("./closest");t.exports=function(e,t,n,r,i){var o=function(t,n,e,r){return function(e){e.delegateTarget=a(e.target,n),e.delegateTarget&&r.call(t,e)}}.apply(this,arguments);return e.addEventListener(n,o,i),{destroy:function(){e.removeEventListener(n,o,i)}}}},{"./closest":1}],3:[function(e,t,n){n.node=function(e){return void 0!==e&&e instanceof HTMLElement&&1===e.nodeType},n.nodeList=function(e){var t=Object.prototype.toString.call(e);return void 0!==e&&("[object NodeList]"===t||"[object HTMLCollection]"===t)&&"length"in e&&(0===e.length||n.node(e[0]))},n.string=function(e){return"string"==typeof e||e instanceof String},n.fn=function(e){return"[object Function]"===Object.prototype.toString.call(e)}},{}],4:[function(e,t,n){var c=e("./is"),u=e("delegate");t.exports=function(e,t,n){if(!e&&!t&&!n)throw new Error("Missing required arguments");if(!c.string(t))throw new TypeError("Second argument must be a String");if(!c.fn(n))throw new TypeError("Third argument must be a Function");if(c.node(e))return s=t,l=n,(a=e).addEventListener(s,l),{destroy:function(){a.removeEventListener(s,l)}};if(c.nodeList(e))return r=e,i=t,o=n,Array.prototype.forEach.call(r,function(e){e.addEventListener(i,o)}),{destroy:function(){Array.prototype.forEach.call(r,function(e){e.removeEventListener(i,o)})}};if(c.string(e))return u(document.body,e,t,n);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList");var r,i,o,a,s,l}},{"./is":3,delegate:2}],5:[function(e,t,n){t.exports=function(e){var t,n;return e="SELECT"===e.nodeName?(e.focus(),e.value):"INPUT"===e.nodeName||"TEXTAREA"===e.nodeName?((t=e.hasAttribute("readonly"))||e.setAttribute("readonly",""),e.select(),e.setSelectionRange(0,e.value.length),t||e.removeAttribute("readonly"),e.value):(e.hasAttribute("contenteditable")&&e.focus(),t=window.getSelection(),(n=document.createRange()).selectNodeContents(e),t.removeAllRanges(),t.addRange(n),t.toString())}},{}],6:[function(e,t,n){function r(){}r.prototype={on:function(e,t,n){var r=this.e||(this.e={});return(r[e]||(r[e]=[])).push({fn:t,ctx:n}),this},once:function(e,t,n){var r=this;function i(){r.off(e,i),t.apply(n,arguments)}return i._=t,this.on(e,i,n)},emit:function(e){for(var t=[].slice.call(arguments,1),n=((this.e||(this.e={}))[e]||[]).slice(),r=0,i=n.length;r<i;r++)n[r].fn.apply(n[r].ctx,t);return this},off:function(e,t){var n=this.e||(this.e={}),r=n[e],i=[];if(r&&t)for(var o=0,a=r.length;o<a;o++)r[o].fn!==t&&r[o].fn._!==t&&i.push(r[o]);return i.length?n[e]=i:delete n[e],this}},t.exports=r},{}],7:[function(e,t,n){var r,i;r=this,i=function(e,t){"use strict";var n=(t=t)&&t.__esModule?t:{default:t};var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(function(e,t,n){t&&i(e.prototype,t),n&&i(e,n)})(o,[{key:"resolveOptions",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};this.action=e.action,this.container=e.container,this.emitter=e.emitter,this.target=e.target,this.text=e.text,this.trigger=e.trigger,this.selectedText=""}},{key:"initSelection",value:function(){this.text?this.selectFake():this.target&&this.selectTarget()}},{key:"selectFake",value:function(){var e=this,t="rtl"==document.documentElement.getAttribute("dir"),t=(this.removeFake(),this.fakeHandlerCallback=function(){return e.removeFake()},this.fakeHandler=this.container.addEventListener("click",this.fakeHandlerCallback)||!0,this.fakeElem=document.createElement("textarea"),this.fakeElem.style.fontSize="12pt",this.fakeElem.style.border="0",this.fakeElem.style.padding="0",this.fakeElem.style.margin="0",this.fakeElem.style.position="absolute",this.fakeElem.style[t?"right":"left"]="-9999px",window.pageYOffset||document.documentElement.scrollTop);this.fakeElem.style.top=t+"px",this.fakeElem.setAttribute("readonly",""),this.fakeElem.value=this.text,this.container.appendChild(this.fakeElem),this.selectedText=(0,n.default)(this.fakeElem),this.copyText()}},{key:"removeFake",value:function(){this.fakeHandler&&(this.container.removeEventListener("click",this.fakeHandlerCallback),this.fakeHandler=null,this.fakeHandlerCallback=null),this.fakeElem&&(this.container.removeChild(this.fakeElem),this.fakeElem=null)}},{key:"selectTarget",value:function(){this.selectedText=(0,n.default)(this.target),this.copyText()}},{key:"copyText",value:function(){var t=void 0;try{t=document.execCommand(this.action)}catch(e){t=!1}this.handleResult(t)}},{key:"handleResult",value:function(e){this.emitter.emit(e?"success":"error",{action:this.action,text:this.selectedText,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)})}},{key:"clearSelection",value:function(){this.trigger&&this.trigger.focus(),window.getSelection().removeAllRanges()}},{key:"destroy",value:function(){this.removeFake()}},{key:"action",set:function(){if(this._action=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"copy","copy"!==this._action&&"cut"!==this._action)throw new Error('Invalid "action" value, use either "copy" or "cut"')},get:function(){return this._action}},{key:"target",set:function(e){if(void 0!==e){if(!e||"object"!==(void 0===e?"undefined":r(e))||1!==e.nodeType)throw new Error('Invalid "target" value, use a valid Element');if("copy"===this.action&&e.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if("cut"===this.action&&(e.hasAttribute("readonly")||e.hasAttribute("disabled")))throw new Error('Invalid "target" attribute. You can\'t cut text from elements with "readonly" or "disabled" attributes');this._target=e}},get:function(){return this._target}}]);t=o;function o(e){if(!(this instanceof o))throw new TypeError("Cannot call a class as a function");this.resolveOptions(e),this.initSelection()}e.exports=t},void 0!==n?i(t,e("select")):(i(i={exports:{}},r.select),r.clipboardAction=i.exports)},{select:5}],8:[function(e,t,n){var r,i;r=this,i=function(e,t,n,r){"use strict";var i=a(t),t=a(n),o=a(r);function a(e){return e&&e.__esModule?e:{default:e}}var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};var l=function(e,t,n){return t&&c(e.prototype,t),n&&c(e,n),e};function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}n=function(e){var t=r;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);function r(e,t){var n;if(this instanceof r)return(n=function(e,t){if(e)return!t||"object"!=typeof t&&"function"!=typeof t?e:t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(this,(r.__proto__||Object.getPrototypeOf(r)).call(this))).resolveOptions(t),n.listenClick(e),n;throw new TypeError("Cannot call a class as a function")}return t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e),l(r,[{key:"resolveOptions",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};this.action="function"==typeof e.action?e.action:this.defaultAction,this.target="function"==typeof e.target?e.target:this.defaultTarget,this.text="function"==typeof e.text?e.text:this.defaultText,this.container="object"===s(e.container)?e.container:document.body}},{key:"listenClick",value:function(e){var t=this;this.listener=(0,o.default)(e,"click",function(e){return t.onClick(e)})}},{key:"onClick",value:function(e){e=e.delegateTarget||e.currentTarget;this.clipboardAction&&(this.clipboardAction=null),this.clipboardAction=new i.default({action:this.action(e),target:this.target(e),text:this.text(e),container:this.container,trigger:e,emitter:this})}},{key:"defaultAction",value:function(e){return u("action",e)}},{key:"defaultTarget",value:function(e){e=u("target",e);if(e)return document.querySelector(e)}},{key:"defaultText",value:function(e){return u("text",e)}},{key:"destroy",value:function(){this.listener.destroy(),this.clipboardAction&&(this.clipboardAction.destroy(),this.clipboardAction=null)}}],[{key:"isSupported",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:["copy","cut"],e="string"==typeof e?[e]:e,t=!!document.queryCommandSupported;return e.forEach(function(e){t=t&&!!document.queryCommandSupported(e)}),t}}]),r}(t.default);function u(e,t){e="data-clipboard-"+e;if(t.hasAttribute(e))return t.getAttribute(e)}e.exports=n},void 0!==n?i(t,e("./clipboard-action"),e("tiny-emitter"),e("good-listener")):(i(i={exports:{}},r.clipboardAction,r.tinyEmitter,r.goodListener),r.clipboard=i.exports)},{"./clipboard-action":7,"good-listener":4,"tiny-emitter":6}]},{},[8])(8)}),!function(){"use strict";var e,n,t="ngclipboard";"object"==typeof module&&module.exports?(e=require("angular"),n=require("clipboard"),module.exports=t):(e=window.angular,n=window.Clipboard),e.module(t,[]).directive("ngclipboard",function(){return{restrict:"A",scope:{ngclipboardSuccess:"&",ngclipboardError:"&"},link:function(t,e){e=new n(e[0]);e.on("success",function(e){t.$apply(function(){t.ngclipboardSuccess({e:e})})}),e.on("error",function(e){t.$apply(function(){t.ngclipboardError({e:e})})})}}})}(),!function(){"use strict";var g=8,d=9,v=13,h=27,b=32,f=38,p=40,y=37,w=39,_=46,k=188,a=9007199254740991,t=["text","email","url"],e=angular.module("ngTagsInput",[]);e.directive("tagsInput",["$timeout","$document","$window","$q","tagsInputConfig","tiUtil",function(h,f,p,u,r,m){function i(n,r,i,t){var o={},a=function(e){return m.safeToString(e[n.displayProperty])},s=function(e,t){e[n.displayProperty]=t},l=function(e){var t=a(e),t=t&&t.length>=n.minLength&&t.length<=n.maxLength&&n.allowedTagsPattern.test(t)&&!m.findInObjectArray(o.items,e,n.keyProperty||n.displayProperty);return u.when(t&&i({$tag:e})).then(m.promisifyValue)},c=function(e){return u.when(t({$tag:e})).then(m.promisifyValue)};return o.items=[],o.addText=function(e){var t={};return s(t,e),o.add(t)},o.add=function(e){var t=a(e);return n.replaceSpacesWithDashes&&(t=m.replaceSpacesWithDashes(t)),s(e,t),l(e).then(function(){o.items.push(e),r.trigger("tag-added",{$tag:e})}).catch(function(){t&&r.trigger("invalid-tag",{$tag:e})})},o.remove=function(e){var t=o.items[e];return c(t).then(function(){return o.items.splice(e,1),o.clearSelection(),r.trigger("tag-removed",{$tag:t}),t})},o.select=function(e){e<0?e=o.items.length-1:e>=o.items.length&&(e=0),o.index=e,o.selected=o.items[e]},o.selectPrior=function(){o.select(--o.index)},o.selectNext=function(){o.select(++o.index)},o.removeSelected=function(){return o.remove(o.index)},o.clearSelection=function(){o.selected=null,o.index=-1},o.getItems=function(){return n.useStrings?o.items.map(a):o.items},o.clearSelection(),o}function o(e){return-1!==t.indexOf(e)}return{restrict:"E",require:"ngModel",scope:{tags:"=ngModel",text:"=?",templateScope:"=?",tagClass:"&",onTagAdding:"&",onTagAdded:"&",onInvalidTag:"&",onTagRemoving:"&",onTagRemoved:"&",onTagClicked:"&"},replace:!1,transclude:!0,templateUrl:"ngTagsInput/tags-input.html",controller:["$scope","$attrs","$element",function(n,e,t){n.events=m.simplePubSub(),r.load("tagsInput",n,e,{template:[String,"ngTagsInput/tag-item.html"],type:[String,"text",o],placeholder:[String,"Add a tag"],tabindex:[Number,null],removeTagSymbol:[String,String.fromCharCode(215)],replaceSpacesWithDashes:[Boolean,!0],minLength:[Number,3],maxLength:[Number,a],addOnEnter:[Boolean,!0],addOnSpace:[Boolean,!1],addOnComma:[Boolean,!0],addOnBlur:[Boolean,!0],addOnPaste:[Boolean,!1],pasteSplitPattern:[RegExp,/,/],allowedTagsPattern:[RegExp,/.+/],enableEditingLastTag:[Boolean,!1],minTags:[Number,0],maxTags:[Number,a],displayProperty:[String,"text"],keyProperty:[String,""],allowLeftoverText:[Boolean,!1],addFromAutocompleteOnly:[Boolean,!1],spellcheck:[Boolean,!0],useStrings:[Boolean,!1]}),n.tagList=new i(n.options,n.events,m.handleUndefinedResult(n.onTagAdding,!0),m.handleUndefinedResult(n.onTagRemoving,!0)),this.registerAutocomplete=function(){t.find("input");return{addTag:function(e){return n.tagList.add(e)},getTags:function(){return n.tagList.items},getCurrentTagText:function(){return n.newTag.text()},getOptions:function(){return n.options},getTemplateScope:function(){return n.templateScope},on:function(e,t){return n.events.on(e,t,!0),this}}},this.registerTagItem=function(){return{getOptions:function(){return n.options},removeTag:function(e){n.disabled||n.tagList.remove(e)}}}}],link:function(a,n,e,t){var s=[v,k,b,g,_,y,w],l=a.tagList,r=a.events,c=a.options,i=n.find("input"),o=["minTags","maxTags","allowLeftoverText"],u=function(){t.$setValidity("maxTags",l.items.length<=c.maxTags),t.$setValidity("minTags",l.items.length>=c.minTags),t.$setValidity("leftoverText",!(!a.hasFocus&&!c.allowLeftoverText)||!a.newTag.text())},d=function(){h(function(){i[0].focus()})};t.$isEmpty=function(e){return!e||!e.length},a.newTag={text:function(e){if(!angular.isDefined(e))return a.text||"";a.text=e,r.trigger("input-change",e)},invalid:null},a.track=function(e){return e[c.keyProperty||c.displayProperty]},a.getTagClass=function(e,t){var n=e===l.selected;return[a.tagClass({$tag:e,$index:t,$selected:n}),{selected:n}]},a.$watch("tags",function(e){e?(l.items=m.makeObjectArray(e,c.displayProperty),c.useStrings||(a.tags=l.items)):l.items=[]}),a.$watch("tags.length",function(){u(),t.$validate()}),e.$observe("disabled",function(e){a.disabled=e}),a.eventHandlers={input:{keydown:function(e){r.trigger("input-keydown",e)},focus:function(){a.hasFocus||(a.hasFocus=!0,r.trigger("input-focus"))},blur:function(){h(function(){var e=f.prop("activeElement"),t=e===i[0],e=n[0].contains(e);!t&&e||(a.hasFocus=!1,r.trigger("input-blur"))})},paste:function(t){t.getTextData=function(){var e=t.clipboardData||t.originalEvent&&t.originalEvent.clipboardData;return e?e.getData("text/plain"):p.clipboardData.getData("Text")},r.trigger("input-paste",t)}},host:{click:function(){a.disabled||d()}},tag:{click:function(e){r.trigger("tag-clicked",{$tag:e})}}},r.on("tag-added",a.onTagAdded).on("invalid-tag",a.onInvalidTag).on("tag-removed",a.onTagRemoved).on("tag-clicked",a.onTagClicked).on("tag-added",function(){a.newTag.text("")}).on("tag-added tag-removed",function(){a.tags=l.getItems(),t.$setDirty(),d()}).on("invalid-tag",function(){a.newTag.invalid=!0}).on("option-change",function(e){-1!==o.indexOf(e.name)&&u()}).on("input-change",function(){l.clearSelection(),a.newTag.invalid=null}).on("input-focus",function(){n.triggerHandler("focus"),t.$setValidity("leftoverText",!0)}).on("input-blur",function(){c.addOnBlur&&!c.addFromAutocompleteOnly&&l.addText(a.newTag.text()),n.triggerHandler("blur"),u()}).on("input-keydown",function(e){var t,n,r,i=e.keyCode,o={};m.isModifierOn(e)||-1===s.indexOf(i)||(o[v]=c.addOnEnter,o[k]=c.addOnComma,o[b]=c.addOnSpace,o=!c.addFromAutocompleteOnly&&o[i],t=(i===g||i===_)&&l.selected,r=i===g&&0===a.newTag.text().length&&c.enableEditingLastTag,n=(i===g||i===y||i===w)&&0===a.newTag.text().length&&!c.enableEditingLastTag,o?l.addText(a.newTag.text()):r?(l.selectPrior(),l.removeSelected().then(function(e){e&&a.newTag.text(e[c.displayProperty])})):t?l.removeSelected():n&&(i===y||i===g?l.selectPrior():i===w&&l.selectNext()),(o||n||t||r)&&e.preventDefault())}).on("input-paste",function(e){var t;c.addOnPaste&&1<(t=e.getTextData().split(c.pasteSplitPattern)).length&&(t.forEach(function(e){l.addText(e)}),e.preventDefault())})}}}]),e.directive("tiTagItem",["tiUtil",function(a){return{restrict:"E",require:"^tagsInput",template:'<ng-include src="$$template"></ng-include>',scope:{$scope:"=scope",data:"="},link:function(t,e,n,r){var i=r.registerTagItem(),o=i.getOptions();t.$$template=o.template,t.$$removeTagSymbol=o.removeTagSymbol,t.$getDisplayText=function(){return a.safeToString(t.data[o.displayProperty])},t.$removeTag=function(){i.removeTag(t.$index)},t.$watch("$parent.$index",function(e){t.$index=e})}}}]),e.directive("autoComplete",["$document","$timeout","$sce","$q","tagsInputConfig","tiUtil",function(e,t,n,c,r,u){function i(r,i,t){var o,a={},s=function(){return i.tagsInput.keyProperty||i.tagsInput.displayProperty},l=function(e,t){return e.filter(function(e){return!u.findInObjectArray(t,e,s(),function(e,t){return i.tagsInput.replaceSpacesWithDashes&&(e=u.replaceSpacesWithDashes(e),t=u.replaceSpacesWithDashes(t)),u.defaultComparer(e,t)})})};return a.reset=function(){o=null,a.items=[],a.visible=!1,a.index=-1,a.selected=null,a.query=null},a.show=function(){i.selectFirstMatch?a.select(0):a.selected=null,a.visible=!0},a.load=u.debounce(function(e,t){a.query=e;var n=c.when(r({$query:e}));(o=n).then(function(e){n===o&&(e=u.makeObjectArray(e.data||e,s()),e=l(e,t),a.items=e.slice(0,i.maxResultsToShow),0<a.items.length?a.show():a.reset())})},i.debounceDelay),a.selectNext=function(){a.select(++a.index)},a.selectPrior=function(){a.select(--a.index)},a.select=function(e){e<0?e=a.items.length-1:e>=a.items.length&&(e=0),a.index=e,a.selected=a.items[e],t.trigger("suggestion-selected",e)},a.reset(),a}return{restrict:"E",require:"^tagsInput",scope:{source:"&",matchClass:"&"},templateUrl:"ngTagsInput/auto-complete.html",controller:["$scope","$element","$attrs",function(e,t,n){e.events=u.simplePubSub(),r.load("autoComplete",e,n,{template:[String,"ngTagsInput/auto-complete-match.html"],debounceDelay:[Number,100],minLength:[Number,3],highlightMatchedText:[Boolean,!0],maxResultsToShow:[Number,10],loadOnDownArrow:[Boolean,!1],loadOnEmpty:[Boolean,!1],loadOnFocus:[Boolean,!1],selectFirstMatch:[Boolean,!0],displayProperty:[String,""]}),e.suggestionList=new i(e.source,e.options,e.events),this.registerAutocompleteMatch=function(){return{getOptions:function(){return e.options},getQuery:function(){return e.suggestionList.query}}}}],link:function(r,o,e,t){var n,i=[v,d,h,f,p],a=r.suggestionList,s=t.registerAutocomplete(),l=r.options,t=r.events;l.tagsInput=s.getOptions(),n=function(e){return e&&e.length>=l.minLength||!e&&l.loadOnEmpty},r.templateScope=s.getTemplateScope(),r.addSuggestionByIndex=function(e){a.select(e),r.addSuggestion()},r.addSuggestion=function(){var e=!1;return a.selected&&(s.addTag(angular.copy(a.selected)),a.reset(),e=!0),e},r.track=function(e){return e[l.tagsInput.keyProperty||l.tagsInput.displayProperty]},r.getSuggestionClass=function(e,t){var n=e===a.selected;return[r.matchClass({$match:e,$index:t,$selected:n}),{selected:n}]},s.on("tag-added tag-removed invalid-tag input-blur",function(){a.reset()}).on("input-change",function(e){n(e)?a.load(e,s.getTags()):a.reset()}).on("input-focus",function(){var e=s.getCurrentTagText();l.loadOnFocus&&n(e)&&a.load(e,s.getTags())}).on("input-keydown",function(e){var t=e.keyCode,n=!1;if(!u.isModifierOn(e)&&-1!==i.indexOf(t))return a.visible?t===p?(a.selectNext(),n=!0):t===f?(a.selectPrior(),n=!0):t===h?(a.reset(),n=!0):t!==v&&t!==d||(n=r.addSuggestion()):t===p&&r.options.loadOnDownArrow&&(a.load(s.getCurrentTagText(),s.getTags()),n=!0),n?(e.preventDefault(),e.stopImmediatePropagation(),!1):void 0}),t.on("suggestion-selected",function(e){var t,n,r,i;e=e,e=(t=(t=o).find("li").eq(e)).parent(),n=t.prop("offsetTop"),t=t.prop("offsetHeight"),r=e.prop("clientHeight"),i=e.prop("scrollTop"),n<i?e.prop("scrollTop",n):r+i<n+t&&e.prop("scrollTop",n+t-r)})}}}]),e.directive("tiAutocompleteMatch",["$sce","tiUtil",function(a,s){return{restrict:"E",require:"^autoComplete",template:'<ng-include src="$$template"></ng-include>',scope:{$scope:"=scope",data:"="},link:function(e,t,n,r){var i=r.registerAutocompleteMatch(),o=i.getOptions();e.$$template=o.template,e.$index=e.$parent.$index,e.$highlight=function(e){return o.highlightMatchedText&&(e=s.safeHighlight(e,i.getQuery())),a.trustAsHtml(e)},e.$getDisplayText=function(){return s.safeToString(e.data[o.displayProperty||o.tagsInput.displayProperty])}}}}]),e.directive("tiTranscludeAppend",function(){return function(e,t,n,r,i){i(function(e){t.append(e)})}}),e.directive("tiAutosize",["tagsInputConfig",function(s){return{restrict:"A",require:"ngModel",link:function(e,r,i,t){var n,o=s.getTextAutosizeThreshold(),a=angular.element('<span class="input"></span>');a.css("display","none").css("visibility","hidden").css("width","auto").css("white-space","pre"),r.parent().append(a),t.$parsers.unshift(n=function(e){var t,n=e;return(n=angular.isString(n)&&0===n.length?i.placeholder:n)&&(a.text(n),a.css("display",""),t=a.prop("offsetWidth"),a.css("display","none")),r.css("width",t?t+o+"px":""),e}),t.$formatters.unshift(n),i.$observe("placeholder",function(e){t.$modelValue||n(e)})}}}]),e.directive("tiBindAttrs",function(){return function(e,t,n){e.$watch(n.tiBindAttrs,function(e){angular.forEach(e,function(e,t){n.$set(t,e)})},!0)}}),e.provider("tagsInputConfig",function(){var p={},m={},t=3;this.setDefaults=function(e,t){return p[e]=t,this},this.setActiveInterpolation=function(e,t){return m[e]=t,this},this.setTextAutosizeThreshold=function(e){return t=e,this},this.$get=["$interpolate",function(h){var f={};return f[String]=function(e){return e},f[Number]=function(e){return parseInt(e,10)},f[Boolean]=function(e){return"true"===e.toLowerCase()},f[RegExp]=function(e){return new RegExp(e)},{load:function(l,c,u,e){function d(){return!0}c.options={},angular.forEach(e,function(e,t){var n=e[0],r=e[1],i=e[2]||d,o=f[n],a=function(){var e=p[l]&&p[l][t];return angular.isDefined(e)?e:r},s=function(e){c.options[t]=e&&i(e)?o(e):a()};m[l]&&m[l][t]?u.$observe(t,function(e){s(e),c.events.trigger("option-change",{name:t,newValue:e})}):s(u[t]&&h(u[t])(c.$parent))})},getTextAutosizeThreshold:function(){return t}}}]}),e.factory("tiUtil",["$timeout","$q",function(i,t){var o={debounce:function(t,n){var r;return function(){var e=arguments;i.cancel(r),r=i(function(){t.apply(null,e)},n)}},makeObjectArray:function(e,n){var r;return!angular.isArray(e)||0===e.length||angular.isObject(e[0])?e:(r=[],e.forEach(function(e){var t={};t[n]=e,r.push(t)}),r)},findInObjectArray:function(e,t,n,r){var i=null;return r=r||o.defaultComparer,e.some(function(e){if(r(e[n],t[n]))return i=e,!0}),i},defaultComparer:function(e,t){return o.safeToString(e).toLowerCase()===o.safeToString(t).toLowerCase()},safeHighlight:function(e,t){var n;return e=o.encodeHTML(e),(t=o.encodeHTML(t))?(n=new RegExp("&[^;]+;|"+t.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1"),"gi"),e.replace(n,function(e){return e.toLowerCase()===t.toLowerCase()?"<em>"+e+"</em>":e})):e},safeToString:function(e){return angular.isUndefined(e)||null==e?"":e.toString().trim()},encodeHTML:function(e){return o.safeToString(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},handleUndefinedResult:function(t,n){return function(){var e=t.apply(null,arguments);return angular.isUndefined(e)?n:e}},replaceSpacesWithDashes:function(e){return o.safeToString(e).replace(/\s/g,"-")},isModifierOn:function(e){return e.shiftKey||e.ctrlKey||e.altKey||e.metaKey},promisifyValue:function(e){return e=!!angular.isUndefined(e)||e,t[e?"when":"reject"]()},simplePubSub:function(){var r={};return{on:function(e,t,n){return e.split(" ").forEach(function(e){r[e]||(r[e]=[]),(n?[].unshift:[].push).call(r[e],t)}),this},trigger:function(e,t){return(r[e]||[]).every(function(e){return o.handleUndefinedResult(e,!0)(t)}),this}}}};return o}]),e.run(["$templateCache",function(e){e.put("ngTagsInput/tags-input.html",'<div class="host" tabindex="-1" ng-click="eventHandlers.host.click()" ti-transclude-append><div class="tags" ng-class="{focused: hasFocus}"><ul class="tag-list"><li class="tag-item" ng-repeat="tag in tagList.items track by track(tag)" ng-class="getTagClass(tag, $index)" ng-click="eventHandlers.tag.click(tag)"><ti-tag-item scope="templateScope" data="::tag"></ti-tag-item></li></ul><input class="input" autocomplete="off" ng-model="newTag.text" ng-model-options="{getterSetter: true}" ng-keydown="eventHandlers.input.keydown($event)" ng-focus="eventHandlers.input.focus($event)" ng-blur="eventHandlers.input.blur($event)" ng-paste="eventHandlers.input.paste($event)" ng-trim="false" ng-class="{\'invalid-tag\': newTag.invalid}" ng-disabled="disabled" ti-bind-attrs="{type: options.type, placeholder: options.placeholder, tabindex: options.tabindex, spellcheck: options.spellcheck}" ti-autosize></div></div>'),e.put("ngTagsInput/tag-item.html",'<span ng-bind="$getDisplayText()"></span> <a class="remove-button" ng-click="$removeTag()" ng-bind="::$$removeTagSymbol"></a>'),e.put("ngTagsInput/auto-complete.html",'<div class="autocomplete" ng-if="suggestionList.visible"><ul class="suggestion-list"><li class="suggestion-item" ng-repeat="item in suggestionList.items track by track(item)" ng-class="getSuggestionClass(item, $index)" ng-click="addSuggestionByIndex($index)" ng-mouseenter="suggestionList.select($index)"><ti-autocomplete-match scope="templateScope" data="::item"></ti-autocomplete-match></li></ul></div>'),e.put("ngTagsInput/auto-complete-match.html",'<span ng-bind-html="$highlight($getDisplayText())"></span>')}])}(),!function(e,t){if(null===e)throw new Error("Google-maps package can be used only in browser");"function"==typeof define&&define.amd?define(t):"object"==typeof exports?module.exports=t():e.GoogleMapsLoader=t()}("undefined"!=typeof window?window:null,function(){"use strict";var n=null,r=null,i=!1,o=[],a=[],s=null,l={URL:"https://maps.googleapis.com/maps/api/js",KEY:null,LIBRARIES:[],CLIENT:null,CHANNEL:null,LANGUAGE:null,REGION:null,VERSION:"3.18",WINDOW_CALLBACK_NAME:"__google_maps_api_provider_initializator__",_googleMockApiObject:{},load:function(e){null===r?!0===i?e&&o.push(e):(i=!0,window[l.WINDOW_CALLBACK_NAME]=function(){t(e)},l.createLoader()):e&&e(r)},createLoader:function(){(n=document.createElement("script")).type="text/javascript",n.src=l.createUrl(),document.body.appendChild(n)},isLoaded:function(){return null!==r},createUrl:function(){var e=l.URL;return e+="?callback="+l.WINDOW_CALLBACK_NAME,l.KEY&&(e+="&key="+l.KEY),0<l.LIBRARIES.length&&(e+="&libraries="+l.LIBRARIES.join(",")),l.CLIENT&&(e+="&client="+l.CLIENT+"&v="+l.VERSION),l.CHANNEL&&(e+="&channel="+l.CHANNEL),l.LANGUAGE&&(e+="&language="+l.LANGUAGE),l.REGION&&(e+="&region="+l.REGION),e},release:function(e){function t(){l.KEY=null,l.LIBRARIES=[],l.CLIENT=null,l.CHANNEL=null,l.LANGUAGE=null,l.REGION=null,l.VERSION="3.18",r=null,i=!1,o=[],a=[],void 0!==window.google&&delete window.google,void 0!==window[l.WINDOW_CALLBACK_NAME]&&delete window[l.WINDOW_CALLBACK_NAME],null!==s&&(l.createLoader=s,s=null),null!==n&&(n.parentElement.removeChild(n),n=null),e&&e()}i?l.load(function(){t()}):t()},onLoad:function(e){a.push(e)},makeMock:function(){s=l.createLoader,l.createLoader=function(){window.google=l._googleMockApiObject,window[l.WINDOW_CALLBACK_NAME]()}}},t=function(e){var t;for(i=!1,null===r&&(r=window.google),t=0;t<a.length;t++)a[t](r);for(e&&e(r),t=0;t<o.length;t++)o[t](r);o=[]};return l}),!function(){var Fo,zo="Expected a function",va="__lodash_hash_undefined__",ba="__lodash_placeholder__",Bo=9007199254740991,ya=NaN,Ho=4294967295,wa=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],Uo="[object Arguments]",_a="[object Array]",Wo="[object Boolean]",qo="[object Date]",ka="[object Error]",xa="[object Function]",Ca="[object GeneratorFunction]",Yo="[object Map]",Go="[object Number]",Ko="[object Object]",Sa="[object Promise]",Xo="[object RegExp]",Jo="[object Set]",Qo="[object String]",Ta="[object Symbol]",Zo="[object WeakMap]",ea="[object ArrayBuffer]",ta="[object DataView]",$a="[object Float32Array]",Ea="[object Float64Array]",Aa="[object Int8Array]",Oa="[object Int16Array]",Ma="[object Int32Array]",Pa="[object Uint8Array]",Da="[object Uint8ClampedArray]",Ra="[object Uint16Array]",Ia="[object Uint32Array]",Na=/\b__p \+= '';/g,ja=/\b(__p \+=) '' \+/g,La=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Va=/&(?:amp|lt|gt|quot|#39);/g,Fa=/[&<>"']/g,za=RegExp(Va.source),Ba=RegExp(Fa.source),Ha=/<%-([\s\S]+?)%>/g,Ua=/<%([\s\S]+?)%>/g,Wa=/<%=([\s\S]+?)%>/g,qa=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ya=/^\w*$/,Ga=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ka=/[\\^$.*+?()[\]{}|]/g,Xa=RegExp(Ka.source),Ja=/^\s+|\s+$/g,Qa=/^\s+/,Za=/\s+$/,es=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,ts=/\{\n\/\* \[wrapped with (.+)\] \*/,ns=/,? & /,rs=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,is=/\\(\\)?/g,os=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,as=/\w*$/,ss=/^[-+]0x[0-9a-f]+$/i,ls=/^0b[01]+$/i,cs=/^\[object .+?Constructor\]$/,us=/^0o[0-7]+$/i,ds=/^(?:0|[1-9]\d*)$/,hs=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,fs=/($^)/,ps=/['\n\r\u2028\u2029\\]/g,o="\\ud800-\\udfff",a="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",s="\\u2700-\\u27bf",e="a-z\\xdf-\\xf6\\xf8-\\xff",t="A-Z\\xc0-\\xd6\\xd8-\\xde",l="\\ufe0e\\ufe0f",c="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",n="["+o+"]",u="["+c+"]",d="["+a+"]",h="["+s+"]",f="["+e+"]",c="[^"+o+c+"\\d+"+s+e+t+"]",s="\\ud83c[\\udffb-\\udfff]",e="[^"+o+"]",p="(?:\\ud83c[\\udde6-\\uddff]){2}",r="[\\ud800-\\udbff][\\udc00-\\udfff]",t="["+t+"]",m="(?:"+f+"|"+c+")",c="(?:"+t+"|"+c+")",g="(?:['](?:d|ll|m|re|s|t|ve))?",v="(?:['](?:D|LL|M|RE|S|T|VE))?",b="(?:"+d+"|"+s+")"+"?",y="["+l+"]?",y=y+b+("(?:\\u200d(?:"+[e,p,r].join("|")+")"+y+b+")*"),b="(?:"+[h,p,r].join("|")+")"+y,h="(?:"+[e+d+"?",d,p,r,n].join("|")+")",ms=RegExp("[']","g"),gs=RegExp(d,"g"),w=RegExp(s+"(?="+s+")|"+h+y,"g"),vs=RegExp([t+"?"+f+"+"+g+"(?="+[u,t,"$"].join("|")+")",c+"+"+v+"(?="+[u,t+m,"$"].join("|")+")",t+"?"+m+"+"+g,t+"+"+v,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])","\\d+",b].join("|"),"g"),_=RegExp("[\\u200d"+o+a+l+"]"),bs=/[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,ys=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],ws=-1,na={},ra=(na[$a]=na[Ea]=na[Aa]=na[Oa]=na[Ma]=na[Pa]=na[Da]=na[Ra]=na[Ia]=!0,na[Uo]=na[_a]=na[ea]=na[Wo]=na[ta]=na[qo]=na[ka]=na[xa]=na[Yo]=na[Go]=na[Ko]=na[Xo]=na[Jo]=na[Qo]=na[Zo]=!1,{}),k=(ra[Uo]=ra[_a]=ra[ea]=ra[ta]=ra[Wo]=ra[qo]=ra[$a]=ra[Ea]=ra[Aa]=ra[Oa]=ra[Ma]=ra[Yo]=ra[Go]=ra[Ko]=ra[Xo]=ra[Jo]=ra[Qo]=ra[Ta]=ra[Pa]=ra[Da]=ra[Ra]=ra[Ia]=!0,ra[ka]=ra[xa]=ra[Zo]=!1,{"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"}),_s=parseFloat,ks=parseInt,e="object"==typeof global&&global&&global.Object===Object&&global,p="object"==typeof self&&self&&self.Object===Object&&self,ia=e||p||Function("return this")(),r="object"==typeof exports&&exports&&!exports.nodeType&&exports,i=r&&"object"==typeof module&&module&&!module.nodeType&&module,xs=i&&i.exports===r,x=xs&&e.process,n=function(){try{var e=i&&i.require&&i.require("util").types;return e?e:x&&x.binding&&x.binding("util")}catch(e){}}(),Cs=n&&n.isArrayBuffer,Ss=n&&n.isDate,Ts=n&&n.isMap,$s=n&&n.isRegExp,Es=n&&n.isSet,As=n&&n.isTypedArray;function oa(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function Os(e,t,n,r){for(var i=-1,o=null==e?0:e.length;++i<o;){var a=e[i];t(r,a,n(a),e)}return r}function aa(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}function Ms(e,t){for(var n=null==e?0:e.length;n--&&!1!==t(e[n],n,e););return e}function Ps(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function sa(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var a=e[n];t(a,n,e)&&(o[i++]=a)}return o}function Ds(e,t){return!!(null==e?0:e.length)&&-1<ua(e,t,0)}function Rs(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}function la(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}function ca(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}function Is(e,t,n,r){var i=-1,o=null==e?0:e.length;for(r&&o&&(n=e[++i]);++i<o;)n=t(n,e[i],i,e);return n}function Ns(e,t,n,r){var i=null==e?0:e.length;for(r&&i&&(n=e[--i]);i--;)n=t(n,e[i],i,e);return n}function js(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var C=Hs("length");function Ls(e,r,t){var i;return t(e,function(e,t,n){if(r(e,t,n))return i=t,!1}),i}function Vs(e,t,n,r){for(var i=e.length,o=n+(r?1:-1);r?o--:++o<i;)if(t(e[o],o,e))return o;return-1}function ua(e,t,n){if(t!=t)return Vs(e,zs,n);for(var r=e,i=t,o=n-1,a=r.length;++o<a;)if(r[o]===i)return o;return-1}function Fs(e,t,n,r){for(var i=n-1,o=e.length;++i<o;)if(r(e[i],t))return i;return-1}function zs(e){return e!=e}function Bs(e,t){var n=null==e?0:e.length;return n?Ws(e,t)/n:ya}function Hs(t){return function(e){return null==e?Fo:e[t]}}function S(t){return function(e){return null==t?Fo:t[e]}}function Us(e,r,i,o,t){return t(e,function(e,t,n){i=o?(o=!1,e):r(i,e,t,n)}),i}function Ws(e,t){for(var n,r=-1,i=e.length;++r<i;){var o=t(e[r]);o!==Fo&&(n=n===Fo?o:n+o)}return n}function qs(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function da(t){return function(e){return t(e)}}function Ys(t,e){return la(e,function(e){return t[e]})}function Gs(e,t){return e.has(t)}function Ks(e,t){for(var n=-1,r=e.length;++n<r&&-1<ua(t,e[n],0););return n}function Xs(e,t){for(var n=e.length;n--&&-1<ua(t,e[n],0););return n}var Js=S({"":"A","":"A","":"A","":"A","":"A","":"A","":"a","":"a","":"a","":"a","":"a","":"a","":"C","":"c","":"D","":"d","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"N","":"n","":"O","":"O","":"O","":"O","":"O","":"O","":"o","":"o","":"o","":"o","":"o","":"o","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"Y","":"y","":"y","":"Ae","":"ae","":"Th","":"th","":"ss","":"A","":"A","":"A","":"a","":"a","":"a","":"C","":"C","":"C","":"C","":"c","":"c","":"c","":"c","":"D","":"D","":"d","":"d","":"E","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"e","":"G","":"G","":"G","":"G","":"g","":"g","":"g","":"g","":"H","":"H","":"h","":"h","":"I","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"i","":"J","":"j","":"K","":"k","":"k","":"L","":"L","":"L","":"L","":"L","":"l","":"l","":"l","":"l","":"l","":"N","":"N","":"N","":"N","":"n","":"n","":"n","":"n","":"O","":"O","":"O","":"o","":"o","":"o","":"R","":"R","":"R","":"r","":"r","":"r","":"S","":"S","":"S","":"S","":"s","":"s","":"s","":"s","":"T","":"T","":"T","":"t","":"t","":"t","":"U","":"U","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"u","":"u","":"W","":"w","":"Y","":"y","":"Y","":"Z","":"Z","":"Z","":"z","":"z","":"z","":"IJ","":"ij","":"Oe","":"oe","":"'n","":"s"}),Qs=S({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function Zs(e){return"\\"+k[e]}function ha(e){return _.test(e)}function el(e){var n=-1,r=Array(e.size);return e.forEach(function(e,t){r[++n]=[t,e]}),r}function tl(t,n){return function(e){return t(n(e))}}function fa(e,t){for(var n=-1,r=e.length,i=0,o=[];++n<r;){var a=e[n];a!==t&&a!==ba||(e[n]=ba,o[i++]=n)}return o}function nl(e,t){return"__proto__"==t?Fo:e[t]}function rl(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}function pa(e){return(ha(e)?function(e){var t=w.lastIndex=0;for(;w.test(e);)++t;return t}:C)(e)}function ma(e){return ha(e)?e.match(w)||[]:e.split("")}var il=S({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var ga=function i(e){var k=(e=null==e?ia:ga.defaults(ia.Object(),e,ga.pick(ia,ys))).Array,o=e.Date,P=e.Error,D=e.Function,R=e.Math,m=e.Object,I=e.RegExp,B=e.String,x=e.TypeError,H=k.prototype,U=D.prototype,W=m.prototype,q=e["__core-js_shared__"],Y=U.toString,N=W.hasOwnProperty,G=0,K=(U=/[^.]+$/.exec(q&&q.keys&&q.keys.IE_PROTO||""))?"Symbol(src)_1."+U:"",X=W.toString,J=Y.call(m),Q=ia._,Z=I("^"+Y.call(N).replace(Ka,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),U=xs?e.Buffer:Fo,t=e.Symbol,ee=e.Uint8Array,te=U?U.allocUnsafe:Fo,ne=tl(m.getPrototypeOf,m),re=m.create,ie=W.propertyIsEnumerable,oe=H.splice,ae=t?t.isConcatSpreadable:Fo,se=t?t.iterator:Fo,le=t?t.toStringTag:Fo,ce=function(){try{var e=Qn(m,"defineProperty");return e({},"",{}),e}catch(e){}}(),ue=e.clearTimeout!==ia.clearTimeout&&e.clearTimeout,de=o&&o.now!==ia.Date.now&&o.now,he=e.setTimeout!==ia.setTimeout&&e.setTimeout,fe=R.ceil,pe=R.floor,me=m.getOwnPropertySymbols,U=U?U.isBuffer:Fo,ge=e.isFinite,ve=H.join,be=tl(m.keys,m),C=R.max,S=R.min,ye=o.now,we=e.parseInt,_e=R.random,ke=H.reverse,o=Qn(e,"DataView"),xe=Qn(e,"Map"),Ce=Qn(e,"Promise"),Se=Qn(e,"Set"),e=Qn(e,"WeakMap"),Te=Qn(m,"create"),$e=e&&new e,Ee={},Ae=kr(o),Oe=kr(xe),Me=kr(Ce),Pe=kr(Se),De=kr(e),t=t?t.prototype:Fo,Re=t?t.valueOf:Fo,Ie=t?t.toString:Fo;function p(e){if(z(e)&&!F(e)&&!(e instanceof v)){if(e instanceof g)return e;if(N.call(e,"__wrapped__"))return xr(e)}return new g(e)}var Ne=function(e){if(!_(e))return{};if(re)return re(e);je.prototype=e;e=new je;return je.prototype=Fo,e};function je(){}function Le(){}function g(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=Fo}function v(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Ho,this.__views__=[]}function Ve(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Fe(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function ze(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Be(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new ze;++t<n;)this.add(e[t])}function j(e){e=this.__data__=new Fe(e);this.size=e.size}function He(e,t){var n,r=F(e),i=!r&&gi(e),o=!r&&!i&&bi(e),a=!r&&!i&&!o&&Ai(e),s=r||i||o||a,l=s?qs(e.length,B):[],c=l.length;for(n in e)!t&&!N.call(e,n)||s&&("length"==n||o&&("offset"==n||"parent"==n)||a&&("buffer"==n||"byteLength"==n||"byteOffset"==n)||ir(n,c))||l.push(n);return l}function Ue(e){var t=e.length;return t?e[Lt(0,t-1)]:Fo}function We(e,t){return br(T(e),et(t,0,e.length))}function qe(e){return br(T(e))}function Ye(e,t,n){(n===Fo||V(e[t],n))&&(n!==Fo||t in e)||Qe(e,t,n)}function Ge(e,t,n){var r=e[t];N.call(e,t)&&V(r,n)&&(n!==Fo||t in e)||Qe(e,t,n)}function Ke(e,t){for(var n=e.length;n--;)if(V(e[n][0],t))return n;return-1}function Xe(e,r,i,o){return it(e,function(e,t,n){r(o,e,i(e),n)}),o}function Je(e,t){return e&&gn(t,A(t),e)}function Qe(e,t,n){"__proto__"==t&&ce?ce(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function Ze(e,t){for(var n=-1,r=t.length,i=k(r),o=null==e;++n<r;)i[n]=o?Fo:Hi(e,t[n]);return i}function et(e,t,n){return e==e&&(n!==Fo&&(e=e<=n?e:n),t!==Fo&&(e=t<=e?e:t)),e}function b(n,r,i,e,t,o){var a,s=1&r,l=2&r,c=4&r;if((a=i?t?i(n,e,t,o):i(n):a)===Fo){if(!_(n))return n;var u,e=F(n);if(e){if(a=function(e){var t=e.length,n=new e.constructor(t);t&&"string"==typeof e[0]&&N.call(e,"index")&&(n.index=e.index,n.input=e.input);return n}(n),!s)return T(n,a)}else{var d=L(n),h=d==xa||d==Ca;if(bi(n))return un(n,s);if(d==Ko||d==Uo||h&&!t){if(a=l||h?{}:nr(n),!s)return l?(p=h=n,p=(u=a)&&gn(p,O(p),u),gn(h,er(h),p)):(h=Je(a,u=n),gn(u,Zn(u),h))}else{if(!ra[d])return t?n:{};a=function(e,t,n){var r=e.constructor;switch(t){case ea:return dn(e);case Wo:case qo:return new r(+e);case ta:return function(e,t){t=t?dn(e.buffer):e.buffer;return new e.constructor(t,e.byteOffset,e.byteLength)}(e,n);case $a:case Ea:case Aa:case Oa:case Ma:case Pa:case Da:case Ra:case Ia:return hn(e,n);case Yo:return new r;case Go:case Qo:return new r(e);case Xo:return function(e){var t=new e.constructor(e.source,as.exec(e));return t.lastIndex=e.lastIndex,t}(e);case Jo:return new r;case Ta:return function(e){return Re?m(Re.call(e)):{}}(e)}}(n,d,s)}}var f,p=(o=o||new j).get(n);if(p)return p;o.set(n,a),$i(n)?n.forEach(function(e){a.add(b(e,r,i,e,n,o))}):xi(n)?n.forEach(function(e,t){a.set(t,b(e,r,i,t,n,o))}):aa((f=e?Fo:(c?l?qn:Wn:l?O:A)(n))||n,function(e,t){f&&(e=n[t=e]),Ge(a,t,b(e,r,i,t,n,o))})}return a}function tt(e,t,n){var r=n.length;if(null==e)return!r;for(e=m(e);r--;){var i=n[r],o=t[i],a=e[i];if(a===Fo&&!(i in e)||!o(a))return!1}return!0}function nt(e,t,n){if("function"!=typeof e)throw new x(zo);return pr(function(){e.apply(Fo,n)},t)}function rt(e,t,n,r){var i=-1,o=Ds,a=!0,s=e.length,l=[],c=t.length;if(s){n&&(t=la(t,da(n))),r?(o=Rs,a=!1):200<=t.length&&(o=Gs,a=!1,t=new Be(t));e:for(;++i<s;){var u=e[i],d=null==n?u:n(u),u=r||0!==u?u:0;if(a&&d==d){for(var h=c;h--;)if(t[h]===d)continue e;l.push(u)}else o(t,d,r)||l.push(u)}}return l}p.templateSettings={escape:Ha,evaluate:Ua,interpolate:Wa,variable:"",imports:{_:p}},(p.prototype=Le.prototype).constructor=p,(g.prototype=Ne(Le.prototype)).constructor=g,(v.prototype=Ne(Le.prototype)).constructor=v,Ve.prototype.clear=function(){this.__data__=Te?Te(null):{},this.size=0},Ve.prototype.delete=function(e){return e=this.has(e)&&delete this.__data__[e],this.size-=e?1:0,e},Ve.prototype.get=function(e){var t,n=this.__data__;return Te?(t=n[e])===va?Fo:t:N.call(n,e)?n[e]:Fo},Ve.prototype.has=function(e){var t=this.__data__;return Te?t[e]!==Fo:N.call(t,e)},Ve.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Te&&t===Fo?va:t,this},Fe.prototype.clear=function(){this.__data__=[],this.size=0},Fe.prototype.delete=function(e){var t=this.__data__;return!((e=Ke(t,e))<0)&&(e==t.length-1?t.pop():oe.call(t,e,1),--this.size,!0)},Fe.prototype.get=function(e){var t=this.__data__;return(e=Ke(t,e))<0?Fo:t[e][1]},Fe.prototype.has=function(e){return-1<Ke(this.__data__,e)},Fe.prototype.set=function(e,t){var n=this.__data__,r=Ke(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},ze.prototype.clear=function(){this.size=0,this.__data__={hash:new Ve,map:new(xe||Fe),string:new Ve}},ze.prototype.delete=function(e){return e=Xn(this,e).delete(e),this.size-=e?1:0,e},ze.prototype.get=function(e){return Xn(this,e).get(e)},ze.prototype.has=function(e){return Xn(this,e).has(e)},ze.prototype.set=function(e,t){var n=Xn(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},Be.prototype.add=Be.prototype.push=function(e){return this.__data__.set(e,va),this},Be.prototype.has=function(e){return this.__data__.has(e)},j.prototype.clear=function(){this.__data__=new Fe,this.size=0},j.prototype.delete=function(e){var t=this.__data__,e=t.delete(e);return this.size=t.size,e},j.prototype.get=function(e){return this.__data__.get(e)},j.prototype.has=function(e){return this.__data__.has(e)},j.prototype.set=function(e,t){var n=this.__data__;if(n instanceof Fe){var r=n.__data__;if(!xe||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new ze(r)}return n.set(e,t),this.size=n.size,this};var it=yn(dt),ot=yn(ht,!0);function at(e,r){var i=!0;return it(e,function(e,t,n){return i=!!r(e,t,n)}),i}function st(e,t,n){for(var r=-1,i=e.length;++r<i;){var o,a,s=e[r],l=t(s);null!=l&&(o===Fo?l==l&&!y(l):n(l,o))&&(o=l,a=s)}return a}function lt(e,r){var i=[];return it(e,function(e,t,n){r(e,t,n)&&i.push(e)}),i}function l(e,t,n,r,i){var o=-1,a=e.length;for(n=n||rr,i=i||[];++o<a;){var s=e[o];0<t&&n(s)?1<t?l(s,t-1,n,r,i):ca(i,s):r||(i[i.length]=s)}return i}var ct=wn(),ut=wn(!0);function dt(e,t){return e&&ct(e,t,A)}function ht(e,t){return e&&ut(e,t,A)}function ft(t,e){return sa(e,function(e){return wi(t[e])})}function pt(e,t){for(var n=0,r=(t=an(t,e)).length;null!=e&&n<r;)e=e[_r(t[n++])];return n&&n==r?e:Fo}function mt(e,t,n){t=t(e);return F(e)?t:ca(t,n(e))}function n(e){if(null==e)return e===Fo?"[object Undefined]":"[object Null]";if(le&&le in m(e)){var t=e,n=N.call(t,le),r=t[le];try{t[le]=Fo;var i=!0}catch(e){}var o=X.call(t);return i&&(n?t[le]=r:delete t[le]),o}return X.call(e)}function gt(e,t){return t<e}function vt(e,t){return null!=e&&N.call(e,t)}function bt(e,t){return null!=e&&t in m(e)}function yt(e,t,n){for(var r=n?Rs:Ds,i=e[0].length,o=e.length,a=o,s=k(o),l=1/0,c=[];a--;){var u=e[a];a&&t&&(u=la(u,da(t))),l=S(u.length,l),s[a]=!n&&(t||120<=i&&120<=u.length)?new Be(a&&u):Fo}var u=e[0],d=-1,h=s[0];e:for(;++d<i&&c.length<l;){var f=u[d],p=t?t(f):f,f=n||0!==f?f:0;if(!(h?Gs(h,p):r(c,p,n))){for(a=o;--a;){var m=s[a];if(!(m?Gs(m,p):r(e[a],p,n)))continue e}h&&h.push(p),c.push(f)}}return c}function wt(e,t,n){t=null==(e=hr(e,t=an(t,e)))?e:e[_r(r(t))];return null==t?Fo:oa(t,e,n)}function _t(e){return z(e)&&n(e)==Uo}function kt(e,t,n,r,i){if(e===t)return!0;if(null==e||null==t||!z(e)&&!z(t))return e!=e&&t!=t;var o=kt,a=F(e),s=F(t),l=a?_a:L(e),s=s?_a:L(t),c=(l=l==Uo?Ko:l)==Ko,u=(s=s==Uo?Ko:s)==Ko;if((s=l==s)&&bi(e)){if(!bi(t))return!1;c=!(a=!0)}if(s&&!c){i=i||new j;if(a||Ai(e))return Hn(e,t,n,r,o,i);else{var d=e;var h=t;var f=l;var p=n;var m=r;var g=o;var v=i;switch(f){case ta:if(d.byteLength!=h.byteLength||d.byteOffset!=h.byteOffset)return!1;d=d.buffer,h=h.buffer;case ea:return d.byteLength==h.byteLength&&g(new ee(d),new ee(h))?!0:!1;case Wo:case qo:case Go:return V(+d,+h);case ka:return d.name==h.name&&d.message==h.message;case Xo:case Qo:return d==h+"";case Yo:var b=el;case Jo:var y=1&p;if(b=b||rl,d.size!=h.size&&!y)return!1;y=v.get(d);if(y)return y==h;p|=2,v.set(d,h);y=Hn(b(d),b(h),p,m,g,v);return v.delete(d),y;case Ta:if(Re)return Re.call(d)==Re.call(h)}return!1;return}}if(!(1&n)){var a=c&&N.call(e,"__wrapped__"),l=u&&N.call(t,"__wrapped__");if(a||l)return c=a?e.value():e,u=l?t.value():t,i=i||new j,o(c,u,n,r,i)}if(s){i=i||new j;var w=e,_=t,k=n,x=r,C=o,S=i,T=1&k,$=Wn(w),E=$.length,a=Wn(_).length;if(E!=a&&!T)return!1;for(var A=E;A--;){var O=$[A];if(!(T?O in _:N.call(_,O)))return!1}if((a=S.get(w))&&S.get(_))return a==_;for(var M=!0,P=(S.set(w,_),S.set(_,w),T);++A<E;){O=$[A];var D,R=w[O],I=_[O];if(!((D=x?T?x(I,R,O,_,w,S):x(R,I,O,w,_,S):D)===Fo?R===I||C(R,I,k,x,S):D)){M=!1;break}P=P||"constructor"==O}return M&&!P&&(a=w.constructor,l=_.constructor,a!=l&&"constructor"in w&&"constructor"in _&&!("function"==typeof a&&a instanceof a&&"function"==typeof l&&l instanceof l)&&(M=!1)),S.delete(w),S.delete(_),M}return!1}function xt(e,t,n,r){var i=n.length,o=i,a=!r;if(null==e)return!o;for(e=m(e);i--;){var s=n[i];if(a&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++i<o;){var l=(s=n[i])[0],c=e[l],u=s[1];if(a&&s[2]){if(c===Fo&&!(l in e))return!1}else{var d,h=new j;if(!((d=r?r(c,u,l,e,t,h):d)===Fo?kt(u,c,3,r,h):d))return!1}}return!0}function Ct(e){var t;return!(!_(e)||(t=e,K&&K in t))&&(wi(e)?Z:cs).test(kr(e))}function St(e){return"function"==typeof e?e:null==e?M:"object"==typeof e?F(e)?Mt(e[0],e[1]):Ot(e):$o(e)}function Tt(e){if(!lr(e))return be(e);var t,n=[];for(t in m(e))N.call(e,t)&&"constructor"!=t&&n.push(t);return n}function $t(e){if(!_(e)){var t=e,n=[];if(null!=t)for(var r in m(t))n.push(r);return n}var i,o=lr(e),a=[];for(i in e)("constructor"!=i||!o&&N.call(e,i))&&a.push(i);return a}function Et(e,t){return e<t}function At(e,r){var i=-1,o=u(e)?k(e.length):[];return it(e,function(e,t,n){o[++i]=r(e,t,n)}),o}function Ot(t){var n=Jn(t);return 1==n.length&&n[0][2]?ur(n[0][0],n[0][1]):function(e){return e===t||xt(e,t,n)}}function Mt(n,r){return or(n)&&cr(r)?ur(_r(n),r):function(e){var t=Hi(e,n);return t===Fo&&t===r?Ui(e,n):kt(r,t,3)}}function Pt(m,g,v,b,y){m!==g&&ct(g,function(e,t){var n,r,i,o,a,s,l,c,u,d,h,f,p;_(e)?(y=y||new j,r=g,o=v,a=Pt,s=b,l=y,h=nl(n=m,i=t),f=nl(r,i),(p=l.get(f))?Ye(n,i,p):(p=s?s(h,f,i+"",n,r,l):Fo,(r=p===Fo)&&(c=F(f),u=!c&&bi(f),d=!c&&!u&&Ai(f),p=f,c||u||d?p=F(h)?h:w(h)?T(h):u?un(f,!(r=!1)):d?hn(f,!(r=!1)):[]:Si(f)||gi(f)?gi(p=h)?p=Ii(h):(!_(h)||o&&wi(h))&&(p=nr(f)):r=!1),r&&(l.set(f,p),a(p,f,o,s,l),l.delete(f)),Ye(n,i,p))):(c=b?b(nl(m,t),e,t+"",m,g,y):Fo,Ye(m,t,c=c===Fo?e:c))},O)}function Dt(e,t){var n=e.length;if(n)return ir(t+=t<0?n:0,n)?e[t]:Fo}function Rt(e,r,u){var i=-1;r=la(r.length?r:[M],da(d()));var t=At(e,function(t,e,n){return{criteria:la(r,function(e){return e(t)}),index:++i,value:t}}),e=function(e,t){for(var n=u,r=-1,i=e.criteria,o=t.criteria,a=i.length,s=n.length;++r<a;){var l,c=fn(i[r],o[r]);if(c)return s<=r?c:(l=n[r],c*("desc"==l?-1:1))}return e.index-t.index},n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}function It(e,t,n){for(var r=-1,i=t.length,o={};++r<i;){var a=t[r],s=pt(e,a);n(s,a)&&Bt(o,an(a,e),s)}return o}function Nt(e,t,n,r){var i=r?Fs:ua,o=-1,a=t.length,s=e;for(e===t&&(t=T(t)),n&&(s=la(e,da(n)));++o<a;)for(var l=0,c=t[o],u=n?n(c):c;-1<(l=i(s,u,l,r));)s!==e&&oe.call(s,l,1),oe.call(e,l,1);return e}function jt(e,t){for(var n=e?t.length:0,r=n-1;n--;){var i,o=t[n];n!=r&&o===i||(ir(i=o)?oe.call(e,o,1):Jt(e,o))}}function Lt(e,t){return e+pe(_e()*(t-e+1))}function Vt(e,t){var n="";if(!(!e||t<1||Bo<t))for(;t%2&&(n+=e),(t=pe(t/2))&&(e+=e),t;);return n}function a(e,t){return mr(dr(e,t,M),e+"")}function Ft(e){return Ue(to(e))}function zt(e,t){e=to(e);return br(e,et(t,0,e.length))}function Bt(e,t,n,r){if(_(e))for(var i=-1,o=(t=an(t,e)).length,a=o-1,s=e;null!=s&&++i<o;){var l,c=_r(t[i]),u=n;i!=a&&(l=s[c],(u=r?r(l,c,s):Fo)===Fo&&(u=_(l)?l:ir(t[i+1])?[]:{})),Ge(s,c,u),s=s[c]}return e}var Ht=$e?function(e,t){return $e.set(e,t),e}:M,t=ce?function(e,t){return ce(e,"toString",{configurable:!0,enumerable:!1,value:go(t),writable:!0})}:M;function Ut(e){return br(to(e))}function s(e,t,n){for(var r=-1,i=e.length,o=((n=i<n?i:n)<0&&(n+=i),i=n<(t=t<0?i<-t?0:i+t:t)?0:n-t>>>0,t>>>=0,k(i));++r<i;)o[r]=e[r+t];return o}function Wt(e,r){var i;return it(e,function(e,t,n){return!(i=r(e,t,n))}),!!i}function qt(e,t,n){var r=0,i=null==e?r:e.length;if("number"==typeof t&&t==t&&i<=2147483647){for(;r<i;){var o=r+i>>>1,a=e[o];null!==a&&!y(a)&&(n?a<=t:a<t)?r=1+o:i=o}return i}return Yt(e,t,M,n)}function Yt(e,t,n,r){t=n(t);for(var i=0,o=null==e?0:e.length,a=t!=t,s=null===t,l=y(t),c=t===Fo;i<o;){var u=pe((i+o)/2),d=n(e[u]),h=d!==Fo,f=null===d,p=d==d,m=y(d),p=a?r||p:c?p&&(r||h):s?p&&h&&(r||!f):l?p&&h&&!f&&(r||!m):!f&&!m&&(r?d<=t:d<t);p?i=u+1:o=u}return S(o,4294967294)}function Gt(e,t){for(var n=-1,r=e.length,i=0,o=[];++n<r;){var a,s=e[n],l=t?t(s):s;n&&V(l,a)||(a=l,o[i++]=0===s?0:s)}return o}function Kt(e){return"number"==typeof e?e:y(e)?ya:+e}function c(e){var t;return"string"==typeof e?e:F(e)?la(e,c)+"":y(e)?Ie?Ie.call(e):"":"0"==(t=e+"")&&1/e==-1/0?"-0":t}function Xt(e,t,n){var r=-1,i=Ds,o=e.length,a=!0,s=[],l=s;if(n)a=!1,i=Rs;else if(200<=o){var c=t?null:jn(e);if(c)return rl(c);a=!1,i=Gs,l=new Be}else l=t?[]:s;e:for(;++r<o;){var u=e[r],d=t?t(u):u,u=n||0!==u?u:0;if(a&&d==d){for(var h=l.length;h--;)if(l[h]===d)continue e;t&&l.push(d),s.push(u)}else i(l,d,n)||(l!==s&&l.push(d),s.push(u))}return s}function Jt(e,t){return null==(e=hr(e,t=an(t,e)))||delete e[_r(r(t))]}function Qt(e,t,n,r){return Bt(e,t,n(pt(e,t)),r)}function Zt(e,t,n,r){for(var i=e.length,o=r?i:-1;(r?o--:++o<i)&&t(e[o],o,e););return n?s(e,r?0:o,r?o+1:i):s(e,r?o+1:0,r?i:o)}function en(e,t){var n=e;return Is(t,function(e,t){return t.func.apply(t.thisArg,ca([e],t.args))},n=e instanceof v?e.value():n)}function tn(e,t,n){var r=e.length;if(r<2)return r?Xt(e[0]):[];for(var i=-1,o=k(r);++i<r;)for(var a=e[i],s=-1;++s<r;)s!=i&&(o[i]=rt(o[i]||a,e[s],t,n));return Xt(l(o,1),t,n)}function nn(e,t,n){for(var r=-1,i=e.length,o=t.length,a={};++r<i;){var s=r<o?t[r]:Fo;n(a,e[r],s)}return a}function rn(e){return w(e)?e:[]}function on(e){return"function"==typeof e?e:M}function an(e,t){return F(e)?e:or(e,t)?[e]:wr(f(e))}var sn=a;function ln(e,t,n){var r=e.length;return n=n===Fo?r:n,!t&&r<=n?e:s(e,t,n)}var cn=ue||function(e){return ia.clearTimeout(e)};function un(e,t){return t?e.slice():(t=e.length,t=te?te(t):new e.constructor(t),e.copy(t),t)}function dn(e){var t=new e.constructor(e.byteLength);return new ee(t).set(new ee(e)),t}function hn(e,t){t=t?dn(e.buffer):e.buffer;return new e.constructor(t,e.byteOffset,e.length)}function fn(e,t){if(e!==t){var n=e!==Fo,r=null===e,i=e==e,o=y(e),a=t!==Fo,s=null===t,l=t==t,c=y(t);if(!s&&!c&&!o&&t<e||o&&a&&l&&!s&&!c||r&&a&&l||!n&&l||!i)return 1;if(!r&&!o&&!c&&e<t||c&&n&&i&&!r&&!o||s&&n&&i||!a&&i||!l)return-1}return 0}function pn(e,t,n,r){for(var i=-1,o=e.length,a=n.length,s=-1,l=t.length,c=C(o-a,0),u=k(l+c),d=!r;++s<l;)u[s]=t[s];for(;++i<a;)(d||i<o)&&(u[n[i]]=e[i]);for(;c--;)u[s++]=e[i++];return u}function mn(e,t,n,r){for(var i=-1,o=e.length,a=-1,s=n.length,l=-1,c=t.length,u=C(o-s,0),d=k(u+c),h=!r;++i<u;)d[i]=e[i];for(var f=i;++l<c;)d[f+l]=t[l];for(;++a<s;)(h||i<o)&&(d[f+n[a]]=e[i++]);return d}function T(e,t){var n=-1,r=e.length;for(t=t||k(r);++n<r;)t[n]=e[n];return t}function gn(e,t,n,r){for(var i=!n,o=(n=n||{},-1),a=t.length;++o<a;){var s=t[o],l=r?r(n[s],e[s],s,n,e):Fo;(i?Qe:Ge)(n,s,l=l===Fo?e[s]:l)}return n}function vn(i,o){return function(e,t){var n=F(e)?Os:Xe,r=o?o():{};return n(e,i,d(t,2),r)}}function bn(s){return a(function(e,t){var n=-1,r=t.length,i=1<r?t[r-1]:Fo,o=2<r?t[2]:Fo,i=3<s.length&&"function"==typeof i?(r--,i):Fo;for(o&&h(t[0],t[1],o)&&(i=r<3?Fo:i,r=1),e=m(e);++n<r;){var a=t[n];a&&s(e,a,n,i)}return e})}function yn(o,a){return function(e,t){if(null!=e){if(!u(e))return o(e,t);for(var n=e.length,r=a?n:-1,i=m(e);(a?r--:++r<n)&&!1!==t(i[r],r,i););}return e}}function wn(l){return function(e,t,n){for(var r=-1,i=m(e),o=n(e),a=o.length;a--;){var s=o[l?a:++r];if(!1===t(i[s],s,i))break}return e}}function _n(r){return function(e){var t=ha(e=f(e))?ma(e):Fo,n=t?t[0]:e.charAt(0),t=t?ln(t,1).join(""):e.slice(1);return n[r]()+t}}function kn(t){return function(e){return Is(fo(io(e).replace(ms,"")),t,"")}}function xn(r){return function(){var e=arguments;switch(e.length){case 0:return new r;case 1:return new r(e[0]);case 2:return new r(e[0],e[1]);case 3:return new r(e[0],e[1],e[2]);case 4:return new r(e[0],e[1],e[2],e[3]);case 5:return new r(e[0],e[1],e[2],e[3],e[4]);case 6:return new r(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new r(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var t=Ne(r.prototype),n=r.apply(t,e);return _(n)?n:t}}function Cn(o,a,s){var l=xn(o);return function e(){for(var t=arguments.length,n=k(t),r=t,i=Kn(e);r--;)n[r]=arguments[r];i=t<3&&n[0]!==i&&n[t-1]!==i?[]:fa(n,i);return(t-=i.length)<s?In(o,a,$n,e.placeholder,Fo,n,i,Fo,Fo,s-t):oa(this&&this!==ia&&this instanceof e?l:o,this,n)}}function Sn(o){return function(e,t,n){var r,i=m(e),t=(u(e)||(r=d(t,3),e=A(e),t=function(e){return r(i[e],e,i)}),o(e,t,n));return-1<t?i[r?e[t]:t]:Fo}}function Tn(l){return Un(function(i){var o=i.length,e=o,t=g.prototype.thru;for(l&&i.reverse();e--;){var n=i[e];if("function"!=typeof n)throw new x(zo);t&&!s&&"wrapper"==Gn(n)&&(s=new g([],!0))}for(e=s?e:o;++e<o;)var r=Gn(n=i[e]),a="wrapper"==r?Yn(n):Fo,s=a&&ar(a[0])&&424==a[1]&&!a[4].length&&1==a[9]?s[Gn(a[0])].apply(s,a[3]):1==n.length&&ar(n)?s[r]():s.thru(n);return function(){var e=arguments,t=e[0];if(s&&1==e.length&&F(t))return s.plant(t).value();for(var n=0,r=o?i[n].apply(this,e):t;++n<o;)r=i[n].call(this,r);return r}})}function $n(a,s,l,c,u,d,h,f,p,m){var g=128&s,v=1&s,b=2&s,y=24&s,w=512&s,_=b?Fo:xn(a);return function e(){for(var t,n,r,i=k(r=arguments.length),o=r;o--;)i[o]=arguments[o];return y&&(n=function(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r}(i,t=Kn(e))),c&&(i=pn(i,c,u,y)),d&&(i=mn(i,d,h,y)),r-=n,y&&r<m?(n=fa(i,t),In(a,s,$n,e.placeholder,l,i,n,f,p,m-r)):(t=v?l:this,n=b?t[a]:a,r=i.length,f?i=function(e,t){for(var n=e.length,r=S(t.length,n),i=T(e);r--;){var o=t[r];e[r]=ir(o,n)?i[o]:Fo}return e}(i,f):w&&1<r&&i.reverse(),g&&p<r&&(i.length=p),(n=this&&this!==ia&&this instanceof e?_||xn(n):n).apply(t,i))}}function En(n,a){return function(e,t){return e=e,r=n,i=a(t),o={},dt(e,function(e,t,n){r(o,i(e),t,n)}),o;var r,i,o}}function An(r,i){return function(e,t){var n;if(e===Fo&&t===Fo)return i;if(e!==Fo&&(n=e),t!==Fo){if(n===Fo)return t;t=("string"==typeof e||"string"==typeof t?(e=c(e),c):(e=Kt(e),Kt))(t),n=r(e,t)}return n}}function On(r){return Un(function(e){return e=la(e,da(d())),a(function(t){var n=this;return r(e,function(e){return oa(e,n,t)})})})}function Mn(e,t){var n=(t=t===Fo?" ":c(t)).length;return n<2?n?Vt(t,e):t:(n=Vt(t,fe(e/pa(t))),ha(t)?ln(ma(n),0,e).join(""):n.slice(0,e))}function Pn(s,e,l,c){var u=1&e,d=xn(s);return function e(){for(var t=-1,n=arguments.length,r=-1,i=c.length,o=k(i+n),a=this&&this!==ia&&this instanceof e?d:s;++r<i;)o[r]=c[r];for(;n--;)o[r++]=arguments[++t];return oa(a,u?l:this,o)}}function Dn(c){return function(e,t,n){n&&"number"!=typeof n&&h(e,t,n)&&(t=n=Fo),e=Di(e),t===Fo?(t=e,e=0):t=Di(t),n=n===Fo?e<t?1:-1:Di(n);for(var r=e,i=n,o=c,a=-1,s=C(fe((t-r)/(i||1)),0),l=k(s);s--;)l[o?s:++a]=r,r+=i;return l}}function Rn(n){return function(e,t){return"string"==typeof e&&"string"==typeof t||(e=E(e),t=E(t)),n(e,t)}}function In(e,t,n,r,i,o,a,s,l,c){var u=8&t,i=(4&(t=(t|(u?32:64))&~(u?64:32))||(t&=-4),[e,t,i,u?o:Fo,u?a:Fo,u?Fo:o,u?Fo:a,s,l,c]),o=n.apply(Fo,i);return ar(e)&&fr(o,i),o.placeholder=r,gr(o,e,t)}function Nn(e){var r=R[e];return function(e,t){var n;return e=E(e),(t=null==t?0:S($(t),292))?(n=(f(e)+"e").split("e"),+((n=(f(r(n[0]+"e"+(+n[1]+t)))+"e").split("e"))[0]+"e"+(+n[1]-t))):r(e)}}var jn=Se&&1/rl(new Se([,-0]))[1]==1/0?function(e){return new Se(e)}:xo;function Ln(o){return function(e){var t,n,r,i=L(e);return i==Yo?el(e):i==Jo?(i=e,t=-1,n=Array(i.size),i.forEach(function(e){n[++t]=[e,e]}),n):la(o(r=e),function(e){return[e,r[e]]})}}function Vn(e,t,n,r,i,o,a,s){var l,c,u,d,h,f,p,m,g,v,b,y,w,_=2&t;if(_||"function"==typeof e)return(l=r?r.length:0)||(t&=-97,r=i=Fo),a=a===Fo?a:C($(a),0),s=s===Fo?s:$(s),l-=i?i.length:0,64&t&&(u=r,d=i,r=i=Fo),c=_?Fo:Yn(e),u=[e,t,n,r,i,u,d,o,a,s],c&&(d=c,a=(o=u)[1],f=d[1],m=(p=a|f)<131,g=128==f&&8==a||128==f&&256==a&&o[7].length<=d[8]||384==f&&d[7].length<=d[8]&&8==a,(m||g)&&(1&f&&(o[2]=d[2],p|=1&a?0:4),(m=d[3])&&(h=o[3],o[3]=h?pn(h,m,d[4]):m,o[4]=h?fa(o[3],ba):d[4]),(m=d[5])&&(h=o[5],o[5]=h?mn(h,m,d[6]):m,o[6]=h?fa(o[5],ba):d[6]),(m=d[7])&&(o[7]=m),128&f&&(o[8]=null==o[8]?d[8]:S(o[8],d[8])),null==o[9]&&(o[9]=d[9]),o[0]=d[0],o[1]=p)),e=u[0],t=u[1],n=u[2],r=u[3],i=u[4],!(s=u[9]=u[9]===Fo?_?0:e.length:C(u[9]-l,0))&&24&t&&(t&=-25),g=t&&1!=t?8==t||16==t?Cn(e,t,s):32!=t&&33!=t||i.length?$n.apply(Fo,u):Pn(e,t,n,r):(b=n,y=1&t,w=xn(v=e),function e(){return(this&&this!==ia&&this instanceof e?w:v).apply(y?b:this,arguments)}),gr((c?Ht:fr)(g,u),e,t);throw new x(zo)}function Fn(e,t,n,r){return e===Fo||V(e,W[n])&&!N.call(r,n)?t:e}function zn(e,t,n,r,i,o){return _(e)&&_(t)&&(o.set(t,e),Pt(e,t,Fo,zn,o),o.delete(t)),e}function Bn(e){return Si(e)?Fo:e}function Hn(e,t,n,r,i,o){var a=1&n,s=e.length,l=t.length;if(s!=l&&!(a&&s<l))return!1;l=o.get(e);if(l&&o.get(t))return l==t;var c=-1,u=!0,d=2&n?new Be:Fo;for(o.set(e,t),o.set(t,e);++c<s;){var h,f=e[c],p=t[c];if((h=r?a?r(p,f,c,t,e,o):r(f,p,c,e,t,o):h)!==Fo){if(h)continue;u=!1;break}if(d){if(!js(t,function(e,t){return!Gs(d,t)&&(f===e||i(f,e,n,r,o))&&d.push(t)})){u=!1;break}}else if(f!==p&&!i(f,p,n,r,o)){u=!1;break}}return o.delete(e),o.delete(t),u}function Un(e){return mr(dr(e,Fo,Tr),e+"")}function Wn(e){return mt(e,A,Zn)}function qn(e){return mt(e,O,er)}var Yn=$e?function(e){return $e.get(e)}:xo;function Gn(e){for(var t=e.name+"",n=Ee[t],r=N.call(Ee,t)?n.length:0;r--;){var i=n[r],o=i.func;if(null==o||o==e)return i.name}return t}function Kn(e){return(N.call(p,"placeholder")?p:e).placeholder}function d(){var e=(e=p.iteratee||yo)===yo?St:e;return arguments.length?e(arguments[0],arguments[1]):e}function Xn(e,t){var n,r,e=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?e["string"==typeof t?"string":"hash"]:e.map}function Jn(e){for(var t=A(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,cr(i)]}return t}function Qn(e,t){t=t;e=null==(e=e)?Fo:e[t];return Ct(e)?e:Fo}var Zn=me?function(t){return null==t?[]:(t=m(t),sa(me(t),function(e){return ie.call(t,e)}))}:Oo,er=me?function(e){for(var t=[];e;)ca(t,Zn(e)),e=ne(e);return t}:Oo,L=n;function tr(e,t,n){for(var r=-1,i=(t=an(t,e)).length,o=!1;++r<i;){var a=_r(t[r]);if(!(o=null!=e&&n(e,a)))break;e=e[a]}return o||++r!=i?o:!!(i=null==e?0:e.length)&&ki(i)&&ir(a,i)&&(F(e)||gi(e))}function nr(e){return"function"!=typeof e.constructor||lr(e)?{}:Ne(ne(e))}function rr(e){return F(e)||gi(e)||!!(ae&&e&&e[ae])}function ir(e,t){var n=typeof e;return!!(t=null==t?Bo:t)&&("number"==n||"symbol"!=n&&ds.test(e))&&-1<e&&e%1==0&&e<t}function h(e,t,n){var r;if(_(n))return("number"==(r=typeof t)?u(n)&&ir(t,n.length):"string"==r&&t in n)&&V(n[t],e)}function or(e,t){var n;if(!F(e))return"number"==(n=typeof e)||"symbol"==n||"boolean"==n||null==e||y(e)||(Ya.test(e)||!qa.test(e)||null!=t&&e in m(t))}function ar(e){var t=Gn(e),n=p[t];return"function"==typeof n&&t in v.prototype&&(e===n||(t=Yn(n))&&e===t[0])}(o&&L(new o(new ArrayBuffer(1)))!=ta||xe&&L(new xe)!=Yo||Ce&&L(Ce.resolve())!=Sa||Se&&L(new Se)!=Jo||e&&L(new e)!=Zo)&&(L=function(e){var t=n(e),e=t==Ko?e.constructor:Fo,e=e?kr(e):"";if(e)switch(e){case Ae:return ta;case Oe:return Yo;case Me:return Sa;case Pe:return Jo;case De:return Zo}return t});var sr=q?wi:Mo;function lr(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||W)}function cr(e){return e==e&&!_(e)}function ur(t,n){return function(e){return null!=e&&(e[t]===n&&(n!==Fo||t in m(e)))}}function dr(o,a,s){return a=C(a===Fo?o.length-1:a,0),function(){for(var e=arguments,t=-1,n=C(e.length-a,0),r=k(n);++t<n;)r[t]=e[a+t];for(var t=-1,i=k(a+1);++t<a;)i[t]=e[t];return i[a]=s(r),oa(o,this,i)}}function hr(e,t){return t.length<2?e:pt(e,s(t,0,-1))}var fr=vr(Ht),pr=he||function(e,t){return ia.setTimeout(e,t)},mr=vr(t);function gr(e,t,n){var r,i,o,t=t+"";return mr(e,(i=(t=(t=e=t).match(ts))?t[1].split(ns):[],o=n,aa(wa,function(e){var t="_."+e[0];o&e[1]&&!Ds(i,t)&&i.push(t)}),t=i.sort(),(n=t.length)?(t[r=n-1]=(1<n?"& ":"")+t[r],t=t.join(2<n?", ":" "),e.replace(es,"{\n/* [wrapped with "+t+"] */\n")):e))}function vr(n){var r=0,i=0;return function(){var e=ye(),t=16-(e-i);if(i=e,0<t){if(800<=++r)return arguments[0]}else r=0;return n.apply(Fo,arguments)}}function br(e,t){var n=-1,r=e.length,i=r-1;for(t=t===Fo?r:t;++n<t;){var o=Lt(n,i),a=e[o];e[o]=e[n],e[n]=a}return e.length=t,e}yr=(ue=ci(ue=function(e){var i=[];return 46===e.charCodeAt(0)&&i.push(""),e.replace(Ga,function(e,t,n,r){i.push(n?r.replace(is,"$1"):t||e)}),i},function(e){return 500===yr.size&&yr.clear(),e})).cache;var yr,wr=ue;function _r(e){var t;return"string"==typeof e||y(e)?e:"0"==(t=e+"")&&1/e==-1/0?"-0":t}function kr(e){if(null!=e){try{return Y.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function xr(e){var t;return e instanceof v?e.clone():((t=new g(e.__wrapped__,e.__chain__)).__actions__=T(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t)}o=a(function(e,t){return w(e)?rt(e,l(t,1,w,!0)):[]}),Ce=a(function(e,t){var n=r(t);return w(n)&&(n=Fo),w(e)?rt(e,l(t,1,w,!0),d(n,2)):[]}),e=a(function(e,t){var n=r(t);return w(n)&&(n=Fo),w(e)?rt(e,l(t,1,w,!0),Fo,n):[]});function Cr(e,t,n){var r=null==e?0:e.length;return r?((n=null==n?0:$(n))<0&&(n=C(r+n,0)),Vs(e,d(t,3),n)):-1}function Sr(e,t,n){var r,i=null==e?0:e.length;return i?(r=i-1,n!==Fo&&(r=$(n),r=n<0?C(i+r,0):S(r,i-1)),Vs(e,d(t,3),r,!0)):-1}function Tr(e){return(null==e?0:e.length)?l(e,1):[]}function $r(e){return e&&e.length?e[0]:Fo}q=a(function(e){var t=la(e,rn);return t.length&&t[0]===e[0]?yt(t):[]}),he=a(function(e){var t=r(e),n=la(e,rn);return t===r(n)?t=Fo:n.pop(),n.length&&n[0]===e[0]?yt(n,d(t,2)):[]}),t=a(function(e){var t=r(e),n=la(e,rn);return(t="function"==typeof t?t:Fo)&&n.pop(),n.length&&n[0]===e[0]?yt(n,Fo,t):[]});function r(e){var t=null==e?0:e.length;return t?e[t-1]:Fo}ue=a(Er);function Er(e,t){return e&&e.length&&t&&t.length?Nt(e,t):e}var Ar=Un(function(e,t){var n=null==e?0:e.length,r=Ze(e,t);return jt(e,la(t,function(e){return ir(e,n)?+e:e}).sort(fn)),r});function Or(e){return null==e?e:ke.call(e)}var Mr=a(function(e){return Xt(l(e,1,w,!0))}),Pr=a(function(e){var t=r(e);return w(t)&&(t=Fo),Xt(l(e,1,w,!0),d(t,2))}),Dr=a(function(e){var t="function"==typeof(t=r(e))?t:Fo;return Xt(l(e,1,w,!0),Fo,t)});function Rr(t){var n;return t&&t.length?(n=0,t=sa(t,function(e){return w(e)&&(n=C(e.length,n),1)}),qs(n,function(e){return la(t,Hs(e))})):[]}function Ir(e,t){return e&&e.length?(e=Rr(e),null==t?e:la(e,function(e){return oa(t,Fo,e)})):[]}var Nr=a(function(e,t){return w(e)?rt(e,t):[]}),jr=a(function(e){return tn(sa(e,w))}),Lr=a(function(e){var t=r(e);return w(t)&&(t=Fo),tn(sa(e,w),d(t,2))}),Vr=a(function(e){var t="function"==typeof(t=r(e))?t:Fo;return tn(sa(e,w),Fo,t)}),Fr=a(Rr);var zr=a(function(e){var t=e.length,t="function"==typeof(t=1<t?e[t-1]:Fo)?(e.pop(),t):Fo;return Ir(e,t)});function Br(e){e=p(e);return e.__chain__=!0,e}function Hr(e,t){return t(e)}var Ur=Un(function(t){function e(e){return Ze(e,t)}var n=t.length,r=n?t[0]:0,i=this.__wrapped__;return!(1<n||this.__actions__.length)&&i instanceof v&&ir(r)?((i=i.slice(r,+r+(n?1:0))).__actions__.push({func:Hr,args:[e],thisArg:Fo}),new g(i,this.__chain__).thru(function(e){return n&&!e.length&&e.push(Fo),e})):this.thru(e)});var Wr=vn(function(e,t,n){N.call(e,n)?++e[n]:Qe(e,n,1)});var qr=Sn(Cr),Yr=Sn(Sr);function Gr(e,t){return(F(e)?aa:it)(e,d(t,3))}function Kr(e,t){return(F(e)?Ms:ot)(e,d(t,3))}var Xr=vn(function(e,t,n){N.call(e,n)?e[n].push(t):Qe(e,n,[t])});var Jr=a(function(e,t,n){var r=-1,i="function"==typeof t,o=u(e)?k(e.length):[];return it(e,function(e){o[++r]=i?oa(t,e,n):wt(e,t,n)}),o}),Qr=vn(function(e,t,n){Qe(e,n,t)});function Zr(e,t){return(F(e)?la:At)(e,d(t,3))}var ei=vn(function(e,t,n){e[n?0:1].push(t)},function(){return[[],[]]});var ti=a(function(e,t){var n;return null==e?[]:(1<(n=t.length)&&h(e,t[0],t[1])?t=[]:2<n&&h(t[0],t[1],t[2])&&(t=[t[0]]),Rt(e,l(t,1),[]))}),ni=de||function(){return ia.Date.now()};function ri(e,t,n){return t=n?Fo:t,t=e&&null==t?e.length:t,Vn(e,128,Fo,Fo,Fo,Fo,t)}function ii(e,t){var n;if("function"!=typeof t)throw new x(zo);return e=$(e),function(){return 0<--e&&(n=t.apply(this,arguments)),e<=1&&(t=Fo),n}}var oi=a(function(e,t,n){var r,i=1;return n.length&&(r=fa(n,Kn(oi)),i|=32),Vn(e,i,t,n,r)}),ai=a(function(e,t,n){var r,i=3;return n.length&&(r=fa(n,Kn(ai)),i|=32),Vn(t,i,e,n,r)});function si(r,n,e){var i,o,a,s,l,c,u=0,d=!1,h=!1,t=!0;if("function"!=typeof r)throw new x(zo);function f(e){var t=i,n=o;return i=o=Fo,u=e,s=r.apply(n,t)}function p(e){var t=e-c;return c===Fo||n<=t||t<0||h&&a<=e-u}function m(){var e,t=ni();if(p(t))return g(t);l=pr(m,(e=n-((t=t)-c),h?S(e,a-(t-u)):e))}function g(e){return l=Fo,t&&i?f(e):(i=o=Fo,s)}function v(){var e=ni(),t=p(e);if(i=arguments,o=this,c=e,t){if(l===Fo)return u=e=c,l=pr(m,n),d?f(e):s;if(h)return l=pr(m,n),f(c)}return l===Fo&&(l=pr(m,n)),s}return n=E(n)||0,_(e)&&(d=!!e.leading,h="maxWait"in e,a=h?C(E(e.maxWait)||0,n):a,t="trailing"in e?!!e.trailing:t),v.cancel=function(){l!==Fo&&cn(l),u=0,i=c=o=l=Fo},v.flush=function(){return l===Fo?s:g(ni())},v}var de=a(function(e,t){return nt(e,1,t)}),li=a(function(e,t,n){return nt(e,E(t)||0,n)});function ci(r,i){if("function"!=typeof r||null!=i&&"function"!=typeof i)throw new x(zo);function o(){var e=arguments,t=i?i.apply(this,e):e[0],n=o.cache;return n.has(t)?n.get(t):(e=r.apply(this,e),o.cache=n.set(t,e)||n,e)}return o.cache=new(ci.Cache||ze),o}function ui(t){if("function"!=typeof t)throw new x(zo);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}ci.Cache=ze;var sn=sn(function(r,i){var o=(i=1==i.length&&F(i[0])?la(i[0],da(d())):la(l(i,1),da(d()))).length;return a(function(e){for(var t=-1,n=S(e.length,o);++t<n;)e[t]=i[t].call(this,e[t]);return oa(r,this,e)})}),di=a(function(e,t){var n=fa(t,Kn(di));return Vn(e,32,Fo,t,n)}),hi=a(function(e,t){var n=fa(t,Kn(hi));return Vn(e,64,Fo,t,n)}),fi=Un(function(e,t){return Vn(e,256,Fo,Fo,Fo,t)});function V(e,t){return e===t||e!=e&&t!=t}var pi=Rn(gt),mi=Rn(function(e,t){return t<=e}),gi=_t(function(){return arguments}())?_t:function(e){return z(e)&&N.call(e,"callee")&&!ie.call(e,"callee")},F=k.isArray,vi=Cs?da(Cs):function(e){return z(e)&&n(e)==ea};function u(e){return null!=e&&ki(e.length)&&!wi(e)}function w(e){return z(e)&&u(e)}var bi=U||Mo,U=Ss?da(Ss):function(e){return z(e)&&n(e)==qo};function yi(e){var t;return!!z(e)&&((t=n(e))==ka||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!Si(e))}function wi(e){return!!_(e)&&((e=n(e))==xa||e==Ca||"[object AsyncFunction]"==e||"[object Proxy]"==e)}function _i(e){return"number"==typeof e&&e==$(e)}function ki(e){return"number"==typeof e&&-1<e&&e%1==0&&e<=Bo}function _(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function z(e){return null!=e&&"object"==typeof e}var xi=Ts?da(Ts):function(e){return z(e)&&L(e)==Yo};function Ci(e){return"number"==typeof e||z(e)&&n(e)==Go}function Si(e){return!(!z(e)||n(e)!=Ko)&&(null===(e=ne(e))||"function"==typeof(e=N.call(e,"constructor")&&e.constructor)&&e instanceof e&&Y.call(e)==J)}var Ti=$s?da($s):function(e){return z(e)&&n(e)==Xo};var $i=Es?da(Es):function(e){return z(e)&&L(e)==Jo};function Ei(e){return"string"==typeof e||!F(e)&&z(e)&&n(e)==Qo}function y(e){return"symbol"==typeof e||z(e)&&n(e)==Ta}var Ai=As?da(As):function(e){return z(e)&&ki(e.length)&&!!na[n(e)]};var Oi=Rn(Et),Mi=Rn(function(e,t){return e<=t});function Pi(e){if(!e)return[];if(u(e))return(Ei(e)?ma:T)(e);if(se&&e[se]){for(var t,n=e[se](),r=[];!(t=n.next()).done;)r.push(t.value);return r}var i=L(e);return(i==Yo?el:i==Jo?rl:to)(e)}function Di(e){return e?(e=E(e))===1/0||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}function $(e){var e=Di(e),t=e%1;return e==e?t?e-t:e:0}function Ri(e){return e?et($(e),0,Ho):0}function E(e){if("number"==typeof e)return e;if(y(e))return ya;if("string"!=typeof(e=_(e)?_(t="function"==typeof e.valueOf?e.valueOf():e)?t+"":t:e))return 0===e?e:+e;e=e.replace(Ja,"");var t=ls.test(e);return t||us.test(e)?ks(e.slice(2),t?2:8):ss.test(e)?ya:+e}function Ii(e){return gn(e,O(e))}function f(e){return null==e?"":c(e)}var Ni=bn(function(e,t){if(lr(t)||u(t))gn(t,A(t),e);else for(var n in t)N.call(t,n)&&Ge(e,n,t[n])}),ji=bn(function(e,t){gn(t,O(t),e)}),Li=bn(function(e,t,n,r){gn(t,O(t),e,r)}),Vi=bn(function(e,t,n,r){gn(t,A(t),e,r)}),Fi=Un(Ze);var zi=a(function(e,t){e=m(e);var n=-1,r=t.length,i=2<r?t[2]:Fo;for(i&&h(t[0],t[1],i)&&(r=1);++n<r;)for(var o=t[n],a=O(o),s=-1,l=a.length;++s<l;){var c=a[s],u=e[c];(u===Fo||V(u,W[c])&&!N.call(e,c))&&(e[c]=o[c])}return e}),Bi=a(function(e){return e.push(Fo,zn),oa(Ki,Fo,e)});function Hi(e,t,n){e=null==e?Fo:pt(e,t);return e===Fo?n:e}function Ui(e,t){return null!=e&&tr(e,t,bt)}var Wi=En(function(e,t,n){e[t=null!=t&&"function"!=typeof t.toString?X.call(t):t]=n},go(M)),qi=En(function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=X.call(t)),N.call(e,t)?e[t].push(n):e[t]=[n]},d),Yi=a(wt);function A(e){return(u(e)?He:Tt)(e)}function O(e){return u(e)?He(e,!0):$t(e)}var Gi=bn(function(e,t,n){Pt(e,t,n)}),Ki=bn(function(e,t,n,r){Pt(e,t,n,r)}),Xi=Un(function(t,e){var n={};if(null!=t)for(var r=!1,i=(e=la(e,function(e){return e=an(e,t),r=r||1<e.length,e}),gn(t,qn(t),n),r&&(n=b(n,7,Bn)),e.length);i--;)Jt(n,e[i]);return n});var Ji=Un(function(e,t){return null==e?{}:It(n=e,t,function(e,t){return Ui(n,t)});var n});function Qi(e,n){var t;return null==e?{}:(t=la(qn(e),function(e){return[e]}),n=d(n),It(e,t,function(e,t){return n(e,t[0])}))}var Zi=Ln(A),eo=Ln(O);function to(e){return null==e?[]:Ys(e,A(e))}var no=kn(function(e,t,n){return t=t.toLowerCase(),e+(n?ro(t):t)});function ro(e){return ho(f(e).toLowerCase())}function io(e){return(e=f(e))&&e.replace(hs,Js).replace(gs,"")}var oo=kn(function(e,t,n){return e+(n?"-":"")+t.toLowerCase()}),ao=kn(function(e,t,n){return e+(n?" ":"")+t.toLowerCase()}),so=_n("toLowerCase");var lo=kn(function(e,t,n){return e+(n?"_":"")+t.toLowerCase()});var co=kn(function(e,t,n){return e+(n?" ":"")+ho(t)});var uo=kn(function(e,t,n){return e+(n?" ":"")+t.toUpperCase()}),ho=_n("toUpperCase");function fo(e,t,n){return e=f(e),(t=n?Fo:t)===Fo?(n=e,bs.test(n)?e.match(vs)||[]:e.match(rs)||[]):e.match(t)||[]}var po=a(function(e,t){try{return oa(e,Fo,t)}catch(e){return yi(e)?e:new P(e)}}),mo=Un(function(t,e){return aa(e,function(e){e=_r(e),Qe(t,e,oi(t[e],t))}),t});function go(e){return function(){return e}}var vo=Tn(),bo=Tn(!0);function M(e){return e}function yo(e){return St("function"==typeof e?e:b(e,1))}var wo=a(function(t,n){return function(e){return wt(e,t,n)}}),_o=a(function(t,n){return function(e){return wt(t,e,n)}});function ko(r,t,e){var n=A(t),i=ft(t,n),o=(null!=e||_(t)&&(i.length||!n.length)||(e=t,t=r,r=this,i=ft(t,A(t))),!(_(e)&&"chain"in e&&!e.chain)),a=wi(r);return aa(i,function(e){var n=t[e];r[e]=n,a&&(r.prototype[e]=function(){var e,t=this.__chain__;return o||t?(((e=r(this.__wrapped__)).__actions__=T(this.__actions__)).push({func:n,args:arguments,thisArg:r}),e.__chain__=t,e):n.apply(r,ca([this.value()],arguments))})}),r}function xo(){}var Co=On(la),So=On(Ps),To=On(js);function $o(e){return or(e)?Hs(_r(e)):(t=e,function(e){return pt(e,t)});var t}var Eo=Dn(),Ao=Dn(!0);function Oo(){return[]}function Mo(){return!1}var Po=An(function(e,t){return e+t},0),Do=Nn("ceil"),Ro=An(function(e,t){return e/t},1),Io=Nn("floor");var No,jo=An(function(e,t){return e*t},1),Lo=Nn("round"),Vo=An(function(e,t){return e-t},0);return p.after=function(e,t){if("function"!=typeof t)throw new x(zo);return e=$(e),function(){if(--e<1)return t.apply(this,arguments)}},p.ary=ri,p.assign=Ni,p.assignIn=ji,p.assignInWith=Li,p.assignWith=Vi,p.at=Fi,p.before=ii,p.bind=oi,p.bindAll=mo,p.bindKey=ai,p.castArray=function(){var e;return arguments.length?F(e=arguments[0])?e:[e]:[]},p.chain=Br,p.chunk=function(e,t,n){t=(n?h(e,t,n):t===Fo)?1:C($(t),0);var r=null==e?0:e.length;if(!r||t<1)return[];for(var i=0,o=0,a=k(fe(r/t));i<r;)a[o++]=s(e,i,i+=t);return a},p.compact=function(e){for(var t=-1,n=null==e?0:e.length,r=0,i=[];++t<n;){var o=e[t];o&&(i[r++]=o)}return i},p.concat=function(){var e=arguments.length;if(!e)return[];for(var t=k(e-1),n=arguments[0],r=e;r--;)t[r-1]=arguments[r];return ca(F(n)?T(n):[n],l(t,1))},p.cond=function(r){var i=null==r?0:r.length,t=d();return r=i?la(r,function(e){if("function"!=typeof e[1])throw new x(zo);return[t(e[0]),e[1]]}):[],a(function(e){for(var t=-1;++t<i;){var n=r[t];if(oa(n[0],this,e))return oa(n[1],this,e)}})},p.conforms=function(e){return t=b(e,1),n=A(t),function(e){return tt(e,t,n)};var t,n},p.constant=go,p.countBy=Wr,p.create=function(e,t){return e=Ne(e),null==t?e:Je(e,t)},p.curry=function e(t,n,r){t=Vn(t,8,Fo,Fo,Fo,Fo,Fo,n=r?Fo:n);return t.placeholder=e.placeholder,t},p.curryRight=function e(t,n,r){t=Vn(t,16,Fo,Fo,Fo,Fo,Fo,n=r?Fo:n);return t.placeholder=e.placeholder,t},p.debounce=si,p.defaults=zi,p.defaultsDeep=Bi,p.defer=de,p.delay=li,p.difference=o,p.differenceBy=Ce,p.differenceWith=e,p.drop=function(e,t,n){var r=null==e?0:e.length;return r?s(e,(t=n||t===Fo?1:$(t))<0?0:t,r):[]},p.dropRight=function(e,t,n){var r=null==e?0:e.length;return r?s(e,0,(t=r-(t=n||t===Fo?1:$(t)))<0?0:t):[]},p.dropRightWhile=function(e,t){return e&&e.length?Zt(e,d(t,3),!0,!0):[]},p.dropWhile=function(e,t){return e&&e.length?Zt(e,d(t,3),!0):[]},p.fill=function(e,t,n,r){if(!(l=null==e?0:e.length))return[];n&&"number"!=typeof n&&h(e,t,n)&&(n=0,r=l);var i=e,o=t,a=n,s=r,l=i.length;for((a=$(a))<0&&(a=l<-a?0:l+a),(s=s===Fo||l<s?l:$(s))<0&&(s+=l),s=s<a?0:Ri(s);a<s;)i[a++]=o;return i},p.filter=function(e,t){return(F(e)?sa:lt)(e,d(t,3))},p.flatMap=function(e,t){return l(Zr(e,t),1)},p.flatMapDeep=function(e,t){return l(Zr(e,t),1/0)},p.flatMapDepth=function(e,t,n){return n=n===Fo?1:$(n),l(Zr(e,t),n)},p.flatten=Tr,p.flattenDeep=function(e){return(null==e?0:e.length)?l(e,1/0):[]},p.flattenDepth=function(e,t){return(null==e?0:e.length)?l(e,t=t===Fo?1:$(t)):[]},p.flip=function(e){return Vn(e,512)},p.flow=vo,p.flowRight=bo,p.fromPairs=function(e){for(var t=-1,n=null==e?0:e.length,r={};++t<n;){var i=e[t];r[i[0]]=i[1]}return r},p.functions=function(e){return null==e?[]:ft(e,A(e))},p.functionsIn=function(e){return null==e?[]:ft(e,O(e))},p.groupBy=Xr,p.initial=function(e){return(null==e?0:e.length)?s(e,0,-1):[]},p.intersection=q,p.intersectionBy=he,p.intersectionWith=t,p.invert=Wi,p.invertBy=qi,p.invokeMap=Jr,p.iteratee=yo,p.keyBy=Qr,p.keys=A,p.keysIn=O,p.map=Zr,p.mapKeys=function(e,r){var i={};return r=d(r,3),dt(e,function(e,t,n){Qe(i,r(e,t,n),e)}),i},p.mapValues=function(e,r){var i={};return r=d(r,3),dt(e,function(e,t,n){Qe(i,t,r(e,t,n))}),i},p.matches=function(e){return Ot(b(e,1))},p.matchesProperty=function(e,t){return Mt(e,b(t,1))},p.memoize=ci,p.merge=Gi,p.mergeWith=Ki,p.method=wo,p.methodOf=_o,p.mixin=ko,p.negate=ui,p.nthArg=function(t){return t=$(t),a(function(e){return Dt(e,t)})},p.omit=Xi,p.omitBy=function(e,t){return Qi(e,ui(d(t)))},p.once=function(e){return ii(2,e)},p.orderBy=function(e,t,n,r){return null==e?[]:Rt(e,t=F(t)?t:null==t?[]:[t],n=F(n=r?Fo:n)?n:null==n?[]:[n])},p.over=Co,p.overArgs=sn,p.overEvery=So,p.overSome=To,p.partial=di,p.partialRight=hi,p.partition=ei,p.pick=Ji,p.pickBy=Qi,p.property=$o,p.propertyOf=function(t){return function(e){return null==t?Fo:pt(t,e)}},p.pull=ue,p.pullAll=Er,p.pullAllBy=function(e,t,n){return e&&e.length&&t&&t.length?Nt(e,t,d(n,2)):e},p.pullAllWith=function(e,t,n){return e&&e.length&&t&&t.length?Nt(e,t,Fo,n):e},p.pullAt=Ar,p.range=Eo,p.rangeRight=Ao,p.rearg=fi,p.reject=function(e,t){return(F(e)?sa:lt)(e,ui(d(t,3)))},p.remove=function(e,t){var n=[];if(e&&e.length){var r=-1,i=[],o=e.length;for(t=d(t,3);++r<o;){var a=e[r];t(a,r,e)&&(n.push(a),i.push(r))}jt(e,i)}return n},p.rest=function(e,t){if("function"!=typeof e)throw new x(zo);return a(e,t=t===Fo?t:$(t))},p.reverse=Or,p.sampleSize=function(e,t,n){return t=(n?h(e,t,n):t===Fo)?1:$(t),(F(e)?We:zt)(e,t)},p.set=function(e,t,n){return null==e?e:Bt(e,t,n)},p.setWith=function(e,t,n,r){return r="function"==typeof r?r:Fo,null==e?e:Bt(e,t,n,r)},p.shuffle=function(e){return(F(e)?qe:Ut)(e)},p.slice=function(e,t,n){var r=null==e?0:e.length;return r?(n=n&&"number"!=typeof n&&h(e,t,n)?(t=0,r):(t=null==t?0:$(t),n===Fo?r:$(n)),s(e,t,n)):[]},p.sortBy=ti,p.sortedUniq=function(e){return e&&e.length?Gt(e):[]},p.sortedUniqBy=function(e,t){return e&&e.length?Gt(e,d(t,2)):[]},p.split=function(e,t,n){return n&&"number"!=typeof n&&h(e,t,n)&&(t=n=Fo),(n=n===Fo?Ho:n>>>0)?(e=f(e))&&("string"==typeof t||null!=t&&!Ti(t))&&!(t=c(t))&&ha(e)?ln(ma(e),0,n):e.split(t,n):[]},p.spread=function(n,r){if("function"!=typeof n)throw new x(zo);return r=null==r?0:C($(r),0),a(function(e){var t=e[r],e=ln(e,0,r);return t&&ca(e,t),oa(n,this,e)})},p.tail=function(e){var t=null==e?0:e.length;return t?s(e,1,t):[]},p.take=function(e,t,n){return e&&e.length?s(e,0,(t=n||t===Fo?1:$(t))<0?0:t):[]},p.takeRight=function(e,t,n){var r=null==e?0:e.length;return r?s(e,(t=r-(t=n||t===Fo?1:$(t)))<0?0:t,r):[]},p.takeRightWhile=function(e,t){return e&&e.length?Zt(e,d(t,3),!1,!0):[]},p.takeWhile=function(e,t){return e&&e.length?Zt(e,d(t,3)):[]},p.tap=function(e,t){return t(e),e},p.throttle=function(e,t,n){var r=!0,i=!0;if("function"!=typeof e)throw new x(zo);return _(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),si(e,t,{leading:r,maxWait:t,trailing:i})},p.thru=Hr,p.toArray=Pi,p.toPairs=Zi,p.toPairsIn=eo,p.toPath=function(e){return F(e)?la(e,_r):y(e)?[e]:T(wr(f(e)))},p.toPlainObject=Ii,p.transform=function(e,r,i){var t,n=F(e),o=n||bi(e)||Ai(e);return r=d(r,4),null==i&&(t=e&&e.constructor,i=o?n?new t:[]:_(e)&&wi(t)?Ne(ne(e)):{}),(o?aa:dt)(e,function(e,t,n){return r(i,e,t,n)}),i},p.unary=function(e){return ri(e,1)},p.union=Mr,p.unionBy=Pr,p.unionWith=Dr,p.uniq=function(e){return e&&e.length?Xt(e):[]},p.uniqBy=function(e,t){return e&&e.length?Xt(e,d(t,2)):[]},p.uniqWith=function(e,t){return t="function"==typeof t?t:Fo,e&&e.length?Xt(e,Fo,t):[]},p.unset=function(e,t){return null==e||Jt(e,t)},p.unzip=Rr,p.unzipWith=Ir,p.update=function(e,t,n){return null==e?e:Qt(e,t,on(n))},p.updateWith=function(e,t,n,r){return r="function"==typeof r?r:Fo,null==e?e:Qt(e,t,on(n),r)},p.values=to,p.valuesIn=function(e){return null==e?[]:Ys(e,O(e))},p.without=Nr,p.words=fo,p.wrap=function(e,t){return di(on(t),e)},p.xor=jr,p.xorBy=Lr,p.xorWith=Vr,p.zip=Fr,p.zipObject=function(e,t){return nn(e||[],t||[],Ge)},p.zipObjectDeep=function(e,t){return nn(e||[],t||[],Bt)},p.zipWith=zr,p.entries=Zi,p.entriesIn=eo,p.extend=ji,p.extendWith=Li,ko(p,p),p.add=Po,p.attempt=po,p.camelCase=no,p.capitalize=ro,p.ceil=Do,p.clamp=function(e,t,n){return n===Fo&&(n=t,t=Fo),n!==Fo&&(n=(n=E(n))==n?n:0),t!==Fo&&(t=(t=E(t))==t?t:0),et(E(e),t,n)},p.clone=function(e){return b(e,4)},p.cloneDeep=function(e){return b(e,5)},p.cloneDeepWith=function(e,t){return b(e,5,t="function"==typeof t?t:Fo)},p.cloneWith=function(e,t){return b(e,4,t="function"==typeof t?t:Fo)},p.conformsTo=function(e,t){return null==t||tt(e,t,A(t))},p.deburr=io,p.defaultTo=function(e,t){return null==e||e!=e?t:e},p.divide=Ro,p.endsWith=function(e,t,n){e=f(e),t=c(t);var r=e.length,r=n=n===Fo?r:et($(n),0,r);return 0<=(n-=t.length)&&e.slice(n,r)==t},p.eq=V,p.escape=function(e){return(e=f(e))&&Ba.test(e)?e.replace(Fa,Qs):e},p.escapeRegExp=function(e){return(e=f(e))&&Xa.test(e)?e.replace(Ka,"\\$&"):e},p.every=function(e,t,n){return(F(e)?Ps:at)(e,d(t=n&&h(e,t,n)?Fo:t,3))},p.find=qr,p.findIndex=Cr,p.findKey=function(e,t){return Ls(e,d(t,3),dt)},p.findLast=Yr,p.findLastIndex=Sr,p.findLastKey=function(e,t){return Ls(e,d(t,3),ht)},p.floor=Io,p.forEach=Gr,p.forEachRight=Kr,p.forIn=function(e,t){return null==e?e:ct(e,d(t,3),O)},p.forInRight=function(e,t){return null==e?e:ut(e,d(t,3),O)},p.forOwn=function(e,t){return e&&dt(e,d(t,3))},p.forOwnRight=function(e,t){return e&&ht(e,d(t,3))},p.get=Hi,p.gt=pi,p.gte=mi,p.has=function(e,t){return null!=e&&tr(e,t,vt)},p.hasIn=Ui,p.head=$r,p.identity=M,p.includes=function(e,t,n,r){return e=u(e)?e:to(e),n=n&&!r?$(n):0,r=e.length,n<0&&(n=C(r+n,0)),Ei(e)?n<=r&&-1<e.indexOf(t,n):!!r&&-1<ua(e,t,n)},p.indexOf=function(e,t,n){var r=null==e?0:e.length;return r?ua(e,t,e=(e=null==n?0:$(n))<0?C(r+e,0):e):-1},p.inRange=function(e,t,n){return t=Di(t),n===Fo?(n=t,t=0):n=Di(n),(e=e=E(e))>=S(t=t,n=n)&&e<C(t,n)},p.invoke=Yi,p.isArguments=gi,p.isArray=F,p.isArrayBuffer=vi,p.isArrayLike=u,p.isArrayLikeObject=w,p.isBoolean=function(e){return!0===e||!1===e||z(e)&&n(e)==Wo},p.isBuffer=bi,p.isDate=U,p.isElement=function(e){return z(e)&&1===e.nodeType&&!Si(e)},p.isEmpty=function(e){if(null!=e){if(u(e)&&(F(e)||"string"==typeof e||"function"==typeof e.splice||bi(e)||Ai(e)||gi(e)))return!e.length;var t,n=L(e);if(n==Yo||n==Jo)return!e.size;if(lr(e))return!Tt(e).length;for(t in e)if(N.call(e,t))return!1}return!0},p.isEqual=function(e,t){return kt(e,t)},p.isEqualWith=function(e,t,n){var r=(n="function"==typeof n?n:Fo)?n(e,t):Fo;return r===Fo?kt(e,t,Fo,n):!!r},p.isError=yi,p.isFinite=function(e){return"number"==typeof e&&ge(e)},p.isFunction=wi,p.isInteger=_i,p.isLength=ki,p.isMap=xi,p.isMatch=function(e,t){return e===t||xt(e,t,Jn(t))},p.isMatchWith=function(e,t,n){return n="function"==typeof n?n:Fo,xt(e,t,Jn(t),n)},p.isNaN=function(e){return Ci(e)&&e!=+e},p.isNative=function(e){if(sr(e))throw new P("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Ct(e)},p.isNil=function(e){return null==e},p.isNull=function(e){return null===e},p.isNumber=Ci,p.isObject=_,p.isObjectLike=z,p.isPlainObject=Si,p.isRegExp=Ti,p.isSafeInteger=function(e){return _i(e)&&-Bo<=e&&e<=Bo},p.isSet=$i,p.isString=Ei,p.isSymbol=y,p.isTypedArray=Ai,p.isUndefined=function(e){return e===Fo},p.isWeakMap=function(e){return z(e)&&L(e)==Zo},p.isWeakSet=function(e){return z(e)&&"[object WeakSet]"==n(e)},p.join=function(e,t){return null==e?"":ve.call(e,t)},p.kebabCase=oo,p.last=r,p.lastIndexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=r;if(n!==Fo&&(i=(i=$(n))<0?C(r+i,0):S(i,r-1)),t!=t)return Vs(e,zs,i,!0);for(var o=e,a=t,s=i+1;s--;)if(o[s]===a)return s;return s},p.lowerCase=ao,p.lowerFirst=so,p.lt=Oi,p.lte=Mi,p.max=function(e){return e&&e.length?st(e,M,gt):Fo},p.maxBy=function(e,t){return e&&e.length?st(e,d(t,2),gt):Fo},p.mean=function(e){return Bs(e,M)},p.meanBy=function(e,t){return Bs(e,d(t,2))},p.min=function(e){return e&&e.length?st(e,M,Et):Fo},p.minBy=function(e,t){return e&&e.length?st(e,d(t,2),Et):Fo},p.stubArray=Oo,p.stubFalse=Mo,p.stubObject=function(){return{}},p.stubString=function(){return""},p.stubTrue=function(){return!0},p.multiply=jo,p.nth=function(e,t){return e&&e.length?Dt(e,$(t)):Fo},p.noConflict=function(){return ia._===this&&(ia._=Q),this},p.noop=xo,p.now=ni,p.pad=function(e,t,n){e=f(e);var r=(t=$(t))?pa(e):0;return!t||t<=r?e:Mn(pe(t=(t-r)/2),n)+e+Mn(fe(t),n)},p.padEnd=function(e,t,n){e=f(e);var r=(t=$(t))?pa(e):0;return t&&r<t?e+Mn(t-r,n):e},p.padStart=function(e,t,n){e=f(e);var r=(t=$(t))?pa(e):0;return t&&r<t?Mn(t-r,n)+e:e},p.parseInt=function(e,t,n){return t=n||null==t?0:t&&+t,we(f(e).replace(Qa,""),t||0)},p.random=function(e,t,n){var r;return n&&"boolean"!=typeof n&&h(e,t,n)&&(t=n=Fo),n===Fo&&("boolean"==typeof t?(n=t,t=Fo):"boolean"==typeof e&&(n=e,e=Fo)),e===Fo&&t===Fo?(e=0,t=1):(e=Di(e),t===Fo?(t=e,e=0):t=Di(t)),t<e&&(r=e,e=t,t=r),n||e%1||t%1?(r=_e(),S(e+r*(t-e+_s("1e-"+((r+"").length-1))),t)):Lt(e,t)},p.reduce=function(e,t,n){var r=F(e)?Is:Us,i=arguments.length<3;return r(e,d(t,4),n,i,it)},p.reduceRight=function(e,t,n){var r=F(e)?Ns:Us,i=arguments.length<3;return r(e,d(t,4),n,i,ot)},p.repeat=function(e,t,n){return t=(n?h(e,t,n):t===Fo)?1:$(t),Vt(f(e),t)},p.replace=function(){var e=arguments,t=f(e[0]);return e.length<3?t:t.replace(e[1],e[2])},p.result=function(e,t,n){var r=-1,i=(t=an(t,e)).length;for(i||(i=1,e=Fo);++r<i;){var o=null==e?Fo:e[_r(t[r])];o===Fo&&(r=i,o=n),e=wi(o)?o.call(e):o}return e},p.round=Lo,p.runInContext=i,p.sample=function(e){return(F(e)?Ue:Ft)(e)},p.size=function(e){var t;return null==e?0:u(e)?Ei(e)?pa(e):e.length:(t=L(e))==Yo||t==Jo?e.size:Tt(e).length},p.snakeCase=lo,p.some=function(e,t,n){return(F(e)?js:Wt)(e,d(t=n&&h(e,t,n)?Fo:t,3))},p.sortedIndex=function(e,t){return qt(e,t)},p.sortedIndexBy=function(e,t,n){return Yt(e,t,d(n,2))},p.sortedIndexOf=function(e,t){var n=null==e?0:e.length;if(n){var r=qt(e,t);if(r<n&&V(e[r],t))return r}return-1},p.sortedLastIndex=function(e,t){return qt(e,t,!0)},p.sortedLastIndexBy=function(e,t,n){return Yt(e,t,d(n,2),!0)},p.sortedLastIndexOf=function(e,t){if(null==e?0:e.length){var n=qt(e,t,!0)-1;if(V(e[n],t))return n}return-1},p.startCase=co,p.startsWith=function(e,t,n){return e=f(e),n=null==n?0:et($(n),0,e.length),t=c(t),e.slice(n,n+t.length)==t},p.subtract=Vo,p.sum=function(e){return e&&e.length?Ws(e,M):0},p.sumBy=function(e,t){return e&&e.length?Ws(e,d(t,2)):0},p.template=function(a,e,t){var s,l,n=p.templateSettings;t&&h(a,e,t)&&(e=Fo),a=f(a),e=Li({},e,n,Fn);var r=A(t=Li({},e.imports,n.imports,Fn)),i=Ys(t,r),c=0,n=e.interpolate||fs,u="__p += '",t=I((e.escape||fs).source+"|"+n.source+"|"+(n===Wa?os:fs).source+"|"+(e.evaluate||fs).source+"|$","g"),o="//# sourceURL="+("sourceURL"in e?e.sourceURL:"lodash.templateSources["+ ++ws+"]")+"\n";if(a.replace(t,function(e,t,n,r,i,o){return n=n||r,u+=a.slice(c,o).replace(ps,Zs),t&&(s=!0,u+="' +\n__e("+t+") +\n'"),i&&(l=!0,u+="';\n"+i+";\n__p += '"),n&&(u+="' +\n((__t = ("+n+")) == null ? '' : __t) +\n'"),c=o+e.length,e}),u+="';\n",(n=e.variable)||(u="with (obj) {\n"+u+"\n}\n"),u=(l?u.replace(Na,""):u).replace(ja,"$1").replace(La,"$1;"),u="function("+(n||"obj")+") {\n"+(n?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(s?", __e = _.escape":"")+(l?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+u+"return __p\n}",(t=po(function(){return D(r,o+"return "+u).apply(Fo,i)})).source=u,yi(t))throw t;return t},p.times=function(e,t){if((e=$(e))<1||Bo<e)return[];for(var n=Ho,r=S(e,Ho),r=(t=d(t),e-=Ho,qs(r,t));++n<e;)t(n);return r},p.toFinite=Di,p.toInteger=$,p.toLength=Ri,p.toLower=function(e){return f(e).toLowerCase()},p.toNumber=E,p.toSafeInteger=function(e){return e?et($(e),-Bo,Bo):0===e?e:0},p.toString=f,p.toUpper=function(e){return f(e).toUpperCase()},p.trim=function(e,t,n){return(e=f(e))&&(n||t===Fo)?e.replace(Ja,""):e&&(t=c(t))?ln(n=ma(e),Ks(n,t=ma(t)),Xs(n,t)+1).join(""):e},p.trimEnd=function(e,t,n){return(e=f(e))&&(n||t===Fo)?e.replace(Za,""):e&&(t=c(t))?ln(n=ma(e),0,Xs(n,ma(t))+1).join(""):e},p.trimStart=function(e,t,n){return(e=f(e))&&(n||t===Fo)?e.replace(Qa,""):e&&(t=c(t))?ln(n=ma(e),Ks(n,ma(t))).join(""):e},p.truncate=function(e,t){var n,r=30,i="...",t=(_(t)&&(n="separator"in t?t.separator:n,r="length"in t?$(t.length):r,i="omission"in t?c(t.omission):i),(e=f(e)).length);if((t=ha(e)?(o=ma(e)).length:t)<=r)return e;if((t=r-pa(i))<1)return i;var o,r=o?ln(o,0,t).join(""):e.slice(0,t);if(n!==Fo)if(o&&(t+=r.length-t),Ti(n)){if(e.slice(t).search(n)){var a,s=r;for((n=n.global?n:I(n.source,f(as.exec(n))+"g")).lastIndex=0;a=n.exec(s);)var l=a.index;r=r.slice(0,l===Fo?t:l)}}else e.indexOf(c(n),t)==t||-1<(o=r.lastIndexOf(n))&&(r=r.slice(0,o));return r+i},p.unescape=function(e){return(e=f(e))&&za.test(e)?e.replace(Va,il):e},p.uniqueId=function(e){var t=++G;return f(e)+t},p.upperCase=uo,p.upperFirst=ho,p.each=Gr,p.eachRight=Kr,p.first=$r,ko(p,(No={},dt(p,function(e,t){N.call(p.prototype,t)||(No[t]=e)}),No),{chain:!1}),p.VERSION="4.17.10",aa(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){p[e].placeholder=p}),aa(["drop","take"],function(n,r){v.prototype[n]=function(e){e=e===Fo?1:C($(e),0);var t=this.__filtered__&&!r?new v(this):this.clone();return t.__filtered__?t.__takeCount__=S(e,t.__takeCount__):t.__views__.push({size:S(e,Ho),type:n+(t.__dir__<0?"Right":"")}),t},v.prototype[n+"Right"]=function(e){return this.reverse()[n](e).reverse()}}),aa(["filter","map","takeWhile"],function(e,t){var n=t+1,r=1==n||3==n;v.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:d(e,3),type:n}),t.__filtered__=t.__filtered__||r,t}}),aa(["head","last"],function(e,t){var n="take"+(t?"Right":"");v.prototype[e]=function(){return this[n](1).value()[0]}}),aa(["initial","tail"],function(e,t){var n="drop"+(t?"":"Right");v.prototype[e]=function(){return this.__filtered__?new v(this):this[n](1)}}),v.prototype.compact=function(){return this.filter(M)},v.prototype.find=function(e){return this.filter(e).head()},v.prototype.findLast=function(e){return this.reverse().find(e)},v.prototype.invokeMap=a(function(t,n){return"function"==typeof t?new v(this):this.map(function(e){return wt(e,t,n)})}),v.prototype.reject=function(e){return this.filter(ui(d(e)))},v.prototype.slice=function(e,t){e=$(e);var n=this;return n.__filtered__&&(0<e||t<0)?new v(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==Fo?(t=$(t))<0?n.dropRight(-t):n.take(t-e):n)},v.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},v.prototype.toArray=function(){return this.take(Ho)},dt(v.prototype,function(c,e){var u=/^(?:filter|find|map|reject)|While$/.test(e),d=/^(?:head|last)$/.test(e),h=p[d?"take"+("last"==e?"Right":""):e],f=d||/^find/.test(e);h&&(p.prototype[e]=function(){function e(e){return e=h.apply(p,ca([e],r)),d&&s?e[0]:e}var t,n=this.__wrapped__,r=d?[1]:arguments,i=n instanceof v,o=r[0],a=i||F(n),s=(a&&u&&"function"==typeof o&&1!=o.length&&(i=a=!1),this.__chain__),o=!!this.__actions__.length,l=f&&!s,i=i&&!o;return!f&&a?(n=i?n:new v(this),(t=c.apply(n,r)).__actions__.push({func:Hr,args:[e],thisArg:Fo}),new g(t,s)):l&&i?c.apply(this,r):(t=this.thru(e),l?d?t.value()[0]:t.value():t)})}),aa(["pop","push","shift","sort","splice","unshift"],function(e){var n=H[e],r=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",i=/^(?:pop|shift)$/.test(e);p.prototype[e]=function(){var e,t=arguments;return i&&!this.__chain__?(e=this.value(),n.apply(F(e)?e:[],t)):this[r](function(e){return n.apply(F(e)?e:[],t)})}}),dt(v.prototype,function(e,t){var n,r=p[t];r&&(n=r.name+"",(Ee[n]||(Ee[n]=[])).push({name:t,func:r}))}),Ee[$n(Fo,2).name]=[{name:"wrapper",func:Fo}],v.prototype.clone=function(){var e=new v(this.__wrapped__);return e.__actions__=T(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=T(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=T(this.__views__),e},v.prototype.reverse=function(){var e;return this.__filtered__?((e=new v(this)).__dir__=-1,e.__filtered__=!0):(e=this.clone()).__dir__*=-1,e},v.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,n=F(e),r=t<0,i=n?e.length:0,o=function(e,t,n){var r=-1,i=n.length;for(;++r<i;){var o=n[r],a=o.size;switch(o.type){case"drop":e+=a;break;case"dropRight":t-=a;break;case"take":t=S(t,e+a);break;case"takeRight":e=C(e,t-a)}}return{start:e,end:t}}(0,i,this.__views__),a=o.start,s=(o=o.end)-a,l=r?o:a-1,c=this.__iteratees__,u=c.length,d=0,h=S(s,this.__takeCount__);if(!n||!r&&i==s&&h==s)return en(e,this.__actions__);var f=[];e:for(;s--&&d<h;){for(var p=-1,m=e[l+=t];++p<u;){var g=c[p],v=g.iteratee,g=g.type,v=v(m);if(2==g)m=v;else if(!v){if(1==g)continue e;break e}}f[d++]=m}return f},p.prototype.at=Ur,p.prototype.chain=function(){return Br(this)},p.prototype.commit=function(){return new g(this.value(),this.__chain__)},p.prototype.next=function(){this.__values__===Fo&&(this.__values__=Pi(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?Fo:this.__values__[this.__index__++]}},p.prototype.plant=function(e){for(var t,n=this;n instanceof Le;)var r=xr(n),i=(r.__index__=0,r.__values__=Fo,t?i.__wrapped__=r:t=r,r),n=n.__wrapped__;return i.__wrapped__=e,t},p.prototype.reverse=function(){var e=this.__wrapped__;return e instanceof v?(e=e,(e=(e=this.__actions__.length?new v(this):e).reverse()).__actions__.push({func:Hr,args:[Or],thisArg:Fo}),new g(e,this.__chain__)):this.thru(Or)},p.prototype.toJSON=p.prototype.valueOf=p.prototype.value=function(){return en(this.__wrapped__,this.__actions__)},p.prototype.first=p.prototype.head,se&&(p.prototype[se]=function(){return this}),p}();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(ia._=ga,define(function(){return ga})):i?((i.exports=ga)._=ga,r._=ga):ia._=ga}.call(this),!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.HijrahDate=t()}(this,function(){"use strict";var b=[].slice;Object.getPrototypeOf;function T(e){return parseInt(e,10)}function y(e){return"string"==typeof e}function $(e){return"number"==typeof e}var w=Array.isArray;function E(e,t){var n=T(e/t);return(e^t)<0&&n*t!=e&&n--,n}n={};var n,r,i,o,a,s,l,c,u,d,h,_,k,x,t={register:function(e,t){n[e]=t},getLocale:function(e){return n[e]}},A=(r="zero",i="one",o="two",a="few",s="many",l="other",t.register("ar",{DATETIME_FORMATS:{AMPMS:["",""],DAY:["","","","","","",""],ERANAMES:[""],ERAS:[""],FIRSTDAYOFWEEK:5,MONTH:["",""," "," "," "," ","","","",""," "," "],SHORTDAY:["","","","","","",""],SHORTMONTH:["",""," 1"," 2"," 1"," 2","","","",""," "," "],STANDALONEMONTH:["",""," "," "," "," ","","","",""," "," "],WEEKENDRANGE:[4,5],fullDate:"EEEE d MMMM y",longDate:"d MMMM y",medium:"dd/MM/y h:mm:ss a",mediumDate:"dd/MM/y",mediumTime:"h:mm:ss a",short:"d/M/y h:mm a",shortDate:"d/M/y",shortTime:"h:mm a"},NUMBER_FORMATS:{CURRENCY_SYM:"",DECIMAL_SEP:"",GROUP_SEP:"",PATTERNS:[{gSize:3,lgSize:3,maxFrac:3,minFrac:0,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""},{gSize:3,lgSize:3,maxFrac:2,minFrac:2,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""}]},id:"ar",localeID:"ar",pluralCat:function(e,t){return 0==e?r:1==e?i:2==e?o:3<=e%100&&e%100<=10?a:11<=e%100&&e%100<=99?s:l}}),c="one",u="other",t.register("en",{DATETIME_FORMATS:{AMPMS:["AM","PM"],DAY:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],ERANAMES:["Anno Hegirae"],ERAS:["AH"],FIRSTDAYOFWEEK:6,MONTH:["Muharram","Safar","Rabi I","Rabi II","Jumada I","Jumada II","Rajab","Shaban","Ramadan","Shawwal","Dhul-Qidah","Dhul-Hijjah"],SHORTDAY:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],SHORTMONTH:["Muh","Saf","Rab I","Rab II","Jum I","Jum II","Raj","Sha","Ram","Shaw","Dhul-Q","Dhul-H"],STANDALONEMONTH:["Muharram","Safar","Rabi I","Rabi II","Jumada I","Jumada II","Rajab","Shaban","Ramadan","Shawwal","Dhul-Qidah","Dhul-Hijjah"],WEEKENDRANGE:[5,6],fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",medium:"MMM d, y h:mm:ss a",mediumDate:"MMM d, y",mediumTime:"h:mm:ss a",short:"M/d/yy h:mm a",shortDate:"M/d/yy",shortTime:"h:mm a"},NUMBER_FORMATS:{CURRENCY_SYM:"$",DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{gSize:3,lgSize:3,maxFrac:3,minFrac:0,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""},{gSize:3,lgSize:3,maxFrac:2,minFrac:2,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""}]},id:"en",localeID:"en",pluralCat:function(e,t){var n,r,i=0|e;return e=e,void 0===(t=t)&&(t=Math.min((r=e,-1==(n=(r+="").indexOf("."))?0:r.length-n-1),3)),r=Math.pow(10,t),1==i&&0=={v:t,f:(e*r|0)%r}.v?c:u}}),_={yyyy:e("FullYear",4,0,!(h=/:/g),!0),yy:e("FullYear",2,0,!0,!0),y:e("FullYear",1,0,!(d="0"),!0),MMMM:p("Month"),MMM:p("Month",!0),MM:e("Month",2,1),M:e("Month",1,1),LLLL:p("Month",!1,!0),dd:e("Date",2),d:e("Date",1),HH:e("Hours",2),H:e("Hours",1),hh:e("Hours",2,-12),h:e("Hours",1,-12),mm:e("Minutes",2),m:e("Minutes",1),ss:e("Seconds",2),s:e("Seconds",1),sss:e("Milliseconds",3),EEEE:p("Day"),EEE:p("Day",!0),a:function(e,t){return e.getHours()<12?t.AMPMS[0]:t.AMPMS[1]},Z:function(e,t,n){var r=0<=(n=-1*n)?"+":"";return r+=f(Math[0<n?"floor":"ceil"](n/60),2)+f(Math.abs(n%60),2)},ww:m(2),w:m(1),G:g,GG:g,GGG:g,GGGG:function(e,t){return t.ERANAMES[0]}},k=/((?:[^yMLdHhmsaZEwG']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|L+|d+|H+|h+|m+|s+|a|Z|G+|w+))(.*)/,x=/^\-?\d+$/,{formatter:function(e){return v(t.getLocale(e))}});function C(e,t){e=e.replace(h,"");e=Date.parse("Jan 01, 1970 00:00:00 "+e)/6e4;return isNaN(e)?t:e}function S(e,t,n){n=n?-1:1;var r=e.getTimezoneOffset(),t=C(t,r);return e=e,n=n*(t-r),(e=new Date(e.getTime())).setMinutes(e.getMinutes()+n),e}function f(e,t,n,r){var i="";for((e<0||r&&e<=0)&&(r?e=1-e:(e=-e,i="-")),e=""+e;e.length<t;)e=d+e;return i+(e=n?e.substr(e.length-t):e)}function e(t,n,r,i,o){return r=r||0,function(e){e=e["get"+t]();return(0<r||-r<e)&&(e+=r),f(e=0===e&&-12===r?12:e,n,i,o)}}function p(n,r,i){return function(e,t){e=e["get"+n]();return t[y(t=(i?"STANDALONE":"")+(r?"SHORT":"")+n)?t.toUpperCase():t][e]}}function m(t){return function(e){return f(T((e.getDayOfYear()-1)/7)+1,t)}}function g(e,t){return t.ERAS[0]}function v(g){var v=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;return function(t,e,n){var r,i,o,a,s,l,c,u,d,h="",f=[];if(e=g.DATETIME_FORMATS[e=e||"mediumDate"]||e,$(t=y(t)?x.test(t)?T(t):(c=(i=t).match(v))?(o=new O(new Date(0)),l=s=0,a=c[8]?o.setUTCFullYear:o.setFullYear,p=c[8]?o.setUTCHours:o.setHours,c[9]&&(s=T(c[9]+c[10]),l=T(c[9]+c[11])),a.call(o,T(c[1]),T(c[2])-1,T(c[3])),a=T(c[4]||0)-s,s=T(c[5]||0)-l,l=T(c[6]||0),c=Math.round(1e3*parseFloat("0."+(c[7]||0))),p.call(o,a,s,l,c),o):i:t)&&(t=new O(t)),!O.isHijrahDate(t)||!isFinite(t.getTime()))return t;for(;e;)e=(u=k.exec(e))?(u=u,d=1,(f=f.concat(b.call(u,d))).pop()):(f.push(e),null);var p=t.toGregorian(),m=p.getTimezoneOffset();return n&&(m=C(n,m),p=S(p,n,!0),t=new O(p)),function e(t,n,r){if(t)if("function"==typeof t)for(o in t)"prototype"!==o&&"length"!==o&&"name"!==o&&t.hasOwnProperty(o)&&n.call(r,t[o],o,t);else if(w(t)||isArrayLike(t))for(var i="object"!=typeof t,o=0,a=t.length;o<a;o++)(i||o in t)&&n.call(r,t[o],o,t);else if(t.forEach&&t.forEach!==e)t.forEach(n,r,t);else if(isBlankObject(t))for(o in t)n.call(r,t[o],o,t);else if("function"==typeof t.hasOwnProperty)for(o in t)t.hasOwnProperty(o)&&n.call(r,t[o],o,t);else for(o in t)hasOwnProperty.call(t,o)&&n.call(r,t[o],o,t);return t}(f,function(e){h+=(r=_[e])?r(t,g.DATETIME_FORMATS,m):"''"===e?"'":e.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),h}}var O=function(){p.isValid=function(e,t,n){return b(e,t+1,n),!0},p.isHijrahDate=function(e){return"[object Object]"===Object.prototype.toString.call(e)&&e instanceof p},p.prototype.getTime=function(){return this._gregorianDate.getTime()},p.prototype.setFullYear=function(e,t,n){t=$(t)?t+1:this._monthOfYear,n=n||this._dayOfMonth;m(this,g(e,t,n))},p.prototype.getFullYear=function(){return this._year},p.prototype.setMonth=function(e,t){e=g(this.getFullYear(),e+1,t||this._dayOfMonth);m(this,e)},p.prototype.getMonth=function(){return this._monthOfYear-1},p.prototype.setDate=function(e){if(e!==this.getDate())return 0===e?this.minusDays(this.getDate()):e<0?this.minusDays(this.getDate()+Math.abs(e)):this.plusDays(e-this.getMonthLength())},p.prototype.getDate=function(){return this._dayOfMonth},p.prototype.setHours=function(e,t,n,r){e=this._gregorianDate.setHours(e,t,n,r);return m(this,new p(e)),e},p.prototype.getHours=function(){return this._gregorianDate.getHours()},p.prototype.setMinutes=function(e,t,n){return this._gregorianDate.setMinutes(e,t,n)},p.prototype.getMinutes=function(){return this._gregorianDate.getMinutes()},p.prototype.setSeconds=function(e,t){return this._gregorianDate.setSeconds(e,t)},p.prototype.getSeconds=function(){return this._gregorianDate.getSeconds()},p.prototype.getMilliseconds=function(){return this._gregorianDate.getMilliseconds()},p.prototype.getDayOfYear=function(){return function(e,t){return C(e,t-1)}(this._year,this._monthOfYear)+this._dayOfMonth},p.prototype.getWeekOfYear=function(){return T((this.getDayOfYear()-1)/7)+1},p.prototype.getDay=function(){return this._gregorianDate.getDay()},p.prototype.getTimezoneOffset=function(){return this._gregorianDate.getTimezoneOffset()},p.prototype.getMonthLength=function(){return y(this._year,this._monthOfYear)},p.prototype.getYearLength=function(){return w(this._year)},p.prototype.isLeapYear=function(){var e=this._year,t=k(T(e));if(t<0||a<t)throw"Hijrah date out of range";return 354<w(T(e))},p.prototype.toEpochDay=function(){return b(this._year,this._monthOfYear,this._dayOfMonth)},p.prototype.setUTCFullYear=function(e,t,n){return this.setFullYear(e,t,n)},p.prototype.getUTCFullYear=function(){return this.getFullYear()},p.prototype.setUTCHours=function(e,t,n,r){return this._gregorianDate.setUTCHours(e,t,n,r)},p.prototype.getUTCHours=function(){return this._gregorianDate.getUTCHours()},p.prototype.plusYears=function(e){return 0!=e&&m(this,g(this._year+e,this._monthOfYear,this._dayOfMonth)),this},p.prototype.plusMonths=function(e){var t;return 0!==e&&(e=12*this._year+(this._monthOfYear-1)+e,t=function(e){if(e<_(0)||e>_(i.length-1)-1)throw"Invalid Hijrah year: "+e;return T(e)}(E(e,12)),e=T(function(e,t){return e-E(e,t)*t}(e,12)+1),m(this,g(t,e,this._dayOfMonth))),this},p.prototype.plusWeeks=function(e){return this.plusDays(7*e)},p.prototype.plusDays=function(e){e=function(e){e=v(T(e));return new p(e[0],e[1]-1,e[2])}(this.toEpochDay()+e);return m(this,e),this},p.prototype.minusYears=function(e){return this.plusYears(-e)},p.prototype.minusMonths=function(e){return this.plusMonths(-e)},p.prototype.minusWeeks=function(e){return this.plusWeeks(-e)},p.prototype.minusDays=function(e){return this.plusDays(-e)},p.prototype.toGregorian=function(){return new Date(this._gregorianDate)},p.prototype.toString=function(){if(isNaN(this.getTime()))return"Invalid Hijrah Date";return this.format("medium")},p.prototype.format=function(e,t){return 0!==arguments.length?(1!==arguments.length?A.formatter(t):A.formatter("en"))(this,e):A.formatter("en")(this)};var i,o,a,s,u,d,e,t,h=146097,f=5*h-10957,n=[],r=(n[1300]=[30,29,30,29,30,29,30,29,30,29,30,29],n[1301]=[30,30,29,30,29,30,29,30,29,30,29,29],n[1302]=[30,30,30,29,30,30,29,29,30,29,29,30],n[1303]=[29,30,30,29,30,30,29,30,29,30,29,29],n[1304]=[29,30,30,29,30,30,30,29,30,29,30,29],n[1305]=[29,29,30,30,29,30,30,29,30,30,29,29],n[1306]=[30,29,30,29,30,29,30,29,30,30,29,30],n[1307]=[29,30,29,30,29,30,29,30,29,30,29,30],n[1308]=[29,30,30,29,30,29,30,29,30,29,29,30],n[1309]=[29,30,30,30,30,29,29,30,29,29,30,29],n[1310]=[30,29,30,30,30,29,30,29,30,29,29,30],n[1311]=[29,30,29,30,30,30,29,30,29,30,29,29],n[1312]=[30,29,30,29,30,30,29,30,30,29,30,29],n[1313]=[29,30,29,30,29,30,29,30,30,30,29,29],n[1314]=[30,30,29,30,29,29,30,29,30,30,29,30],n[1315]=[29,30,30,29,30,29,29,30,29,30,29,30],n[1316]=[29,30,30,30,29,30,29,29,30,29,30,29],n[1317]=[30,29,30,30,29,30,29,30,29,30,29,29],n[1318]=[30,29,30,30,29,30,30,29,30,29,30,29],n[1319]=[29,30,29,30,30,29,30,29,30,30,29,30],n[1320]=[29,30,29,29,30,29,30,29,30,30,30,29],n[1321]=[30,29,30,29,29,30,29,29,30,30,30,30],n[1322]=[29,30,29,30,29,29,29,30,29,30,30,30],n[1323]=[29,30,30,29,30,29,29,29,30,29,30,30],n[1324]=[29,30,30,29,30,29,30,29,29,30,29,30],n[1325]=[30,29,30,29,30,30,29,30,29,30,29,30],n[1326]=[29,29,30,29,30,30,29,30,29,30,30,29],n[1327]=[30,29,29,30,29,30,29,30,30,29,30,30],n[1328]=[29,30,29,29,30,29,29,30,30,30,29,30],n[1329]=[30,29,30,29,29,30,29,29,30,30,29,30],n[1330]=[30,30,29,30,29,29,30,29,29,30,30,29],n[1331]=[30,30,29,30,30,29,29,30,29,30,29,30],n[1332]=[29,30,29,30,30,29,30,29,30,30,29,29],n[1333]=[30,29,29,30,30,29,30,30,29,30,30,29],n[1334]=[29,29,30,29,30,29,30,30,30,29,30,29],n[1335]=[30,29,30,29,29,30,29,30,30,29,30,30],n[1336]=[29,30,29,30,29,29,30,29,30,29,30,30],n[1337]=[30,29,30,29,30,29,29,30,29,30,29,30],n[1338]=[29,30,30,29,30,30,29,29,30,29,30,29],n[1339]=[30,29,30,29,30,30,30,29,30,29,29,30],n[1340]=[29,29,30,29,30,30,30,30,29,30,29,29],n[1341]=[30,29,29,30,29,30,30,30,29,30,30,29],n[1342]=[29,29,30,29,30,29,30,30,29,30,30,29],n[1343]=[30,29,29,30,29,30,29,30,29,30,30,29],n[1344]=[30,29,30,29,30,30,29,29,30,29,30,29],n[1345]=[30,29,30,30,30,29,30,29,29,30,29,29],n[1346]=[30,29,30,30,30,30,29,30,29,29,30,29],n[1347]=[29,30,29,30,30,30,29,30,30,29,29,30],n[1348]=[29,29,30,29,30,30,29,30,30,30,29,29],n[1349]=[30,29,29,30,29,30,30,29,30,30,29,30],n[1350]=[29,30,29,30,29,30,29,29,30,30,29,30],n[1351]=[30,29,30,29,30,29,30,29,29,30,29,30],n[1352]=[30,29,30,30,29,30,29,30,29,29,30,29],n[1353]=[30,29,30,30,30,29,30,29,29,30,29,30],n[1354]=[29,30,29,30,30,29,30,30,29,30,29,29],n[1355]=[30,29,29,30,30,29,30,30,29,30,30,29],n[1356]=[29,30,29,30,29,30,29,30,29,30,30,30],n[1357]=[29,29,30,29,30,29,29,30,29,30,30,30],n[1358]=[29,30,29,30,29,30,29,29,30,29,30,30],n[1359]=[29,30,30,29,30,29,30,29,29,29,30,30],n[1360]=[29,30,30,30,29,30,29,30,29,29,30,29],n[1361]=[30,29,30,30,29,30,30,29,29,30,29,30],n[1362]=[29,30,29,30,29,30,30,29,30,29,30,29],n[1363]=[30,29,30,29,30,29,30,29,30,29,30,30],n[1364]=[29,30,29,30,29,29,30,29,30,29,30,30],n[1365]=[30,30,29,29,30,29,29,30,29,30,29,30],n[1366]=[30,30,29,30,29,30,29,29,30,29,30,29],n[1367]=[30,30,29,30,30,29,30,29,29,30,29,30],n[1368]=[29,30,29,30,30,30,29,29,30,29,30,29],n[1369]=[30,29,30,29,30,30,29,30,29,30,30,29],n[1370]=[30,29,29,30,29,30,29,30,29,30,30,30],n[1371]=[29,30,29,29,30,29,30,29,30,29,30,30],n[1372]=[30,29,29,30,29,30,29,29,30,29,30,30],n[1373]=[30,29,30,29,30,29,30,29,29,30,29,30],n[1374]=[30,29,30,30,29,30,29,30,29,29,30,29],n[1375]=[30,29,30,30,29,30,30,29,30,29,30,29],n[1376]=[29,30,29,30,29,30,30,30,29,30,29,30],n[1377]=[29,29,30,29,29,30,30,30,29,30,30,29],n[1378]=[30,29,29,29,30,29,30,30,29,30,30,30],n[1379]=[29,30,29,29,29,30,29,30,30,29,30,30],n[1380]=[29,30,29,30,29,30,29,30,29,30,29,30],n[1381]=[29,30,29,30,30,29,30,29,30,29,29,30],n[1382]=[29,30,29,30,30,29,30,30,29,30,29,29],n[1383]=[30,29,29,30,30,30,29,30,30,29,30,29],n[1384]=[29,30,29,29,30,30,29,30,30,30,29,30],n[1385]=[29,29,30,29,29,30,30,29,30,30,30,29],n[1386]=[30,29,29,30,29,29,30,30,29,30,30,29],n[1387]=[30,29,30,29,30,29,30,29,30,29,30,29],n[1388]=[30,30,29,30,29,30,29,30,29,30,29,29],n[1389]=[30,30,29,30,30,29,30,30,29,29,30,29],n[1390]=[29,30,29,30,30,30,29,30,29,30,29,30],n[1391]=[29,29,30,29,30,30,29,30,30,29,30,29],n[1392]=[30,29,29,30,29,30,29,30,30,29,30,30],n[1393]=[29,30,29,29,30,29,30,29,30,29,30,30],n[1394]=[30,29,30,29,29,30,29,30,29,30,29,30],n[1395]=[30,29,30,30,29,30,29,29,30,29,29,30],n[1396]=[30,29,30,30,29,30,30,29,29,30,29,29],n[1397]=[30,29,30,30,29,30,30,30,29,29,29,30],n[1398]=[29,30,29,30,30,29,30,30,29,30,29,29],n[1399]=[30,29,30,29,30,29,30,30,29,30,29,30],n[1400]=[30,29,30,29,29,30,29,30,29,30,29,30],n[1401]=[30,30,29,30,29,29,30,29,29,30,29,30],n[1402]=[30,30,30,29,30,29,29,30,29,29,30,29],n[1403]=[30,30,30,29,30,30,29,29,30,29,29,30],n[1404]=[29,30,30,29,30,30,29,30,29,30,29,29],n[1405]=[30,29,30,29,30,30,30,29,30,29,29,30],n[1406]=[30,29,29,30,29,30,30,29,30,29,30,30],n[1407]=[29,30,29,29,30,29,30,29,30,29,30,30],n[1408]=[30,29,30,29,30,29,29,30,29,29,30,30],n[1409]=[30,30,29,30,29,30,29,29,30,29,29,30],n[1410]=[30,30,29,30,30,29,30,29,29,30,29,29],n[1411]=[30,30,29,30,30,29,30,30,29,29,30,29],n[1412]=[30,29,30,29,30,29,30,30,30,29,29,30],n[1413]=[29,30,29,29,30,29,30,30,30,29,30,29],n[1414]=[30,29,30,29,29,30,29,30,30,29,30,30],n[1415]=[29,30,29,30,29,29,30,29,30,29,30,30],n[1416]=[30,29,30,29,30,29,29,30,29,30,29,30],n[1417]=[30,29,30,30,29,29,30,29,30,29,30,29],n[1418]=[30,29,30,30,29,30,29,30,29,30,29,30],n[1419]=[29,30,29,30,29,30,29,30,30,30,29,29],n[1420]=[29,30,29,29,30,29,30,30,30,30,29,30],n[1421]=[29,29,30,29,29,29,30,30,30,30,29,30],n[1422]=[30,29,29,30,29,29,29,30,30,30,29,30],n[1423]=[30,29,30,29,30,29,29,30,29,30,29,30],n[1424]=[30,29,30,30,29,30,29,29,30,29,30,29],n[1425]=[30,29,30,30,29,30,29,30,30,29,30,29],n[1426]=[29,30,29,30,29,30,30,29,30,30,29,30],n[1427]=[29,29,30,29,30,29,30,30,29,30,30,29],n[1428]=[30,29,29,30,29,29,30,30,30,29,30,30],n[1429]=[29,30,29,29,30,29,29,30,30,29,30,30],n[1430]=[29,30,30,29,29,30,29,30,29,30,29,30],n[1431]=[29,30,30,29,30,29,30,29,30,29,29,30],n[1432]=[29,30,30,30,29,30,29,30,29,30,29,29],n[1433]=[30,29,30,30,29,30,30,29,30,29,30,29],n[1434]=[29,30,29,30,29,30,30,29,30,30,29,29],n[1435]=[30,29,30,29,30,29,30,29,30,30,29,30],n[1436]=[29,30,29,30,29,30,29,30,29,30,29,30],n[1437]=[30,29,30,30,29,29,30,29,30,29,29,30],n[1438]=[30,29,30,30,30,29,29,30,29,29,30,29],n[1439]=[30,29,30,30,30,29,30,29,30,29,29,30],n[1440]=[29,30,29,30,30,30,29,30,29,30,29,29],n[1441]=[30,29,30,29,30,30,29,30,30,29,30,29],n[1442]=[29,30,29,30,29,30,29,30,30,29,30,29],n[1443]=[30,29,30,29,30,29,30,29,30,29,30,30],n[1444]=[29,30,29,30,30,29,29,30,29,30,29,30],n[1445]=[29,30,30,30,29,30,29,29,30,29,29,30],n[1446]=[29,30,30,30,29,30,30,29,29,30,29,29],n[1447]=[30,29,30,30,30,29,30,29,30,29,30,29],n[1448]=[29,30,29,30,30,29,30,30,29,30,29,30],n[1449]=[29,29,30,29,30,29,30,30,29,30,30,29],n[1450]=[30,29,30,29,29,30,29,30,29,30,30,29],n[1451]=[30,30,30,29,29,30,29,29,30,30,29,30],n[1452]=[30,29,30,30,29,29,30,29,29,30,29,30],n[1453]=[30,29,30,30,29,30,29,30,29,29,30,29],n[1454]=[30,29,30,30,29,30,30,29,30,29,30,29],n[1455]=[29,30,29,30,30,29,30,29,30,30,29,30],n[1456]=[29,29,30,29,30,29,30,29,30,30,30,29],n[1457]=[30,29,29,30,29,29,30,29,30,30,30,30],n[1458]=[29,30,29,29,30,29,29,30,29,30,30,30],n[1459]=[29,30,30,29,29,30,29,29,30,29,30,30],n[1460]=[29,30,30,29,30,29,30,29,29,30,29,30],n[1461]=[29,30,30,29,30,29,30,29,30,30,29,29],n[1462]=[30,29,30,29,30,30,29,30,29,30,30,29],n[1463]=[29,30,29,30,29,30,29,30,30,30,29,30],n[1464]=[29,30,29,29,30,29,29,30,30,30,29,30],n[1465]=[30,29,30,29,29,30,29,29,30,30,29,30],n[1466]=[30,30,29,30,29,29,29,30,29,30,30,29],n[1467]=[30,30,29,30,30,29,29,30,29,30,29,30],n[1468]=[29,30,29,30,30,29,30,29,30,29,30,29],n[1469]=[29,30,29,30,30,29,30,30,29,30,29,30],n[1470]=[29,29,30,29,30,30,29,30,30,29,30,29],n[1471]=[30,29,29,30,29,30,29,30,30,29,30,30],n[1472]=[29,30,29,29,30,29,30,29,30,30,29,30],n[1473]=[29,30,29,30,30,29,29,30,29,30,29,30],n[1474]=[29,30,30,29,30,30,29,29,30,29,30,29],n[1475]=[29,30,30,29,30,30,30,29,29,30,29,29],n[1476]=[30,29,30,29,30,30,30,29,30,29,30,29],n[1477]=[29,30,29,29,30,30,30,30,29,30,29,30],n[1478]=[29,29,30,29,30,29,30,30,29,30,30,29],n[1479]=[30,29,29,30,29,30,29,30,29,30,30,29],n[1480]=[30,29,30,29,30,29,30,29,30,29,30,29],n[1481]=[30,29,30,30,29,30,29,30,29,30,29,29],n[1482]=[30,29,30,30,30,30,29,30,29,29,30,29],n[1483]=[29,30,29,30,30,30,29,30,30,29,29,30],n[1484]=[29,29,30,29,30,30,30,29,30,29,30,29],n[1485]=[30,29,29,30,29,30,30,29,30,30,29,30],n[1486]=[29,30,29,29,30,29,30,29,30,30,29,30],n[1487]=[30,29,30,29,30,29,29,30,29,30,29,30],n[1488]=[30,29,30,30,29,30,29,29,30,29,30,29],n[1489]=[30,29,30,30,30,29,30,29,29,30,29,30],n[1490]=[29,30,29,30,30,29,30,30,29,29,30,29],n[1491]=[30,29,29,30,30,29,30,30,29,30,29,30],n[1492]=[29,30,29,29,30,30,29,30,29,30,30,29],n[1493]=[30,29,30,29,30,29,29,30,29,30,30,30],n[1494]=[29,30,29,30,29,30,29,29,29,30,30,30],n[1495]=[29,30,30,29,30,29,29,30,29,29,30,30],n[1496]=[29,30,30,30,29,30,29,29,30,29,29,30],n[1497]=[30,29,30,30,29,30,29,30,29,30,29,30],n[1498]=[29,30,29,30,29,30,30,29,30,29,30,29],n[1499]=[30,29,30,29,29,30,30,29,30,29,30,30],n[1500]=[29,30,29,30,29,29,30,29,30,29,30,30],n[1501]=[30,29,30,29,30,29,29,29,30,29,30,30],n[1502]=[30,30,29,30,29,30,29,29,29,30,30,29],n[1503]=[30,30,29,30,30,29,30,29,29,29,30,30],n[1504]=[29,30,29,30,30,30,29,29,30,29,30,29],n[1505]=[30,29,30,29,30,30,29,30,29,30,30,29],n[1506]=[29,30,29,29,30,30,29,30,30,29,30,30],n[1507]=[29,29,30,29,29,30,30,29,30,29,30,30],n[1508]=[30,29,29,30,29,30,29,29,30,29,30,30],n[1509]=[30,29,30,29,30,29,30,29,29,30,29,30],n[1510]=[30,29,30,30,29,30,29,30,29,29,30,29],n[1511]=[30,29,30,30,29,30,30,29,30,29,29,30],n[1512]=[29,30,29,30,29,30,30,30,29,30,29,30],n[1513]=[29,29,29,30,29,30,30,30,29,30,30,29],n[1514]=[30,29,29,29,30,29,30,30,29,30,30,30],n[1515]=[29,29,30,29,29,30,29,30,30,29,30,30],n[1516]=[29,30,29,30,29,29,30,29,30,29,30,30],n[1517]=[29,30,29,30,29,30,30,29,29,30,29,30],n[1518]=[29,30,29,30,30,29,30,30,29,30,29,29],n[1519]=[30,29,29,30,30,30,29,30,30,29,30,29],n[1520]=[29,30,29,29,30,30,30,29,30,30,29,30],n[1521]=[29,29,29,30,29,30,30,29,30,30,29,30],n[1522]=[30,29,29,29,30,29,30,30,29,30,30,29],n[1523]=[30,29,30,29,30,29,30,29,29,30,30,29],n[1524]=[30,30,29,30,29,30,29,30,29,29,30,29],n[1525]=[30,30,29,30,30,29,30,29,30,29,29,30],n[1526]=[29,30,29,30,30,30,29,30,29,30,29,29],n[1527]=[30,29,30,29,30,30,29,30,30,29,30,29],n[1528]=[30,29,29,30,29,30,29,30,30,29,30,30],n[1529]=[29,30,29,29,30,29,30,29,30,29,30,30],n[1530]=[29,30,30,29,29,30,29,30,29,29,30,30],n[1531]=[29,30,30,30,29,29,30,29,30,29,29,30],n[1532]=[29,30,30,30,29,30,30,29,29,29,30,29],n[1533]=[30,29,30,30,30,29,30,29,30,29,29,30],n[1534]=[29,30,29,30,30,29,30,30,29,29,30,29],n[1535]=[30,29,30,29,30,29,30,30,29,30,29,30],n[1536]=[29,30,29,30,29,30,29,30,29,30,29,30],n[1537]=[30,29,30,30,29,29,30,29,29,30,29,30],n[1538]=[30,30,29,30,30,29,29,30,29,29,30,29],n[1539]=[30,30,30,29,30,30,29,29,30,29,29,30],n[1540]=[29,30,30,29,30,30,29,30,29,29,30,29],n[1541]=[30,29,30,29,30,30,30,29,30,29,29,30],n[1542]=[29,30,29,30,29,30,30,29,30,29,30,30],n[1543]=[29,30,29,29,30,29,30,29,30,29,30,30],n[1544]=[30,29,30,29,29,30,29,30,29,30,29,30],n[1545]=[30,30,29,30,29,29,30,29,30,29,29,30],n[1546]=[30,30,29,30,29,30,29,30,29,30,29,29],n[1547]=[30,30,29,30,30,29,30,29,30,29,30,29],n[1548]=[30,29,29,30,30,29,30,30,29,30,29,30],n[1549]=[29,30,29,29,30,29,30,30,30,29,30,29],n[1550]=[30,29,30,29,29,29,30,30,30,29,30,30],n[1551]=[29,30,29,29,30,29,29,30,30,29,30,30],n[1552]=[30,29,30,29,29,30,29,29,30,30,29,30],n[1553]=[30,29,30,29,30,29,30,29,30,29,30,29],n[1554]=[30,29,30,29,30,30,29,30,29,30,29,30],n[1555]=[29,29,30,29,30,30,29,30,30,29,30,29],n[1556]=[30,29,29,30,29,30,29,30,30,30,29,30],n[1557]=[29,30,29,29,29,30,29,30,30,30,30,29],n[1558]=[30,29,30,29,29,29,30,29,30,30,30,29],n[1559]=[30,30,29,29,30,29,29,30,30,29,30,29],n[1560]=[30,30,29,30,29,30,29,30,29,30,29,30],n[1561]=[29,30,30,29,30,29,30,30,29,29,30,29],n[1562]=[29,30,30,29,30,29,30,30,30,29,29,30],n[1563]=[29,30,29,29,30,29,30,30,30,29,30,29],n[1564]=[30,29,30,29,29,30,29,30,30,30,29,30],n[1565]=[29,30,29,30,29,29,30,29,30,30,29,30],n[1566]=[30,29,30,29,30,29,29,30,29,30,29,30],n[1567]=[30,29,30,30,29,30,29,30,29,29,30,29],n[1568]=[30,29,30,30,30,29,30,29,30,29,29,29],n[1569]=[30,29,30,30,30,29,30,30,29,30,29,29],n[1570]=[29,30,29,30,30,29,30,30,30,29,29,30],n[1571]=[29,29,30,29,30,30,29,30,30,29,30,29],n[1572]=[30,29,29,30,29,30,29,30,30,29,30,29],n[1573]=[30,29,30,30,29,30,29,29,30,29,30,29],n[1574]=[30,30,29,30,30,29,30,29,29,30,29,29],n[1575]=[30,30,30,29,30,30,29,30,29,29,29,30],n[1576]=[29,30,30,29,30,30,30,29,30,29,29,29],n[1577]=[30,29,30,30,29,30,30,29,30,29,30,29],n[1578]=[29,30,29,30,29,30,30,29,30,30,29,30],n[1579]=[29,30,29,30,29,29,30,30,29,30,29,30],n[1580]=[29,30,30,29,30,29,29,30,29,30,29,30],n[1581]=[30,30,29,30,29,30,29,29,30,29,30,29],n[1582]=[30,30,29,30,30,29,30,29,30,29,29,29],n[1583]=[30,30,29,30,30,30,29,30,29,30,29,29],n[1584]=[29,30,30,29,30,30,29,30,30,29,30,29],n[1585]=[29,30,29,30,29,30,29,30,30,29,30,30],n[1586]=[29,29,30,29,30,29,29,30,30,30,29,30],n[1587]=[29,30,30,29,29,29,30,29,30,29,30,30],n[1588]=[30,29,30,30,29,29,29,30,29,30,29,30],n[1589]=[30,29,30,30,29,30,29,29,30,29,30,29],n[1590]=[30,29,30,30,30,29,29,30,29,30,29,30],n[1591]=[29,30,29,30,30,29,30,29,30,29,30,29],n[1592]=[30,29,30,29,30,29,30,29,30,30,30,29],n[1593]=[30,29,29,30,29,29,30,29,30,30,30,29],n[1594]=[30,30,29,29,30,29,29,29,30,30,30,30],n[1595]=[29,30,29,30,29,29,30,29,29,30,30,30],n[1596]=[29,30,30,29,30,29,29,30,29,30,29,30],n[1597]=[29,30,30,29,30,29,30,29,30,29,30,29],n[1598]=[30,29,30,29,30,30,29,30,29,30,30,29],n[1599]=[29,30,29,30,29,30,29,30,30,30,29,30],n[1600]=[29,29,30,29,30,29,29,30,30,30,29,30],S(new Date(1882,10,12)));s=15600,i=function(e,t,n,r){var i=0,o=new Array(12*(n-t+1)+1);u=Number.MIN_VALUE,d=Number.MAX_VALUE;for(var a=t;a<=n;a++)for(var s=r[a],l=0;l<12;l++){var c=s[l];if(o[i++]=e,c<29||32<c)throw"Invalid month length in year: "+t;e+=c,u=Math.min(u,c),d=Math.max(d,c)}if(o[i++]=e,i==o.length)return o;throw"Did not fill epochMonths exactly: ndx = "+i+" should be "+o.length}(o=r,1300,1600,n),a=i[i.length-1],t=e=0;for(var l=1300;l<1600;l++){var c=w(l);e=Math.min(e,c),t=Math.max(t,c)}function p(e,t,n,r,i,o,a){var s,l,c,u,d;this._year=Number.NaN,this._monthOfYear=Number.NaN,this._dayOfMonth=Number.NaN,u=0===arguments.length?(l=(d=v(S(s=new Date)))[0],c=d[1],d[2]):1===arguments.length?p.isHijrahDate(e)?(s=(u=e).toGregorian(),l=u._year,c=u._monthOfYear,u._dayOfMonth):(l=(d=v(S(s=new Date(e))))[0],c=d[1],d[2]):((s=function(e){var e=e+f,t=0;(e-=60)<0&&(n=T((e+1)/h-1),t=400*n,e+=-n*h);var n=T((400*e+591)/h),r=e-(365*n+T(n/4)-T(n/100)+T(n/400));r<0&&(r=e-T(365*--n+n/4-n/100+n/400));n+=t;e=T(r),t=T((5*e+2)/153),r=(t+2)%12+1,e=e-T((306*t+5)/10)+1;return n+=T(t/10),new Date(n,r-1,e)}(b(e,t+1,n||1))).setHours(r||0,i||0,o||0,a||0),l=(d=v(S(s)))[0],c=d[1],d[2]),this._year=l,this._monthOfYear=c,this._dayOfMonth=u,this._gregorianDate=s}function m(e,t){e._year=t._year,e._monthOfYear=t._monthOfYear,e._dayOfMonth=t._dayOfMonth,e._gregorianDate.setFullYear(t._gregorianDate.getFullYear(),t._gregorianDate.getMonth(),t._gregorianDate.getDate())}function g(e,t,n){var r=y(e,t);return new p(e,t-1,n=r<n?r:n)}function v(e){if(e<o||a<=e)throw"Hijrah date out of range";var t=function(e){e=function(e,t){for(var n=0,r=e.length-1;n<=r;){var i=n+r>>>1,o=e[i];if(o<t)n=1+i;else{if(!(t<o))return i;r=i-1}}return-(n+1)}(i,e);e<0&&(e=-e-2);return e}(e),n=_(t),r=(t+s)%12,e=e-x(t),t=new Array(3);return t[0]=n,t[1]=1+r,t[2]=1+e,t}function b(e,t,n){var r=t;if(r<1||12<r)throw"Invalid Hijrah month: "+r;r=k(e)+(t-1);if(r<0||r>=i.length)throw"Invalid Hijrah date, year: "+e+", month: "+t;if(n<1||n>y(e,t))throw"Invalid Hijrah day of month: "+n;return x(r)+(n-1)}function y(e,t){var n=k(e)+(t-1);if(n<0||n>=i.length)throw"Invalid Hijrah date, year: "+e+", month: "+t;return i[n+1]-i[n]}function w(e){return C(e,12)}function _(e){return T((e+s)/12)}function k(e){return 12*e-s}function x(e){return i[e]}function C(e,t){e=k(e);return x(e+t)-x(e)}function S(e){var t=e.getFullYear(),n=e.getMonth()+1,r=0;return r+=365*t,0<=t?r+=T((t+3)/4)-T((t+99)/100)+T((t+399)/400):r-=T(t/-4-t/-100+t/-400),r=(r+=T((367*n-362)/12))+(e.getDate()-1),2<n&&(r--,0==(0==(3&(t=e.getFullYear()))&&(t%100!=0||t%400==0))&&r--),r-f}return p}();return O}),!function(){"use strict";angular.module("vcRecaptcha",[])}(),!function(g){"use strict";g.module("vcRecaptcha").provider("vcRecaptchaService",function(){var p=this,m={};p.onLoadFunctionName="vcRecaptchaApiLoaded",p.setDefaults=function(e){g.copy(e,m)},p.setSiteKey=function(e){m.key=e},p.setTheme=function(e){m.theme=e},p.setStoken=function(e){m.stoken=e},p.setSize=function(e){m.size=e},p.setType=function(e){m.type=e},p.setLang=function(e){m.lang=e},p.setBadge=function(e){m.badge=e},p.setOnLoadFunctionName=function(e){p.onLoadFunctionName=e},p.$get=["$rootScope","$window","$q","$document","$interval",function(t,e,r,n,i){function o(){a=e.grecaptcha,c.resolve(a)}var a,s,l,c=r.defer(),u=c.promise,d={};e.vcRecaptchaApiLoadedCallback=e.vcRecaptchaApiLoadedCallback||[];function h(){if(!a)throw new Error("reCaptcha has not been loaded yet.")}function f(){return g.isFunction((e.grecaptcha||{}).render)}return e.vcRecaptchaApiLoadedCallback.push(o),e[p.onLoadFunctionName]=function(){e.vcRecaptchaApiLoadedCallback.forEach(function(e){e()})},f()?o():e.document.querySelector('script[src^="https://www.google.com/recaptcha/api.js"]')?s=i(function(){f()&&(i.cancel(s),o())},25):((l=e.document.createElement("script")).async=!0,l.defer=!0,l.src="https://www.google.com/recaptcha/api.js?onload="+p.onLoadFunctionName+"&render=explicit",n.find("body")[0].appendChild(l)),{create:function(t,n){if(n.sitekey=n.key||m.key,n.theme=n.theme||m.theme,n.stoken=n.stoken||m.stoken,n.size=n.size||m.size,n.type=n.type||m.type,n.hl=n.lang||m.lang,n.badge=n.badge||m.badge,n.sitekey)return(a?r.when(a):u).then(function(e){e=e.render(t,n);return d[e]=t,e});throw new Error('You need to set the "key" attribute to your public reCaptcha key. If you don\'t have a key, please get one from https://www.google.com/recaptcha/admin/create')},reload:function(e){h(),a.reset(e),t.$broadcast("reCaptchaReset",e)},execute:function(e){h(),a.execute(e)},useLang:function(e,t){var n=d[e];if(!n)throw new Error("reCaptcha Widget ID not exists",e);e=n.querySelector("iframe");if(!t)return e&&e.src&&/[?&]hl=\w+/.test(e.src)?e.src.replace(/.+[?&]hl=(\w+)([^\w].+)?/,"$1"):null;e&&e.src&&(n=e.src,/[?&]hl=/.test(n)?n=n.replace(/([?&]hl=)\w+/,"$1"+t):n+=(-1===n.indexOf("?")?"?":"&")+"hl="+t,e.src=n)},getResponse:function(e){return h(),a.getResponse(e)},getInstance:function(e){return d[e]},destroy:function(e){delete d[e]}}}]})}(angular),!function(d){"use strict";d.module("vcRecaptcha").directive("vcRecaptcha",["$document","$timeout","vcRecaptchaService",function(l,c,u){return{restrict:"A",require:"?^^form",scope:{response:"=?ngModel",key:"=?",stoken:"=?",theme:"=?",size:"=?",type:"=?",lang:"=?",badge:"=?",tabindex:"=?",required:"=?",onCreate:"&",onSuccess:"&",onExpire:"&"},link:function(r,t,n,e){r.widgetId=null,e&&d.isDefined(n.required)&&r.$watch("required",s);var i=r.$watch("key",function(e){u.create(t[0],{callback:function(e){c(function(){r.response=e,s(),r.onSuccess({response:e,widgetId:r.widgetId})})},key:e,stoken:r.stoken||n.stoken||null,theme:r.theme||n.theme||null,type:r.type||n.type||null,lang:r.lang||n.lang||null,tabindex:r.tabindex||n.tabindex||null,size:r.size||n.size||null,badge:r.badge||n.badge||null,"expired-callback":a}).then(function(n){s(),r.widgetId=n,r.onCreate({widgetId:n}),r.$on("$destroy",o),r.$on("reCaptchaReset",function(e,t){!d.isUndefined(t)&&n!==t||(r.response="",s())})}),i()});function o(){e&&e.$setValidity("recaptcha",null),u.destroy(r.widgetId),d.element(l[0].querySelectorAll(".pls-container")).parent().remove()}function a(){c(function(){r.response="",s(),r.onExpire({widgetId:r.widgetId})})}function s(){e&&e.$setValidity("recaptcha",!1===r.required?null:Boolean(r.response))}}}}])}(angular),!function(e){const t=e.en=e.en||{};t.dictionary=Object.assign(t.dictionary||{},{"%0 of %1":"%0 of %1","Block quote":"Block quote",Bold:"Bold","Bulleted List":"Bulleted List",Cancel:"Cancel","Cannot upload file:":"Cannot upload file:","Centered image":"Centered image","Change image text alternative":"Change image text alternative","Choose heading":"Choose heading",Column:"Column","Could not insert image at the current position.":"Could not insert image at the current position.","Could not obtain resized image URL.":"Could not obtain resized image URL.","Decrease indent":"Decrease indent","Delete column":"Delete column","Delete row":"Delete row",Downloadable:"Downloadable","Dropdown toolbar":"Dropdown toolbar","Edit link":"Edit link","Editor toolbar":"Editor toolbar","Enter image caption":"Enter image caption","Full size image":"Full size image","Header column":"Header column","Header row":"Header row",Heading:"Heading","Heading 1":"Heading 1","Heading 2":"Heading 2","Heading 3":"Heading 3","Heading 4":"Heading 4","Heading 5":"Heading 5","Heading 6":"Heading 6","Image toolbar":"Image toolbar","image widget":"image widget","Increase indent":"Increase indent","Insert column left":"Insert column left","Insert column right":"Insert column right","Insert image":"Insert image","Insert image or file":"Insert image or file","Insert media":"Insert media","Insert paragraph after block":"Insert paragraph after block","Insert paragraph before block":"Insert paragraph before block","Insert row above":"Insert row above","Insert row below":"Insert row below","Insert table":"Insert table","Inserting image failed":"Inserting image failed",Italic:"Italic","Left aligned image":"Left aligned image",Link:"Link","Link URL":"Link URL","Media URL":"Media URL","media widget":"media widget","Merge cell down":"Merge cell down","Merge cell left":"Merge cell left","Merge cell right":"Merge cell right","Merge cell up":"Merge cell up","Merge cells":"Merge cells",Next:"Next","Numbered List":"Numbered List","Open in a new tab":"Open in a new tab","Open link in new tab":"Open link in new tab",Paragraph:"Paragraph","Paste the media URL in the input.":"Paste the media URL in the input.",Previous:"Previous",Redo:"Redo","Rich Text Editor":"Rich Text Editor","Rich Text Editor, %0":"Rich Text Editor, %0","Right aligned image":"Right aligned image",Row:"Row",Save:"Save","Select all":"Select all","Select column":"Select column","Select row":"Select row","Selecting resized image failed":"Selecting resized image failed","Show more items":"Show more items","Side image":"Side image","Split cell horizontally":"Split cell horizontally","Split cell vertically":"Split cell vertically","Table toolbar":"Table toolbar","Text alternative":"Text alternative","The URL must not be empty.":"The URL must not be empty.","This link has no URL":"This link has no URL","This media URL is not supported.":"This media URL is not supported.","Tip: Paste the URL into the content to embed faster.":"Tip: Paste the URL into the content to embed faster.",Undo:"Undo",Unlink:"Unlink","Upload failed":"Upload failed","Upload in progress":"Upload in progress","Widget toolbar":"Widget toolbar"})}(window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={})),function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.ClassicEditor=t():e.ClassicEditor=t()}(window,function(){return n=[function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"c",function(){return i}),n.d(t,"b",function(){return o});class r extends Error{constructor(e,t,n){super(""+e+(n?" "+JSON.stringify(n):"")+a(e)),this.name="CKEditorError",this.context=t,this.data=n}is(e){return"CKEditorError"===e}static rethrowUnexpectedError(e,t){if(e.is&&e.is("CKEditorError"))throw e;const n=new r(e.message,t);throw n.stack=e.stack,n}}function i(e,t){console.warn(...s(e,t))}function o(e,t){console.error(...s(e,t))}function a(e){return"\nRead more: https://ckeditor.com/docs/ckeditor5/latest/framework/guides/support/error-codes.html#error-"+e}function s(e,t){var n=a(e);return t?[e,t,n]:[e,n]}},function(e,t,i){"use strict";r={};var n,r,o=function(e){if(void 0===r[e]){var t=document.querySelector(e);if(window.HTMLIFrameElement&&t instanceof window.HTMLIFrameElement)try{t=t.contentDocument.head}catch(e){t=null}r[e]=t}return r[e]},c=[];function u(e){for(var t=-1,n=0;n<c.length;n++)if(c[n].identifier===e){t=n;break}return t}function s(e,t){for(var n={},r=[],i=0;i<e.length;i++){var o=e[i],a=t.base?o[0]+t.base:o[0],s=n[a]||0,l="".concat(a," ").concat(s),a=(n[a]=s+1,u(l)),s={css:o[1],media:o[2],sourceMap:o[3]};-1!==a?(c[a].references++,c[a].updater(s)):c.push({identifier:l,updater:function(t,e){var n,r,i;{var o;i=e.singleton?(o=p++,n=f=f||d(e),r=h.bind(null,n,o,!1),h.bind(null,n,o,!0)):(n=d(e),r=function(e,t,n){var r=n.css,i=n.media,n=n.sourceMap;if(i?e.setAttribute("media",i):e.removeAttribute("media"),n&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(n))))," */")),e.styleSheet)e.styleSheet.cssText=r;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(r))}}.bind(null,n,e),function(){var e;null!==(e=n).parentNode&&e.parentNode.removeChild(e)})}return r(t),function(e){e?e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap||r(t=e):i()}}(s,t),references:1}),r.push(l)}return r}function d(e){var t=document.createElement("style"),n=e.attributes||{};if(void 0!==n.nonce||(r=i.nc)&&(n.nonce=r),Object.keys(n).forEach(function(e){t.setAttribute(e,n[e])}),"function"==typeof e.insert)e.insert(t);else{var r=o(e.insert||"head");if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(t)}return t}a=[];var a,l=function(e,t){return a[e]=t,a.filter(Boolean).join("\n")};function h(e,t,n,r){var n=n?"":r.media?"@media ".concat(r.media," {").concat(r.css,"}"):r.css;e.styleSheet?e.styleSheet.cssText=l(t,n):(r=document.createTextNode(n),(n=e.childNodes)[t]&&e.removeChild(n[t]),n.length?e.insertBefore(r,n[t]):e.appendChild(r))}var f=null,p=0;e.exports=function(e,o){(o=o||{}).singleton||"boolean"==typeof o.singleton||(o.singleton=n=void 0===n?Boolean(window&&document&&document.all&&!window.atob):n);var a=s(e=e||[],o);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var t=0;t<a.length;t++){var n=u(a[t]);c[n].references--}for(var e=s(e,o),r=0;r<a.length;r++){var i=u(a[r]);0===c[i].references&&(c[i].updater(),c.splice(i,1))}a=e}}}},,function(e,t,n){"use strict";var n=n(8),r="object"==typeof self&&self&&self.Object===Object&&self,n=n.a||r||Function("return this")();t.a=n},function(e,i,o){"use strict";!function(e){var t=o(3),n=o(13),r="object"==typeof exports&&exports&&!exports.nodeType&&exports,e=r&&"object"==typeof e&&e&&!e.nodeType&&e,e=e&&e.exports===r?t.a.Buffer:void 0,r=(e?e.isBuffer:void 0)||n.a;i.a=r}.call(this,o(10)(e))},function(e,o,a){"use strict";!function(e){var t=a(8),n="object"==typeof exports&&exports&&!exports.nodeType&&exports,r=n&&"object"==typeof e&&e&&!e.nodeType&&e,i=r&&r.exports===n&&t.a.process,e=function(){try{return r&&r.require&&r.require("util").types||i&&i.binding&&i.binding("util")}catch(e){}}();o.a=e}.call(this,a(10)(e))},function(e,t,r){"use strict";!function(e){var t=r(0);const n="object"==typeof window?window:e;if(n.CKEDITOR_VERSION)throw new t.a("ckeditor-duplicated-modules",null);n.CKEDITOR_VERSION="23.1.0"}.call(this,r(11))},function(e,t,n){var r=n(1),n=n(60);r(n="string"==typeof(n=n.__esModule?n.default:n)?[[e.i,n,""]]:n,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),e.exports=n.locals||{}},function(e,t,n){"use strict";!function(e){e="object"==typeof e&&e&&e.Object===Object&&e;t.a=e}.call(this,n(11))},function(e,i,o){"use strict";!function(e){var t=o(3),n="object"==typeof exports&&exports&&!exports.nodeType&&exports,e=n&&"object"==typeof e&&e&&!e.nodeType&&e,e=e&&e.exports===n?t.a.Buffer:void 0,r=e?e.allocUnsafe:void 0;i.a=function(e,t){return t?e.slice():(t=e.length,t=r?r(t):new e.constructor(t),e.copy(t),t)}}.call(this,o(10)(e))},function(e,t){e.exports=function(e){var t;return e.webpackPolyfill||((t=Object.create(e)).children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),Object.defineProperty(t,"exports",{enumerable:!0}),t.webpackPolyfill=1),t}},function(e,t){var n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){var r=n(1),n=n(73);r(n="string"==typeof(n=n.__esModule?n.default:n)?[[e.i,n,""]]:n,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),e.exports=n.locals||{}},function(e,t,n){"use strict";t.a=function(){return!1}},function(e,t,n){var r=n(1),n=n(15);r(n="string"==typeof(n=n.__esModule?n.default:n)?[[e.i,n,""]]:n,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),e.exports=n.locals||{}},function(e,t){e.exports=".ck.ck-placeholder:before,.ck .ck-placeholder:before{content:attr(data-placeholder);pointer-events:none}.ck.ck-read-only .ck-placeholder:before{display:none}.ck.ck-placeholder:before,.ck .ck-placeholder:before{cursor:text;color:var(--ck-color-engine-placeholder-text)}"},function(e,t,n){var r=n(1),n=n(17);r(n="string"==typeof(n=n.__esModule?n.default:n)?[[e.i,n,""]]:n,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),e.exports=n.locals||{}},function(e,t){e.exports=".ck-hidden{display:none!important}.ck.ck-reset,.ck.ck-reset_all,.ck.ck-reset_all *{box-sizing:border-box;width:auto;height:auto;position:static}:root{--ck-z-default:1;--ck-z-modal:calc(var(--ck-z-default) + 999);--ck-color-base-foreground:#fafafa;--ck-color-base-background:#fff;--ck-color-base-border:#c4c4c4;--ck-color-base-action:#61b045;--ck-color-base-focus:#6cb5f9;--ck-color-base-text:#333;--ck-color-base-active:#198cf0;--ck-color-base-active-focus:#0e7fe1;--ck-color-base-error:#db3700;--ck-color-focus-border-coordinates:208,79%,51%;--ck-color-focus-border:hsl(var(--ck-color-focus-border-coordinates));--ck-color-focus-outer-shadow:#bcdefb;--ck-color-focus-disabled-shadow:rgba(119,186,248,0.3);--ck-color-focus-error-shadow:rgba(255,64,31,0.3);--ck-color-text:var(--ck-color-base-text);--ck-color-shadow-drop:rgba(0,0,0,0.15);--ck-color-shadow-drop-active:rgba(0,0,0,0.2);--ck-color-shadow-inner:rgba(0,0,0,0.1);--ck-color-button-default-background:transparent;--ck-color-button-default-hover-background:#e6e6e6;--ck-color-button-default-active-background:#d9d9d9;--ck-color-button-default-active-shadow:#bfbfbf;--ck-color-button-default-disabled-background:transparent;--ck-color-button-on-background:#dedede;--ck-color-button-on-hover-background:#c4c4c4;--ck-color-button-on-active-background:#bababa;--ck-color-button-on-active-shadow:#a1a1a1;--ck-color-button-on-disabled-background:#dedede;--ck-color-button-action-background:var(--ck-color-base-action);--ck-color-button-action-hover-background:#579e3d;--ck-color-button-action-active-background:#53973b;--ck-color-button-action-active-shadow:#498433;--ck-color-button-action-disabled-background:#7ec365;--ck-color-button-action-text:var(--ck-color-base-background);--ck-color-button-save:#008a00;--ck-color-button-cancel:#db3700;--ck-color-switch-button-off-background:#b0b0b0;--ck-color-switch-button-off-hover-background:#a3a3a3;--ck-color-switch-button-on-background:var(--ck-color-button-action-background);--ck-color-switch-button-on-hover-background:#579e3d;--ck-color-switch-button-inner-background:var(--ck-color-base-background);--ck-color-switch-button-inner-shadow:rgba(0,0,0,0.1);--ck-color-dropdown-panel-background:var(--ck-color-base-background);--ck-color-dropdown-panel-border:var(--ck-color-base-border);--ck-color-input-background:var(--ck-color-base-background);--ck-color-input-border:#c7c7c7;--ck-color-input-error-border:var(--ck-color-base-error);--ck-color-input-text:var(--ck-color-base-text);--ck-color-input-disabled-background:#f2f2f2;--ck-color-input-disabled-border:#c7c7c7;--ck-color-input-disabled-text:#5c5c5c;--ck-color-list-background:var(--ck-color-base-background);--ck-color-list-button-hover-background:var(--ck-color-button-default-hover-background);--ck-color-list-button-on-background:var(--ck-color-base-active);--ck-color-list-button-on-background-focus:var(--ck-color-base-active-focus);--ck-color-list-button-on-text:var(--ck-color-base-background);--ck-color-panel-background:var(--ck-color-base-background);--ck-color-panel-border:var(--ck-color-base-border);--ck-color-toolbar-background:var(--ck-color-base-foreground);--ck-color-toolbar-border:var(--ck-color-base-border);--ck-color-tooltip-background:var(--ck-color-base-text);--ck-color-tooltip-text:var(--ck-color-base-background);--ck-color-engine-placeholder-text:#707070;--ck-color-upload-bar-background:#6cb5f9;--ck-color-link-default:#0000f0;--ck-color-link-selected-background:rgba(31,177,255,0.1);--ck-color-link-fake-selection:rgba(31,177,255,0.3);--ck-disabled-opacity:.5;--ck-focus-outer-shadow-geometry:0 0 0 3px;--ck-focus-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-outer-shadow);--ck-focus-disabled-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-disabled-shadow);--ck-focus-error-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-error-shadow);--ck-focus-ring:1px solid var(--ck-color-focus-border);--ck-font-size-base:13px;--ck-line-height-base:1.84615;--ck-font-face:Helvetica,Arial,Tahoma,Verdana,Sans-Serif;--ck-font-size-tiny:0.7em;--ck-font-size-small:0.75em;--ck-font-size-normal:1em;--ck-font-size-big:1.4em;--ck-font-size-large:1.8em;--ck-ui-component-min-height:2.3em}.ck.ck-reset,.ck.ck-reset_all,.ck.ck-reset_all *{margin:0;padding:0;border:0;background:transparent;text-decoration:none;vertical-align:middle;transition:none;word-wrap:break-word}.ck.ck-reset_all,.ck.ck-reset_all *{border-collapse:collapse;font:normal normal normal var(--ck-font-size-base)/var(--ck-line-height-base) var(--ck-font-face);color:var(--ck-color-text);text-align:left;white-space:nowrap;cursor:auto;float:none}.ck.ck-reset_all .ck-rtl *{text-align:right}.ck.ck-reset_all iframe{vertical-align:inherit}.ck.ck-reset_all textarea{white-space:pre-wrap}.ck.ck-reset_all input[type=password],.ck.ck-reset_all input[type=text],.ck.ck-reset_all textarea{cursor:text}.ck.ck-reset_all input[type=password][disabled],.ck.ck-reset_all input[type=text][disabled],.ck.ck-reset_all textarea[disabled]{cursor:default}.ck.ck-reset_all fieldset{padding:10px;border:2px groove #dfdee3}.ck.ck-reset_all button::-moz-focus-inner{padding:0;border:0}.ck[dir=rtl],.ck[dir=rtl] .ck{text-align:right}:root{--ck-border-radius:2px;--ck-inner-shadow:2px 2px 3px var(--ck-color-shadow-inner) inset;--ck-drop-shadow:0 1px 2px 1px var(--ck-color-shadow-drop);--ck-drop-shadow-active:0 3px 6px 1px var(--ck-color-shadow-drop-active);--ck-spacing-unit:0.6em;--ck-spacing-large:calc(var(--ck-spacing-unit)*1.5);--ck-spacing-standard:var(--ck-spacing-unit);--ck-spacing-medium:calc(var(--ck-spacing-unit)*0.8);--ck-spacing-small:calc(var(--ck-spacing-unit)*0.5);--ck-spacing-tiny:calc(var(--ck-spacing-unit)*0.3);--ck-spacing-extra-tiny:calc(var(--ck-spacing-unit)*0.16)}"},function(e,t,n){var r=n(1),n=n(19);r(n="string"==typeof(n=n.__esModule?n.default:n)?[[e.i,n,""]]:n,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),e.exports=n.locals||{}},function(e,t){e.exports=":root{--ck-color-editable-blur-selection:#d9d9d9}.ck.ck-editor__editable:not(.ck-editor__nested-editable){border-radius:0}.ck-rounded-corners .ck.ck-editor__editable:not(.ck-editor__nested-editable),.ck.ck-editor__editable:not(.ck-editor__nested-editable).ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-editor__editable:not(.ck-editor__nested-editable).ck-focused{outline:none;border:var(--ck-focus-ring);box-shadow:var(--ck-inner-shadow),0 0}.ck.ck-editor__editable_inline{overflow:auto;padding:0 var(--ck-spacing-standard);border:1px solid transparent}.ck.ck-editor__editable_inline[dir=ltr]{text-align:left}.ck.ck-editor__editable_inline[dir=rtl]{text-align:right}.ck.ck-editor__editable_inline>:first-child{margin-top:var(--ck-spacing-large)}.ck.ck-editor__editable_inline>:last-child{margin-bottom:var(--ck-spacing-large)}.ck.ck-editor__editable_inline.ck-blurred ::selection{background:var(--ck-color-editable-blur-selection)}.ck.ck-balloon-panel.ck-toolbar-container[class*=arrow_n]:after{border-bottom-color:var(--ck-color-base-foreground)}.ck.ck-balloon-panel.ck-toolbar-container[class*=arrow_s]:after{border-top-color:var(--ck-color-base-foreground)}"},function(e,t,n){var r=n(1),n=n(21);r(n="string"==typeof(n=n.__esModule?n.default:n)?[[e.i,n,""]]:n,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),e.exports=n.locals||{}},function(e,t){e.exports=".ck.ck-label{display:block}.ck.ck-voice-label{display:none}.ck.ck-label{font-weight:700}"},function(e,t,n){var r=n(1),n=n(23);r(n="string"==typeof(n=n.__esModule?n.default:n)?[[e.i,n,""]]:n,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),e.exports=n.locals||{}},function(e,t){e.exports=".ck.ck-sticky-panel .ck-sticky-panel__content_sticky{z-index:var(--ck-z-modal);position:fixed;top:0}.ck.ck-sticky-panel .ck-sticky-panel__content_sticky_bottom-limit{top:auto;position:absolute}.ck.ck-sticky-panel .ck-sticky-panel__content_sticky{box-shadow:var(--ck-drop-shadow),0 0;border-width:0 1px 1px;border-top-left-radius:0;border-top-right-radius:0}"},function(e,t,n){var r=n(1),n=n(25);r(n="string"==typeof(n=n.__esModule?n.default:n)?[[e.i,n,""]]:n,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),e.exports=n.locals||{}},function(e,t){e.exports=".ck.ck-dropdown{display:inline-block;position:relative}.ck.ck-dropdown .ck-dropdown__arrow{pointer-events:none;z-index:var(--ck-z-default)}.ck.ck-dropdown .ck-button.ck-dropdown__button{width:100%}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on .ck-tooltip{display:none}.ck.ck-dropdown .ck-dropdown__panel{-webkit-backface-visibility:hidden;display:none;z-index:var(--ck-z-modal);position:absolute}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel-visible{display:inline-block}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_ne,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nw{bottom:100%}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_se,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sw{top:100%;bottom:auto}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_ne,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_se{left:0}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sw{right:0}.ck.ck-toolbar .ck-dropdown__panel{z-index:calc(var(--ck-z-modal) + 1)}:root{--ck-dropdown-arrow-size:calc(var(--ck-icon-size)*0.5)}.ck.ck-dropdown{font-size:inherit}.ck.ck-dropdown .ck-dropdown__arrow{width:var(--ck-dropdown-arrow-size)}[dir=ltr] .ck.ck-dropdown .ck-dropdown__arrow{right:var(--ck-spacing-standard);margin-left:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-dropdown .ck-dropdown__arrow{left:var(--ck-spacing-standard);margin-right:var(--ck-spacing-small)}.ck.ck-dropdown.ck-disabled .ck-dropdown__arrow{opacity:var(--ck-disabled-opacity)}[dir=ltr] .ck.ck-dropdown .ck-button.ck-dropdown__button:not(.ck-button_with-text){padding-left:var(--ck-spacing-small)}[dir=rtl] .ck.ck-dropdown .ck-button.ck-dropdown__button:not(.ck-button_with-text){padding-right:var(--ck-spacing-small)}.ck.ck-dropdown .ck-button.ck-dropdown__button .ck-button__label{width:7em;overflow:hidden;text-overflow:ellipsis}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-disabled .ck-button__label{opacity:var(--ck-disabled-opacity)}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on{border-bottom-left-radius:0;border-bottom-right-radius:0}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-dropdown__button_label-width_auto .ck-button__label{width:auto}.ck.ck-dropdown__panel{border-radius:0}.ck-rounded-corners .ck.ck-dropdown__panel,.ck.ck-dropdown__panel.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-dropdown__panel{box-shadow:var(--ck-drop-shadow),0 0;background:var(--ck-color-dropdown-panel-background);border:1px solid var(--ck-color-dropdown-panel-border);bottom:0;min-width:100%}.ck.ck-dropdown__panel.ck-dropdown__panel_se{border-top-left-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_sw{border-top-right-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_ne{border-bottom-left-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_nw{border-bottom-right-radius:0}"},function(e,t,n){var r=n(1),n=n(27);r(n="string"==typeof(n=n.__esModule?n.default:n)?[[e.i,n,""]]:n,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),e.exports=n.locals||{}},function(e,t){e.exports=".ck.ck-icon{vertical-align:middle}:root{--ck-icon-size:calc(var(--ck-line-height-base)*var(--ck-font-size-normal))}.ck.ck-icon{width:var(--ck-icon-size);height:var(--ck-icon-size);font-size:.8333350694em;will-change:transform}.ck.ck-icon,.ck.ck-icon *{color:inherit;cursor:inherit}.ck.ck-icon :not([fill]){fill:currentColor}"},function(e,t,n){var r=n(1),n=n(29);r(n="string"==typeof(n=n.__esModule?n.default:n)?[[e.i,n,""]]:n,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),e.exports=n.locals||{}},function(e,t){e.exports='.ck.ck-tooltip,.ck.ck-tooltip .ck-tooltip__text:after{position:absolute;pointer-events:none;-webkit-backface-visibility:hidden}.ck.ck-tooltip{visibility:hidden;opacity:0;display:none;z-index:var(--ck-z-modal)}.ck.ck-tooltip .ck-tooltip__text{display:inline-block}.ck.ck-tooltip .ck-tooltip__text:after{content:"";width:0;height:0}:root{--ck-tooltip-arrow-size:5px}.ck.ck-tooltip{left:50%;top:0;transition:opacity .2s ease-in-out .2s}.ck.ck-tooltip .ck-tooltip__text{border-radius:0}.ck-rounded-corners .ck.ck-tooltip .ck-tooltip__text,.ck.ck-tooltip .ck-tooltip__text.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-tooltip .ck-tooltip__text{font-size:.9em;line-height:1.5;color:var(--ck-color-tooltip-text);padding:var(--ck-spacing-small) var(--ck-spacing-medium);background:var(--ck-color-tooltip-background);position:relative;left:-50%}.ck.ck-tooltip .ck-tooltip__text:after{transition:opacity .2s ease-in-out .2s;border-style:solid;left:50%}.ck.ck-tooltip.ck-tooltip_s,.ck.ck-tooltip.ck-tooltip_sw{bottom:calc(var(--ck-tooltip-arrow-size)*-1);transform:translateY(100%)}.ck.ck-tooltip.ck-tooltip_s .ck-tooltip__text:after,.ck.ck-tooltip.ck-tooltip_sw .ck-tooltip__text:after{top:calc(var(--ck-tooltip-arrow-size)*-1 + 1px);transform:translateX(-50%);border-left-color:transparent;border-bottom-color:var(--ck-color-tooltip-background);border-right-color:transparent;border-top-color:transparent;border-left-width:var(--ck-tooltip-arrow-size);border-bottom-width:var(--ck-tooltip-arrow-size);border-right-width:var(--ck-tooltip-arrow-size);border-top-width:0}.ck.ck-tooltip.ck-tooltip_sw{right:50%;left:auto}.ck.ck-tooltip.ck-tooltip_sw .ck-tooltip__text{left:auto;right:calc(var(--ck-tooltip-arrow-size)*-2)}.ck.ck-tooltip.ck-tooltip_sw .ck-tooltip__text:after{left:auto;right:0}.ck.ck-tooltip.ck-tooltip_n{top:calc(var(--ck-tooltip-arrow-size)*-1);transform:translateY(-100%)}.ck.ck-tooltip.ck-tooltip_n .ck-tooltip__text:after{bottom:calc(var(--ck-tooltip-arrow-size)*-1);transform:translateX(-50%);border-left-color:transparent;border-bottom-color:transparent;border-right-color:transparent;border-top-color:var(--ck-color-tooltip-background);border-left-width:var(--ck-tooltip-arrow-size);border-bottom-width:0;border-right-width:var(--ck-tooltip-arrow-size);border-top-width:var(--ck-tooltip-arrow-size)}'},function(e,t,n){var r=n(1),n=n(31);r(n="string"==typeof(n=n.__esModule?n.default:n)?[[e.i,n,""]]:n,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),e.exports=n.locals||{}},function(e,t){e.exports=".ck.ck-button,a.ck.ck-button{-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.ck.ck-button .ck-tooltip,a.ck.ck-button .ck-tooltip{display:block}@media (hover:none){.ck.ck-button .ck-tooltip,a.ck.ck-button .ck-tooltip{display:none}}.ck.ck-button,a.ck.ck-button{position:relative;display:inline-flex;align-items:center;justify-content:left}.ck.ck-button .ck-button__label,a.ck.ck-button .ck-button__label{display:none}.ck.ck-button.ck-button_with-text .ck-button__label,a.ck.ck-button.ck-button_with-text .ck-button__label{display:inline-block}.ck.ck-button:not(.ck-button_with-text),a.ck.ck-button:not(.ck-button_with-text){justify-content:center}.ck.ck-button:hover .ck-tooltip,a.ck.ck-button:hover .ck-tooltip{visibility:visible;opacity:1}.ck.ck-button:focus:not(:hover) .ck-tooltip,a.ck.ck-button:focus:not(:hover) .ck-tooltip{display:none}.ck.ck-button,a.ck.ck-button{background:var(--ck-color-button-default-background)}.ck.ck-button:not(.ck-disabled):hover,a.ck.ck-button:not(.ck-disabled):hover{background:var(--ck-color-button-default-hover-background)}.ck.ck-button:not(.ck-disabled):active,a.ck.ck-button:not(.ck-disabled):active{background:var(--ck-color-button-default-active-background);box-shadow:inset 0 2px 2px var(--ck-color-button-default-active-shadow)}.ck.ck-button.ck-disabled,a.ck.ck-button.ck-disabled{background:var(--ck-color-button-default-disabled-background)}.ck.ck-button,a.ck.ck-button{border-radius:0}.ck-rounded-corners .ck.ck-button,.ck-rounded-corners a.ck.ck-button,.ck.ck-button.ck-rounded-corners,a.ck.ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-button,a.ck.ck-button{white-space:nowrap;cursor:default;vertical-align:middle;padding:var(--ck-spacing-tiny);text-align:center;min-width:var(--ck-ui-component-min-height);min-height:var(--ck-ui-component-min-height);line-height:1;font-size:inherit;border:1px solid transparent;transition:box-shadow .2s ease-in-out,border .2s ease-in-out;-webkit-appearance:none}.ck.ck-button:active,.ck.ck-button:focus,a.ck.ck-button:active,a.ck.ck-button:focus{outline:none;border:var(--ck-focus-ring);box-shadow:var(--ck-focus-outer-shadow),0 0}.ck.ck-button .ck-button__icon use,.ck.ck-button .ck-button__icon use *,a.ck.ck-button .ck-button__icon use,a.ck.ck-button .ck-button__icon use *{color:inherit}.ck.ck-button .ck-button__label,a.ck.ck-button .ck-button__label{font-size:inherit;font-weight:inherit;color:inherit;cursor:inherit;vertical-align:middle}[dir=ltr] .ck.ck-button .ck-button__label,[dir=ltr] a.ck.ck-button .ck-button__label{text-align:left}[dir=rtl] .ck.ck-button .ck-button__label,[dir=rtl] a.ck.ck-button .ck-button__label{text-align:right}.ck.ck-button .ck-button__keystroke,a.ck.ck-button .ck-button__keystroke{color:inherit}[dir=ltr] .ck.ck-button .ck-button__keystroke,[dir=ltr] a.ck.ck-button .ck-button__keystroke{margin-left:var(--ck-spacing-large)}[dir=rtl] .ck.ck-button .ck-button__keystroke,[dir=rtl] a.ck.ck-button .ck-button__keystroke{margin-right:var(--ck-spacing-large)}.ck.ck-button .ck-button__keystroke,a.ck.ck-button .ck-button__keystroke{font-weight:700;opacity:.7}.ck.ck-button.ck-disabled:active,.ck.ck-button.ck-disabled:focus,a.ck.ck-button.ck-disabled:active,a.ck.ck-button.ck-disabled:focus{box-shadow:var(--ck-focus-disabled-outer-shadow),0 0}.ck.ck-button.ck-disabled .ck-button__icon,a.ck.ck-button.ck-disabled .ck-button__icon{opacity:var(--ck-disabled-opacity)}.ck.ck-button.ck-disabled .ck-button__label,a.ck.ck-button.ck-disabled .ck-button__label{opacity:var(--ck-disabled-opacity)}.ck.ck-button.ck-disabled .ck-button__keystroke,a.ck.ck-button.ck-disabled .ck-button__keystroke{opacity:.3}.ck.ck-button.ck-button_with-text,a.ck.ck-button.ck-button_with-text{padding:var(--ck-spacing-tiny) var(--ck-spacing-standard)}[dir=ltr] .ck.ck-button.ck-button_with-text .ck-button__icon,[dir=ltr] a.ck.ck-button.ck-button_with-text .ck-button__icon{margin-left:calc(var(--ck-spacing-small)*-1);margin-right:var(--ck-spacing-small)}[dir=rtl] .ck.ck-button.ck-button_with-text .ck-button__icon,[dir=rtl] a.ck.ck-button.ck-button_with-text .ck-button__icon{margin-right:calc(var(--ck-spacing-small)*-1);margin-left:var(--ck-spacing-small)}.ck.ck-button.ck-button_with-keystroke .ck-button__label,a.ck.ck-button.ck-button_with-keystroke .ck-button__label{flex-grow:1}.ck.ck-button.ck-on,a.ck.ck-button.ck-on{background:var(--ck-color-button-on-background)}.ck.ck-button.ck-on:not(.ck-disabled):hover,a.ck.ck-button.ck-on:not(.ck-disabled):hover{background:var(--ck-color-button-on-hover-background)}.ck.ck-button.ck-on:not(.ck-disabled):active,a.ck.ck-button.ck-on:not(.ck-disabled):active{background:var(--ck-color-button-on-active-background);box-shadow:inset 0 2px 2px var(--ck-color-button-on-active-shadow)}.ck.ck-button.ck-on.ck-disabled,a.ck.ck-button.ck-on.ck-disabled{background:var(--ck-color-button-on-disabled-background)}.ck.ck-button.ck-button-save,a.ck.ck-button.ck-button-save{color:var(--ck-color-button-save)}.ck.ck-button.ck-button-cancel,a.ck.ck-button.ck-button-cancel{color:var(--ck-color-button-cancel)}.ck.ck-button-action,a.ck.ck-button-action{background:var(--ck-color-button-action-background)}.ck.ck-button-action:not(.ck-disabled):hover,a.ck.ck-button-action:not(.ck-disabled):hover{background:var(--ck-color-button-action-hover-background)}.ck.ck-button-action:not(.ck-disabled):active,a.ck.ck-button-action:not(.ck-disabled):active{background:var(--ck-color-button-action-active-background);box-shadow:inset 0 2px 2px var(--ck-color-button-action-active-shadow)}.ck.ck-button-action.ck-disabled,a.ck.ck-button-action.ck-disabled{background:var(--ck-color-button-action-disabled-background)}.ck.ck-button-action,a.ck.ck-button-action{color:var(--ck-color-button-action-text)}.ck.ck-button-bold,a.ck.ck-button-bold{font-weight:700}"},function(e,t,n){var r=n(1),n=n(33);r(n="string"==typeof(n=n.__esModule?n.default:n)?[[e.i,n,""]]:n,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),e.exports=n.locals||{}},function(e,t){e.exports=".ck.ck-list{-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none;display:flex;flex-direction:column}.ck.ck-list .ck-list__item,.ck.ck-list .ck-list__separator{display:block}.ck.ck-list .ck-list__item>:focus{position:relative;z-index:var(--ck-z-default)}.ck.ck-list{border-radius:0}.ck-rounded-corners .ck.ck-list,.ck.ck-list.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-list{list-style-type:none;background:var(--ck-color-list-background)}.ck.ck-list__item{cursor:default;min-width:12em}.ck.ck-list__item .ck-button{min-height:unset;width:100%;text-align:left;border-radius:0;padding:calc(var(--ck-line-height-base)*0.2*var(--ck-font-size-base)) calc(var(--ck-line-height-base)*0.4*var(--ck-font-size-base))}.ck.ck-list__item .ck-button .ck-button__label{line-height:calc(var(--ck-line-height-base)*1.2*var(--ck-font-size-base))}.ck.ck-list__item .ck-button:active{box-shadow:none}.ck.ck-list__item .ck-button.ck-on{background:var(--ck-color-list-button-on-background);color:var(--ck-color-list-button-on-text)}.ck.ck-list__item .ck-button.ck-on:active{box-shadow:none}.ck.ck-list__item .ck-button.ck-on:hover:not(.ck-disabled){background:var(--ck-color-list-button-on-background-focus)}.ck.ck-list__item .ck-button.ck-on:focus:not(.ck-disabled){border-color:var(--ck-color-base-background)}.ck.ck-list__item .ck-button:hover:not(.ck-disabled){background:var(--ck-color-list-button-hover-background)}.ck.ck-list__item .ck-switchbutton.ck-on{background:var(--ck-color-list-background);color:inherit}.ck.ck-list__item .ck-switchbutton.ck-on:hover:not(.ck-disabled){background:var(--ck-color-list-button-hover-background);color:inherit}.ck.ck-list__separator{height:1px;width:100%;background:var(--ck-color-base-border)}"},function(e,t,n){var r=n(1),n=n(35);r(n="string"==typeof(n=n.__esModule?n.default:n)?[[e.i,n,""]]:n,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),e.exports=n.locals||{}},function(e,t){e.exports=".ck.ck-button.ck-switchbutton .ck-button__toggle,.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{display:block}:root{--ck-switch-button-toggle-width:2.6153846154em;--ck-switch-button-toggle-inner-size:1.0769230769em;--ck-switch-button-toggle-spacing:1px;--ck-switch-button-translation:calc(var(--ck-switch-button-toggle-width) - var(--ck-switch-button-toggle-inner-size) - var(--ck-switch-button-toggle-spacing)*2)}[dir=ltr] .ck.ck-button.ck-switchbutton .ck-button__label{margin-right:calc(var(--ck-spacing-large)*2)}[dir=rtl] .ck.ck-button.ck-switchbutton .ck-button__label{margin-left:calc(var(--ck-spacing-large)*2)}.ck.ck-button.ck-switchbutton .ck-button__toggle{border-radius:0}.ck-rounded-corners .ck.ck-button.ck-switchbutton .ck-button__toggle,.ck.ck-button.ck-switchbutton .ck-button__toggle.ck-rounded-corners{border-radius:var(--ck-border-radius)}[dir=ltr] .ck.ck-button.ck-switchbutton .ck-button__toggle{margin-left:auto}[dir=rtl] .ck.ck-button.ck-switchbutton .ck-button__toggle{margin-right:auto}.ck.ck-button.ck-switchbutton .ck-button__toggle{transition:background .4s ease;width:var(--ck-switch-button-toggle-width);background:var(--ck-color-switch-button-off-background)}.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{border-radius:0}.ck-rounded-corners .ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner,.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner.ck-rounded-corners{border-radius:var(--ck-border-radius);border-radius:calc(var(--ck-border-radius)*0.5)}.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{margin:var(--ck-switch-button-toggle-spacing);width:var(--ck-switch-button-toggle-inner-size);height:var(--ck-switch-button-toggle-inner-size);background:var(--ck-color-switch-button-inner-background);transition:all .3s ease}.ck.ck-button.ck-switchbutton .ck-button__toggle:hover{background:var(--ck-color-switch-button-off-hover-background)}.ck.ck-button.ck-switchbutton .ck-button__toggle:hover .ck-button__toggle__inner{box-shadow:0 0 0 5px var(--ck-color-switch-button-inner-shadow)}.ck.ck-button.ck-switchbutton.ck-disabled .ck-button__toggle{opacity:var(--ck-disabled-opacity)}.ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle{background:var(--ck-color-switch-button-on-background)}.ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle:hover{background:var(--ck-color-switch-button-on-hover-background)}[dir=ltr] .ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle .ck-button__toggle__inner{transform:translateX(var(--ck-switch-button-translation))}[dir=rtl] .ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle .ck-button__toggle__inner{transform:translateX(calc(var(--ck-switch-button-translation)*-1))}"},function(e,t,n){var r=n(1),n=n(37);r(n="string"==typeof(n=n.__esModule?n.default:n)?[[e.i,n,""]]:n,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),e.exports=n.locals||{}},function(e,t){e.exports=".ck.ck-toolbar-dropdown .ck.ck-toolbar .ck.ck-toolbar__items{flex-wrap:nowrap}.ck.ck-toolbar-dropdown .ck-dropdown__panel .ck-button:focus{z-index:calc(var(--ck-z-default) + 1)}.ck.ck-toolbar-dropdown .ck-toolbar{border:0}"},function(e,t,n){var r=n(1),n=n(39);r(n="string"==typeof(n=n.__esModule?n.default:n)?[[e.i,n,""]]:n,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),e.exports=n.locals||{}},function(e,t){e.exports=".ck.ck-dropdown .ck-dropdown__panel .ck-list{border-radius:0}.ck-rounded-corners .ck.ck-dropdown .ck-dropdown__panel .ck-list,.ck.ck-dropdown .ck-dropdown__panel .ck-list.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0}.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:first-child .ck-button{border-radius:0}.ck-rounded-corners .ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:first-child .ck-button,.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:first-child .ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0;border-bottom-left-radius:0;border-bottom-right-radius:0}.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:last-child .ck-button{border-radius:0}.ck-rounded-corners .ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:last-child .ck-button,.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:last-child .ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0;border-top-right-radius:0}"},function(e,t,n){var r=n(1),n=n(41);r(n="string"==typeof(n=n.__esModule?n.default:n)?[[e.i,n,""]]:n,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),e.exports=n.locals||{}},function(e,t){e.exports=".ck.ck-toolbar{-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none;display:flex;flex-flow:row nowrap;align-items:center}.ck.ck-toolbar>.ck-toolbar__items{display:flex;flex-flow:row wrap;align-items:center;flex-grow:1}.ck.ck-toolbar .ck.ck-toolbar__separator{display:inline-block}.ck.ck-toolbar .ck.ck-toolbar__separator:first-child,.ck.ck-toolbar .ck.ck-toolbar__separator:last-child{display:none}.ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items{flex-wrap:nowrap}.ck.ck-toolbar.ck-toolbar_vertical>.ck-toolbar__items{flex-direction:column}.ck.ck-toolbar.ck-toolbar_floating>.ck-toolbar__items{flex-wrap:nowrap}.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown>.ck-dropdown__button .ck-dropdown__arrow{display:none}.ck.ck-toolbar{border-radius:0}.ck-rounded-corners .ck.ck-toolbar,.ck.ck-toolbar.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-toolbar{background:var(--ck-color-toolbar-background);padding:0 var(--ck-spacing-small);border:1px solid var(--ck-color-toolbar-border)}.ck.ck-toolbar .ck.ck-toolbar__separator{align-self:stretch;width:1px;min-width:1px;background:var(--ck-color-toolbar-border);margin-top:var(--ck-spacing-small);margin-bottom:var(--ck-spacing-small)}.ck.ck-toolbar>.ck-toolbar__items>*{margin-top:var(--ck-spacing-small);margin-bottom:var(--ck-spacing-small);margin-right:var(--ck-spacing-small)}.ck.ck-toolbar>.ck-toolbar__items:empty+.ck.ck-toolbar__separator{display:none}.ck.ck-toolbar>.ck-toolbar__items>*,.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown{margin-top:var(--ck-spacing-small);margin-bottom:var(--ck-spacing-small)}.ck.ck-toolbar.ck-toolbar_vertical{padding:0}.ck.ck-toolbar.ck-toolbar_vertical>.ck-toolbar__items>.ck{width:100%;margin:0;border-radius:0;border:0}.ck.ck-toolbar.ck-toolbar_compact{padding:0}.ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>*{margin:0}.ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>:not(:first-child):not(:last-child){border-radius:0}.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown>.ck.ck-button.ck-dropdown__button{padding-left:var(--ck-spacing-tiny)}.ck-toolbar-container .ck.ck-toolbar{border:0}.ck.ck-toolbar[dir=rtl]>.ck-toolbar__items>.ck,[dir=rtl] .ck.ck-toolbar>.ck-toolbar__items>.ck{margin-right:0}.ck.ck-toolbar[dir=rtl]:not(.ck-toolbar_compact)>.ck-toolbar__items>.ck,[dir=rtl] .ck.ck-toolbar:not(.ck-toolbar_compact)>.ck-toolbar__items>.ck{margin-left:var(--ck-spacing-small)}.ck.ck-toolbar[dir=rtl]>.ck-toolbar__items>.ck:last-child,[dir=rtl] .ck.ck-toolbar>.ck-toolbar__items>.ck:last-child{margin-left:0}.ck.ck-toolbar[dir=rtl].ck-toolbar_compact>.ck-toolbar__items>.ck:first-child,[dir=rtl] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:first-child{border-top-left-radius:0;border-bottom-left-radius:0}.ck.ck-toolbar[dir=rtl].ck-toolbar_compact>.ck-toolbar__items>.ck:last-child,[dir=rtl] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:last-child{border-top-right-radius:0;border-bottom-right-radius:0}.ck.ck-toolbar[dir=rtl]>.ck.ck-toolbar__separator,[dir=rtl] .ck.ck-toolbar>.ck.ck-toolbar__separator{margin-left:var(--ck-spacing-small)}.ck.ck-toolbar[dir=rtl].ck-toolbar_grouping>.ck-toolbar__items:not(:empty):not(:only-child),[dir=rtl] .ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items:not(:empty):not(:only-child){margin-left:var(--ck-spacing-small)}.ck.ck-toolbar[dir=ltr]>.ck-toolbar__items>.ck:last-child,[dir=ltr] .ck.ck-toolbar>.ck-toolbar__items>.ck:last-child{margin-right:0}.ck.ck-toolbar[dir=ltr].ck-toolbar_compact>.ck-toolbar__items>.ck:first-child,[dir=ltr] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:first-child{border-top-right-radius:0;border-bottom-right-radius:0}.ck.ck-toolbar[dir=ltr].ck-toolbar_compact>.ck-toolbar__items>.ck:last-child,[dir=ltr] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:last-child{border-top-left-radius:0;border-bottom-left-radius:0}.ck.ck-toolbar[dir=ltr]>.ck.ck-toolbar__separator,[dir=ltr] .ck.ck-toolbar>.ck.ck-toolbar__separator{margin-right:var(--ck-spacing-small)}.ck.ck-toolbar[dir=ltr].ck-toolbar_grouping>.ck-toolbar__items:not(:empty):not(:only-child),[dir=ltr] .ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items:not(:empty):not(:only-child){margin-right:var(--ck-spacing-small)}"},function(e,t,n){var r=n(1),n=n(43);r(n="string"==typeof(n=n.__esModule?n.default:n)?[[e.i,n,""]]:n,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),e.exports=n.locals||{}},function(e,t){e.exports=".ck.ck-editor{position:relative}.ck.ck-editor .ck-editor__top .ck-sticky-panel .ck-toolbar{z-index:var(--ck-z-modal)}.ck.ck-editor__top .ck-sticky-panel .ck-toolbar{border-radius:0}.ck-rounded-corners .ck.ck-editor__top .ck-sticky-panel .ck-toolbar,.ck.ck-editor__top .ck-sticky-panel .ck-toolbar.ck-rounded-corners{border-radius:var(--ck-border-radius);border-bottom-left-radius:0;border-bottom-right-radius:0}.ck.ck-editor__top .ck-sticky-panel .ck-toolbar{border-bottom-width:0}.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content_sticky .ck-toolbar{border-bottom-width:1px;border-radius:0}.ck-rounded-corners .ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content_sticky .ck-toolbar,.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content_sticky .ck-toolbar.ck-rounded-corners{border-radius:var(--ck-border-radius);border-radius:0}.ck.ck-editor__main>.ck-editor__editable{background:var(--ck-color-base-background);border-radius:0}.ck-rounded-corners .ck.ck-editor__main>.ck-editor__editable,.ck.ck-editor__main>.ck-editor__editable.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0;border-top-right-radius:0}.ck.ck-editor__main>.ck-editor__editable:not(.ck-focused){border-color:var(--ck-color-base-border)}"},function(e,t,n){var r=n(1),n=n(45);r(n="string"==typeof(n=n.__esModule?n.default:n)?[[e.i,n,""]]:n,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),e.exports=n.locals||{}},function(e,t){e.exports=".ck-content blockquote{overflow:hidden;padding-right:1.5em;padding-left:1.5em;margin-left:0;margin-right:0;font-style:italic;border-left:5px solid #ccc}.ck-content[dir=rtl] blockquote{border-left:0;border-right:5px solid #ccc}"},function(e,t,n){var r=n(1),n=n(47);r(n="string"==typeof(n=n.__esModule?n.default:n)?[[e.i,n,""]]:n,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),e.exports=n.locals||{}},function(e,t){e.exports=':root{--ck-balloon-panel-arrow-z-index:calc(var(--ck-z-default) - 3)}.ck.ck-balloon-panel{display:none;position:absolute;z-index:var(--ck-z-modal)}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after,.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{content:"";position:absolute}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel[class*=arrow_n]:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel[class*=arrow_n]:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel[class*=arrow_s]:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel[class*=arrow_s]:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel.ck-balloon-panel_visible{display:block}:root{--ck-balloon-arrow-offset:2px;--ck-balloon-arrow-height:10px;--ck-balloon-arrow-half-width:8px;--ck-balloon-arrow-drop-shadow:0 2px 2px var(--ck-color-shadow-drop)}.ck.ck-balloon-panel{border-radius:0}.ck-rounded-corners .ck.ck-balloon-panel,.ck.ck-balloon-panel.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-balloon-panel{box-shadow:var(--ck-drop-shadow),0 0;min-height:15px;background:var(--ck-color-panel-background);border:1px solid var(--ck-color-panel-border)}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after,.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{width:0;height:0;border-style:solid}.ck.ck-balloon-panel[class*=arrow_n]:after,.ck.ck-balloon-panel[class*=arrow_n]:before{border-left-width:var(--ck-balloon-arrow-half-width);border-bottom-width:var(--ck-balloon-arrow-height);border-right-width:var(--ck-balloon-arrow-half-width);border-top-width:0}.ck.ck-balloon-panel[class*=arrow_n]:before{border-bottom-color:var(--ck-color-panel-border)}.ck.ck-balloon-panel[class*=arrow_n]:after,.ck.ck-balloon-panel[class*=arrow_n]:before{border-left-color:transparent;border-right-color:transparent;border-top-color:transparent}.ck.ck-balloon-panel[class*=arrow_n]:after{border-bottom-color:var(--ck-color-panel-background);margin-top:var(--ck-balloon-arrow-offset)}.ck.ck-balloon-panel[class*=arrow_s]:after,.ck.ck-balloon-panel[class*=arrow_s]:before{border-left-width:var(--ck-balloon-arrow-half-width);border-bottom-width:0;border-right-width:var(--ck-balloon-arrow-half-width);border-top-width:var(--ck-balloon-arrow-height)}.ck.ck-balloon-panel[class*=arrow_s]:before{border-top-color:var(--ck-color-panel-border);filter:drop-shadow(var(--ck-balloon-arrow-drop-shadow))}.ck.ck-balloon-panel[class*=arrow_s]:after,.ck.ck-balloon-panel[class*=arrow_s]:before{border-left-color:transparent;border-bottom-color:transparent;border-right-color:transparent}.ck.ck-balloon-panel[class*=arrow_s]:after{border-top-color:var(--ck-color-panel-background);margin-bottom:var(--ck-balloon-arrow-offset)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_n:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_n:before{left:50%;margin-left:calc(var(--ck-balloon-arrow-half-width)*-1);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nw:before{left:calc(var(--ck-balloon-arrow-half-width)*2);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_ne:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_ne:before{right:calc(var(--ck-balloon-arrow-half-width)*2);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_s:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_s:before{left:50%;margin-left:calc(var(--ck-balloon-arrow-half-width)*-1);bottom:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_sw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_sw:before{left:calc(var(--ck-balloon-arrow-half-width)*2);bottom:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_se:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_se:before{right:calc(var(--ck-balloon-arrow-half-width)*2);bottom:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_sme:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_sme:before{right:25%;margin-right:calc(var(--ck-balloon-arrow-half-width)*2);bottom:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_smw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_smw:before{left:25%;margin-left:calc(var(--ck-balloon-arrow-half-width)*2);bottom:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nme:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nme:before{right:25%;margin-right:calc(var(--ck-balloon-arrow-half-width)*2);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nmw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nmw:before{left:25%;margin-left:calc(var(--ck-balloon-arrow-half-width)*2);top:calc(var(--ck-balloon-arrow-height)*-1)}'},function(e,t,n){var r=n(1),n=n(49);r(n="string"==typeof(n=n.__esModule?n.default:n)?[[e.i,n,""]]:n,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),e.exports=n.locals||{}},function(e,t){e.exports=".ck .ck-link_selected{background:var(--ck-color-link-selected-background)}.ck .ck-fake-link-selection{background:var(--ck-color-link-fake-selection)}.ck .ck-fake-link-selection_collapsed{height:100%;border-right:1px solid var(--ck-color-base-text);margin-right:-1px;outline:1px solid hsla(0,0%,100%,.5)}"},function(e,t,n){var r=n(1),n=n(51);r(n="string"==typeof(n=n.__esModule?n.default:n)?[[e.i,n,""]]:n,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),e.exports=n.locals||{}},function(e,t){e.exports='.ck .ck-widget .ck-widget__type-around__button{display:block;position:absolute;overflow:hidden;z-index:var(--ck-z-default)}.ck .ck-widget .ck-widget__type-around__button svg{position:absolute;top:50%;left:50%;z-index:calc(var(--ck-z-default) + 2)}.ck .ck-widget .ck-widget__type-around__button.ck-widget__type-around__button_before{top:calc(var(--ck-widget-outline-thickness)*-0.5);left:min(10%,30px);transform:translateY(-50%)}.ck .ck-widget .ck-widget__type-around__button.ck-widget__type-around__button_after{bottom:calc(var(--ck-widget-outline-thickness)*-0.5);right:min(10%,30px);transform:translateY(50%)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:after,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover:after{content:"";display:block;position:absolute;top:1px;left:1px;z-index:calc(var(--ck-z-default) + 1)}.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__fake-caret{display:none;position:absolute;left:0;right:0}.ck .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__fake-caret{left:calc(var(--ck-widget-outline-thickness)*-1);right:calc(var(--ck-widget-outline-thickness)*-1)}.ck .ck-widget.ck-widget_type-around_show-fake-caret_before>.ck-widget__type-around>.ck-widget__type-around__fake-caret{top:calc(var(--ck-widget-outline-thickness)*-1 - 1px);display:block}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after>.ck-widget__type-around>.ck-widget__type-around__fake-caret{bottom:calc(var(--ck-widget-outline-thickness)*-1 - 1px);display:block}.ck.ck-editor__editable.ck-read-only .ck-widget__type-around,.ck.ck-editor__editable.ck-restricted-editing_mode_restricted .ck-widget__type-around,.ck.ck-editor__editable.ck-widget__type-around_disabled .ck-widget__type-around{display:none}:root{--ck-widget-type-around-button-size:20px;--ck-color-widget-type-around-button-active:var(--ck-color-focus-border);--ck-color-widget-type-around-button-hover:var(--ck-color-widget-hover-border);--ck-color-widget-type-around-button-blurred-editable:var(--ck-color-widget-blurred-border);--ck-color-widget-type-around-button-radar-start-alpha:0;--ck-color-widget-type-around-button-radar-end-alpha:.3;--ck-color-widget-type-around-button-icon:var(--ck-color-base-background)}.ck .ck-widget .ck-widget__type-around__button{width:var(--ck-widget-type-around-button-size);height:var(--ck-widget-type-around-button-size);background:var(--ck-color-widget-type-around-button);border-radius:100px;transition:opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),background var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);opacity:0;pointer-events:none}.ck .ck-widget .ck-widget__type-around__button svg{width:10px;height:8px;transform:translate(-50%,-50%);transition:transform .5s ease;margin-top:1px}.ck .ck-widget .ck-widget__type-around__button svg *{stroke-dasharray:10;stroke-dashoffset:0;fill:none;stroke:var(--ck-color-widget-type-around-button-icon);stroke-width:1.5px;stroke-linecap:round;stroke-linejoin:round}.ck .ck-widget .ck-widget__type-around__button svg line{stroke-dasharray:7}.ck .ck-widget .ck-widget__type-around__button:hover{animation:ck-widget-type-around-button-sonar 1s ease infinite}.ck .ck-widget .ck-widget__type-around__button:hover svg polyline{animation:ck-widget-type-around-arrow-dash 2s linear}.ck .ck-widget .ck-widget__type-around__button:hover svg line{animation:ck-widget-type-around-arrow-tip-dash 2s linear}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__button{opacity:1;pointer-events:auto}.ck .ck-widget:not(.ck-widget_selected)>.ck-widget__type-around>.ck-widget__type-around__button{background:var(--ck-color-widget-type-around-button-hover)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover{background:var(--ck-color-widget-type-around-button-active)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:after,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover:after{width:calc(var(--ck-widget-type-around-button-size) - 2px);height:calc(var(--ck-widget-type-around-button-size) - 2px);border-radius:100px;background:linear-gradient(135deg,hsla(0,0%,100%,0),hsla(0,0%,100%,.3))}.ck .ck-widget.ck-widget_with-selection-handle>.ck-widget__type-around>.ck-widget__type-around__button_before{margin-left:20px}.ck .ck-widget .ck-widget__type-around__fake-caret{pointer-events:none;height:1px;animation:ck-widget-type-around-fake-caret-pulse 1s linear infinite normal forwards;outline:1px solid hsla(0,0%,100%,.5);background:var(--ck-color-base-text)}.ck .ck-widget.ck-widget_selected.ck-widget_type-around_show-fake-caret_after,.ck .ck-widget.ck-widget_selected.ck-widget_type-around_show-fake-caret_before{outline-color:transparent}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_selected:hover,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_selected:hover{outline-color:var(--ck-color-widget-hover-border)}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before>.ck-widget__type-around>.ck-widget__type-around__button{opacity:0;pointer-events:none}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle{opacity:0}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_selected.ck-widget_with-resizer>.ck-widget__resizer,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_selected.ck-widget_with-resizer>.ck-widget__resizer{opacity:0}.ck-editor__nested-editable.ck-editor__editable_selected .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck-editor__nested-editable.ck-editor__editable_selected .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__button{opacity:0;pointer-events:none}.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:not(:hover){background:var(--ck-color-widget-type-around-button-blurred-editable)}.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:not(:hover) svg *{stroke:#999}@keyframes ck-widget-type-around-arrow-dash{0%{stroke-dashoffset:10}20%,to{stroke-dashoffset:0}}@keyframes ck-widget-type-around-arrow-tip-dash{0%,20%{stroke-dashoffset:7}40%,to{stroke-dashoffset:0}}@keyframes ck-widget-type-around-button-sonar{0%{box-shadow:0 0 0 0 hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-start-alpha))}50%{box-shadow:0 0 0 5px hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-end-alpha))}to{box-shadow:0 0 0 5px hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-start-alpha))}}@keyframes ck-widget-type-around-fake-caret-pulse{0%{opacity:1}49%{opacity:1}50%{opacity:0}99%{opacity:0}to{opacity:1}}'},function(e,t,n){var r=n(1),n=n(53);r(n="string"==typeof(n=n.__esModule?n.default:n)?[[e.i,n,""]]:n,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),e.exports=n.locals||{}},function(e,t){e.exports=":root{--ck-color-resizer:var(--ck-color-focus-border);--ck-resizer-size:10px;--ck-resizer-border-width:1px;--ck-resizer-border-radius:2px;--ck-resizer-offset:calc(var(--ck-resizer-size)/-2 - 2px);--ck-resizer-tooltip-offset:10px;--ck-color-resizer-tooltip-background:#262626;--ck-color-resizer-tooltip-text:#f2f2f2}.ck .ck-widget,.ck .ck-widget.ck-widget_with-selection-handle{position:relative}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{position:absolute}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon{display:block}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected .ck-widget__selection-handle,.ck .ck-widget.ck-widget_with-selection-handle:hover .ck-widget__selection-handle{visibility:visible}.ck .ck-size-view{background:var(--ck-color-resizer-tooltip-background);color:var(--ck-color-resizer-tooltip-text);border:1px solid var(--ck-color-resizer-tooltip-text);border-radius:var(--ck-resizer-border-radius);font-size:var(--ck-font-size-tiny);display:block;padding:var(--ck-spacing-small)}.ck .ck-size-view.ck-orientation-bottom-left,.ck .ck-size-view.ck-orientation-bottom-right,.ck .ck-size-view.ck-orientation-top-left,.ck .ck-size-view.ck-orientation-top-right{position:absolute}.ck .ck-size-view.ck-orientation-top-left{top:var(--ck-resizer-tooltip-offset);left:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-top-right{top:var(--ck-resizer-tooltip-offset);right:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-bottom-right{bottom:var(--ck-resizer-tooltip-offset);right:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-bottom-left{bottom:var(--ck-resizer-tooltip-offset);left:var(--ck-resizer-tooltip-offset)}:root{--ck-widget-outline-thickness:3px;--ck-widget-handler-icon-size:16px;--ck-widget-handler-animation-duration:200ms;--ck-widget-handler-animation-curve:ease;--ck-color-widget-blurred-border:#dedede;--ck-color-widget-hover-border:#ffc83d;--ck-color-widget-editable-focus-background:var(--ck-color-base-background);--ck-color-widget-drag-handler-icon-color:var(--ck-color-base-background)}.ck .ck-widget{outline-width:var(--ck-widget-outline-thickness);outline-style:solid;outline-color:transparent;transition:outline-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve)}.ck .ck-widget.ck-widget_selected,.ck .ck-widget.ck-widget_selected:hover{outline:var(--ck-widget-outline-thickness) solid var(--ck-color-focus-border)}.ck .ck-widget:hover{outline-color:var(--ck-color-widget-hover-border)}.ck .ck-editor__nested-editable{border:1px solid transparent}.ck .ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck .ck-editor__nested-editable:focus{outline:none;border:var(--ck-focus-ring);box-shadow:var(--ck-inner-shadow),0 0;background-color:var(--ck-color-widget-editable-focus-background)}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{padding:4px;box-sizing:border-box;background-color:transparent;opacity:0;transition:background-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),visibility var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);border-radius:var(--ck-border-radius) var(--ck-border-radius) 0 0;transform:translateY(-100%);left:calc(0px - var(--ck-widget-outline-thickness))}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon{width:var(--ck-widget-handler-icon-size);height:var(--ck-widget-handler-icon-size);color:var(--ck-color-widget-drag-handler-icon-color)}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator{opacity:0;transition:opacity .3s var(--ck-widget-handler-animation-curve)}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle:hover .ck-icon .ck-icon__selected-indicator{opacity:1}.ck .ck-widget.ck-widget_with-selection-handle:hover .ck-widget__selection-handle{opacity:1;background-color:var(--ck-color-widget-hover-border)}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected .ck-widget__selection-handle,.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected:hover .ck-widget__selection-handle{opacity:1;background-color:var(--ck-color-focus-border)}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected .ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator,.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected:hover .ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator{opacity:1}.ck[dir=rtl] .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{left:auto;right:calc(0px - var(--ck-widget-outline-thickness))}.ck.ck-editor__editable.ck-read-only .ck-widget{transition:none}.ck.ck-editor__editable.ck-read-only .ck-widget:not(.ck-widget_selected){--ck-widget-outline-thickness:0px}.ck.ck-editor__editable.ck-read-only .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle,.ck.ck-editor__editable.ck-read-only .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle:hover{background:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected:hover{outline-color:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle .ck-widget__selection-handle,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle .ck-widget__selection-handle:hover,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected:hover.ck-widget_with-selection-handle .ck-widget__selection-handle,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected:hover.ck-widget_with-selection-handle .ck-widget__selection-handle:hover{background:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable>.ck-widget.ck-widget_with-selection-handle:first-child,.ck.ck-editor__editable blockquote>.ck-widget.ck-widget_with-selection-handle:first-child{margin-top:calc(1em + var(--ck-widget-handler-icon-size))}"},function(e,t,n){var r=n(1),n=n(55);r(n="string"==typeof(n=n.__esModule?n.default:n)?[[e.i,n,""]]:n,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),e.exports=n.locals||{}},function(e,t){e.exports=".ck.ck-labeled-field-view .ck-labeled-field-view__status{font-size:var(--ck-font-size-small);margin-top:var(--ck-spacing-small);white-space:normal}.ck.ck-labeled-field-view .ck-labeled-field-view__status_error{color:var(--ck-color-base-error)}.ck.ck-labeled-field-view>.ck.ck-label{width:100%;text-overflow:ellipsis;overflow:hidden}"},function(e,t,n){var r=n(1),n=n(57);r(n="string"==typeof(n=n.__esModule?n.default:n)?[[e.i,n,""]]:n,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),e.exports=n.locals||{}},function(e,t){e.exports=":root{--ck-input-text-width:18em}.ck.ck-input-text{border-radius:0}.ck-rounded-corners .ck.ck-input-text,.ck.ck-input-text.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-input-text{box-shadow:var(--ck-inner-shadow),0 0;background:var(--ck-color-input-background);border:1px solid var(--ck-color-input-border);padding:var(--ck-spacing-extra-tiny) var(--ck-spacing-medium);min-width:var(--ck-input-text-width);min-height:var(--ck-ui-component-min-height);transition:box-shadow .2s ease-in-out,border .2s ease-in-out}.ck.ck-input-text:focus{outline:none;border:var(--ck-focus-ring);box-shadow:var(--ck-focus-outer-shadow),var(--ck-inner-shadow)}.ck.ck-input-text[readonly]{border:1px solid var(--ck-color-input-disabled-border);background:var(--ck-color-input-disabled-background);color:var(--ck-color-input-disabled-text)}.ck.ck-input-text[readonly]:focus{box-shadow:var(--ck-focus-disabled-outer-shadow),var(--ck-inner-shadow)}.ck.ck-input-text.ck-error{border-color:var(--ck-color-input-error-border);animation:ck-text-input-shake .3s ease both}.ck.ck-input-text.ck-error:focus{box-shadow:var(--ck-focus-error-outer-shadow),var(--ck-inner-shadow)}@keyframes ck-text-input-shake{20%{transform:translateX(-2px)}40%{transform:translateX(2px)}60%{transform:translateX(-1px)}80%{transform:translateX(1px)}}"},function(e,t,n){var r=n(1),n=n(59);r(n="string"==typeof(n=n.__esModule?n.default:n)?[[e.i,n,""]]:n,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),e.exports=n.locals||{}},function(e,t){e.exports=".ck.ck-text-alternative-form{display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-text-alternative-form .ck-labeled-field-view{display:inline-block}.ck.ck-text-alternative-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-text-alternative-form{flex-wrap:wrap}.ck.ck-text-alternative-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-text-alternative-form .ck-button{flex-basis:50%}}"},function(e,t){e.exports='.ck-vertical-form .ck-button:after{content:"";width:0;position:absolute;right:-1px;top:var(--ck-spacing-small);bottom:var(--ck-spacing-small);z-index:1}@media screen and (max-width:600px){.ck.ck-responsive-form .ck-button:after{content:"";width:0;position:absolute;right:-1px;top:var(--ck-spacing-small);bottom:var(--ck-spacing-small);z-index:1}}.ck-vertical-form>.ck-button:nth-last-child(2):after{border-right:1px solid var(--ck-color-base-border)}.ck.ck-responsive-form{padding:var(--ck-spacing-standard)}.ck.ck-responsive-form:focus{outline:none}[dir=ltr] .ck.ck-responsive-form>:not(:first-child),[dir=rtl] .ck.ck-responsive-form>:not(:last-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-responsive-form{padding:0;width:calc(var(--ck-input-text-width)*0.8)}.ck.ck-responsive-form .ck-labeled-field-view{margin:var(--ck-spacing-standard) var(--ck-spacing-standard) 0}.ck.ck-responsive-form .ck-labeled-field-view .ck-input-text{min-width:0;width:100%}.ck.ck-responsive-form .ck-labeled-field-view .ck-labeled-field-view__error{white-space:normal}.ck.ck-responsive-form>.ck-button:last-child,.ck.ck-responsive-form>.ck-button:nth-last-child(2){padding:var(--ck-spacing-standard);margin-top:var(--ck-spacing-standard);border-radius:0;border:0;border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-responsive-form>.ck-button:last-child,[dir=ltr] .ck.ck-responsive-form>.ck-button:nth-last-child(2),[dir=rtl] .ck.ck-responsive-form>.ck-button:last-child,[dir=rtl] .ck.ck-responsive-form>.ck-button:nth-last-child(2){margin-left:0}.ck.ck-responsive-form>.ck-button:nth-last-child(2):after,[dir=rtl] .ck.ck-responsive-form>.ck-button:last-child:last-of-type,[dir=rtl] .ck.ck-responsive-form>.ck-button:nth-last-child(2):last-of-type{border-right:1px solid var(--ck-color-base-border)}}'},function(e,t,n){var r=n(1),n=n(62);r(n="string"==typeof(n=n.__esModule?n.default:n)?[[e.i,n,""]]:n,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),e.exports=n.locals||{}},function(e,t){e.exports=".ck .ck-balloon-rotator__navigation{display:flex;align-items:center;justify-content:center}.ck .ck-balloon-rotator__content .ck-toolbar{justify-content:center}.ck .ck-balloon-rotator__navigation{background:var(--ck-color-toolbar-background);border-bottom:1px solid var(--ck-color-toolbar-border);padding:0 var(--ck-spacing-small)}.ck .ck-balloon-rotator__navigation>*{margin-right:var(--ck-spacing-small);margin-top:var(--ck-spacing-small);margin-bottom:var(--ck-spacing-small)}.ck .ck-balloon-rotator__navigation .ck-balloon-rotator__counter{margin-right:var(--ck-spacing-standard);margin-left:var(--ck-spacing-small)}.ck .ck-balloon-rotator__content .ck.ck-annotation-wrapper{box-shadow:none}"},function(e,t,n){var r=n(1),n=n(64);r(n="string"==typeof(n=n.__esModule?n.default:n)?[[e.i,n,""]]:n,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),e.exports=n.locals||{}},function(e,t){e.exports=".ck .ck-fake-panel{position:absolute;z-index:calc(var(--ck-z-modal) - 1)}.ck .ck-fake-panel div{position:absolute}.ck .ck-fake-panel div:first-child{z-index:2}.ck .ck-fake-panel div:nth-child(2){z-index:1}:root{--ck-balloon-fake-panel-offset-horizontal:6px;--ck-balloon-fake-panel-offset-vertical:6px}.ck .ck-fake-panel div{box-shadow:var(--ck-drop-shadow),0 0;min-height:15px;background:var(--ck-color-panel-background);border:1px solid var(--ck-color-panel-border);border-radius:var(--ck-border-radius);width:100%;height:100%}.ck .ck-fake-panel div:first-child{margin-left:var(--ck-balloon-fake-panel-offset-horizontal);margin-top:var(--ck-balloon-fake-panel-offset-vertical)}.ck .ck-fake-panel div:nth-child(2){margin-left:calc(var(--ck-balloon-fake-panel-offset-horizontal)*2);margin-top:calc(var(--ck-balloon-fake-panel-offset-vertical)*2)}.ck .ck-fake-panel div:nth-child(3){margin-left:calc(var(--ck-balloon-fake-panel-offset-horizontal)*3);margin-top:calc(var(--ck-balloon-fake-panel-offset-vertical)*3)}.ck .ck-balloon-panel_arrow_s+.ck-fake-panel,.ck .ck-balloon-panel_arrow_se+.ck-fake-panel,.ck .ck-balloon-panel_arrow_sw+.ck-fake-panel{--ck-balloon-fake-panel-offset-vertical:-6px}"},function(e,t,n){var r=n(1),n=n(66);r(n="string"==typeof(n=n.__esModule?n.default:n)?[[e.i,n,""]]:n,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),e.exports=n.locals||{}},function(e,t){e.exports=".ck-content .image{display:table;clear:both;text-align:center;margin:1em auto}.ck-content .image img{display:block;margin:0 auto;max-width:100%;min-width:50px}"},function(e,t,n){var r=n(1),n=n(68);r(n="string"==typeof(n=n.__esModule?n.default:n)?[[e.i,n,""]]:n,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),e.exports=n.locals||{}},function(e,t){e.exports=".ck.ck-editor__editable .image{position:relative}.ck.ck-editor__editable .image .ck-progress-bar{position:absolute;top:0;left:0}.ck.ck-editor__editable .image.ck-appear{animation:fadeIn .7s}.ck.ck-editor__editable .image .ck-progress-bar{height:2px;width:0;background:var(--ck-color-upload-bar-background);transition:width .1s}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}"},function(e,t,n){var r=n(1),n=n(70);r(n="string"==typeof(n=n.__esModule?n.default:n)?[[e.i,n,""]]:n,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),e.exports=n.locals||{}},function(e,t){e.exports='.ck-image-upload-complete-icon{display:block;position:absolute;top:10px;right:10px;border-radius:50%}.ck-image-upload-complete-icon:after{content:"";position:absolute}:root{--ck-color-image-upload-icon:#fff;--ck-color-image-upload-icon-background:#008a00;--ck-image-upload-icon-size:20px;--ck-image-upload-icon-width:2px}.ck-image-upload-complete-icon{width:var(--ck-image-upload-icon-size);height:var(--ck-image-upload-icon-size);opacity:0;background:var(--ck-color-image-upload-icon-background);animation-name:ck-upload-complete-icon-show,ck-upload-complete-icon-hide;animation-fill-mode:forwards,forwards;animation-duration:.5s,.5s;font-size:var(--ck-image-upload-icon-size);animation-delay:0ms,3s}.ck-image-upload-complete-icon:after{left:25%;top:50%;opacity:0;height:0;width:0;transform:scaleX(-1) rotate(135deg);transform-origin:left top;border-top:var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);border-right:var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);animation-name:ck-upload-complete-icon-check;animation-duration:.5s;animation-delay:.5s;animation-fill-mode:forwards;box-sizing:border-box}@keyframes ck-upload-complete-icon-show{0%{opacity:0}to{opacity:1}}@keyframes ck-upload-complete-icon-hide{0%{opacity:1}to{opacity:0}}@keyframes ck-upload-complete-icon-check{0%{opacity:1;width:0;height:0}33%{width:.3em;height:0}to{opacity:1;width:.3em;height:.45em}}'},function(e,t,n){var r=n(1),n=n(72);r(n="string"==typeof(n=n.__esModule?n.default:n)?[[e.i,n,""]]:n,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),e.exports=n.locals||{}},function(e,t){e.exports='.ck .ck-upload-placeholder-loader{position:absolute;display:flex;align-items:center;justify-content:center;top:0;left:0}.ck .ck-upload-placeholder-loader:before{content:"";position:relative}:root{--ck-color-upload-placeholder-loader:#b3b3b3;--ck-upload-placeholder-loader-size:32px}.ck .ck-image-upload-placeholder{width:100%;margin:0}.ck .ck-upload-placeholder-loader{width:100%;height:100%}.ck .ck-upload-placeholder-loader:before{width:var(--ck-upload-placeholder-loader-size);height:var(--ck-upload-placeholder-loader-size);border-radius:50%;border-top:3px solid var(--ck-color-upload-placeholder-loader);border-right:2px solid transparent;animation:ck-upload-placeholder-loader 1s linear infinite}@keyframes ck-upload-placeholder-loader{to{transform:rotate(1turn)}}'},function(e,t){e.exports=".ck.ck-heading_heading1{font-size:20px}.ck.ck-heading_heading2{font-size:17px}.ck.ck-heading_heading3{font-size:14px}.ck[class*=ck-heading_heading]{font-weight:700}.ck.ck-dropdown.ck-heading-dropdown .ck-dropdown__button .ck-button__label{width:8em}.ck.ck-dropdown.ck-heading-dropdown .ck-dropdown__panel .ck-list__item{min-width:18em}"},function(e,t,n){var r=n(1),n=n(75);r(n="string"==typeof(n=n.__esModule?n.default:n)?[[e.i,n,""]]:n,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),e.exports=n.locals||{}},function(e,t){e.exports=".ck-content .image>figcaption{display:table-caption;caption-side:bottom;word-break:break-word;color:#333;background-color:#f7f7f7;padding:.6em;font-size:.75em;outline-offset:-1px}"},function(e,t,n){var r=n(1),n=n(77);r(n="string"==typeof(n=n.__esModule?n.default:n)?[[e.i,n,""]]:n,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),e.exports=n.locals||{}},function(e,t){e.exports=":root{--ck-image-style-spacing:1.5em}.ck-content .image-style-side{float:right;margin-left:var(--ck-image-style-spacing);max-width:50%}.ck-content .image-style-align-left{float:left;margin-right:var(--ck-image-style-spacing)}.ck-content .image-style-align-center{margin-left:auto;margin-right:auto}.ck-content .image-style-align-right{float:right;margin-left:var(--ck-image-style-spacing)}"},function(e,t,n){var r=n(1),n=n(79);r(n="string"==typeof(n=n.__esModule?n.default:n)?[[e.i,n,""]]:n,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),e.exports=n.locals||{}},function(e,t){e.exports=".ck.ck-link-form{display:flex}.ck.ck-link-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-link-form{flex-wrap:wrap}.ck.ck-link-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-link-form .ck-button{flex-basis:50%}}.ck.ck-link-form_layout-vertical{display:block;padding:0;min-width:var(--ck-input-text-width)}.ck.ck-link-form_layout-vertical .ck-labeled-field-view{margin:var(--ck-spacing-standard) var(--ck-spacing-standard) var(--ck-spacing-small)}.ck.ck-link-form_layout-vertical .ck-labeled-field-view .ck-input-text{min-width:0;width:100%}.ck.ck-link-form_layout-vertical .ck-button{padding:var(--ck-spacing-standard);margin:0;border-radius:0;border:0;border-top:1px solid var(--ck-color-base-border);width:50%}[dir=ltr] .ck.ck-link-form_layout-vertical .ck-button,[dir=rtl] .ck.ck-link-form_layout-vertical .ck-button{margin-left:0}[dir=rtl] .ck.ck-link-form_layout-vertical .ck-button:last-of-type{border-right:1px solid var(--ck-color-base-border)}.ck.ck-link-form_layout-vertical .ck.ck-list{margin-left:0}.ck.ck-link-form_layout-vertical .ck.ck-list .ck-button.ck-switchbutton{border:0;width:100%}.ck.ck-link-form_layout-vertical .ck.ck-list .ck-button.ck-switchbutton:hover{background:none}"},function(e,t,n){var r=n(1),n=n(81);r(n="string"==typeof(n=n.__esModule?n.default:n)?[[e.i,n,""]]:n,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),e.exports=n.locals||{}},function(e,t){e.exports=".ck.ck-link-actions{display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-link-actions .ck-link-actions__preview{display:inline-block}.ck.ck-link-actions .ck-link-actions__preview .ck-button__label{overflow:hidden}@media screen and (max-width:600px){.ck.ck-link-actions{flex-wrap:wrap}.ck.ck-link-actions .ck-link-actions__preview{flex-basis:100%}.ck.ck-link-actions .ck-button:not(.ck-link-actions__preview){flex-basis:50%}}.ck.ck-link-actions .ck-button.ck-link-actions__preview{padding-left:0;padding-right:0}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label{padding:0 var(--ck-spacing-medium);color:var(--ck-color-link-default);text-overflow:ellipsis;cursor:pointer;max-width:var(--ck-input-text-width);min-width:3em;text-align:center}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label:hover{text-decoration:underline}.ck.ck-link-actions .ck-button.ck-link-actions__preview,.ck.ck-link-actions .ck-button.ck-link-actions__preview:active,.ck.ck-link-actions .ck-button.ck-link-actions__preview:focus,.ck.ck-link-actions .ck-button.ck-link-actions__preview:hover{background:none}.ck.ck-link-actions .ck-button.ck-link-actions__preview:active{box-shadow:none}.ck.ck-link-actions .ck-button.ck-link-actions__preview:focus .ck-button__label{text-decoration:underline}[dir=ltr] .ck.ck-link-actions .ck-button:not(:first-child),[dir=rtl] .ck.ck-link-actions .ck-button:not(:last-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-link-actions .ck-button.ck-link-actions__preview{margin:var(--ck-spacing-standard) var(--ck-spacing-standard) 0}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label{min-width:0;max-width:100%}[dir=ltr] .ck.ck-link-actions .ck-button:not(.ck-link-actions__preview),[dir=rtl] .ck.ck-link-actions .ck-button:not(.ck-link-actions__preview){margin-left:0}}"},function(e,t,n){var r=n(1),n=n(83);r(n="string"==typeof(n=n.__esModule?n.default:n)?[[e.i,n,""]]:n,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),e.exports=n.locals||{}},function(e,t){e.exports='.ck-media__wrapper .ck-media__placeholder{display:flex;flex-direction:column;align-items:center}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url .ck-tooltip{display:block}@media (hover:none){.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url .ck-tooltip{display:none}}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url{max-width:100%;position:relative}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url:hover .ck-tooltip{visibility:visible;opacity:1}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url .ck-media__placeholder__url__text{overflow:hidden;display:block}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="google.com/maps"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck-media__placeholder__icon *{display:none}.ck-editor__editable:not(.ck-read-only) .ck-media__wrapper>:not(.ck-media__placeholder),.ck-editor__editable:not(.ck-read-only) .ck-widget:not(.ck-widget_selected) .ck-media__placeholder{pointer-events:none}:root{--ck-media-embed-placeholder-icon-size:3em;--ck-color-media-embed-placeholder-url-text:#757575;--ck-color-media-embed-placeholder-url-text-hover:var(--ck-color-base-text)}.ck-media__wrapper{margin:0 auto}.ck-media__wrapper .ck-media__placeholder{padding:calc(var(--ck-spacing-standard)*3);background:var(--ck-color-base-foreground)}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__icon{min-width:var(--ck-media-embed-placeholder-icon-size);height:var(--ck-media-embed-placeholder-icon-size);margin-bottom:var(--ck-spacing-large);background-position:50%;background-size:cover}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__icon .ck-icon{width:100%;height:100%}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url__text{color:var(--ck-color-media-embed-placeholder-url-text);white-space:nowrap;text-align:center;font-style:italic;text-overflow:ellipsis}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:var(--ck-color-media-embed-placeholder-url-text-hover);cursor:pointer;text-decoration:underline}.ck-media__wrapper[data-oembed-url*="open.spotify.com"]{max-width:300px;max-height:380px}.ck-media__wrapper[data-oembed-url*="google.com/maps"] .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNTAuMzc4IiBoZWlnaHQ9IjI1NC4xNjciIHZpZXdCb3g9IjAgMCA2Ni4yNDYgNjcuMjQ4Ij48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTcyLjUzMSAtMjE4LjQ1NSkgc2NhbGUoLjk4MDEyKSI+PHJlY3Qgcnk9IjUuMjM4IiByeD0iNS4yMzgiIHk9IjIzMS4zOTkiIHg9IjE3Ni4wMzEiIGhlaWdodD0iNjAuMDk5IiB3aWR0aD0iNjAuMDk5IiBmaWxsPSIjMzRhNjY4IiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxwYXRoIGQ9Ik0yMDYuNDc3IDI2MC45bC0yOC45ODcgMjguOTg3YTUuMjE4IDUuMjE4IDAgMDAzLjc4IDEuNjFoNDkuNjIxYzEuNjk0IDAgMy4xOS0uNzk4IDQuMTQ2LTIuMDM3eiIgZmlsbD0iIzVjODhjNSIvPjxwYXRoIGQ9Ik0yMjYuNzQyIDIyMi45ODhjLTkuMjY2IDAtMTYuNzc3IDcuMTctMTYuNzc3IDE2LjAxNC4wMDcgMi43NjIuNjYzIDUuNDc0IDIuMDkzIDcuODc1LjQzLjcwMy44MyAxLjQwOCAxLjE5IDIuMTA3LjMzMy41MDIuNjUgMS4wMDUuOTUgMS41MDguMzQzLjQ3Ny42NzMuOTU3Ljk4OCAxLjQ0IDEuMzEgMS43NjkgMi41IDMuNTAyIDMuNjM3IDUuMTY4Ljc5MyAxLjI3NSAxLjY4MyAyLjY0IDIuNDY2IDMuOTkgMi4zNjMgNC4wOTQgNC4wMDcgOC4wOTIgNC42IDEzLjkxNHYuMDEyYy4xODIuNDEyLjUxNi42NjYuODc5LjY2Ny40MDMtLjAwMS43NjgtLjMxNC45My0uNzk5LjYwMy01Ljc1NiAyLjIzOC05LjcyOSA0LjU4NS0xMy43OTQuNzgyLTEuMzUgMS42NzMtMi43MTUgMi40NjUtMy45OSAxLjEzNy0xLjY2NiAyLjMyOC0zLjQgMy42MzgtNS4xNjkuMzE1LS40ODIuNjQ1LS45NjIuOTg4LTEuNDM5LjMtLjUwMy42MTctMS4wMDYuOTUtMS41MDguMzU5LS43Ljc2LTEuNDA0IDEuMTktMi4xMDcgMS40MjYtMi40MDIgMi01LjExNCAyLjAwNC03Ljg3NSAwLTguODQ0LTcuNTExLTE2LjAxNC0xNi43NzYtMTYuMDE0eiIgZmlsbD0iI2RkNGIzZSIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48ZWxsaXBzZSByeT0iNS41NjQiIHJ4PSI1LjgyOCIgY3k9IjIzOS4wMDIiIGN4PSIyMjYuNzQyIiBmaWxsPSIjODAyZDI3IiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxwYXRoIGQ9Ik0xOTAuMzAxIDIzNy4yODNjLTQuNjcgMC04LjQ1NyAzLjg1My04LjQ1NyA4LjYwNnMzLjc4NiA4LjYwNyA4LjQ1NyA4LjYwN2MzLjA0MyAwIDQuODA2LS45NTggNi4zMzctMi41MTYgMS41My0xLjU1NyAyLjA4Ny0zLjkxMyAyLjA4Ny02LjI5IDAtLjM2Mi0uMDIzLS43MjItLjA2NC0xLjA3OWgtOC4yNTd2My4wNDNoNC44NWMtLjE5Ny43NTktLjUzMSAxLjQ1LTEuMDU4IDEuOTg2LS45NDIuOTU4LTIuMDI4IDEuNTQ4LTMuOTAxIDEuNTQ4LTIuODc2IDAtNS4yMDgtMi4zNzItNS4yMDgtNS4yOTkgMC0yLjkyNiAyLjMzMi01LjI5OSA1LjIwOC01LjI5OSAxLjM5OSAwIDIuNjE4LjQwNyAzLjU4NCAxLjI5M2wyLjM4MS0yLjM4YzAtLjAwMi0uMDAzLS4wMDQtLjAwNC0uMDA1LTEuNTg4LTEuNTI0LTMuNjItMi4yMTUtNS45NTUtMi4yMTV6bTQuNDMgNS42NmwuMDAzLjAwNnYtLjAwM3oiIGZpbGw9IiNmZmYiIHBhaW50LW9yZGVyPSJtYXJrZXJzIHN0cm9rZSBmaWxsIi8+PHBhdGggZD0iTTIxNS4xODQgMjUxLjkyOWwtNy45OCA3Ljk3OSAyOC40NzcgMjguNDc1YTUuMjMzIDUuMjMzIDAgMDAuNDQ5LTIuMTIzdi0zMS4xNjVjLS40NjkuNjc1LS45MzQgMS4zNDktMS4zODIgMi4wMDUtLjc5MiAxLjI3NS0xLjY4MiAyLjY0LTIuNDY1IDMuOTktMi4zNDcgNC4wNjUtMy45ODIgOC4wMzgtNC41ODUgMTMuNzk0LS4xNjIuNDg1LS41MjcuNzk4LS45My43OTktLjM2My0uMDAxLS42OTctLjI1NS0uODc5LS42Njd2LS4wMTJjLS41OTMtNS44MjItMi4yMzctOS44Mi00LjYtMTMuOTE0LS43ODMtMS4zNS0xLjY3My0yLjcxNS0yLjQ2Ni0zLjk5LTEuMTM3LTEuNjY2LTIuMzI3LTMuNC0zLjYzNy01LjE2OWwtLjAwMi0uMDAzeiIgZmlsbD0iI2MzYzNjMyIvPjxwYXRoIGQ9Ik0yMTIuOTgzIDI0OC40OTVsLTM2Ljk1MiAzNi45NTN2LjgxMmE1LjIyNyA1LjIyNyAwIDAwNS4yMzggNS4yMzhoMS4wMTVsMzUuNjY2LTM1LjY2NmExMzYuMjc1IDEzNi4yNzUgMCAwMC0yLjc2NC0zLjkgMzcuNTc1IDM3LjU3NSAwIDAwLS45ODktMS40NCAzNS4xMjcgMzUuMTI3IDAgMDAtLjk1LTEuNTA4Yy0uMDgzLS4xNjItLjE3Ni0uMzI2LS4yNjQtLjQ4OXoiIGZpbGw9IiNmZGRjNGYiIHBhaW50LW9yZGVyPSJtYXJrZXJzIHN0cm9rZSBmaWxsIi8+PHBhdGggZD0iTTIxMS45OTggMjYxLjA4M2wtNi4xNTIgNi4xNTEgMjQuMjY0IDI0LjI2NGguNzgxYTUuMjI3IDUuMjI3IDAgMDA1LjIzOS01LjIzOHYtMS4wNDV6IiBmaWxsPSIjZmZmIiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjwvZz48L3N2Zz4=)}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder{background:#4268b3}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAyNCIgaGVpZ2h0PSIxMDI0IiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPjxwYXRoIGQ9Ik05NjcuNDg0IDBINTYuNTE3QzI1LjMwNCAwIDAgMjUuMzA0IDAgNTYuNTE3djkxMC45NjZDMCA5OTguNjk0IDI1LjI5NyAxMDI0IDU2LjUyMiAxMDI0SDU0N1Y2MjhINDE0VjQ3M2gxMzNWMzU5LjAyOWMwLTEzMi4yNjIgODAuNzczLTIwNC4yODIgMTk4Ljc1Ni0yMDQuMjgyIDU2LjUxMyAwIDEwNS4wODYgNC4yMDggMTE5LjI0NCA2LjA4OVYyOTlsLTgxLjYxNi4wMzdjLTYzLjk5MyAwLTc2LjM4NCAzMC40OTItNzYuMzg0IDc1LjIzNlY0NzNoMTUzLjQ4N2wtMTkuOTg2IDE1NUg3MDd2Mzk2aDI2MC40ODRjMzEuMjEzIDAgNTYuNTE2LTI1LjMwMyA1Ni41MTYtNTYuNTE2VjU2LjUxNUMxMDI0IDI1LjMwMyA5OTguNjk3IDAgOTY3LjQ4NCAwIiBmaWxsPSIjRkZGRkZFIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__url__text{color:#cdf}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder{background:linear-gradient(-135deg,#1400c7,#b800b1,#f50000)}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTA0IiBoZWlnaHQ9IjUwNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+PGRlZnM+PHBhdGggaWQ9ImEiIGQ9Ik0wIC4xNTloNTAzLjg0MVY1MDMuOTRIMHoiLz48L2RlZnM+PGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj48bWFzayBpZD0iYiIgZmlsbD0iI2ZmZiI+PHVzZSB4bGluazpocmVmPSIjYSIvPjwvbWFzaz48cGF0aCBkPSJNMjUxLjkyMS4xNTljLTY4LjQxOCAwLTc2Ljk5Ny4yOS0xMDMuODY3IDEuNTE2LTI2LjgxNCAxLjIyMy00NS4xMjcgNS40ODItNjEuMTUxIDExLjcxLTE2LjU2NiA2LjQzNy0zMC42MTUgMTUuMDUxLTQ0LjYyMSAyOS4wNTYtMTQuMDA1IDE0LjAwNi0yMi42MTkgMjguMDU1LTI5LjA1NiA0NC42MjEtNi4yMjggMTYuMDI0LTEwLjQ4NyAzNC4zMzctMTEuNzEgNjEuMTUxQy4yOSAxNzUuMDgzIDAgMTgzLjY2MiAwIDI1Mi4wOGMwIDY4LjQxNy4yOSA3Ni45OTYgMS41MTYgMTAzLjg2NiAxLjIyMyAyNi44MTQgNS40ODIgNDUuMTI3IDExLjcxIDYxLjE1MSA2LjQzNyAxNi41NjYgMTUuMDUxIDMwLjYxNSAyOS4wNTYgNDQuNjIxIDE0LjAwNiAxNC4wMDUgMjguMDU1IDIyLjYxOSA0NC42MjEgMjkuMDU3IDE2LjAyNCA2LjIyNyAzNC4zMzcgMTAuNDg2IDYxLjE1MSAxMS43MDkgMjYuODcgMS4yMjYgMzUuNDQ5IDEuNTE2IDEwMy44NjcgMS41MTYgNjguNDE3IDAgNzYuOTk2LS4yOSAxMDMuODY2LTEuNTE2IDI2LjgxNC0xLjIyMyA0NS4xMjctNS40ODIgNjEuMTUxLTExLjcwOSAxNi41NjYtNi40MzggMzAuNjE1LTE1LjA1MiA0NC42MjEtMjkuMDU3IDE0LjAwNS0xNC4wMDYgMjIuNjE5LTI4LjA1NSAyOS4wNTctNDQuNjIxIDYuMjI3LTE2LjAyNCAxMC40ODYtMzQuMzM3IDExLjcwOS02MS4xNTEgMS4yMjYtMjYuODcgMS41MTYtMzUuNDQ5IDEuNTE2LTEwMy44NjYgMC02OC40MTgtLjI5LTc2Ljk5Ny0xLjUxNi0xMDMuODY3LTEuMjIzLTI2LjgxNC01LjQ4Mi00NS4xMjctMTEuNzA5LTYxLjE1MS02LjQzOC0xNi41NjYtMTUuMDUyLTMwLjYxNS0yOS4wNTctNDQuNjIxLTE0LjAwNi0xNC4wMDUtMjguMDU1LTIyLjYxOS00NC42MjEtMjkuMDU2LTE2LjAyNC02LjIyOC0zNC4zMzctMTAuNDg3LTYxLjE1MS0xMS43MUMzMjguOTE3LjQ0OSAzMjAuMzM4LjE1OSAyNTEuOTIxLjE1OXptMCA0NS4zOTFjNjcuMjY1IDAgNzUuMjMzLjI1NyAxMDEuNzk3IDEuNDY5IDI0LjU2MiAxLjEyIDM3LjkwMSA1LjIyNCA0Ni43NzggOC42NzQgMTEuNzU5IDQuNTcgMjAuMTUxIDEwLjAyOSAyOC45NjYgMTguODQ1IDguODE2IDguODE1IDE0LjI3NSAxNy4yMDcgMTguODQ1IDI4Ljk2NiAzLjQ1IDguODc3IDcuNTU0IDIyLjIxNiA4LjY3NCA0Ni43NzggMS4yMTIgMjYuNTY0IDEuNDY5IDM0LjUzMiAxLjQ2OSAxMDEuNzk4IDAgNjcuMjY1LS4yNTcgNzUuMjMzLTEuNDY5IDEwMS43OTctMS4xMiAyNC41NjItNS4yMjQgMzcuOTAxLTguNjc0IDQ2Ljc3OC00LjU3IDExLjc1OS0xMC4wMjkgMjAuMTUxLTE4Ljg0NSAyOC45NjYtOC44MTUgOC44MTYtMTcuMjA3IDE0LjI3NS0yOC45NjYgMTguODQ1LTguODc3IDMuNDUtMjIuMjE2IDcuNTU0LTQ2Ljc3OCA4LjY3NC0yNi41NiAxLjIxMi0zNC41MjcgMS40NjktMTAxLjc5NyAxLjQ2OS02Ny4yNzEgMC03NS4yMzctLjI1Ny0xMDEuNzk4LTEuNDY5LTI0LjU2Mi0xLjEyLTM3LjkwMS01LjIyNC00Ni43NzgtOC42NzQtMTEuNzU5LTQuNTctMjAuMTUxLTEwLjAyOS0yOC45NjYtMTguODQ1LTguODE1LTguODE1LTE0LjI3NS0xNy4yMDctMTguODQ1LTI4Ljk2Ni0zLjQ1LTguODc3LTcuNTU0LTIyLjIxNi04LjY3NC00Ni43NzgtMS4yMTItMjYuNTY0LTEuNDY5LTM0LjUzMi0xLjQ2OS0xMDEuNzk3IDAtNjcuMjY2LjI1Ny03NS4yMzQgMS40NjktMTAxLjc5OCAxLjEyLTI0LjU2MiA1LjIyNC0zNy45MDEgOC42NzQtNDYuNzc4IDQuNTctMTEuNzU5IDEwLjAyOS0yMC4xNTEgMTguODQ1LTI4Ljk2NiA4LjgxNS04LjgxNiAxNy4yMDctMTQuMjc1IDI4Ljk2Ni0xOC44NDUgOC44NzctMy40NSAyMi4yMTYtNy41NTQgNDYuNzc4LTguNjc0IDI2LjU2NC0xLjIxMiAzNC41MzItMS40NjkgMTAxLjc5OC0xLjQ2OXoiIGZpbGw9IiNGRkYiIG1hc2s9InVybCgjYikiLz48cGF0aCBkPSJNMjUxLjkyMSAzMzYuMDUzYy00Ni4zNzggMC04My45NzQtMzcuNTk2LTgzLjk3NC04My45NzMgMC00Ni4zNzggMzcuNTk2LTgzLjk3NCA4My45NzQtODMuOTc0IDQ2LjM3NyAwIDgzLjk3MyAzNy41OTYgODMuOTczIDgzLjk3NCAwIDQ2LjM3Ny0zNy41OTYgODMuOTczLTgzLjk3MyA4My45NzN6bTAtMjEzLjMzOGMtNzEuNDQ3IDAtMTI5LjM2NSA1Ny45MTgtMTI5LjM2NSAxMjkuMzY1IDAgNzEuNDQ2IDU3LjkxOCAxMjkuMzY0IDEyOS4zNjUgMTI5LjM2NCA3MS40NDYgMCAxMjkuMzY0LTU3LjkxOCAxMjkuMzY0LTEyOS4zNjQgMC03MS40NDctNTcuOTE4LTEyOS4zNjUtMTI5LjM2NC0xMjkuMzY1ek00MTYuNjI3IDExNy42MDRjMCAxNi42OTYtMTMuNTM1IDMwLjIzLTMwLjIzMSAzMC4yMy0xNi42OTUgMC0zMC4yMy0xMy41MzQtMzAuMjMtMzAuMjMgMC0xNi42OTYgMTMuNTM1LTMwLjIzMSAzMC4yMy0zMC4yMzEgMTYuNjk2IDAgMzAuMjMxIDEzLjUzNSAzMC4yMzEgMzAuMjMxIiBmaWxsPSIjRkZGIi8+PC9nPjwvc3ZnPg==)}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__url__text{color:#ffe0fe}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder{background:linear-gradient(90deg,#71c6f4,#0d70a5)}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0MDAgNDAwIj48cGF0aCBkPSJNNDAwIDIwMGMwIDExMC41LTg5LjUgMjAwLTIwMCAyMDBTMCAzMTAuNSAwIDIwMCA4OS41IDAgMjAwIDBzMjAwIDg5LjUgMjAwIDIwMHpNMTYzLjQgMzA1LjVjODguNyAwIDEzNy4yLTczLjUgMTM3LjItMTM3LjIgMC0yLjEgMC00LjItLjEtNi4yIDkuNC02LjggMTcuNi0xNS4zIDI0LjEtMjUtOC42IDMuOC0xNy45IDYuNC0yNy43IDcuNiAxMC02IDE3LjYtMTUuNCAyMS4yLTI2LjctOS4zIDUuNS0xOS42IDkuNS0zMC42IDExLjctOC44LTkuNC0yMS4zLTE1LjItMzUuMi0xNS4yLTI2LjYgMC00OC4yIDIxLjYtNDguMiA0OC4yIDAgMy44LjQgNy41IDEuMyAxMS00MC4xLTItNzUuNi0yMS4yLTk5LjQtNTAuNC00LjEgNy4xLTYuNSAxNS40LTYuNSAyNC4yIDAgMTYuNyA4LjUgMzEuNSAyMS41IDQwLjEtNy45LS4yLTE1LjMtMi40LTIxLjgtNnYuNmMwIDIzLjQgMTYuNiA0Mi44IDM4LjcgNDcuMy00IDEuMS04LjMgMS43LTEyLjcgMS43LTMuMSAwLTYuMS0uMy05LjEtLjkgNi4xIDE5LjIgMjMuOSAzMy4xIDQ1IDMzLjUtMTYuNSAxMi45LTM3LjMgMjAuNi01OS45IDIwLjYtMy45IDAtNy43LS4yLTExLjUtLjcgMjEuMSAxMy44IDQ2LjUgMjEuOCA3My43IDIxLjgiIGZpbGw9IiNmZmYiLz48L3N2Zz4=)}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__url__text{color:#b8e6ff}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}'},function(e,t,n){var r=n(1),n=n(85);r(n="string"==typeof(n=n.__esModule?n.default:n)?[[e.i,n,""]]:n,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),e.exports=n.locals||{}},function(e,t){e.exports=".ck.ck-media-form{display:flex;align-items:flex-start;flex-direction:row;flex-wrap:nowrap}.ck.ck-media-form .ck-labeled-field-view{display:inline-block}.ck.ck-media-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-media-form{flex-wrap:wrap}.ck.ck-media-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-media-form .ck-button{flex-basis:50%}}"},function(e,t,n){var r=n(1),n=n(87);r(n="string"==typeof(n=n.__esModule?n.default:n)?[[e.i,n,""]]:n,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),e.exports=n.locals||{}},function(e,t){e.exports=".ck-content .media{clear:both;margin:1em 0;display:block;min-width:15em}"},function(e,t,n){var r=n(1),n=n(89);r(n="string"==typeof(n=n.__esModule?n.default:n)?[[e.i,n,""]]:n,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),e.exports=n.locals||{}},function(e,t){e.exports=":root{--ck-color-table-focused-cell-background:rgba(158,207,250,0.3)}.ck-widget.table td.ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck-widget.table td.ck-editor__nested-editable:focus,.ck-widget.table th.ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck-widget.table th.ck-editor__nested-editable:focus{background:var(--ck-color-table-focused-cell-background);border-style:none;outline:1px solid var(--ck-color-focus-border);outline-offset:-1px}"},function(e,t,n){var r=n(1),n=n(91);r(n="string"==typeof(n=n.__esModule?n.default:n)?[[e.i,n,""]]:n,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),e.exports=n.locals||{}},function(e,t){e.exports=".ck.ck-splitbutton{font-size:inherit}.ck.ck-splitbutton .ck-splitbutton__action:focus{z-index:calc(var(--ck-z-default) + 1)}.ck.ck-splitbutton.ck-splitbutton_open>.ck-button .ck-tooltip{display:none}:root{--ck-color-split-button-hover-background:#ebebeb;--ck-color-split-button-hover-border:#b3b3b3}[dir=ltr] .ck.ck-splitbutton>.ck-splitbutton__action{border-top-right-radius:unset;border-bottom-right-radius:unset}[dir=rtl] .ck.ck-splitbutton>.ck-splitbutton__action{border-top-left-radius:unset;border-bottom-left-radius:unset}.ck.ck-splitbutton>.ck-splitbutton__arrow{min-width:unset}[dir=ltr] .ck.ck-splitbutton>.ck-splitbutton__arrow{border-radius:0}.ck-rounded-corners [dir=ltr] .ck.ck-splitbutton>.ck-splitbutton__arrow,[dir=ltr] .ck.ck-splitbutton>.ck-splitbutton__arrow.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:unset;border-bottom-left-radius:unset}[dir=rtl] .ck.ck-splitbutton>.ck-splitbutton__arrow{border-top-right-radius:unset;border-bottom-right-radius:unset}.ck.ck-splitbutton>.ck-splitbutton__arrow svg{width:var(--ck-dropdown-arrow-size)}.ck.ck-splitbutton.ck-splitbutton_open>.ck-button:not(.ck-on):not(.ck-disabled):not(:hover),.ck.ck-splitbutton:hover>.ck-button:not(.ck-on):not(.ck-disabled):not(:hover){background:var(--ck-color-split-button-hover-background)}[dir=ltr] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled),[dir=ltr] .ck.ck-splitbutton:hover>.ck-splitbutton__arrow:not(.ck-disabled){border-left-color:var(--ck-color-split-button-hover-border)}[dir=rtl] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled),[dir=rtl] .ck.ck-splitbutton:hover>.ck-splitbutton__arrow:not(.ck-disabled){border-right-color:var(--ck-color-split-button-hover-border)}.ck.ck-splitbutton.ck-splitbutton_open{border-radius:0}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__action,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners>.ck-splitbutton__action{border-bottom-left-radius:0}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners>.ck-splitbutton__arrow{border-bottom-right-radius:0}"},function(e,t,n){var r=n(1),n=n(93);r(n="string"==typeof(n=n.__esModule?n.default:n)?[[e.i,n,""]]:n,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),e.exports=n.locals||{}},function(e,t){e.exports=".ck .ck-insert-table-dropdown__grid{display:flex;flex-direction:row;flex-wrap:wrap}:root{--ck-insert-table-dropdown-padding:10px;--ck-insert-table-dropdown-box-height:11px;--ck-insert-table-dropdown-box-width:12px;--ck-insert-table-dropdown-box-margin:1px}.ck .ck-insert-table-dropdown__grid{width:calc(var(--ck-insert-table-dropdown-box-width)*10 + var(--ck-insert-table-dropdown-box-margin)*20 + var(--ck-insert-table-dropdown-padding)*2);padding:var(--ck-insert-table-dropdown-padding) var(--ck-insert-table-dropdown-padding) 0}.ck .ck-insert-table-dropdown__label{text-align:center}.ck .ck-insert-table-dropdown-grid-box{width:var(--ck-insert-table-dropdown-box-width);height:var(--ck-insert-table-dropdown-box-height);margin:var(--ck-insert-table-dropdown-box-margin);border:1px solid var(--ck-color-base-border);border-radius:1px}.ck .ck-insert-table-dropdown-grid-box.ck-on{border-color:var(--ck-color-focus-border);background:var(--ck-color-focus-outer-shadow)}"},function(e,t,n){var r=n(1),n=n(95);r(n="string"==typeof(n=n.__esModule?n.default:n)?[[e.i,n,""]]:n,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),e.exports=n.locals||{}},function(e,t){e.exports=':root{--ck-table-selected-cell-background:rgba(158,207,250,0.3)}.ck.ck-editor__editable .table table td.ck-editor__editable_selected,.ck.ck-editor__editable .table table th.ck-editor__editable_selected{position:relative;caret-color:transparent;outline:unset;box-shadow:unset}.ck.ck-editor__editable .table table td.ck-editor__editable_selected:after,.ck.ck-editor__editable .table table th.ck-editor__editable_selected:after{content:"";pointer-events:none;background-color:var(--ck-table-selected-cell-background);position:absolute;top:0;left:0;right:0;bottom:0}.ck.ck-editor__editable .table table td.ck-editor__editable_selected ::selection,.ck.ck-editor__editable .table table td.ck-editor__editable_selected:focus,.ck.ck-editor__editable .table table th.ck-editor__editable_selected ::selection,.ck.ck-editor__editable .table table th.ck-editor__editable_selected:focus{background-color:transparent}.ck.ck-editor__editable .table table td.ck-editor__editable_selected .ck-widget_selected,.ck.ck-editor__editable .table table th.ck-editor__editable_selected .ck-widget_selected{outline:unset}'},function(e,t,n){var r=n(1),n=n(97);r(n="string"==typeof(n=n.__esModule?n.default:n)?[[e.i,n,""]]:n,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),e.exports=n.locals||{}},function(e,t){e.exports=".ck-content .table{margin:1em auto;display:table}.ck-content .table table{border-collapse:collapse;border-spacing:0;width:100%;height:100%;border:1px double #b3b3b3}.ck-content .table table td,.ck-content .table table th{min-width:2em;padding:.4em;border:1px solid #bfbfbf}.ck-content .table table th{font-weight:700;background:hsla(0,0%,0%,5%)}.ck-content[dir=rtl] .table th{text-align:right}.ck-content[dir=ltr] .table th{text-align:left}"},function(N,e,t){"use strict";t.r(e),t.d(e,"default",function(){return sm});function j(t,n){return function(e){return t(n(e))}}function L(e,t){for(var n=e.length;n--;)if(ee(e[n][0],t))return n;return-1}var V=t(3),e=V.a.Symbol,n=Object.prototype,F=n.hasOwnProperty,z=n.toString,B=e?e.toStringTag:void 0,H=function(e){var t=F.call(e,B),n=e[B];try{var r=!(e[B]=void 0)}catch(e){}var i=z.call(e);return r&&(t?e[B]=n:delete e[B]),i},U=Object.prototype.toString,W=function(e){return U.call(e)},q=e?e.toStringTag:void 0,Y=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":(q&&q in Object(e)?H:W)(e)},G=j(Object.getPrototypeOf,Object),K=function(e){return null!=e&&"object"==typeof e},n=Function.prototype,r=Object.prototype,X=n.toString,J=r.hasOwnProperty,Q=X.call(Object),Z=function(e){return!(!K(e)||"[object Object]"!=Y(e))&&(null===(e=G(e))||"function"==typeof(e=J.call(e,"constructor")&&e.constructor)&&e instanceof e&&X.call(e)==Q)},ee=function(e,t){return e===t||e!=e&&t!=t},te=Array.prototype.splice;function ne(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}ne.prototype.clear=function(){this.__data__=[],this.size=0},ne.prototype.delete=function(e){var t=this.__data__,e=L(t,e);return!(e<0||(e==t.length-1?t.pop():te.call(t,e,1),--this.size,0))},ne.prototype.get=function(e){var t=this.__data__,e=L(t,e);return e<0?void 0:t[e][1]},ne.prototype.has=function(e){return-1<L(this.__data__,e)},ne.prototype.set=function(e,t){var n=this.__data__,r=L(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this};function re(e,t){return t=t,e=null==(e=e)?void 0:e[t],!w(t=e)||se(t)||!(oe(t)?de:ue).test(ce(t))?void 0:e}var ie=ne,w=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)},oe=function(e){return!!w(e)&&("[object Function]"==(e=Y(e))||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e)},n=V.a["__core-js_shared__"],ae=(r=/[^.]+$/.exec(n&&n.keys&&n.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"",se=function(e){return!!ae&&ae in e},le=Function.prototype.toString,ce=function(e){if(null!=e){try{return le.call(e)}catch(e){}try{return e+""}catch(e){}}return""},ue=/^\[object .+?Constructor\]$/,n=Function.prototype,r=Object.prototype,n=n.toString,r=r.hasOwnProperty,de=RegExp("^"+n.call(r).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),he=re(V.a,"Map"),fe=re(Object,"create"),pe=Object.prototype.hasOwnProperty,me=Object.prototype.hasOwnProperty;function ge(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}ge.prototype.clear=function(){this.__data__=fe?fe(null):{},this.size=0},ge.prototype.delete=function(e){e=this.has(e)&&delete this.__data__[e];return this.size-=e?1:0,e},ge.prototype.get=function(e){var t,n=this.__data__;return fe?"__lodash_hash_undefined__"===(t=n[e])?void 0:t:pe.call(n,e)?n[e]:void 0},ge.prototype.has=function(e){var t=this.__data__;return fe?void 0!==t[e]:me.call(t,e)},ge.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=fe&&void 0===t?"__lodash_hash_undefined__":t,this};function ve(e,t){return e=e.__data__,ye(t)?e["string"==typeof t?"string":"hash"]:e.map}var be=ge,ye=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e};function we(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}we.prototype.clear=function(){this.size=0,this.__data__={hash:new be,map:new(he||ie),string:new be}},we.prototype.delete=function(e){e=ve(this,e).delete(e);return this.size-=e?1:0,e},we.prototype.get=function(e){return ve(this,e).get(e)},we.prototype.has=function(e){return ve(this,e).has(e)},we.prototype.set=function(e,t){var n=ve(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this};var _e=we;function ke(e){e=this.__data__=new ie(e);this.size=e.size}ke.prototype.clear=function(){this.__data__=new ie,this.size=0},ke.prototype.delete=function(e){var t=this.__data__,e=t.delete(e);return this.size=t.size,e},ke.prototype.get=function(e){return this.__data__.get(e)},ke.prototype.has=function(e){return this.__data__.has(e)},ke.prototype.set=function(e,t){var n=this.__data__;if(n instanceof ie){var r=n.__data__;if(!he||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new _e(r)}return n.set(e,t),this.size=n.size,this};function xe(e,t,n,r){var i=!n;n=n||{};for(var o=-1,a=t.length;++o<a;){var s=t[o],l=r?r(n[s],e[s],s,n,e):void 0;void 0===l&&(l=e[s]),(i?Ne:Le)(n,s,l)}return n}function Ce(e){return K(e)&&"[object Arguments]"==Y(e)}function Se(e){return"number"==typeof e&&-1<e&&e%1==0&&e<=9007199254740991}function Te(t){return function(e){return t(e)}}function $e(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Ke)}function Ee(e){return Qe(e)?Ge(e,!0):nt(e)}function Ae(){return[]}function Oe(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}function Me(e,t,n){return t=t(e),Be(e)?t:Oe(t,n(e))}function Pe(e){var t=new e.constructor(e.byteLength);return new Tt(t).set(new Tt(e)),t}var De=ke,Re=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e},Ie=function(){try{var e=re(Object,"defineProperty");return e({},"",{}),e}catch(e){}}(),Ne=function(e,t,n){"__proto__"==t&&Ie?Ie(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n},je=Object.prototype.hasOwnProperty,Le=function(e,t,n){var r=e[t];je.call(e,t)&&ee(r,n)&&(void 0!==n||t in e)||Ne(e,t,n)},n=Object.prototype,Ve=n.hasOwnProperty,Fe=n.propertyIsEnumerable,ze=Ce(function(){return arguments}())?Ce:function(e){return K(e)&&Ve.call(e,"callee")&&!Fe.call(e,"callee")},Be=Array.isArray,He=t(4),Ue=/^(?:0|[1-9]\d*)$/,We=function(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&Ue.test(e))&&-1<e&&e%1==0&&e<t},i={},r=(i["[object Float32Array]"]=i["[object Float64Array]"]=i["[object Int8Array]"]=i["[object Int16Array]"]=i["[object Int32Array]"]=i["[object Uint8Array]"]=i["[object Uint8ClampedArray]"]=i["[object Uint16Array]"]=i["[object Uint32Array]"]=!0,i["[object Arguments]"]=i["[object Array]"]=i["[object ArrayBuffer]"]=i["[object Boolean]"]=i["[object DataView]"]=i["[object Date]"]=i["[object Error]"]=i["[object Function]"]=i["[object Map]"]=i["[object Number]"]=i["[object Object]"]=i["[object RegExp]"]=i["[object Set]"]=i["[object String]"]=i["[object WeakMap]"]=!1,t(5)),n=r.a&&r.a.isTypedArray,qe=n?Te(n):function(e){return K(e)&&Se(e.length)&&!!i[Y(e)]},Ye=Object.prototype.hasOwnProperty,Ge=function(e,t){var n,r=Be(e),i=!r&&ze(e),o=!r&&!i&&Object(He.a)(e),a=!r&&!i&&!o&&qe(e),s=r||i||o||a,l=s?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],c=l.length;for(n in e)!t&&!Ye.call(e,n)||s&&("length"==n||o&&("offset"==n||"parent"==n)||a&&("buffer"==n||"byteLength"==n||"byteOffset"==n)||We(n,c))||l.push(n);return l},Ke=Object.prototype,Xe=j(Object.keys,Object),Je=Object.prototype.hasOwnProperty,Qe=function(e){return null!=e&&Se(e.length)&&!oe(e)},Ze=function(e){return(Qe(e)?Ge:function(e){if(!$e(e))return Xe(e);var t,n=[];for(t in Object(e))Je.call(e,t)&&"constructor"!=t&&n.push(t);return n})(e)},et=function(e,t){return e&&xe(t,Ze(t),e)},tt=Object.prototype.hasOwnProperty,nt=function(e){if(w(e)){var t,n=$e(e),r=[];for(t in e)("constructor"!=t||!n&&tt.call(e,t))&&r.push(t);return r}var i=e,o=[];if(null!=i)for(var a in Object(i))o.push(a);return o},rt=function(e,t){return e&&xe(t,Ee(t),e)},it=t(9),ot=function(e,t){var n=-1,r=e.length;for(t=t||Array(r);++n<r;)t[n]=e[n];return t},at=Object.prototype.propertyIsEnumerable,st=Object.getOwnPropertySymbols,lt=st?function(t){if(null==t)return[];t=Object(t);for(var e=st(t),n=function(e){return at.call(t,e)},r=-1,i=null==e?0:e.length,o=0,a=[];++r<i;){var s=e[r];n(s,r,e)&&(a[o++]=s)}return a}:Ae,ct=function(e,t){return xe(e,lt(e),t)},ut=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)Oe(t,lt(e)),e=G(e);return t}:Ae,dt=function(e,t){return xe(e,ut(e),t)},ht=function(e){return Me(e,Ze,lt)},ft=function(e){return Me(e,Ee,ut)},n=re(V.a,"DataView"),pt=re(V.a,"Promise"),mt=re(V.a,"Set"),gt=re(V.a,"WeakMap"),vt=ce(n),bt=ce(he),yt=ce(pt),wt=ce(mt),_t=ce(gt),kt=Y,xt=kt=n&&"[object DataView]"!=kt(new n(new ArrayBuffer(1)))||he&&"[object Map]"!=kt(new he)||pt&&"[object Promise]"!=kt(pt.resolve())||mt&&"[object Set]"!=kt(new mt)||gt&&"[object WeakMap]"!=kt(new gt)?function(e){var t=Y(e),e="[object Object]"==t?e.constructor:void 0,e=e?ce(e):"";if(e)switch(e){case vt:return"[object DataView]";case bt:return"[object Map]";case yt:return"[object Promise]";case wt:return"[object Set]";case _t:return"[object WeakMap]"}return t}:kt,Ct=Object.prototype.hasOwnProperty,St=function(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&Ct.call(e,"index")&&(n.index=e.index,n.input=e.input),n},Tt=V.a.Uint8Array,$t=/\w*$/,n=e?e.prototype:void 0,Et=n?n.valueOf:void 0,At=function(e,t){t=t?Pe(e.buffer):e.buffer;return new e.constructor(t,e.byteOffset,e.length)},Ot=function(e,t,n){var r,i=e.constructor;switch(t){case"[object ArrayBuffer]":return Pe(e);case"[object Boolean]":case"[object Date]":return new i(+e);case"[object DataView]":var o=e,a=n;return a=n?Pe(o.buffer):o.buffer,new o.constructor(a,o.byteOffset,o.byteLength);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return At(e,n);case"[object Map]":return new i;case"[object Number]":case"[object String]":return new i(e);case"[object RegExp]":return(o=new(a=e).constructor(a.source,$t.exec(a))).lastIndex=a.lastIndex,o;case"[object Set]":return new i;case"[object Symbol]":return r=e,Et?Object(Et.call(r)):{}}},Mt=Object.create,Pt=function(e){if(!w(e))return{};if(Mt)return Mt(e);Dt.prototype=e;e=new Dt;return Dt.prototype=void 0,e};function Dt(){}function Rt(e,t){return Lt(e,5,t="function"==typeof t?t:void 0)}var It=function(e){return"function"!=typeof e.constructor||$e(e)?{}:Pt(G(e))},pt=r.a&&r.a.isMap,Nt=pt?Te(pt):function(e){return K(e)&&"[object Map]"==xt(e)},mt=r.a&&r.a.isSet,jt=mt?Te(mt):function(e){return K(e)&&"[object Set]"==xt(e)},p={},Lt=(p["[object Arguments]"]=p["[object Array]"]=p["[object ArrayBuffer]"]=p["[object DataView]"]=p["[object Boolean]"]=p["[object Date]"]=p["[object Float32Array]"]=p["[object Float64Array]"]=p["[object Int8Array]"]=p["[object Int16Array]"]=p["[object Int32Array]"]=p["[object Map]"]=p["[object Number]"]=p["[object Object]"]=p["[object RegExp]"]=p["[object Set]"]=p["[object String]"]=p["[object Symbol]"]=p["[object Uint8Array]"]=p["[object Uint8ClampedArray]"]=p["[object Uint16Array]"]=p["[object Uint32Array]"]=!0,p["[object Error]"]=p["[object Function]"]=p["[object WeakMap]"]=!1,function n(r,i,o,e,t,a){var s,l=1&i,c=2&i,u=4&i;if(void 0===(s=o?t?o(r,e,t,a):o(r):s)){if(!w(r))return r;e=Be(r);if(e){if(s=St(r),!l)return ot(r,s)}else{var d=xt(r),h="[object Function]"==d||"[object GeneratorFunction]"==d;if(Object(He.a)(r))return Object(it.a)(r,l);if("[object Object]"==d||"[object Arguments]"==d||h&&!t){if(s=c||h?{}:It(r),!l)return c?dt(r,rt(s,r)):ct(r,et(s,r))}else{if(!p[d])return t?r:{};s=Ot(r,d,l)}}h=(a=a||new De).get(r);if(h)return h;a.set(r,s),jt(r)?r.forEach(function(e){s.add(n(e,i,o,e,r,a))}):Nt(r)&&r.forEach(function(e,t){s.set(t,n(e,i,o,t,r,a))});var t=u?c?ft:ht:c?keysIn:Ze,f=e?void 0:t(r);Re(f||r,function(e,t){f&&(e=r[t=e]),Le(s,t,n(e,i,o,t,r,a))})}return s}),Vt=function(e){return K(e)&&1===e.nodeType&&!Z(e)};class Ft{constructor(e,t){this._config={},t&&this.define(zt(t)),e&&this._setObjectToTarget(this._config,e)}set(e,t){this._setToTarget(this._config,e,t)}define(e,t){this._setToTarget(this._config,e,t,!0)}get(e){return this._getFromSource(this._config,e)}*names(){for(const e of Object.keys(this._config))yield e}_setToTarget(e,t,n,r=!1){if(Z(t))this._setObjectToTarget(e,t,r);else{const i=t.split(".");t=i.pop();for(const t of i)Z(e[t])||(e[t]={}),e=e[t];Z(n)?(Z(e[t])||(e[t]={}),e=e[t],this._setObjectToTarget(e,n,r)):r&&void 0!==e[t]||(e[t]=n)}}_getFromSource(e,t){const n=t.split(".");t=n.pop();for(const t of n){if(!Z(e[t])){e=null;break}e=e[t]}return e?zt(e[t]):void 0}_setObjectToTarget(t,n,r){Object.keys(n).forEach(e=>{this._setToTarget(t,e,n[e],r)})}}function zt(e){return Rt(e,Bt)}function Bt(e){return Vt(e)?e:void 0}function Ht(){return function e(){e.called=!0}}class Ut{constructor(e,t){this.source=e,this.name=t,this.path=[],this.stop=Ht(),this.off=Ht()}}const Wt=new Array(256).fill().map((e,t)=>("0"+t.toString(16)).slice(-2));function qt(){var e=4294967296*Math.random()>>>0,t=4294967296*Math.random()>>>0,n=4294967296*Math.random()>>>0,r=4294967296*Math.random()>>>0;return"e"+Wt[e>>0&255]+Wt[e>>8&255]+Wt[e>>16&255]+Wt[e>>24&255]+Wt[t>>0&255]+Wt[t>>8&255]+Wt[t>>16&255]+Wt[t>>24&255]+Wt[n>>0&255]+Wt[n>>8&255]+Wt[n>>16&255]+Wt[n>>24&255]+Wt[r>>0&255]+Wt[r>>8&255]+Wt[r>>16&255]+Wt[r>>24&255]}var Yt={get(e){return"number"!=typeof e?this[e]||this.normal:e},highest:1e5,high:1e3,normal:0,low:-1e3,lowest:-1e5},h=(t(6),t(0));const Gt=Symbol("listeningTo"),Kt=Symbol("emitterId");var o={on(e,t,n={}){this.listenTo(this,e,t,n)},once(e,n,t){let r=!1;this.listenTo(this,e,function(e,...t){r||(r=!0,e.off(),n.call(this,e,...t))},t)},off(e,t){this.stopListening(this,e,t)},listenTo(n,e,t,r={}){let i,o;this[Gt]||(this[Gt]={});const a=this[Gt];Jt(n)||Xt(n);var s=Jt(n);(i=a[s])||(i=a[s]={emitter:n,callbacks:{}}),(o=(o=i.callbacks[e])?o:i.callbacks[e]=[]).push(t);{var l=n;s=e;const d=Qt(l);if(!d[s]){let e=s,t=null;const h=[];for(;""!==e&&!d[e];)d[e]={callbacks:[],childEvents:[]},h.push(d[e]),t&&d[e].childEvents.push(t),e=(t=e).substr(0,e.lastIndexOf(":"));if(""!==e){for(const l of h)l.callbacks=d[e].callbacks.slice();d[e].childEvents.push(t)}}}var l=Zt(n,e),c=Yt.get(r.priority),u={callback:t,priority:c};for(const n of l){let t=!1;for(let e=0;e<n.length;e++)if(n[e].priority<c){n.splice(e,0,u),t=!0;break}t||n.push(u)}},stopListening(e,t,n){const r=this[Gt];let i=e&&Jt(e);const o=r&&i&&r[i],a=o&&t&&o.callbacks[t];if(!(!r||e&&!o||t&&!a))if(n)tn(e,t,n);else if(a){for(;n=a.pop();)tn(e,t,n);delete o.callbacks[t]}else if(o){for(t in o.callbacks)this.stopListening(e,t);delete r[i]}else{for(i in r)this.stopListening(r[i].emitter);delete this[Gt]}},fire(n,...e){try{const r=n instanceof Ut?n:new Ut(this,n),i=r.name;let t=function e(t,n){let r;return t._events&&(r=t._events[n])&&r.callbacks.length?r.callbacks:-1<n.indexOf(":")?e(t,n.substr(0,n.lastIndexOf(":"))):null}(this,i);if(r.path.push(this),t){const n=[r,...e];t=Array.from(t);for(let e=0;e<t.length&&(t[e].callback.apply(this,n),r.off.called&&(delete r.off.called,tn(this,i,t[e].callback)),!r.stop.called);e++);}if(this._delegations){const n=this._delegations.get(i),o=this._delegations.get("*");n&&en(n,r,e),o&&en(o,r,e)}return r.return}catch(n){h.a.rethrowUnexpectedError(n,this)}},delegate(...e){return{to:(n,r)=>{this._delegations||(this._delegations=new Map),e.forEach(e=>{const t=this._delegations.get(e);t?t.set(n,r):this._delegations.set(e,new Map([[n,r]]))})}}},stopDelegating(e,t){if(this._delegations)if(e)if(t){const n=this._delegations.get(e);n&&n.delete(t)}else this._delegations.delete(e);else this._delegations.clear()}};function Xt(e,t){e[Kt]||(e[Kt]=t||qt())}function Jt(e){return e[Kt]}function Qt(e){return e._events||Object.defineProperty(e,"_events",{value:{}}),e._events}function Zt(t,e){var n=Qt(t)[e];if(!n)return[];let r=[n.callbacks];for(let e=0;e<n.childEvents.length;e++){var i=Zt(t,n.childEvents[e]);r=r.concat(i)}return r}function en(e,t,n){for(var[r,i]of e){i?"function"==typeof i&&(i=i(t.name)):i=t.name;const e=new Ut(t.source,i);e.path=[...t.path],r.fire(e,...n)}}function tn(t,e,n){e=Zt(t,e);for(const t of e)for(let e=0;e<t.length;e++)t[e].callback==n&&(t.splice(e,1),e--)}function nn(e){return!(!e||!e[Symbol.iterator])}function a(r,...e){e.forEach(n=>{Object.getOwnPropertyNames(n).concat(Object.getOwnPropertySymbols(n)).forEach(e=>{if(!(e in r.prototype)){const t=Object.getOwnPropertyDescriptor(n,e);t.enumerable=!1,Object.defineProperty(r.prototype,e,t)}})})}class rn{constructor(e={},t={}){var n=nn(e);if(n||(t=e),this._items=[],this._itemMap=new Map,this._idProperty=t.idProperty||"id",this._bindToExternalToInternalMap=new WeakMap,this._bindToInternalToExternalMap=new WeakMap,this._skippedIndexesFromExternal=[],n)for(const t of e)this._items.push(t),this._itemMap.set(this._getItemIdBeforeAdding(t),t)}get length(){return this._items.length}get first(){return this._items[0]||null}get last(){return this._items[this.length-1]||null}add(e,t){return this.addMany([e],t)}addMany(t,n){if(void 0===n)n=this._items.length;else if(n>this._items.length||n<0)throw new h.a("collection-add-item-invalid-index",this);for(let e=0;e<t.length;e++){var r=t[e],i=this._getItemIdBeforeAdding(r),o=n+e;this._items.splice(o,0,r),this._itemMap.set(i,r),this.fire("add",r,o)}return this.fire("change",{added:t,removed:[],index:n}),this}get(e){let t;if("string"==typeof e)t=this._itemMap.get(e);else{if("number"!=typeof e)throw new h.a("collection-get-invalid-arg",this);t=this._items[e]}return t||null}has(e){return"string"==typeof e||(e=e[this._idProperty]),this._itemMap.has(e)}getIndex(e){e="string"==typeof e?this._itemMap.get(e):e;return this._items.indexOf(e)}remove(e){var[e,t]=this._remove(e);return this.fire("change",{added:[],removed:[e],index:t}),e}map(e,t){return this._items.map(e,t)}find(e,t){return this._items.find(e,t)}filter(e,t){return this._items.filter(e,t)}clear(){this._bindToCollection&&(this.stopListening(this._bindToCollection),this._bindToCollection=null);for(var e=Array.from(this._items);this.length;)this._remove(0);this.fire("change",{added:[],removed:e,index:0})}bindTo(e){if(this._bindToCollection)throw new h.a("collection-bind-to-rebind",this);return this._bindToCollection=e,{as:t=>{this._setUpBindToBinding(e=>new t(e))},using:t=>{"function"==typeof t?this._setUpBindToBinding(e=>t(e)):this._setUpBindToBinding(e=>e[t])}}}_setUpBindToBinding(o){const a=this._bindToCollection,e=(e,n,r)=>{var t=a._bindToCollection==this,i=a._bindToInternalToExternalMap.get(n);if(t&&i)this._bindToExternalToInternalMap.set(n,i),this._bindToInternalToExternalMap.set(i,n);else{const e=o(n);if(e){let t=r;for(const o of this._skippedIndexesFromExternal)r>o&&t--;for(const o of a._skippedIndexesFromExternal)t>=o&&t++;this._bindToExternalToInternalMap.set(n,e),this._bindToInternalToExternalMap.set(e,n),this.add(e,t);for(let e=0;e<a._skippedIndexesFromExternal.length;e++)t<=a._skippedIndexesFromExternal[e]&&a._skippedIndexesFromExternal[e]++}else this._skippedIndexesFromExternal.push(r)}};for(const o of a)e(0,o,a.getIndex(o));this.listenTo(a,"add",e),this.listenTo(a,"remove",(e,t,n)=>{t=this._bindToExternalToInternalMap.get(t);t&&this.remove(t),this._skippedIndexesFromExternal=this._skippedIndexesFromExternal.reduce((e,t)=>(n<t&&e.push(t-1),t<n&&e.push(t),e),[])})}_getItemIdBeforeAdding(e){var t=this._idProperty;let n;if(t in e){if("string"!=typeof(n=e[t]))throw new h.a("collection-add-invalid-id",this);if(this.get(n))throw new h.a("collection-add-item-already-exists",this)}else e[t]=n=qt();return n}_remove(e){let t,n,r,i=!1;var o=this._idProperty;if("string"==typeof e?(n=e,r=this._itemMap.get(n),i=!r,r&&(t=this._items.indexOf(r))):"number"==typeof e?(t=e,r=this._items[t],i=!r,r&&(n=r[o])):(r=e,n=r[o],t=this._items.indexOf(r),i=-1==t||!this._itemMap.get(n)),i)throw new h.a("collection-remove-404",this);this._items.splice(t,1),this._itemMap.delete(n);e=this._bindToInternalToExternalMap.get(r);return this._bindToInternalToExternalMap.delete(r),this._bindToExternalToInternalMap.delete(e),this.fire("remove",r,t),[r,t]}[Symbol.iterator](){return this._items[Symbol.iterator]()}}a(rn,o);class on{constructor(e,t=[],n=[]){this._context=e,this._plugins=new Map,this._availablePlugins=new Map;for(const e of t)e.pluginName&&this._availablePlugins.set(e.pluginName,e);this._contextPlugins=new Map;for(const[e,t]of n)this._contextPlugins.set(e,t),this._contextPlugins.set(t,e),e.pluginName&&this._availablePlugins.set(e.pluginName,e)}*[Symbol.iterator](){for(const e of this._plugins)"function"==typeof e[0]&&(yield e)}get(t){var e=this._plugins.get(t);if(e)return e;{let e=t;throw"function"==typeof t&&(e=t.pluginName||t.name),new h.a("plugincollection-plugin-not-loaded",this._context,{plugin:e})}}has(e){return this._plugins.has(e)}init(n,i=[]){const o=this,a=this._context,s=new Set,l=[],e=d(n),c=d(i),t=function(){const e=[];for(const t of n)u(t)||e.push(t);return e.length?e:null}();if(t){const n="plugincollection-plugin-not-found";return Object(h.b)(n,{plugins:t}),Promise.reject(new h.a(n,a,{plugins:t}))}return Promise.all(e.map(function r(t){if(!c.includes(t)&&!o._plugins.has(t)&&!s.has(t))return function(n){return new Promise(e=>{s.add(n),n.requires&&n.requires.forEach(e=>{const t=u(e);if(n.isContextPlugin&&!t.isContextPlugin)throw new h.a("plugincollection-context-required",null,{plugin:t.name,requiredBy:n.name});if(i.includes(t))throw new h.a("plugincollection-required",a,{plugin:t.name,requiredBy:n.name});r(t)});const t=o._contextPlugins.get(n)||new n(a);o._add(n,t),l.push(t),e()})}(t).catch(e=>{throw Object(h.b)("plugincollection-load",{plugin:t}),e})})).then(()=>r(l,"init")).then(()=>r(l,"afterInit")).then(()=>l);function r(e,n){return e.reduce((e,t)=>!t[n]||o._contextPlugins.has(t)?e:e.then(t[n].bind(t)),Promise.resolve())}function u(e){return"function"==typeof e?e:o._availablePlugins.get(e)}function d(e){return e.map(e=>u(e)).filter(e=>!!e)}}destroy(){const e=[];for(var[,t]of this)"function"!=typeof t.destroy||this._contextPlugins.has(t)||e.push(t.destroy());return Promise.all(e)}_add(e,t){this._plugins.set(e,t);var n=e.pluginName;if(n){if(this._plugins.has(n))throw new h.a("plugincollection-plugin-name-conflict",null,{pluginName:n,plugin1:this._plugins.get(n).constructor,plugin2:e});this._plugins.set(n,t)}}}a(on,o),window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={});const an=["ar","fa","he","ku","ug"];class sn{constructor(e={}){this.uiLanguage=e.uiLanguage||"en",this.contentLanguage=e.contentLanguage||this.uiLanguage,this.uiLanguageDirection=ln(this.uiLanguage),this.contentLanguageDirection=ln(this.contentLanguage),this.t=(e,t)=>this._t(e,t)}get language(){return console.warn("locale-deprecated-language-property: The Locale#language property has been deprecated and will be removed in the near future. Please use #uiLanguage and #contentLanguage properties instead."),this.uiLanguage}_t(e,t=[]){Array.isArray(t)||(t=[t]);var n,r=(e="string"==typeof e?{string:e}:e).plural?t[0]:1;return e=function(e,t,n=1){if("number"!=typeof n)throw new h.a("translation-service-quantity-not-a-number",null,{quantity:n});var r=Object.keys(window.CKEDITOR_TRANSLATIONS).length,i=(1===r&&(e=Object.keys(window.CKEDITOR_TRANSLATIONS)[0]),t.id||t.string);if(0===r||(r=e,!window.CKEDITOR_TRANSLATIONS[r]||!window.CKEDITOR_TRANSLATIONS[r].dictionary[i]))return 1!==n?t.plural:t.string;const o=window.CKEDITOR_TRANSLATIONS[e].dictionary,a=window.CKEDITOR_TRANSLATIONS[e].getPluralForm||(e=>1===e?0:1);return"string"==typeof o[i]?o[i]:(r=Number(a(n)),o[i][r])}(this.uiLanguage,e,r),n=t,e.replace(/%(\d+)/g,(e,t)=>t<n.length?n[t]:e)}}function ln(e){return an.includes(e)?"rtl":"ltr"}class cn{constructor(e){this.config=new Ft(e,this.constructor.defaultConfig);e=this.constructor.builtinPlugins,this.config.define("plugins",e),this.plugins=new on(this,e),e=this.config.get("language")||{};this.locale=new sn({uiLanguage:"string"==typeof e?e:e.ui,contentLanguage:this.config.get("language.content")}),this.t=this.locale.t,this.editors=new rn,this._contextOwner=null}initPlugins(){var e=this.config.get("plugins")||[];for(const t of e){if("function"!=typeof t)throw new h.a("context-initplugins-constructor-only",null,{Plugin:t});if(!0!==t.isContextPlugin)throw new h.a("context-initplugins-invalid-plugin",null,{Plugin:t})}return this.plugins.init(e)}destroy(){return Promise.all(Array.from(this.editors,e=>e.destroy())).then(()=>this.plugins.destroy())}_addEditor(e,t){if(this._contextOwner)throw new h.a("context-addeditor-private-context");this.editors.add(e),t&&(this._contextOwner=e)}_removeEditor(e){return this.editors.has(e)&&this.editors.remove(e),this._contextOwner===e?this.destroy():Promise.resolve()}_getEditorConfig(){const e={};for(const t of this.config.names())["plugins","removePlugins","extraPlugins"].includes(t)||(e[t]=this.config.get(t));return e}static create(n){return new Promise(e=>{const t=new this(n);e(t.initPlugins().then(()=>t))})}}function un(t,n){var r=Math.min(t.length,n.length);for(let e=0;e<r;e++)if(t[e]!=n[e])return e;return t.length==n.length?"same":t.length<n.length?"prefix":"extension"}function dn(e){return Lt(e,4)}class hn{constructor(e){this.document=e,this.parent=null}get index(){var e;if(!this.parent)return null;if(-1==(e=this.parent.getChildIndex(this)))throw new h.a("view-node-not-found-in-parent",this);return e}get nextSibling(){var e=this.index;return null!==e&&this.parent.getChild(e+1)||null}get previousSibling(){var e=this.index;return null!==e&&this.parent.getChild(e-1)||null}get root(){let e=this;for(;e.parent;)e=e.parent;return e}isAttached(){return this.root.is("rootElement")}getPath(){const e=[];let t=this;for(;t.parent;)e.unshift(t.index),t=t.parent;return e}getAncestors(e={includeSelf:!1,parentFirst:!1}){const t=[];let n=e.includeSelf?this:this.parent;for(;n;)t[e.parentFirst?"push":"unshift"](n),n=n.parent;return t}getCommonAncestor(e,t={}){var n=this.getAncestors(t),r=e.getAncestors(t);let i=0;for(;n[i]==r[i]&&n[i];)i++;return 0===i?null:n[i-1]}isBefore(e){if(this==e)return!1;if(this.root!==e.root)return!1;var t=this.getPath(),n=e.getPath(),r=un(t,n);switch(r){case"prefix":return!0;case"extension":return!1;default:return t[r]<n[r]}}isAfter(e){return this!=e&&this.root===e.root&&!this.isBefore(e)}_remove(){this.parent._removeChildren(this.index)}_fireChange(e,t){this.fire("change:"+e,t),this.parent&&this.parent._fireChange(e,t)}toJSON(){const e=dn(this);return delete e.parent,e}is(e){return"node"===e||"view:node"===e}}a(hn,o);class s extends hn{constructor(e,t){super(e),this._textData=t}is(e){return"$text"===e||"view:$text"===e||"text"===e||"view:text"===e||"node"===e||"view:node"===e}get data(){return this._textData}get _data(){return this.data}set _data(e){this._fireChange("text",this),this._textData=e}isSimilar(e){return e instanceof s&&(this===e||this.data===e.data)}_clone(){return new s(this.document,this.data)}}class fn{constructor(e,t,n){if(this.textNode=e,t<0||t>e.data.length)throw new h.a("view-textproxy-wrong-offsetintext",this);if(n<0||t+n>e.data.length)throw new h.a("view-textproxy-wrong-length",this);this.data=e.data.substring(t,t+n),this.offsetInText=t}get offsetSize(){return this.data.length}get isPartial(){return this.data.length!==this.textNode.data.length}get parent(){return this.textNode.parent}get root(){return this.textNode.root}get document(){return this.textNode.document}is(e){return"$textProxy"===e||"view:$textProxy"===e||"textProxy"===e||"view:textProxy"===e}getAncestors(e={includeSelf:!1,parentFirst:!1}){const t=[];let n=e.includeSelf?this.textNode:this.parent;for(;null!==n;)t[e.parentFirst?"push":"unshift"](n),n=n.parent;return t}}function pn(e){if(nn(e))return new Map(e);{var t=e;const n=new Map;for(const r in t)n.set(r,t[r]);return n}}class mn{constructor(...e){this._patterns=[],this.add(...e)}add(...e){for(var t of e)("string"==typeof t||t instanceof RegExp)&&(t={name:t}),t.classes&&("string"==typeof t.classes||t.classes instanceof RegExp)&&(t.classes=[t.classes]),this._patterns.push(t)}match(...e){for(const n of e)for(const e of this._patterns){var t=gn(n,e);if(t)return{element:n,pattern:e,match:t}}return null}matchAll(...e){const t=[];for(const r of e)for(const e of this._patterns){var n=gn(r,e);n&&t.push({element:r,pattern:e,match:n})}return 0<t.length?t:null}getElementName(){var e,t;return 1!==this._patterns.length||(t=(e=this._patterns[0]).name,"function"==typeof e||!t||t instanceof RegExp)?null:t}}function gn(e,t){if("function"==typeof t)return t(e);const n={};return t.name&&(n.name=(r=t.name,i=e.name,r instanceof RegExp?r.test(i):r===i),!n.name)||t.attributes&&(n.attributes=function(e,t){const n=[];for(const r in e){const i=e[r];if(!t.hasAttribute(r))return null;{const e=t.getAttribute(r);if(!0!==i)if(i instanceof RegExp){if(!i.test(e))return null}else if(e!==i)return null;n.push(r)}}return n}(t.attributes,e),!n.attributes)?null:!(t.classes&&(n.classes=function(e,t){const n=[];for(const r of e)if(r instanceof RegExp){const e=t.getClassNames();for(const t of e)r.test(t)&&n.push(t);if(0===n.length)return null}else{if(!t.hasClass(r))return null;n.push(r)}return n}(t.classes,e),!n.classes))&&!(t.styles&&(n.styles=function(e,t){const n=[];for(const r in e){const i=e[r];if(!t.hasStyle(r))return null;{const e=t.getStyle(r);if(i instanceof RegExp){if(!i.test(e))return null}else if(e!==i)return null;n.push(r)}}return n}(t.styles,e),!n.styles))&&n;var r,i}var vn=function(e){return"symbol"==typeof e||K(e)&&"[object Symbol]"==Y(e)},bn=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,yn=/^\w*$/;function wn(r,i){if("function"!=typeof r||null!=i&&"function"!=typeof i)throw new TypeError("Expected a function");function o(){var e=arguments,t=i?i.apply(this,e):e[0],n=o.cache;return n.has(t)?n.get(t):(e=r.apply(this,e),o.cache=n.set(t,e)||n,e)}return o.cache=new(wn.Cache||_e),o}wn.Cache=_e;function _n(e){var t;return"string"==typeof e?e:Be(e)?In(e,_n)+"":vn(e)?Nn?Nn.call(e):"":"0"==(t=e+"")&&1/e==-1/0?"-0":t}function kn(e,t){for(var n=0,r=(t=Ln(t,e)).length;null!=e&&n<r;)e=e[Fn(t[n++])];return n&&n==r?e:void 0}function xn(e,t,n){var r=-1,i=e.length;(n=i<n?i:n)<0&&(n+=i),i=n<(t=t<0?i<-t?0:i+t:t)?0:n-t>>>0,t>>>=0;for(var o=Array(i);++r<i;)o[r]=e[r+t];return o}function Cn(e,t){null!=e&&(t=Ln(t=t,e=e),null!=(e=zn(e,t))&&delete e[Fn(Vn(t))])}function Sn(e,t,n){return void 0===(e=null==e?void 0:kn(e,t))?n:e}function Tn(m,g,v,b,y){m!==g&&Hn(g,function(e,t){var n,r,i,o,a,s,l,c,u,d,h,f,p;y=y||new De,w(e)?(r=g,o=v,a=Tn,s=b,l=y,h=Wn(n=m,i=t),f=Wn(r,i),(p=l.get(f))?Bn(n,i,p):((r=void 0===(p=s?s(h,f,i+"",n,r,l):void 0))&&(u=!(c=Be(f))&&Object(He.a)(f),d=!c&&!u&&qe(f),p=f,c||u||d?p=Be(h)?h:Un(h)?ot(h):u?(r=!1,Object(it.a)(f,!0)):d?At(f,!(r=!1)):[]:Z(f)||ze(f)?ze(p=h)?p=qn(h):w(h)&&!oe(h)||(p=It(f)):r=!1),r&&(l.set(f,p),a(p,f,o,s,l),l.delete(f)),Bn(n,i,p))):(c=b?b(Wn(m,t),e,t+"",m,g,y):void 0,Bn(m,t,c=void 0===c?e:c))},Ee)}function $n(u){return Jn(Kn(e=function(e,t){var n,r,i,o=-1,a=t.length,s=1<a?t[a-1]:void 0,l=2<a?t[2]:void 0,s=3<u.length&&"function"==typeof s?(a--,s):void 0;for((l&&(n=t[0],r=t[1],!!w(l=l)&&(!!("number"==(i=typeof r)?Qe(l)&&We(r,l.length):"string"==i&&r in l)&&ee(l[r],n)))&&(s=a<3?void 0:s,a=1),e=Object(e));++o<a;){var c=t[o];c&&u(e,c,o,s)}return e},t,Yn),e+"");var e,t}var En,An,On,Mn,Pn=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Dn=/\\(\\)?/g,Rn=(En=(gt=wn(function(e){var i=[];return 46===e.charCodeAt(0)&&i.push(""),e.replace(Pn,function(e,t,n,r){i.push(n?r.replace(Dn,"$1"):t||e)}),i},function(e){return 500===En.size&&En.clear(),e})).cache,gt),In=function(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i},kt=e?e.prototype:void 0,Nn=kt?kt.toString:void 0,jn=function(e){return null==e?"":_n(e)},Ln=function(e,t){return Be(e)?e:(t=t,Be(n=e)||"number"!=(r=typeof n)&&"symbol"!=r&&"boolean"!=r&&null!=n&&!vn(n)&&!yn.test(n)&&bn.test(n)&&!(null!=t&&n in Object(t))?Rn(jn(e)):[e]);var n,r},Vn=function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0},Fn=function(e){var t;return"string"==typeof e||vn(e)?e:"0"==(t=e+"")&&1/e==-1/0?"-0":t},zn=function(e,t){return t.length<2?e:kn(e,xn(t,0,-1))},Bn=function(e,t,n){(void 0===n||ee(e[t],n))&&(void 0!==n||t in e)||Ne(e,t,n)},Hn=function(e,t,n){for(var r=-1,i=Object(e),o=n(e),a=o.length;a--;){var s=o[++r];if(!1===t(i[s],s,i))break}return e},Un=function(e){return K(e)&&Qe(e)},Wn=function(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]},qn=function(e){return xe(e,Ee(e))},Yn=function(e){return e},Gn=Math.max,Kn=function(l,c,u){return c=Gn(void 0===c?l.length-1:c,0),function(){for(var e=arguments,t=-1,n=Gn(e.length-c,0),r=Array(n);++t<n;)r[t]=e[c+t];for(var t=-1,i=Array(c+1);++t<c;)i[t]=e[t];i[c]=u(r);var o=l,a=this,s=i;switch(s.length){case 0:return o.call(a);case 1:return o.call(a,s[0]);case 2:return o.call(a,s[0],s[1]);case 3:return o.call(a,s[0],s[1],s[2])}return o.apply(a,s)}},Xn=Date.now,Jn=(An=Ie?function(e,t){return Ie(e,"toString",{configurable:!0,enumerable:!1,value:(n=t,function(){return n}),writable:!0});var n}:Yn,Mn=On=0,function(){var e=Xn(),t=16-(e-Mn);if(Mn=e,0<t){if(800<=++On)return arguments[0]}else On=0;return An.apply(void 0,arguments)}),Qn=$n(function(e,t,n){Tn(e,t,n)}),Zn=function(e,t,n,r){if(w(e))for(var i=-1,o=(t=Ln(t,e)).length,a=o-1,s=e;null!=s&&++i<o;){var l,c=Fn(t[i]),u=n;i!=a&&(l=s[c],void 0===(u=r?r(l,c,s):void 0)&&(u=w(l)?l:We(t[i+1])?[]:{})),Le(s,c,u),s=s[c]}return e};class er{constructor(e){this._styles={},this._styleProcessor=e}get isEmpty(){var e=Object.entries(this._styles);return!Array.from(e).length}get size(){return this.isEmpty?0:this.getStyleNames().length}setTo(e){this.clear();var t=Array.from(function(t){let n=null,r=0,i=0,o=null;const a=new Map;if(""!==t){";"!=t.charAt(t.length-1)&&(t+=";");for(let e=0;e<t.length;e++){var s=t.charAt(e);if(null===n)switch(s){case":":o||(o=t.substr(r,e-r),i=e+1);break;case'"':case"'":n=s;break;case";":{const n=t.substr(i,e-i);o&&a.set(o.trim(),n.trim()),o=null,r=e+1;break}}else s===n&&(n=null)}}return a}(e).entries());for(const[e,n]of t)this._styleProcessor.toNormalizedForm(e,n,this._styles)}has(t){var e;return!this.isEmpty&&(e=this._styleProcessor.getReducedForm(t,this._styles).find(([e])=>e===t),Array.isArray(e))}set(e,t){if(w(e))for(const[t,n]of Object.entries(e))this._styleProcessor.toNormalizedForm(t,n,this._styles);else this._styleProcessor.toNormalizedForm(e,t,this._styles)}remove(e){var t=nr(e);Cn(this._styles,t),delete this._styles[e],this._cleanEmptyObjectsOnPath(t)}getNormalized(e){return this._styleProcessor.getNormalized(e,this._styles)}toString(){return this.isEmpty?"":this._getStylesEntries().map(e=>e.join(":")).sort().join(";")+";"}getAsString(t){var e;if(!this.isEmpty)return this._styles[t]&&!w(this._styles[t])?this._styles[t]:(e=this._styleProcessor.getReducedForm(t,this._styles).find(([e])=>e===t),Array.isArray(e)?e[1]:void 0)}getStyleNames(){return this.isEmpty?[]:this._getStylesEntries().map(([e])=>e)}clear(){this._styles={}}_getStylesEntries(){const e=[],t=Object.keys(this._styles);for(const n of t)e.push(...this._styleProcessor.getReducedForm(n,this._styles));return e}_cleanEmptyObjectsOnPath(e){const t=e.split(".");var n;1<t.length&&(e=t.splice(0,t.length-1).join("."),(n=Sn(this._styles,e))&&!Array.from(Object.keys(n)).length&&this.remove(e))}}class tr{constructor(){this._normalizers=new Map,this._extractors=new Map,this._reducers=new Map,this._consumables=new Map}toNormalizedForm(e,t,n){if(w(t))rr(n,nr(e),t);else if(this._normalizers.has(e)){const r=this._normalizers.get(e),{path:i,value:o}=r(t);rr(n,i,o)}else rr(n,e,t)}getNormalized(e,t){if(!e)return Qn({},t);if(void 0!==t[e])return t[e];if(this._extractors.has(e)){const r=this._extractors.get(e);if("string"==typeof r)return Sn(t,r);var n=r(e,t);if(n)return n}return Sn(t,nr(e))}getReducedForm(e,t){t=this.getNormalized(e,t);return void 0===t?[]:this._reducers.has(e)?this._reducers.get(e)(t):[[e,t]]}getRelatedStyles(e){return this._consumables.get(e)||[]}setNormalizer(e,t){this._normalizers.set(e,t)}setExtractor(e,t){this._extractors.set(e,t)}setReducer(e,t){this._reducers.set(e,t)}setStyleRelation(e,t){this._mapStyleNames(e,t);for(const n of t)this._mapStyleNames(n,[e])}_mapStyleNames(e,t){this._consumables.has(e)||this._consumables.set(e,[]),this._consumables.get(e).push(...t)}}function nr(e){return e.replace("-",".")}function rr(e,t,n){let r=n;w(n)&&(r=Qn({},Sn(e,t),n)),n=e,e=t,t=r,null!=n&&Zn(n,e,t)}class ir extends hn{constructor(e,t,n,r){if(super(e),this.name=t,this._attrs=function(e){for(var[t,n]of e=pn(e))null===n?e.delete(t):"string"!=typeof n&&e.set(t,String(n));return e}(n),this._children=[],r&&this._insertChild(0,r),this._classes=new Set,this._attrs.has("class")){const e=this._attrs.get("class");or(this._classes,e),this._attrs.delete("class")}this._styles=new er(this.document.stylesProcessor),this._attrs.has("style")&&(this._styles.setTo(this._attrs.get("style")),this._attrs.delete("style")),this._customProperties=new Map}get childCount(){return this._children.length}get isEmpty(){return 0===this._children.length}is(e,t=null){return t?t===this.name&&("element"===e||"view:element"===e):"element"===e||"view:element"===e||"node"===e||"view:node"===e}getChild(e){return this._children[e]}getChildIndex(e){return this._children.indexOf(e)}getChildren(){return this._children[Symbol.iterator]()}*getAttributeKeys(){0<this._classes.size&&(yield"class"),this._styles.isEmpty||(yield"style"),yield*this._attrs.keys()}*getAttributes(){yield*this._attrs.entries(),0<this._classes.size&&(yield["class",this.getAttribute("class")]),this._styles.isEmpty||(yield["style",this.getAttribute("style")])}getAttribute(e){if("class"==e)return 0<this._classes.size?[...this._classes].join(" "):void 0;if("style"!=e)return this._attrs.get(e);{const e=this._styles.toString();return""==e?void 0:e}}hasAttribute(e){return"class"==e?0<this._classes.size:"style"==e?!this._styles.isEmpty:this._attrs.has(e)}isSimilar(e){if(!(e instanceof ir))return!1;if(this!==e){if(this.name!=e.name)return!1;if(this._attrs.size!==e._attrs.size||this._classes.size!==e._classes.size||this._styles.size!==e._styles.size)return!1;for(var[t,n]of this._attrs)if(!e._attrs.has(t)||e._attrs.get(t)!==n)return!1;for(const r of this._classes)if(!e._classes.has(r))return!1;for(const i of this._styles.getStyleNames())if(!e._styles.has(i)||e._styles.getAsString(i)!==this._styles.getAsString(i))return!1}return!0}hasClass(...e){for(const t of e)if(!this._classes.has(t))return!1;return!0}getClassNames(){return this._classes.keys()}getStyle(e){return this._styles.getAsString(e)}getNormalizedStyle(e){return this._styles.getNormalized(e)}getStyleNames(){return this._styles.getStyleNames()}hasStyle(...e){for(const t of e)if(!this._styles.has(t))return!1;return!0}findAncestor(...e){const t=new mn(...e);let n=this.parent;for(;n;){if(t.match(n))return n;n=n.parent}return null}getCustomProperty(e){return this._customProperties.get(e)}*getCustomProperties(){yield*this._customProperties.entries()}getIdentity(){var e=Array.from(this._classes).sort().join(","),t=this._styles.toString(),n=Array.from(this._attrs).map(e=>`${e[0]}="${e[1]}"`).sort().join(" ");return this.name+(""==e?"":` class="${e}"`)+(t?` style="${t}"`:"")+(""==n?"":" "+n)}_clone(e=!1){const t=[];if(e)for(const n of this.getChildren())t.push(n._clone(e));const n=new this.constructor(this.document,this.name,this._attrs,t);return n._classes=new Set(this._classes),n._styles.set(this._styles.getNormalized()),n._customProperties=new Map(this._customProperties),n.getFillerOffset=this.getFillerOffset,n}_appendChild(e){return this._insertChild(this.childCount,e)}_insertChild(e,t){this._fireChange("children",this);let n=0;r=this.document;var r,i="string"==typeof(t=t)?[new s(r,t)]:(nn(t)||(t=[t]),Array.from(t).map(e=>"string"==typeof e?new s(r,e):e instanceof fn?new s(r,e.data):e));for(const t of i)null!==t.parent&&t._remove(),t.parent=this,t.document=this.document,this._children.splice(e,0,t),e++,n++;return n}_removeChildren(t,n=1){this._fireChange("children",this);for(let e=t;e<t+n;e++)this._children[e].parent=null;return this._children.splice(t,n)}_setAttribute(e,t){t=String(t),this._fireChange("attributes",this),"class"==e?or(this._classes,t):"style"==e?this._styles.setTo(t):this._attrs.set(e,t)}_removeAttribute(e){return this._fireChange("attributes",this),"class"==e?0<this._classes.size&&(this._classes.clear(),!0):"style"==e?!this._styles.isEmpty&&(this._styles.clear(),!0):this._attrs.delete(e)}_addClass(e){this._fireChange("attributes",this),(e=Array.isArray(e)?e:[e]).forEach(e=>this._classes.add(e))}_removeClass(e){this._fireChange("attributes",this),(e=Array.isArray(e)?e:[e]).forEach(e=>this._classes.delete(e))}_setStyle(e,t){this._fireChange("attributes",this),this._styles.set(e,t)}_removeStyle(e){this._fireChange("attributes",this),(e=Array.isArray(e)?e:[e]).forEach(e=>this._styles.remove(e))}_setCustomProperty(e,t){this._customProperties.set(e,t)}_removeCustomProperty(e){return this._customProperties.delete(e)}}function or(t,e){const n=e.split(/\s+/);t.clear(),n.forEach(e=>t.add(e))}class ar extends ir{constructor(e,t,n,r){super(e,t,n,r),this.getFillerOffset=sr}is(e,t=null){return t?t===this.name&&("containerElement"===e||"view:containerElement"===e||"element"===e||"view:element"===e):"containerElement"===e||"view:containerElement"===e||"element"===e||"view:element"===e||"node"===e||"view:node"===e}}function sr(){const e=[...this.getChildren()],t=e[this.childCount-1];if(!t||!t.is("element","br"))for(const t of e)if(!t.is("uiElement"))return null;return this.childCount}var lr=$n(function(e,t){xe(t,Ee(t),e)});const cr=Symbol("observableProperties"),ur=Symbol("boundObservables"),dr=Symbol("boundProperties"),hr={set(r,e){if(w(r))Object.keys(r).forEach(e=>{this.set(e,r[e])},this);else{fr(this);const i=this[cr];if(r in this&&!i.has(r))throw new h.a("observable-set-cannot-override",this);Object.defineProperty(this,r,{enumerable:!0,configurable:!0,get:()=>i.get(r),set(e){var t=i.get(r);let n=this.fire("set:"+r,r,e,t);t===(n=void 0===n?e:n)&&i.has(r)||(i.set(r,n),this.fire("change:"+r,r,n,t))}}),this[r]=e}},bind(...e){if(!e.length||!gr(e))throw new h.a("observable-bind-wrong-properties",this);if(new Set(e).size!==e.length)throw new h.a("observable-bind-duplicate-properties",this);fr(this);const n=this[dr],r=(e.forEach(e=>{if(n.has(e))throw new h.a("observable-bind-rebind",this)}),new Map);return e.forEach(e=>{var t={property:e,to:[]};n.set(e,t),r.set(e,t)}),{to:pr,toMany:mr,_observable:this,_bindProperties:e,_to:[],_bindings:r}},unbind(...e){if(this[cr]){const a=this[dr],s=this[ur];if(e.length){if(!gr(e))throw new h.a("observable-unbind-wrong-properties",this);e.forEach(e=>{const o=a.get(e);if(o){let t,n,r,i;o.to.forEach(e=>{t=e[0],n=e[1],r=s.get(t),(i=r[n]).delete(o),i.size||delete r[n],Object.keys(r).length||(s.delete(t),this.stopListening(t,"change"))}),a.delete(e)}})}else s.forEach((e,t)=>{this.stopListening(t,"change")}),s.clear(),a.clear()}},decorate(t){const n=this[t];if(!n)throw new h.a("observablemixin-cannot-decorate-undefined",this,{object:this,methodName:t});this.on(t,(e,t)=>{e.return=n.apply(this,t)}),this[t]=function(...e){return this.fire(t,e)}}};lr(hr,o);var l=hr;function fr(e){e[cr]||(Object.defineProperty(e,cr,{value:new Map}),Object.defineProperty(e,ur,{value:new Map}),Object.defineProperty(e,dr,{value:new Map}))}function pr(...e){const t=function(...e){if(!e.length)throw new h.a("observable-bind-to-parse-error",null);const t={to:[]};let n;return"function"==typeof e[e.length-1]&&(t.callback=e.pop()),e.forEach(e=>{if("string"==typeof e)n.properties.push(e);else{if("object"!=typeof e)throw new h.a("observable-bind-to-parse-error",null);n={observable:e,properties:[]},t.to.push(n)}}),t}(...e),n=Array.from(this._bindings.keys()),r=n.length;if(!t.callback&&1<t.to.length)throw new h.a("observable-bind-to-no-callback",this);if(1<r&&t.callback)throw new h.a("observable-bind-to-extra-callback",this);var o;t.to.forEach(e=>{if(e.properties.length&&e.properties.length!==r)throw new h.a("observable-bind-to-properties-length",this);e.properties.length||(e.properties=this._bindProperties)}),this._to=t.to,t.callback&&(this._bindings.get(n[0]).callback=t.callback),o=this._observable,this._to.forEach(n=>{const r=o[ur];let i;r.get(n.observable)||o.listenTo(n.observable,"change",(e,t)=>{(i=r.get(n.observable)[t])&&i.forEach(e=>{vr(o,e.property)})})});{var u=this;let c;u._bindings.forEach((s,l)=>{u._to.forEach(e=>{c=e.properties[s.callback?0:u._bindProperties.indexOf(l)],s.to.push([e.observable,c]);{var t=u._observable,n=s,r=(e=e.observable,c);const i=t[ur],o=i.get(e),a=o||{};a[r]||(a[r]=new Set),a[r].add(n),o||i.set(e,a)}})})}this._bindProperties.forEach(e=>{vr(this._observable,e)})}function mr(e,t,n){if(1<this._bindings.size)throw new h.a("observable-bind-to-many-not-one-binding",this);var r;this.to(...(r=t,t=e.map(e=>[e,r]),Array.prototype.concat.apply([],t)),n)}function gr(e){return e.every(e=>"string"==typeof e)}function vr(e,t){const n=e[dr].get(t);let r;r=n.callback?n.callback.apply(e,n.to.map(e=>e[0][e[1]])):(r=n.to[0])[0][r[1]],Object.prototype.hasOwnProperty.call(e,t)?e[t]=r:e.set(t,r)}class br extends ar{constructor(t,e,n,r){super(t,e,n,r),this.set("isReadOnly",!1),this.set("isFocused",!1),this.bind("isReadOnly").to(t),this.bind("isFocused").to(t,"isFocused",e=>e&&t.selection.editableElement==this),this.listenTo(t.selection,"change",()=>{this.isFocused=t.isFocused&&t.selection.editableElement==this})}is(e,t=null){return t?t===this.name&&("editableElement"===e||"view:editableElement"===e||"containerElement"===e||"view:containerElement"===e||"element"===e||"view:element"===e):"editableElement"===e||"view:editableElement"===e||"containerElement"===e||"view:containerElement"===e||"element"===e||"view:element"===e||"node"===e||"view:node"===e}destroy(){this.stopListening()}}a(br,l);const yr=Symbol("rootName");class wr extends br{constructor(e,t){super(e,t),this.rootName="main"}is(e,t=null){return t?t===this.name&&("rootElement"===e||"view:rootElement"===e||"editableElement"===e||"view:editableElement"===e||"containerElement"===e||"view:containerElement"===e||"element"===e||"view:element"===e):"rootElement"===e||"view:rootElement"===e||"editableElement"===e||"view:editableElement"===e||"containerElement"===e||"view:containerElement"===e||"element"===e||"view:element"===e||"node"===e||"view:node"===e}get rootName(){return this.getCustomProperty(yr)}set rootName(e){this._setCustomProperty(yr,e)}set _name(e){this.name=e}}class _r{constructor(e={}){if(!e.boundaries&&!e.startPosition)throw new h.a("view-tree-walker-no-start-position",null);if(e.direction&&"forward"!=e.direction&&"backward"!=e.direction)throw new h.a("view-tree-walker-unknown-direction",e.startPosition,{direction:e.direction});this.boundaries=e.boundaries||null,e.startPosition?this.position=f._createAt(e.startPosition):this.position=f._createAt(e.boundaries["backward"==e.direction?"end":"start"]),this.direction=e.direction||"forward",this.singleCharacters=!!e.singleCharacters,this.shallow=!!e.shallow,this.ignoreElementEnd=!!e.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null}[Symbol.iterator](){return this}skip(e){let t,n,r;for(;r=this.position,{done:t,value:n}=this.next(),!t&&e(n););t||(this.position=r)}next(){return"forward"==this.direction?this._next():this._previous()}_next(){let n=this.position.clone();const r=this.position,t=n.parent;if(null===t.parent&&n.offset===t.childCount)return{done:!0};if(t===this._boundaryEndParent&&n.offset==this.boundaries.end.offset)return{done:!0};let i;if(t instanceof s){if(n.isAtEnd)return this.position=f._createAfter(t),this._next();i=t.data[n.offset]}else i=t.getChild(n.offset);if(i instanceof ir)return this.shallow?n.offset++:n=new f(i,0),this.position=n,this._formatReturnValue("elementStart",i,r,n,1);if(i instanceof s){if(this.singleCharacters)return n=new f(i,0),this.position=n,this._next();{let e,t=i.data.length;return i==this._boundaryEndParent?(t=this.boundaries.end.offset,e=new fn(i,0,t),n=f._createAfter(e)):(e=new fn(i,0,i.data.length),n.offset++),this.position=n,this._formatReturnValue("text",e,r,n,t)}}if("string"!=typeof i)return n=f._createAfter(t),this.position=n,this.ignoreElementEnd?this._next():this._formatReturnValue("elementEnd",t,r,n);{let e;e=this.singleCharacters?1:(t===this._boundaryEndParent?this.boundaries.end.offset:t.data.length)-n.offset;var o=new fn(t,n.offset,e);return n.offset+=e,this.position=n,this._formatReturnValue("text",o,r,n,e)}}_previous(){let n=this.position.clone();const r=this.position,t=n.parent;if(null===t.parent&&0===n.offset)return{done:!0};if(t==this._boundaryStartParent&&n.offset==this.boundaries.start.offset)return{done:!0};let i;if(t instanceof s){if(n.isAtStart)return this.position=f._createBefore(t),this._previous();i=t.data[n.offset-1]}else i=t.getChild(n.offset-1);if(i instanceof ir)return this.shallow?(n.offset--,this.position=n,this._formatReturnValue("elementStart",i,r,n,1)):(n=new f(i,i.childCount),this.position=n,this.ignoreElementEnd?this._previous():this._formatReturnValue("elementEnd",i,r,n));if(i instanceof s){if(this.singleCharacters)return n=new f(i,i.data.length),this.position=n,this._previous();{let e,t=i.data.length;if(i==this._boundaryStartParent){const r=this.boundaries.start.offset;e=new fn(i,r,i.data.length-r),t=e.data.length,n=f._createBefore(e)}else e=new fn(i,0,i.data.length),n.offset--;return this.position=n,this._formatReturnValue("text",e,r,n,t)}}if("string"!=typeof i)return n=f._createBefore(t),this.position=n,this._formatReturnValue("elementStart",t,r,n,1);{let e;if(this.singleCharacters)e=1;else{const r=t===this._boundaryStartParent?this.boundaries.start.offset:0;e=n.offset-r}n.offset-=e;var o=new fn(t,n.offset,e);return this.position=n,this._formatReturnValue("text",o,r,n,e)}}_formatReturnValue(e,t,n,r,i){return t instanceof fn&&(t.offsetInText+t.data.length==t.textNode.data.length&&("forward"!=this.direction||this.boundaries&&this.boundaries.end.isEqual(this.position)?n=f._createAfter(t.textNode):(r=f._createAfter(t.textNode),this.position=r)),0===t.offsetInText&&("backward"!=this.direction||this.boundaries&&this.boundaries.start.isEqual(this.position)?n=f._createBefore(t.textNode):(r=f._createBefore(t.textNode),this.position=r))),{done:!1,value:{type:e,item:t,previousPosition:n,nextPosition:r,length:i}}}}class f{constructor(e,t){this.parent=e,this.offset=t}get nodeAfter(){return!this.parent.is("$text")&&this.parent.getChild(this.offset)||null}get nodeBefore(){return!this.parent.is("$text")&&this.parent.getChild(this.offset-1)||null}get isAtStart(){return 0===this.offset}get isAtEnd(){var e=this.parent.is("$text")?this.parent.data.length:this.parent.childCount;return this.offset===e}get root(){return this.parent.root}get editableElement(){let e=this.parent;for(;!(e instanceof br);){if(!e.parent)return null;e=e.parent}return e}getShiftedBy(e){const t=f._createAt(this),n=t.offset+e;return t.offset=n<0?0:n,t}getLastMatchingPosition(e,t={}){t.startPosition=this;const n=new _r(t);return n.skip(e),n.position}getAncestors(){return this.parent.is("documentFragment")?[this.parent]:this.parent.getAncestors({includeSelf:!0})}getCommonAncestor(e){var t=this.getAncestors(),n=e.getAncestors();let r=0;for(;t[r]==n[r]&&t[r];)r++;return 0===r?null:t[r-1]}is(e){return"position"===e||"view:position"===e}isEqual(e){return this.parent==e.parent&&this.offset==e.offset}isBefore(e){return"before"==this.compareWith(e)}isAfter(e){return"after"==this.compareWith(e)}compareWith(e){if(this.root!==e.root)return"different";if(this.isEqual(e))return"same";const t=this.parent.is("node")?this.parent.getPath():[],n=e.parent.is("node")?e.parent.getPath():[];t.push(this.offset),n.push(e.offset);var r=un(t,n);switch(r){case"prefix":return"before";case"extension":return"after";default:return t[r]<n[r]?"before":"after"}}getWalker(e={}){return e.startPosition=this,new _r(e)}clone(){return new f(this.parent,this.offset)}static _createAt(e,t){if(e instanceof f)return new this(e.parent,e.offset);{const n=e;if("end"==t)t=n.is("$text")?n.data.length:n.childCount;else{if("before"==t)return this._createBefore(n);if("after"==t)return this._createAfter(n);if(0!==t&&!t)throw new h.a("view-createpositionat-offset-required",n)}return new f(n,t)}}static _createAfter(e){if(e.is("$textProxy"))return new f(e.textNode,e.offsetInText+e.data.length);if(e.parent)return new f(e.parent,e.index+1);throw new h.a("view-position-after-root",e,{root:e})}static _createBefore(e){if(e.is("$textProxy"))return new f(e.textNode,e.offsetInText);if(e.parent)return new f(e.parent,e.index);throw new h.a("view-position-before-root",e,{root:e})}}class m{constructor(e,t=null){this.start=e.clone(),this.end=(t||e).clone()}*[Symbol.iterator](){yield*new _r({boundaries:this,ignoreElementEnd:!0})}get isCollapsed(){return this.start.isEqual(this.end)}get isFlat(){return this.start.parent===this.end.parent}get root(){return this.start.root}getEnlarged(){let e=this.start.getLastMatchingPosition(kr,{direction:"backward"}),t=this.end.getLastMatchingPosition(kr);return e.parent.is("$text")&&e.isAtStart&&(e=f._createBefore(e.parent)),t.parent.is("$text")&&t.isAtEnd&&(t=f._createAfter(t.parent)),new m(e,t)}getTrimmed(){let e=this.start.getLastMatchingPosition(kr);if(e.isAfter(this.end)||e.isEqual(this.end))return new m(e,e);let t=this.end.getLastMatchingPosition(kr,{direction:"backward"});const n=e.nodeAfter,r=t.nodeBefore;return n&&n.is("$text")&&(e=new f(n,0)),r&&r.is("$text")&&(t=new f(r,r.data.length)),new m(e,t)}isEqual(e){return this==e||this.start.isEqual(e.start)&&this.end.isEqual(e.end)}containsPosition(e){return e.isAfter(this.start)&&e.isBefore(this.end)}containsRange(e,t=!1){e.isCollapsed&&(t=!1);var n=this.containsPosition(e.start)||t&&this.start.isEqual(e.start),t=this.containsPosition(e.end)||t&&this.end.isEqual(e.end);return n&&t}getDifference(e){const t=[];return this.isIntersecting(e)?(this.containsPosition(e.start)&&t.push(new m(this.start,e.start)),this.containsPosition(e.end)&&t.push(new m(e.end,this.end))):t.push(this.clone()),t}getIntersection(n){if(this.isIntersecting(n)){let e=this.start,t=this.end;return this.containsPosition(n.start)&&(e=n.start),this.containsPosition(n.end)&&(t=n.end),new m(e,t)}return null}getWalker(e={}){return e.boundaries=this,new _r(e)}getCommonAncestor(){return this.start.getCommonAncestor(this.end)}getContainedElement(){if(this.isCollapsed)return null;let e=this.start.nodeAfter,t=this.end.nodeBefore;return this.start.parent.is("$text")&&this.start.isAtEnd&&this.start.parent.nextSibling&&(e=this.start.parent.nextSibling),this.end.parent.is("$text")&&this.end.isAtStart&&this.end.parent.previousSibling&&(t=this.end.parent.previousSibling),e&&e.is("element")&&e===t?e:null}clone(){return new m(this.start,this.end)}*getItems(e={}){e.boundaries=this,e.ignoreElementEnd=!0;var t=new _r(e);for(const e of t)yield e.item}*getPositions(e={}){e.boundaries=this;var t=new _r(e);yield t.position;for(const e of t)yield e.nextPosition}is(e){return"range"===e||"view:range"===e}isIntersecting(e){return this.start.isBefore(e.end)&&this.end.isAfter(e.start)}static _createFromParentsAndOffsets(e,t,n,r){return new this(new f(e,t),new f(n,r))}static _createFromPositionAndShift(e,t){var n=e,e=e.getShiftedBy(t);return 0<t?new this(n,e):new this(e,n)}static _createIn(e){return this._createFromParentsAndOffsets(e,0,e,e.childCount)}static _createOn(e){var t=e.is("$textProxy")?e.offsetSize:1;return this._createFromPositionAndShift(f._createBefore(e),t)}}function kr(e){return!(!e.item.is("attributeElement")&&!e.item.is("uiElement"))}function xr(e){let t=0;for(const n of e)t++;return t}class Cr{constructor(e=null,t,n){this._ranges=[],this._lastRangeBackward=!1,this._isFake=!1,this._fakeSelectionLabel="",this.setTo(e,t,n)}get isFake(){return this._isFake}get fakeSelectionLabel(){return this._fakeSelectionLabel}get anchor(){if(!this._ranges.length)return null;const e=this._ranges[this._ranges.length-1];return(this._lastRangeBackward?e.end:e.start).clone()}get focus(){if(!this._ranges.length)return null;const e=this._ranges[this._ranges.length-1];return(this._lastRangeBackward?e.start:e.end).clone()}get isCollapsed(){return 1===this.rangeCount&&this._ranges[0].isCollapsed}get rangeCount(){return this._ranges.length}get isBackward(){return!this.isCollapsed&&this._lastRangeBackward}get editableElement(){return this.anchor?this.anchor.editableElement:null}*getRanges(){for(const e of this._ranges)yield e.clone()}getFirstRange(){let e=null;for(const t of this._ranges)e&&!t.start.isBefore(e.start)||(e=t);return e?e.clone():null}getLastRange(){let e=null;for(const t of this._ranges)e&&!t.end.isAfter(e.end)||(e=t);return e?e.clone():null}getFirstPosition(){const e=this.getFirstRange();return e?e.start.clone():null}getLastPosition(){const e=this.getLastRange();return e?e.end.clone():null}isEqual(t){if(this.isFake!=t.isFake)return!1;if(this.isFake&&this.fakeSelectionLabel!=t.fakeSelectionLabel)return!1;if(this.rangeCount!=t.rangeCount)return!1;if(0!==this.rangeCount){if(!this.anchor.isEqual(t.anchor)||!this.focus.isEqual(t.focus))return!1;for(const n of this._ranges){let e=!1;for(const r of t._ranges)if(n.isEqual(r)){e=!0;break}if(!e)return!1}}return!0}isSimilar(t){if(this.isBackward!=t.isBackward)return!1;var e=xr(this.getRanges());if(e!=xr(t.getRanges()))return!1;if(0!=e)for(var n of this.getRanges()){n=n.getTrimmed();let e=!1;for(var r of t.getRanges())if(r=r.getTrimmed(),n.start.isEqual(r.start)&&n.end.isEqual(r.end)){e=!0;break}if(!e)return!1}return!0}getSelectedElement(){return 1!==this.rangeCount?null:this.getFirstRange().getContainedElement()}setTo(e,t,n){if(null===e)this._setRanges([]),this._setFakeOptions(t);else if(e instanceof Cr||e instanceof Sr)this._setRanges(e.getRanges(),e.isBackward),this._setFakeOptions({fake:e.isFake,label:e.fakeSelectionLabel});else if(e instanceof m)this._setRanges([e],t&&t.backward),this._setFakeOptions(t);else if(e instanceof f)this._setRanges([new m(e)]),this._setFakeOptions(t);else if(e instanceof hn){var r,i=!!n&&!!n.backward;if(void 0===t)throw new h.a("view-selection-setto-required-second-parameter",this);r="in"==t?m._createIn(e):"on"==t?m._createOn(e):new m(f._createAt(e,t)),this._setRanges([r],i),this._setFakeOptions(n)}else{if(!nn(e))throw new h.a("view-selection-setto-not-selectable",this);this._setRanges(e,t&&t.backward),this._setFakeOptions(t)}this.fire("change")}setFocus(e,t){if(null===this.anchor)throw new h.a("view-selection-setfocus-no-ranges",this);const n=f._createAt(e,t);"same"!=n.compareWith(this.focus)&&(e=this.anchor,this._ranges.pop(),"before"==n.compareWith(e)?this._addRange(new m(n,e),!0):this._addRange(new m(e,n)),this.fire("change"))}is(e){return"selection"===e||"view:selection"===e}_setRanges(e,t=!1){e=Array.from(e),this._ranges=[];for(const t of e)this._addRange(t);this._lastRangeBackward=!!t}_setFakeOptions(e={}){this._isFake=!!e.fake,this._fakeSelectionLabel=e.fake&&e.label||""}_addRange(e,t=!1){if(!(e instanceof m))throw new h.a("view-selection-add-range-not-range",this);this._pushRange(e),this._lastRangeBackward=!!t}_pushRange(e){for(const t of this._ranges)if(e.isIntersecting(t))throw new h.a("view-selection-range-intersects",this,{addedRange:e,intersectingRange:t});this._ranges.push(new m(e.start,e.end))}}a(Cr,o);class Sr{constructor(e=null,t,n){this._selection=new Cr,this._selection.delegate("change").to(this),this._selection.setTo(e,t,n)}get isFake(){return this._selection.isFake}get fakeSelectionLabel(){return this._selection.fakeSelectionLabel}get anchor(){return this._selection.anchor}get focus(){return this._selection.focus}get isCollapsed(){return this._selection.isCollapsed}get rangeCount(){return this._selection.rangeCount}get isBackward(){return this._selection.isBackward}get editableElement(){return this._selection.editableElement}get _ranges(){return this._selection._ranges}*getRanges(){yield*this._selection.getRanges()}getFirstRange(){return this._selection.getFirstRange()}getLastRange(){return this._selection.getLastRange()}getFirstPosition(){return this._selection.getFirstPosition()}getLastPosition(){return this._selection.getLastPosition()}getSelectedElement(){return this._selection.getSelectedElement()}isEqual(e){return this._selection.isEqual(e)}isSimilar(e){return this._selection.isSimilar(e)}is(e){return"selection"===e||"documentSelection"==e||"view:selection"==e||"view:documentSelection"==e}_setTo(e,t,n){this._selection.setTo(e,t,n)}_setFocus(e,t){this._selection.setFocus(e,t)}}a(Sr,o);class Tr{constructor(e){this.selection=new Sr,this.roots=new rn({idProperty:"rootName"}),this.stylesProcessor=e,this.set("isReadOnly",!1),this.set("isFocused",!1),this.set("isComposing",!1),this._postFixers=new Set}getRoot(e="main"){return this.roots.get(e)}registerPostFixer(e){this._postFixers.add(e)}destroy(){this.roots.map(e=>e.destroy()),this.stopListening()}_callPostFixers(e){let t=!1;do{for(const n of this._postFixers)if(t=n(e),t)break}while(t)}}a(Tr,l);class $r extends ir{constructor(e,t,n,r){super(e,t,n,r),this.getFillerOffset=Er,this._priority=10,this._id=null,this._clonesGroup=null}get priority(){return this._priority}get id(){return this._id}getElementsWithSameId(){if(null===this.id)throw new h.a("attribute-element-get-elements-with-same-id-no-id",this);return new Set(this._clonesGroup)}is(e,t=null){return t?t===this.name&&("attributeElement"===e||"view:attributeElement"===e||"element"===e||"view:element"===e):"attributeElement"===e||"view:attributeElement"===e||"element"===e||"view:element"===e||"node"===e||"view:node"===e}isSimilar(e){return null!==this.id||null!==e.id?this.id===e.id:super.isSimilar(e)&&this.priority==e.priority}_clone(e){const t=super._clone(e);return t._priority=this._priority,t._id=this._id,t}}function Er(){if(Ar(this))return null;let e=this.parent;for(;e&&e.is("attributeElement");){if(1<Ar(e))return null;e=e.parent}return!e||1<Ar(e)?null:this.childCount}function Ar(e){return Array.from(e.getChildren()).filter(e=>!e.is("uiElement")).length}$r.DEFAULT_PRIORITY=10;class Or extends ir{constructor(e,t,n,r){super(e,t,n,r),this.getFillerOffset=Mr}is(e,t=null){return t?t===this.name&&("emptyElement"===e||"view:emptyElement"===e||"element"===e||"view:element"===e):"emptyElement"===e||"view:emptyElement"===e||"element"===e||"view:element"===e||"node"===e||"view:node"===e}_insertChild(e,t){if(t&&(t instanceof hn||0<Array.from(t).length))throw new h.a("view-emptyelement-cannot-add",[this,t])}}function Mr(){return null}var n=navigator.userAgent.toLowerCase(),Pr=-1<n.indexOf("macintosh"),Dr=!!n.match(/gecko\/\d+/),Rr=-1<(pt=n).indexOf(" applewebkit/")&&-1===pt.indexOf("chrome"),Ir=-1<n.indexOf("android");-1<(r=n).indexOf("chrome/")&&r.indexOf("edge/"),function(){let e=!1;try{e=0==="".search(new RegExp("[\\p{L}]","u"))}catch(e){}e}();const Nr={"":"ctrl","":"shift","":"alt"},jr={ctrl:"",shift:"",alt:""},g=function(){const t={arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,backspace:8,delete:46,enter:13,space:32,esc:27,tab:9,ctrl:1114112,cmd:1114112,shift:2228224,alt:4456448};for(let e=65;e<=90;e++){const n=String.fromCharCode(e);t[n.toLowerCase()]=e}for(let e=48;e<=57;e++)t[e-48]=e;for(let e=112;e<=123;e++)t["f"+(e-111)]=e;return t}();function Lr(e){let t;if("string"==typeof e){if(!(t=g[e.toLowerCase()]))throw new h.a("keyboard-unknown-key",null,{key:e})}else t=e.keyCode+(e.altKey?g.alt:0)+(e.ctrlKey?g.ctrl:0)+(e.shiftKey?g.shift:0);return t}function Vr(e){return(e="string"==typeof e?Ur(e):e).map(e=>"string"==typeof e?Lr(e):e).reduce((e,t)=>t+e,0)}function Fr(e){return Pr?Ur(e).map(e=>jr[e.toLowerCase()]||e).reduce((e,t)=>e.slice(-1)in Nr?e+t:e+"+"+t):e}function zr(e){return e==g.arrowright||e==g.arrowleft||e==g.arrowup||e==g.arrowdown}function Br(e,t){var n="ltr"===t;switch(e){case g.arrowleft:return n?"left":"right";case g.arrowright:return n?"right":"left";case g.arrowup:return"up";case g.arrowdown:return"down"}}function Hr(e,t){e=Br(e,t);return"down"===e||"right"===e}function Ur(e){return e.split(/\s*\+\s*/)}class Wr extends ir{constructor(e,t,n,r){super(e,t,n,r),this.getFillerOffset=Yr}is(e,t=null){return t?t===this.name&&("uiElement"===e||"view:uiElement"===e||"element"===e||"view:element"===e):"uiElement"===e||"view:uiElement"===e||"element"===e||"view:element"===e||"node"===e||"view:node"===e}_insertChild(e,t){if(t&&(t instanceof hn||0<Array.from(t).length))throw new h.a("view-uielement-cannot-add",this)}render(e){return this.toDomElement(e)}toDomElement(e){const t=e.createElement(this.name);for(const e of this.getAttributeKeys())t.setAttribute(e,this.getAttribute(e));return t}}function qr(l){l.document.on("keydown",(e,n)=>{var r=n,n=l.domConverter;if(r.keyCode==g.arrowright){const o=r.domTarget.ownerDocument.defaultView.getSelection(),a=1==o.rangeCount&&o.getRangeAt(0).collapsed;if(a||r.shiftKey){const r=o.focusNode,t=o.focusOffset,s=n.domPositionToView(r,t);if(null!==s){let t=!1;var i=s.getLastMatchingPosition(e=>(e.item.is("uiElement")&&(t=!0),!(!e.item.is("uiElement")&&!e.item.is("attributeElement"))));if(t){const r=n.viewPositionToDom(i);a?o.collapse(r.parent,r.offset):o.extend(r.parent,r.offset)}}}}})}function Yr(){return null}class Gr extends ir{constructor(e,t,n,r){super(e,t,n,r),this.getFillerOffset=Kr}is(e,t=null){return t?t===this.name&&("rawElement"===e||"view:rawElement"===e||"element"===e||"view:element"===e):"rawElement"===e||"view:rawElement"===e||e===this.name||e==="view:"+this.name||"element"===e||"view:element"===e||"node"===e||"view:node"===e}_insertChild(e,t){if(t&&(t instanceof hn||0<Array.from(t).length))throw new h.a("view-rawelement-cannot-add",[this,t])}}function Kr(){return null}class Xr{constructor(e,t){this.document=e,this._children=[],t&&this._insertChild(0,t)}[Symbol.iterator](){return this._children[Symbol.iterator]()}get childCount(){return this._children.length}get isEmpty(){return 0===this.childCount}get root(){return this}get parent(){return null}is(e){return"documentFragment"===e||"view:documentFragment"===e}_appendChild(e){return this._insertChild(this.childCount,e)}getChild(e){return this._children[e]}getChildIndex(e){return this._children.indexOf(e)}getChildren(){return this._children[Symbol.iterator]()}_insertChild(e,t){this._fireChange("children",this);let n=0;r=this.document;var r,i="string"==typeof(t=t)?[new s(r,t)]:(nn(t)||(t=[t]),Array.from(t).map(e=>"string"==typeof e?new s(r,e):e instanceof fn?new s(r,e.data):e));for(const t of i)null!==t.parent&&t._remove(),t.parent=this,this._children.splice(e,0,t),e++,n++;return n}_removeChildren(t,n=1){this._fireChange("children",this);for(let e=t;e<t+n;e++)this._children[e].parent=null;return this._children.splice(t,n)}_fireChange(e,t){this.fire("change:"+e,t)}}a(Xr,o);class Jr{constructor(e){this.document=e,this._cloneGroups=new Map}setSelection(e,t,n){this.document.selection._setTo(e,t,n)}setSelectionFocus(e,t){this.document.selection._setFocus(e,t)}createText(e){return new s(this.document,e)}createAttributeElement(e,t,n={}){const r=new $r(this.document,e,t);return n.priority&&(r._priority=n.priority),n.id&&(r._id=n.id),r}createContainerElement(e,t){return new ar(this.document,e,t)}createEditableElement(e,t){const n=new br(this.document,e,t);return n._document=this.document,n}createEmptyElement(e,t){return new Or(this.document,e,t)}createUIElement(e,t,n){const r=new Wr(this.document,e,t);return n&&(r.render=n),r}createRawElement(e,t,n){const r=new Gr(this.document,e,t);return r.render=n||(()=>{}),r}setAttribute(e,t,n){n._setAttribute(e,t)}removeAttribute(e,t){t._removeAttribute(e)}addClass(e,t){t._addClass(e)}removeClass(e,t){t._removeClass(e)}setStyle(e,t,n){(n=Z(e)&&void 0===n?t:n)._setStyle(e,t)}removeStyle(e,t){t._removeStyle(e)}setCustomProperty(e,t,n){n._setCustomProperty(e,t)}removeCustomProperty(e,t){return t._removeCustomProperty(e)}breakAttributes(e){return e instanceof f?this._breakAttributes(e):this._breakAttributesRange(e)}breakContainer(e){const t=e.parent;if(!t.is("containerElement"))throw new h.a("view-writer-break-non-container-element",this.document);var n;if(t.parent)return e.isAtStart?f._createBefore(t):(e.isAtEnd||(n=t._clone(!1),this.insert(f._createAfter(t),n),e=new m(e,f._createAt(t,"end")),n=new f(n,0),this.move(e,n)),f._createAfter(t));throw new h.a("view-writer-break-root",this.document)}mergeAttributes(e){const t=e.offset,n=e.parent;if(!n.is("$text")){if(n.is("attributeElement")&&0===n.childCount){const e=n.parent,t=n.index;return n._remove(),this._removeFromClonedElementsGroup(n),this.mergeAttributes(new f(e,t))}const r=n.getChild(t-1),i=n.getChild(t);if(r&&i){if(r.is("$text")&&i.is("$text"))return ti(r,i);if(r.is("attributeElement")&&i.is("attributeElement")&&r.isSimilar(i)){const e=r.childCount;return r._appendChild(i.getChildren()),i._remove(),this._removeFromClonedElementsGroup(i),this.mergeAttributes(new f(r,e))}}}return e}mergeContainers(e){const t=e.nodeBefore,n=e.nodeAfter;if(t&&n&&t.is("containerElement")&&n.is("containerElement"))return e=(e=t.getChild(t.childCount-1))instanceof s?f._createAt(e,"end"):f._createAt(t,"end"),this.move(m._createIn(n),f._createAt(t,"end")),this.remove(m._createOn(n)),e;throw new h.a("view-writer-merge-containers-invalid-position",this.document)}insert(e,t){!function e(t,n){for(const r of t){if(!ni.some(e=>r instanceof e))throw new h.a("view-writer-insert-invalid-node-type",n);r.is("$text")||e(r.getChildren(),n)}}(t=nn(t)?[...t]:[t],this.document);const n=Qr(e);if(!n)throw new h.a("view-writer-invalid-position-container",this.document);const r=this._breakAttributes(e,!0),i=n._insertChild(r.offset,t);for(const e of t)this._addToClonedElementsGroup(e);const o=r.getShiftedBy(i),a=this.mergeAttributes(r);if(0===i)return new m(a,a);{a.isEqual(r)||o.offset--;const e=this.mergeAttributes(o);return new m(a,e)}}remove(e){const t=e instanceof m?e:m._createOn(e);if(ii(t,this.document),t.isCollapsed)return new Xr(this.document);const{start:n,end:r}=this._breakAttributesRange(t,!0),i=n.parent,o=r.offset-n.offset,a=i._removeChildren(n.offset,o);for(const e of a)this._removeFromClonedElementsGroup(e);const s=this.mergeAttributes(n);return t.start=s,t.end=s.clone(),new Xr(this.document,a)}clear(t,n){ii(t,this.document);const r=t.getWalker({direction:"backward",ignoreElementEnd:!0});for(const i of r){const r=i.item;let e;if(r.is("element")&&n.isSimilar(r))e=m._createOn(r);else if(!i.nextPosition.isAfter(t.start)&&r.is("$textProxy")){const t=r.getAncestors().find(e=>e.is("element")&&n.isSimilar(e));t&&(e=m._createIn(t))}e&&(e.end.isAfter(t.end)&&(e.end=t.end),e.start.isBefore(t.start)&&(e.start=t.start),this.remove(e))}}move(e,t){let n;var r,i;return t.isAfter(e.end)?(i=(r=(t=this._breakAttributes(t,!0)).parent).childCount,e=this._breakAttributesRange(e,!0),n=this.remove(e),t.offset+=r.childCount-i):n=this.remove(e),this.insert(t,n)}wrap(t,n){if(!(n instanceof $r))throw new h.a("view-writer-wrap-invalid-attribute",this.document);if(ii(t,this.document),t.isCollapsed){let e=t.start;e.parent.is("element")&&(r=e.parent,!Array.from(r.getChildren()).some(e=>!e.is("uiElement")))&&(e=e.getLastMatchingPosition(e=>e.item.is("uiElement"))),e=this._wrapPosition(e,n);const i=this.document.selection;return i.isCollapsed&&i.getFirstPosition().isEqual(t.start)&&this.setSelection(e),new m(e)}return this._wrapRange(t,n);var r}unwrap(e,t){if(!(t instanceof $r))throw new h.a("view-writer-unwrap-invalid-attribute",this.document);if(ii(e,this.document),e.isCollapsed)return e;const{start:n,end:r}=this._breakAttributesRange(e,!0),i=n.parent,o=this._unwrapChildren(i,n.offset,r.offset,t),a=this.mergeAttributes(o.start);a.isEqual(o.start)||o.end.offset--;e=this.mergeAttributes(o.end);return new m(a,e)}rename(e,t){e=new ar(this.document,e,t.getAttributes());return this.insert(f._createAfter(t),e),this.move(m._createIn(t),f._createAt(e,0)),this.remove(m._createOn(t)),e}clearClonedElementsGroup(e){this._cloneGroups.delete(e)}createPositionAt(e,t){return f._createAt(e,t)}createPositionAfter(e){return f._createAfter(e)}createPositionBefore(e){return f._createBefore(e)}createRange(e,t){return new m(e,t)}createRangeOn(e){return m._createOn(e)}createRangeIn(e){return m._createIn(e)}createSelection(e,t,n){return new Cr(e,t,n)}_wrapChildren(e,t,n,r){let i=t;const o=[];for(;i<n;){const t=e.getChild(i),n=t.is("$text"),l=t.is("attributeElement"),c=t.is("emptyElement"),u=t.is("uiElement"),d=t.is("rawElement");if(l&&this._wrapAttributeElement(r,t))o.push(new f(e,i));else if(n||c||u||d||l&&(a=r,s=t,a.priority<s.priority||!(a.priority>s.priority)&&a.getIdentity()<s.getIdentity())){const n=r._clone();t._remove(),n._appendChild(t),e._insertChild(i,n),this._addToClonedElementsGroup(n),o.push(new f(e,i))}else l&&this._wrapChildren(t,0,t.childCount,r);i++}var a,s;let l=0;for(const e of o)e.offset-=l,e.offset!=t&&(this.mergeAttributes(e).isEqual(e)||(l++,n--));return m._createFromParentsAndOffsets(e,t,e,n)}_unwrapChildren(e,t,n,r){let i=t;const o=[];for(;i<n;){const t=e.getChild(i);if(t.is("attributeElement"))if(t.isSimilar(r)){const r=t.getChildren(),a=t.childCount;t._remove(),e._insertChild(i,r),this._removeFromClonedElementsGroup(t),o.push(new f(e,i),new f(e,i+a)),i+=a,n+=a-1}else this._unwrapAttributeElement(r,t)?o.push(new f(e,i),new f(e,i+1)):this._unwrapChildren(t,0,t.childCount,r),i++;else i++}let a=0;for(const e of o)e.offset-=a,e.offset!=t&&e.offset!=n&&(this.mergeAttributes(e).isEqual(e)||(a++,n--));return m._createFromParentsAndOffsets(e,t,e,n)}_wrapRange(e,t){const{start:n,end:r}=this._breakAttributesRange(e,!0),i=n.parent,o=this._wrapChildren(i,n.offset,r.offset,t),a=this.mergeAttributes(o.start);a.isEqual(o.start)||o.end.offset--;e=this.mergeAttributes(o.end);return new m(a,e)}_wrapPosition(e,t){if(t.isSimilar(e.parent))return Zr(e.clone());e.parent.is("$text")&&(e=ei(e));const n=this.createAttributeElement();n._priority=Number.POSITIVE_INFINITY,n.isSimilar=()=>!1,e.parent._insertChild(e.offset,n);var e=new m(e,e.getShiftedBy(1)),e=(this.wrap(e,t),new f(n.parent,n.index)),t=(n._remove(),e.nodeBefore),r=e.nodeAfter;return t instanceof s&&r instanceof s?ti(t,r):Zr(e)}_wrapAttributeElement(e,t){if(!oi(e,t))return!1;if(e.name!==t.name||e.priority!==t.priority)return!1;for(const n of e.getAttributeKeys())if("class"!==n&&"style"!==n&&t.hasAttribute(n)&&t.getAttribute(n)!==e.getAttribute(n))return!1;for(const r of e.getStyleNames())if(t.hasStyle(r)&&t.getStyle(r)!==e.getStyle(r))return!1;for(const i of e.getAttributeKeys())"class"===i||"style"===i||t.hasAttribute(i)||this.setAttribute(i,e.getAttribute(i),t);for(const o of e.getStyleNames())t.hasStyle(o)||this.setStyle(o,e.getStyle(o),t);for(const a of e.getClassNames())t.hasClass(a)||this.addClass(a,t);return!0}_unwrapAttributeElement(e,t){if(!oi(e,t))return!1;if(e.name!==t.name||e.priority!==t.priority)return!1;for(const n of e.getAttributeKeys())if("class"!==n&&"style"!==n&&(!t.hasAttribute(n)||t.getAttribute(n)!==e.getAttribute(n)))return!1;if(!t.hasClass(...e.getClassNames()))return!1;for(const r of e.getStyleNames())if(!t.hasStyle(r)||t.getStyle(r)!==e.getStyle(r))return!1;for(const i of e.getAttributeKeys())"class"!==i&&"style"!==i&&this.removeAttribute(i,t);return this.removeClass(Array.from(e.getClassNames()),t),this.removeStyle(Array.from(e.getStyleNames()),t),!0}_breakAttributesRange(e,t=!1){const n=e.start,r=e.end;if(ii(e,this.document),e.isCollapsed){const n=this._breakAttributes(e.start,t);return new m(n,n)}const i=this._breakAttributes(r,t),o=i.parent.childCount,a=this._breakAttributes(n,t);return i.offset+=i.parent.childCount-o,new m(a,i)}_breakAttributes(e,t=!1){const n=e.offset,r=e.parent;if(e.parent.is("emptyElement"))throw new h.a("view-writer-cannot-break-empty-element",this.document);if(e.parent.is("uiElement"))throw new h.a("view-writer-cannot-break-ui-element",this.document);if(e.parent.is("rawElement"))throw new h.a("view-writer-cannot-break-raw-element",this.document);if(!t&&r.is("$text")&&ri(r.parent))return e.clone();if(ri(r))return e.clone();if(r.is("$text"))return this._breakAttributes(ei(e),t);if(n==r.childCount){const e=new f(r.parent,r.index+1);return this._breakAttributes(e,t)}if(0===n){const e=new f(r.parent,r.index);return this._breakAttributes(e,t)}{const e=r.index+1,o=r._clone();r.parent._insertChild(e,o),this._addToClonedElementsGroup(o);var i=r.childCount-n,i=r._removeChildren(n,i),i=(o._appendChild(i),new f(r.parent,e));return this._breakAttributes(i,t)}}_addToClonedElementsGroup(t){if(t.root.is("rootElement")){if(t.is("element"))for(const n of t.getChildren())this._addToClonedElementsGroup(n);const n=t.id;if(n){let e=this._cloneGroups.get(n);e||(e=new Set,this._cloneGroups.set(n,e)),e.add(t),t._clonesGroup=e}}}_removeFromClonedElementsGroup(e){if(e.is("element"))for(const t of e.getChildren())this._removeFromClonedElementsGroup(t);const t=e.id;if(t){const n=this._cloneGroups.get(t);n&&n.delete(e)}}}function Qr(e){let t=e.parent;for(;!ri(t);){if(!t)return;t=t.parent}return t}function Zr(e){const t=e.nodeBefore;if(t&&t.is("$text"))return new f(t,t.data.length);const n=e.nodeAfter;return n&&n.is("$text")?new f(n,0):e}function ei(e){var t;return e.offset==e.parent.data.length?new f(e.parent.parent,e.parent.index+1):0===e.offset?new f(e.parent.parent,e.parent.index):(t=e.parent.data.slice(e.offset),e.parent._data=e.parent.data.slice(0,e.offset),e.parent.parent._insertChild(e.parent.index+1,new s(e.root.document,t)),new f(e.parent.parent,e.parent.index+1))}function ti(e,t){var n=e.data.length;return e._data+=t.data,t._remove(),new f(e,n)}const ni=[s,$r,ar,Or,Gr,Wr];function ri(e){return e&&(e.is("containerElement")||e.is("documentFragment"))}function ii(e,t){var n=Qr(e.start),e=Qr(e.end);if(!n||!e||n!==e)throw new h.a("view-writer-invalid-range-container",t)}function oi(e,t){return null===e.id&&null===t.id}function c(e){return"[object Text]"==Object.prototype.toString.call(e)}const ai=e=>e.createTextNode(""),si=e=>{const t=e.createElement("br");return t.dataset.ckeFiller=!0,t},li=(()=>{let t="";for(let e=0;e<7;e++)t+="";return t})();function ci(e){return c(e)&&e.data.substr(0,7)===li}function ui(e){return 7==e.data.length&&ci(e)}function di(e){return ci(e)?e.data.slice(7):e.data}function hi(e,t){if(t.keyCode==g.arrowleft){const e=t.domTarget.ownerDocument.defaultView.getSelection();if(1==e.rangeCount&&e.getRangeAt(0).collapsed){const t=e.getRangeAt(0).startContainer,n=e.getRangeAt(0).startOffset;ci(t)&&n<=7&&e.collapse(t,0)}}}function fi(t,n,r,i=!1){r=r||function(e,t){return e===t},Array.isArray(t)||(t=Array.prototype.slice.call(t)),Array.isArray(n)||(n=Array.prototype.slice.call(n));var o=-1===(o=pi(t=t,a=n,r=r))?{firstIndex:-1,lastIndexOld:-1,lastIndexNew:-1}:(r=pi(mi(t,o),mi(a,o),r),{firstIndex:o,lastIndexOld:t.length-r,lastIndexNew:a.length-r});if(i){var t=n.length,{firstIndex:a,lastIndexOld:r,lastIndexNew:i}=o;if(-1===a)return Array(t).fill("equal");let e=[];return 0<a&&(e=e.concat(Array(a).fill("equal"))),0<i-a&&(e=e.concat(Array(i-a).fill("insert"))),0<r-a&&(e=e.concat(Array(r-a).fill("delete"))),e=i<t?e.concat(Array(t-i).fill("equal")):e}{r=n;const e=[],{firstIndex:s,lastIndexOld:l,lastIndexNew:c}=o;return 0<c-s&&e.push({index:s,type:"insert",values:r.slice(s,c)}),0<l-s&&e.push({index:s+(c-s),type:"delete",howMany:l-s}),e}}function pi(t,n,r){for(let e=0;e<Math.max(t.length,n.length);e++)if(void 0===t[e]||void 0===n[e]||!r(t[e],n[e]))return e;return-1}function mi(e,t){return e.slice(t).reverse()}function gi(a,s,l){l=l||function(e,t){return e===t};var e=a.length,t=s.length;if(200<e||200<t||300<e+t)return gi.fastDiff(a,s,l,!0);let c,u;if(t<e){const l=a;a=s,s=l,c="delete",u="insert"}else c="insert",u="delete";const d=a.length,h=s.length,n=h-d,f={},p={};function r(e){var t=(void 0!==p[e-1]?p[e-1]:-1)+1,n=void 0!==p[e+1]?p[e+1]:-1,r=n<t?-1:1;f[e+r]&&(f[e]=f[e+r].slice(0)),f[e]||(f[e]=[]),f[e].push(n<t?c:u);let i=Math.max(t,n),o=i-e;for(;o<d&&i<h&&l(a[o],s[i]);)o++,i++,f[e].push("equal");return i}let i,o=0;do{for(i=-o;i<n;i++)p[i]=r(i);for(i=n+o;i>n;i--)p[i]=r(i)}while(p[n]=r(n),o++,p[n]!==h);return f[n].slice(1)}function vi(e,t,n){e.insertBefore(n,e.childNodes[t]||null)}function bi(e){const t=e.parentNode;t&&t.removeChild(e)}function yi(e){if(e){if(e.defaultView)return e instanceof e.defaultView.Document;if(e.ownerDocument&&e.ownerDocument.defaultView)return e instanceof e.ownerDocument.defaultView.Node}return!1}gi.fastDiff=fi;class wi{constructor(e,t){this.domDocuments=new Set,this.domConverter=e,this.markedAttributes=new Set,this.markedChildren=new Set,this.markedTexts=new Set,this.selection=t,this.isFocused=!1,this._inlineFiller=null,this._fakeSelectionContainer=null}markToSync(e,t){if("text"===e)this.domConverter.mapViewToDom(t.parent)&&this.markedTexts.add(t);else if(this.domConverter.mapViewToDom(t))if("attributes"===e)this.markedAttributes.add(t);else{if("children"!==e)throw new h.a("view-renderer-unknown-type",this);this.markedChildren.add(t)}}render(){let e;for(const e of this.markedChildren)this._updateChildrenMappings(e);this._inlineFiller&&!this._isSelectionInInlineFiller()&&this._removeInlineFiller(),this._inlineFiller?e=this._getInlineFillerPosition():this._needsInlineFillerAtSelection()&&(e=this.selection.getFirstPosition(),this.markedChildren.add(e.parent));for(const e of this.markedAttributes)this._updateAttrs(e);for(const r of this.markedChildren)this._updateChildren(r,{inlineFillerPosition:e});for(const i of this.markedTexts)!this.markedChildren.has(i.parent)&&this.domConverter.mapViewToDom(i.parent)&&this._updateText(i,{inlineFillerPosition:e});var t,n;e?(n=(t=this.domConverter.viewPositionToDom(e)).parent.ownerDocument,ci(t.parent)?this._inlineFiller=t.parent:this._inlineFiller=_i(n,t.parent,t.offset)):this._inlineFiller=null,this._updateSelection(),this._updateFocus(),this.markedTexts.clear(),this.markedAttributes.clear(),this.markedChildren.clear()}_updateChildrenMappings(e){const t=this.domConverter.mapViewToDom(e);if(t){const n=this.domConverter.mapViewToDom(e).childNodes,r=Array.from(this.domConverter.viewChildrenToDom(e,t.ownerDocument,{withChildren:!1})),i=this._diffNodeLists(n,r),o=this._findReplaceActions(i,n,r);if(-1!==o.indexOf("replace")){const t={equal:0,insert:0,delete:0};for(const i of o)if("replace"===i){const i=t.equal+t.insert,o=t.equal+t.delete,a=e.getChild(i);!a||a.is("uiElement")||a.is("rawElement")||this._updateElementMappings(a,n[o]),bi(r[i]),t.equal++}else t[i]++}}}_updateElementMappings(e,t){this.domConverter.unbindDomElement(t),this.domConverter.bindElements(t,e),this.markedChildren.add(e),this.markedAttributes.add(e)}_getInlineFillerPosition(){const e=this.selection.getFirstPosition();return e.parent.is("$text")?f._createBefore(this.selection.getFirstPosition().parent):e}_isSelectionInInlineFiller(){var e;return!(1!=this.selection.rangeCount||!this.selection.isCollapsed)&&(e=this.selection.getFirstPosition(),!!((e=this.domConverter.viewPositionToDom(e))&&c(e.parent)&&ci(e.parent)))}_removeInlineFiller(){const e=this._inlineFiller;if(!ci(e))throw new h.a("view-renderer-filler-was-lost",this);ui(e)?e.parentNode.removeChild(e):e.data=e.data.substr(7),this._inlineFiller=null}_needsInlineFillerAtSelection(){if(1!=this.selection.rangeCount||!this.selection.isCollapsed)return!1;const e=this.selection.getFirstPosition(),t=e.parent,n=e.offset;var r,i;return!!this.domConverter.mapViewToDom(t.root)&&(!!t.is("element")&&(!!function(e){if("false"!=e.getAttribute("contenteditable")){const t=e.findAncestor(e=>e.hasAttribute("contenteditable"));return!t||"true"==t.getAttribute("contenteditable")}}(t)&&(n!==t.getFillerOffset()&&(r=e.nodeBefore,i=e.nodeAfter,!(r instanceof s||i instanceof s)))))}_updateText(e,t){const n=this.domConverter.findCorrespondingDomText(e),r=this.domConverter.viewToDom(e,n.ownerDocument),i=n.data;let o=r.data;t=t.inlineFillerPosition;if(i!=(o=t&&t.parent==e.parent&&t.offset==e.index?li+o:o)){const e=fi(i,o);for(const t of e)"insert"===t.type?n.insertData(t.index,t.values.join("")):n.deleteData(t.index,t.howMany)}}_updateAttrs(e){const t=this.domConverter.mapViewToDom(e);if(t){const n=Array.from(t.attributes).map(e=>e.name),r=e.getAttributeKeys();for(const n of r)t.setAttribute(n,e.getAttribute(n));for(const r of n)e.hasAttribute(r)||t.removeAttribute(r)}}_updateChildren(t,n){var r=this.domConverter.mapViewToDom(t);if(r){var n=n.inlineFillerPosition,i=this.domConverter.mapViewToDom(t).childNodes,o=Array.from(this.domConverter.viewChildrenToDom(t,r.ownerDocument,{bind:!0,inlineFillerPosition:n})),n=(n&&n.parent===t&&_i(r.ownerDocument,o,n.offset),this._diffNodeLists(i,o));let e=0;const a=new Set;for(const t of n)"delete"===t?(a.add(i[e]),bi(i[e])):"equal"===t&&e++;e=0;for(const t of n)"insert"===t?(vi(r,e,o[e]),e++):"equal"===t&&(this._markDescendantTextToSync(this.domConverter.domToView(o[e])),e++);for(const t of a)t.parentNode||this.domConverter.unbindDomElement(t)}}_diffNodeLists(e,t){return gi(e=function(e,t){const n=Array.from(e);return 0!=n.length&&t&&n[n.length-1]==t&&n.pop(),n}(e,this._fakeSelectionContainer),t,function(e,t,n){return t===n||(c(t)&&c(n)?t.data===n.data:!(!e.isBlockFiller(t)||!e.isBlockFiller(n)))}.bind(null,this.domConverter))}_findReplaceActions(e,t,n){if(-1===e.indexOf("insert")||-1===e.indexOf("delete"))return e;let r=[],i=[],o=[];const a={equal:0,insert:0,delete:0};for(const s of e)"insert"===s?o.push(n[a.equal+a.insert]):"delete"===s?i.push(t[a.equal+a.delete]):(r=r.concat(gi(i,o,ki).map(e=>"equal"===e?"replace":e)),r.push("equal"),i=[],o=[]),a[s]++;return r.concat(gi(i,o,ki).map(e=>"equal"===e?"replace":e))}_markDescendantTextToSync(e){if(e)if(e.is("$text"))this.markedTexts.add(e);else if(e.is("element"))for(const t of e.getChildren())this._markDescendantTextToSync(t)}_updateSelection(){var e;0===this.selection.rangeCount?(this._removeDomSelection(),this._removeFakeSelection()):(e=this.domConverter.mapViewToDom(this.selection.editableElement),this.isFocused&&e&&(this.selection.isFake?this._updateFakeSelection(e):(this._removeFakeSelection(),this._updateDomSelection(e))))}_updateFakeSelection(e){const t=e.ownerDocument,n=(this._fakeSelectionContainer||(this._fakeSelectionContainer=function(){const e=t.createElement("div");return Object.assign(e.style,{position:"fixed",top:0,left:"-9999px",width:"42px"}),e.textContent="",e}()),this._fakeSelectionContainer);if(this.domConverter.bindFakeSelection(n,this.selection),this._fakeSelectionNeedsUpdate(e)){n.parentElement&&n.parentElement==e||e.appendChild(n),n.textContent=this.selection.fakeSelectionLabel||"";const r=t.getSelection(),i=t.createRange();r.removeAllRanges(),i.selectNodeContents(n),r.addRange(i)}}_updateDomSelection(e){const t=e.ownerDocument.defaultView.getSelection();var n,r;this._domSelectionNeedsUpdate(t)&&(n=this.domConverter.viewPositionToDom(this.selection.anchor),r=this.domConverter.viewPositionToDom(this.selection.focus),e.focus(),t.collapse(n.parent,n.offset),t.extend(r.parent,r.offset),Dr&&(e=r,n=t,(r=e.parent).nodeType==Node.ELEMENT_NODE&&e.offset==r.childNodes.length-1&&(r=r.childNodes[e.offset])&&"BR"==r.tagName&&n.addRange(n.getRangeAt(0))))}_domSelectionNeedsUpdate(e){return!this.domConverter.isDomSelectionCorrect(e)||!((e=e&&this.domConverter.domSelectionToView(e))&&this.selection.isEqual(e)||!this.selection.isCollapsed&&this.selection.isSimilar(e))}_fakeSelectionNeedsUpdate(e){const t=this._fakeSelectionContainer,n=e.ownerDocument.getSelection();return!t||t.parentElement!==e||n.anchorNode!==t&&!t.contains(n.anchorNode)||t.textContent!==this.selection.fakeSelectionLabel}_removeDomSelection(){for(const n of this.domDocuments){var e,t;n.getSelection().rangeCount&&(e=n.activeElement,t=this.domConverter.mapDomToView(e),e&&t&&n.getSelection().removeAllRanges())}}_removeFakeSelection(){const e=this._fakeSelectionContainer;e&&e.remove()}_updateFocus(){var e;this.isFocused&&(e=this.selection.editableElement)&&this.domConverter.focus(e)}}function _i(e,t,n){const r=t instanceof Array?t:t.childNodes,i=r[n];if(c(i))return i.data=li+i.data,i;{const i=e.createTextNode(li);return Array.isArray(t)?r.splice(n,0,i):vi(t,n,i),i}}function ki(e,t){return yi(e)&&yi(t)&&!c(e)&&!c(t)&&e.nodeType!==Node.COMMENT_NODE&&t.nodeType!==Node.COMMENT_NODE&&e.tagName.toLowerCase()===t.tagName.toLowerCase()}a(wi,l);var u={window:window,document:document};function xi(e){let t=0;for(;e.previousSibling;)e=e.previousSibling,t++;return t}function Ci(e){const t=[];for(;e&&e.nodeType!=Node.DOCUMENT_NODE;)t.unshift(e),e=e.parentNode;return t}const Si=si(document);class Ti{constructor(e,t={}){this.document=e,this.blockFillerMode=t.blockFillerMode||"br",this.preElements=["pre"],this.blockElements=["p","div","h1","h2","h3","h4","h5","h6","li","dd","dt","figcaption","td","th"],this._blockFiller="br"==this.blockFillerMode?si:ai,this._domToViewMapping=new WeakMap,this._viewToDomMapping=new WeakMap,this._fakeSelectionMapping=new WeakMap}bindFakeSelection(e,t){this._fakeSelectionMapping.set(e,new Cr(t))}fakeSelectionToView(e){return this._fakeSelectionMapping.get(e)}bindElements(e,t){this._domToViewMapping.set(e,t),this._viewToDomMapping.set(t,e)}unbindDomElement(e){const t=this._domToViewMapping.get(e);if(t){this._domToViewMapping.delete(e),this._viewToDomMapping.delete(t);for(const t of e.childNodes)this.unbindDomElement(t)}}bindDocumentFragments(e,t){this._domToViewMapping.set(e,t),this._viewToDomMapping.set(t,e)}viewToDom(t,n,r={}){if(t.is("$text")){const r=this._processDataFromViewText(t);return n.createTextNode(r)}{if(this.mapViewToDom(t))return this.mapViewToDom(t);let e;if(t.is("documentFragment"))e=n.createDocumentFragment(),r.bind&&this.bindDocumentFragments(e,t);else{if(t.is("uiElement"))return e=t.render(n),r.bind&&this.bindElements(e,t),e;e=t.hasAttribute("xmlns")?n.createElementNS(t.getAttribute("xmlns"),t.name):n.createElement(t.name),t.is("rawElement")&&t.render(e),r.bind&&this.bindElements(e,t);for(const n of t.getAttributeKeys())e.setAttribute(n,t.getAttribute(n))}if(r.withChildren||void 0===r.withChildren)for(const i of this.viewChildrenToDom(t,n,r))e.appendChild(i);return e}}*viewChildrenToDom(e,t,n={}){var r=e.getFillerOffset&&e.getFillerOffset();let i=0;for(const o of e.getChildren())r===i&&(yield this._blockFiller(t)),yield this.viewToDom(o,t,n),i++;r===i&&(yield this._blockFiller(t))}viewRangeToDom(e){const t=this.viewPositionToDom(e.start),n=this.viewPositionToDom(e.end),r=document.createRange();return r.setStart(t.parent,t.offset),r.setEnd(n.parent,n.offset),r}viewPositionToDom(r){const i=r.parent;if(i.is("$text")){var t=this.findCorrespondingDomText(i);if(!t)return null;let e=r.offset;return ci(t)&&(e+=7),{parent:t,offset:e}}{let e,t,n;if(0===r.offset){if(!(e=this.mapViewToDom(i)))return null;n=e.childNodes[0]}else{const i=r.nodeBefore;if(!(t=i.is("$text")?this.findCorrespondingDomText(i):this.mapViewToDom(r.nodeBefore)))return null;e=t.parentNode,n=t.nextSibling}return c(n)&&ci(n)?{parent:n,offset:7}:{parent:e,offset:t?xi(t)+1:0}}}domToView(e,n={}){if(this.isBlockFiller(e,this.blockFillerMode))return null;var r=this.getHostViewElement(e,this._domToViewMapping);if(r)return r;if(c(e)){if(ui(e))return null;{const n=this._processDataFromDomText(e);return""===n?null:new s(this.document,n)}}if(this.isComment(e))return null;{if(this.mapDomToView(e))return this.mapDomToView(e);let t;if(this.isDocumentFragment(e))t=new Xr(this.document),n.bind&&this.bindDocumentFragments(e,t);else{var r=n.keepOriginalCase?e.tagName:e.tagName.toLowerCase(),i=(t=new ir(this.document,r),n.bind&&this.bindElements(e,t),e.attributes);for(let e=i.length-1;0<=e;e--)t._setAttribute(i[e].name,i[e].value)}if(n.withChildren||void 0===n.withChildren)for(const o of this.domChildrenToView(e,n))t._appendChild(o);return t}}*domChildrenToView(t,n={}){for(let e=0;e<t.childNodes.length;e++){var r=t.childNodes[e],r=this.domToView(r,n);null!==r&&(yield r)}}domSelectionToView(t){if(1===t.rangeCount){let e=t.getRangeAt(0).startContainer;c(e)&&(e=e.parentNode);const n=this.fakeSelectionToView(e);if(n)return n}const e=this.isDomSelectionBackward(t),n=[];for(let e=0;e<t.rangeCount;e++){var r=t.getRangeAt(e),r=this.domRangeToView(r);r&&n.push(r)}return new Cr(n,{backward:e})}domRangeToView(e){var t=this.domPositionToView(e.startContainer,e.startOffset),e=this.domPositionToView(e.endContainer,e.endOffset);return t&&e?new m(t,e):null}domPositionToView(t,n){if(this.isBlockFiller(t,this.blockFillerMode))return this.domPositionToView(t.parentNode,xi(t));const r=this.mapDomToView(t);if(r&&(r.is("uiElement")||r.is("rawElement")))return f._createBefore(r);if(c(t)){if(ui(t))return this.domPositionToView(t.parentNode,xi(t));const r=this.findCorrespondingViewText(t);let e=n;return r?(ci(t)&&(e=(e-=7)<0?0:e),new f(r,e)):null}if(0===n){const n=this.mapDomToView(t);if(n)return new f(n,0)}else{const r=t.childNodes[n-1],e=c(r)?this.findCorrespondingViewText(r):this.mapDomToView(r);if(e&&e.parent)return new f(e.parent,e.index+1)}return null}mapDomToView(e){return this.getHostViewElement(e)||this._domToViewMapping.get(e)}findCorrespondingViewText(e){if(!ui(e)){const n=this.getHostViewElement(e);if(n)return n;var t=e.previousSibling;if(t){if(!this.isElement(t))return null;const e=this.mapDomToView(t);if(e)return e.nextSibling instanceof s?e.nextSibling:null}else{const n=this.mapDomToView(e.parentNode);if(n){const e=n.getChild(0);return e instanceof s?e:null}}}return null}mapViewToDom(e){return this._viewToDomMapping.get(e)}findCorrespondingDomText(e){var t=e.previousSibling;return t&&this.mapViewToDom(t)?this.mapViewToDom(t).nextSibling:!t&&e.parent&&this.mapViewToDom(e.parent)?this.mapViewToDom(e.parent).childNodes[0]:null}focus(e){const t=this.mapViewToDom(e);if(t&&t.ownerDocument.activeElement!==t){const{scrollX:e,scrollY:n}=u.window,r=[];Ei(t,e=>{var{scrollLeft:e,scrollTop:t}=e;r.push([e,t])}),t.focus(),Ei(t,e=>{var[t,n]=r.shift();e.scrollLeft=t,e.scrollTop=n}),u.window.scrollTo(e,n)}}isElement(e){return e&&e.nodeType==Node.ELEMENT_NODE}isDocumentFragment(e){return e&&e.nodeType==Node.DOCUMENT_FRAGMENT_NODE}isComment(e){return e&&e.nodeType==Node.COMMENT_NODE}isBlockFiller(e){return"br"==this.blockFillerMode?e.isEqualNode(Si):!("BR"!==e.tagName||!Ai(e,this.blockElements)||1!==e.parentNode.childNodes.length)||(e=e,t=this.blockElements,c(e)&&""==e.data&&Ai(e,t)&&1===e.parentNode.childNodes.length);var t}isDomSelectionBackward(e){if(e.isCollapsed)return!1;const t=document.createRange();t.setStart(e.anchorNode,e.anchorOffset),t.setEnd(e.focusNode,e.focusOffset);e=t.collapsed;return t.detach(),e}getHostViewElement(e){const t=Ci(e);for(t.pop();t.length;){const e=t.pop(),n=this._domToViewMapping.get(e);if(n&&(n.is("uiElement")||n.is("rawElement")))return n}return null}isDomSelectionCorrect(e){return this._isDomSelectionPositionCorrect(e.anchorNode,e.anchorOffset)&&this._isDomSelectionPositionCorrect(e.focusNode,e.focusOffset)}_isDomSelectionPositionCorrect(e,t){if(c(e)&&ci(e)&&t<7)return!1;if(this.isElement(e)&&ci(e.childNodes[t]))return!1;const n=this.mapDomToView(e);return!n||!n.is("uiElement")&&!n.is("rawElement")}_processDataFromViewText(e){let t=e.data;if(e.getAncestors().some(e=>this.preElements.includes(e.name)))return t;var n;if(" "!=t.charAt(0)||((n=this._getTouchingViewTextNode(e,!1))&&this._nodeEndsWithSpace(n)||!n)&&(t=""+t.substr(1))," "==t.charAt(t.length-1)){const r=this._getTouchingViewTextNode(e,!0);" "!=t.charAt(t.length-2)&&r&&" "!=r.data.charAt(0)||(t=t.substr(0,t.length-1)+"")}return t.replace(/ {2}/g," ")}_nodeEndsWithSpace(e){if(e.getAncestors().some(e=>this.preElements.includes(e.name)))return!1;const t=this._processDataFromViewText(e);return" "==t.charAt(t.length-1)}_processDataFromDomText(e){let t=e.data;if($i(e,this.preElements))return di(e);t=t.replace(/[ \n\t\r]{1,}/g," ");const n=this._getTouchingInlineDomNode(e,!1),r=this._getTouchingInlineDomNode(e,!0),i=this._checkShouldLeftTrimDomText(n),o=this._checkShouldRightTrimDomText(e,r);return i&&(t=t.replace(/^ /,"")),o&&(t=t.replace(/ $/,"")),t=(t=di(new Text(t))).replace(/ \u00A0/g,"  "),(/( |\u00A0)\u00A0$/.test(t)||!r||r.data&&" "==r.data.charAt(0))&&(t=t.replace(/\u00A0$/," ")),t=i?t.replace(/^\u00A0/," "):t}_checkShouldLeftTrimDomText(e){return!e||!!Vt(e)||/[^\S\u00A0]/.test(e.data.charAt(e.data.length-1))}_checkShouldRightTrimDomText(e,t){return!t&&!ci(e)}_getTouchingViewTextNode(e,t){t=new _r({startPosition:t?f._createAfter(e):f._createBefore(e),direction:t?"forward":"backward"});for(const e of t){if(e.item.is("containerElement"))return null;if(e.item.is("element","br"))return null;if(e.item.is("$textProxy"))return e.item}return null}_getTouchingInlineDomNode(i,e){if(i.parentNode){const n=e?"nextNode":"previousNode",r=i.ownerDocument,o=Ci(i)[0],a=r.createTreeWalker(o,NodeFilter.SHOW_TEXT|NodeFilter.SHOW_ELEMENT,{acceptNode:e=>c(e)||"BR"==e.tagName?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP});a.currentNode=i;var t=a[n]();if(null!==t){const e=function(e){var t=Ci(i),n=Ci(e);let r=0;for(;t[r]==n[r]&&t[r];)r++;return 0===r?null:t[r-1]}(t);if(e&&!$i(i,this.blockElements,e)&&!$i(t,this.blockElements,e))return t}}return null}}function $i(e,t,n){let r=Ci(e);return(r=n?r.slice(r.indexOf(n)+1):r).some(e=>e.tagName&&t.includes(e.tagName.toLowerCase()))}function Ei(e,t){for(;e&&e!=u.document;)t(e),e=e.parentNode}function Ai(e,t){const n=e.parentNode;return n&&n.tagName&&t.includes(n.tagName.toLowerCase())}function Oi(e){e=Object.prototype.toString.apply(e);return"[object Window]"==e||"[object global]"==e}var Mi=lr({},o,{listenTo(e,...t){if(yi(e)||Oi(e)){const n=this._getProxyEmitter(e)||new Pi(e);n.attach(...t),e=n}o.listenTo.call(this,e,...t)},stopListening(e,t,n){if(yi(e)||Oi(e)){const t=this._getProxyEmitter(e);if(!t)return;e=t}o.stopListening.call(this,e,t,n),e instanceof Pi&&e.detach(t)},_getProxyEmitter(e){return e=Di(e),this[Gt]&&this[Gt][e]?this[Gt][e].emitter:null}});class Pi{constructor(e){Xt(this,Di(e)),this._domNode=e}}function Di(e){return e["data-ck-expando"]||(e["data-ck-expando"]=qt())}lr(Pi.prototype,o,{attach(e,t,n={}){var r;this._domListeners&&this._domListeners[e]||(n={capture:!!n.useCapture,passive:!!n.usePassive},r=this._createDomListener(e,n),this._domNode.addEventListener(e,r,n),this._domListeners||(this._domListeners={}),this._domListeners[e]=r)},detach(e){var t;!this._domListeners[e]||(t=this._events[e])&&t.callbacks.length||this._domListeners[e].removeListener()},_createDomListener(t,e){const n=e=>{this.fire(t,e)};return n.removeListener=()=>{this._domNode.removeEventListener(t,n,e),delete this._domListeners[t]},n}});class Ri{constructor(e){this.view=e,this.document=e.document,this.isEnabled=!1}enable(){this.isEnabled=!0}disable(){this.isEnabled=!1}destroy(){this.disable(),this.stopListening()}checkShouldIgnoreEventFromTarget(e){return!(!(e=e&&3===e.nodeType?e.parentNode:e)||1!==e.nodeType)&&e.matches("[data-cke-ignore-events], [data-cke-ignore-events] *")}}a(Ri,Mi);function Ii(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new _e;++t<n;)this.add(e[t])}Ii.prototype.add=Ii.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},Ii.prototype.has=function(e){return this.__data__.has(e)};function Ni(e,t,n,r,i,o){var a=1&n,s=e.length,l=t.length;if(s!=l&&!(a&&s<l))return!1;if((l=o.get(e))&&o.get(t))return l==t;var c=-1,u=!0,d=2&n?new Fi:void 0;for(o.set(e,t),o.set(t,e);++c<s;){var h,f=e[c],p=t[c];if(void 0!==(h=r?a?r(p,f,c,t,e,o):r(f,p,c,e,t,o):h)){if(h)continue;u=!1;break}if(d){if(!function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}(t,function(e,t){return!d.has(t)&&(f===e||i(f,e,n,r,o))&&d.push(t)})){u=!1;break}}else if(f!==p&&!i(f,p,n,r,o)){u=!1;break}}return o.delete(e),o.delete(t),u}function ji(e){var n=-1,r=Array(e.size);return e.forEach(function(e,t){r[++n]=[t,e]}),r}function Li(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}function Vi(e,t,n,r,i){return e===t||(null==e||null==t||!K(e)&&!K(t)?e!=e&&t!=t:Ui(e,t,n,r,Vi,i))}var Fi=Ii,mt=e?e.prototype:void 0,zi=mt?mt.valueOf:void 0,Bi=Object.prototype.hasOwnProperty,Hi=Object.prototype.hasOwnProperty,Ui=function(e,t,n,r,i,o){var a=Be(e),s=Be(t),l=a?"[object Array]":xt(e),s=s?"[object Array]":xt(t),c="[object Object]"==(l="[object Arguments]"==l?"[object Object]":l),u="[object Object]"==(s="[object Arguments]"==s?"[object Object]":s),s=l==s;if(s&&Object(He.a)(e)){if(!Object(He.a)(t))return!1;c=!(a=!0)}if(s&&!c){o=o||new De;if(a||qe(e))return Ni(e,t,n,r,i,o);else{var d=e;var h=t;a=l;var f=n;var p=r;var m=i;var g=o;switch(a){case"[object DataView]":if(d.byteLength!=h.byteLength||d.byteOffset!=h.byteOffset)return!1;d=d.buffer,h=h.buffer;case"[object ArrayBuffer]":return!(d.byteLength!=h.byteLength||!m(new Tt(d),new Tt(h)));case"[object Boolean]":case"[object Date]":case"[object Number]":return ee(+d,+h);case"[object Error]":return d.name==h.name&&d.message==h.message;case"[object RegExp]":case"[object String]":return d==h+"";case"[object Map]":var v=ji;case"[object Set]":v=v||Li;if(d.size!=h.size&&!(1&f))return!1;var b=g.get(d);if(b)return b==h;f|=2,g.set(d,h);b=Ni(v(d),v(h),f,p,m,g);return g.delete(d),b;case"[object Symbol]":if(zi)return zi.call(d)==zi.call(h)}return!1;return}}if(!(1&n)){l=c&&Hi.call(e,"__wrapped__"),a=u&&Hi.call(t,"__wrapped__");if(l||a)return i(l?e.value():e,a?t.value():t,n,r,o=o||new De)}return!!s&&function(e,t,n,r,i,o){var a=1&n,s=ht(e),l=s.length;if(l!=ht(t).length&&!a)return!1;for(var c=l;c--;){var u=s[c];if(!(a?u in t:Bi.call(t,u)))return!1}var d=o.get(e);if(d&&o.get(t))return d==t;var h=!0;o.set(e,t),o.set(t,e);for(var f,p=a;++c<l;){var m,g=e[u=s[c]],v=t[u];if(!(void 0===(m=r?a?r(v,g,u,t,e,o):r(g,v,u,e,t,o):m)?g===v||i(g,v,n,r,o):m)){h=!1;break}p=p||"constructor"==u}return h&&!p&&(d=e.constructor)!=(f=t.constructor)&&"constructor"in e&&"constructor"in t&&!("function"==typeof d&&d instanceof d&&"function"==typeof f&&f instanceof f)&&(h=!1),o.delete(e),o.delete(t),h}(e,t,n,r,i,o=o||new De)};class Wi extends Ri{constructor(e){super(e),this._config={childList:!0,characterData:!0,characterDataOldValue:!0,subtree:!0},this.domConverter=e.domConverter,this.renderer=e._renderer,this._domElements=[],this._mutationObserver=new window.MutationObserver(this._onMutations.bind(this))}flush(){this._onMutations(this._mutationObserver.takeRecords())}observe(e){this._domElements.push(e),this.isEnabled&&this._mutationObserver.observe(e,this._config)}enable(){super.enable();for(const e of this._domElements)this._mutationObserver.observe(e,this._config)}disable(){super.disable(),this._mutationObserver.disconnect()}destroy(){super.destroy(),this._mutationObserver.disconnect()}_onMutations(t){if(0!==t.length){const s=this.domConverter,l=new Map,c=new Set;for(const l of t)if("childList"===l.type){const t=s.mapDomToView(l.target);if(t&&(t.is("uiElement")||t.is("rawElement")))continue;t&&!this._isBogusBrMutation(l)&&c.add(t)}for(const u of t){const t=s.mapDomToView(u.target);if((!t||!t.is("uiElement")&&!t.is("rawElement"))&&"characterData"===u.type){const t=s.findCorrespondingViewText(u.target);t&&!c.has(t.parent)?l.set(t,{type:"text",oldText:t.data,newText:di(u.target),node:t}):!t&&ci(u.target)&&c.add(s.mapDomToView(u.target.parentNode))}}const u=[];for(const t of l.values())this.renderer.markToSync("text",t.node),u.push(t);for(const t of c){const l=s.mapViewToDom(t),c=Array.from(t.getChildren()),d=Array.from(s.domChildrenToView(l,{withChildren:!1}));n=c,r=d,((o=void 0)===(o=(i="function"==typeof(i=a)?i:void 0)?i(n,r):void 0)?!Vi(n,r,void 0,i):!o)&&(this.renderer.markToSync("children",t),u.push({type:"children",oldChildren:c,newChildren:d,node:t}))}var n,r,i,o;const d=t[0].target.ownerDocument.getSelection();let e=null;if(d&&d.anchorNode){const t=s.domPositionToView(d.anchorNode,d.anchorOffset),l=s.domPositionToView(d.focusNode,d.focusOffset);t&&l&&(e=new Cr(t)).setFocus(l)}function a(e,t){if(!Array.isArray(e))return e===t||!(!e.is("$text")||!t.is("$text"))&&e.data===t.data}u.length&&(this.document.fire("mutations",u,e),this.view.forceRender())}}_isBogusBrMutation(e){let t=null;return(t=null===e.nextSibling&&0===e.removedNodes.length&&1==e.addedNodes.length?this.domConverter.domToView(e.addedNodes[0],{withChildren:!1}):t)&&t.is("element","br")}}class qi{constructor(e,t,n){this.view=e,this.document=e.document,this.domEvent=t,this.domTarget=t.target,lr(this,n)}get target(){return this.view.domConverter.mapDomToView(this.domTarget)}preventDefault(){this.domEvent.preventDefault()}stopPropagation(){this.domEvent.stopPropagation()}}class Yi extends Ri{constructor(e){super(e),this.useCapture=!1}observe(t){("string"==typeof this.domEventType?[this.domEventType]:this.domEventType).forEach(e=>{this.listenTo(t,e,(e,t)=>{this.isEnabled&&!this.checkShouldIgnoreEventFromTarget(t.target)&&this.onDomEvent(t)},{useCapture:this.useCapture})})}fire(e,t,n){this.isEnabled&&this.document.fire(e,new qi(this.view,t,n))}}class Gi extends Yi{constructor(e){super(e),this.domEventType=["keydown","keyup"]}onDomEvent(e){this.fire(e.type,e,{keyCode:e.keyCode,altKey:e.altKey,ctrlKey:e.ctrlKey||e.metaKey,shiftKey:e.shiftKey,get keystroke(){return Lr(this)}})}}function Ki(){return V.a.Date.now()}function Xi(e){if("number"==typeof e)return e;if(vn(e))return NaN;if(w(e)&&(t="function"==typeof e.valueOf?e.valueOf():e,e=w(t)?t+"":t),"string"!=typeof e)return 0===e?e:+e;e=e.replace(Qi,"");var t=eo.test(e);return t||to.test(e)?no(e.slice(2),t?2:8):Zi.test(e)?NaN:+e}function Ji(r,n,e){var i,o,a,s,l,c,u=0,d=!1,h=!1,t=!0;if("function"!=typeof r)throw new TypeError("Expected a function");function f(e){var t=i,n=o;return i=o=void 0,u=e,s=r.apply(n,t)}function p(e){var t=e-c;return void 0===c||n<=t||t<0||h&&a<=e-u}function m(){var e,t=Ki();if(p(t))return g(t);l=setTimeout(m,(e=n-(t-c),h?io(e,a-(t-u)):e))}function g(e){return l=void 0,t&&i?f(e):(i=o=void 0,s)}function v(){var e=Ki(),t=p(e);if(i=arguments,o=this,c=e,t){if(void 0===l)return u=e=c,l=setTimeout(m,n),d?f(e):s;if(h)return clearTimeout(l),l=setTimeout(m,n),f(c)}return void 0===l&&(l=setTimeout(m,n)),s}return n=Xi(n)||0,w(e)&&(d=!!e.leading,a=(h="maxWait"in e)?ro(Xi(e.maxWait)||0,n):a,t="trailing"in e?!!e.trailing:t),v.cancel=function(){void 0!==l&&clearTimeout(l),i=c=o=l=void(u=0)},v.flush=function(){return void 0===l?s:g(Ki())},v}var Qi=/^\s+|\s+$/g,Zi=/^[-+]0x[0-9a-f]+$/i,eo=/^0b[01]+$/i,to=/^0o[0-7]+$/i,no=parseInt,ro=Math.max,io=Math.min;class oo extends Ri{constructor(e){super(e),this._fireSelectionChangeDoneDebounced=Ji(e=>this.document.fire("selectionChangeDone",e),200)}observe(){const n=this.document;n.on("keydown",(e,t)=>{n.selection.isFake&&zr(t.keyCode)&&this.isEnabled&&(t.preventDefault(),this._handleSelectionMove(t.keyCode))},{priority:"lowest"})}destroy(){super.destroy(),this._fireSelectionChangeDoneDebounced.cancel()}_handleSelectionMove(e){const t=this.document.selection,n=new Cr(t.getRanges(),{backward:t.isBackward,fake:!1});e!=g.arrowleft&&e!=g.arrowup||n.setTo(n.getFirstPosition()),e!=g.arrowright&&e!=g.arrowdown||n.setTo(n.getLastPosition());e={oldSelection:t,newSelection:n,domSelection:null};this.document.fire("selectionChange",e),this._fireSelectionChangeDoneDebounced(e)}}class ao extends Ri{constructor(e){super(e),this.mutationObserver=e.getObserver(Wi),this.selection=this.document.selection,this.domConverter=e.domConverter,this._documents=new WeakSet,this._fireSelectionChangeDoneDebounced=Ji(e=>this.document.fire("selectionChangeDone",e),200),this._clearInfiniteLoopInterval=setInterval(()=>this._clearInfiniteLoop(),1e3),this._loopbackCounter=0}observe(e){const n=e.ownerDocument;this._documents.has(n)||(this.listenTo(n,"selectionchange",(e,t)=>{this._handleSelectionChange(t,n)}),this._documents.add(n))}destroy(){super.destroy(),clearInterval(this._clearInfiniteLoopInterval),this._fireSelectionChangeDoneDebounced.cancel()}_handleSelectionChange(e,t){if(this.isEnabled){t=t.defaultView.getSelection();if(!this.checkShouldIgnoreEventFromTarget(t.anchorNode)){this.mutationObserver.flush();var n=this.domConverter.domSelectionToView(t);if(0!=n.rangeCount){if(this.view.hasDomSelection=!0,!(this.selection.isEqual(n)&&this.domConverter.isDomSelectionCorrect(t)||60<++this._loopbackCounter))if(this.selection.isSimilar(n))this.view.forceRender();else{const e={oldSelection:this.selection,newSelection:n,domSelection:t};this.document.fire("selectionChange",e),this._fireSelectionChangeDoneDebounced(e)}}else this.view.hasDomSelection=!1}}}_clearInfiniteLoop(){this._loopbackCounter=0}}class so extends Yi{constructor(r){super(r),this.domEventType=["focus","blur"],this.useCapture=!0;const i=this.document;i.on("focus",()=>{i.isFocused=!0,this._renderTimeoutId=setTimeout(()=>r.forceRender(),50)}),i.on("blur",(e,t)=>{var n=i.selection.editableElement;null!==n&&n!==t.target||(i.isFocused=!1,r.forceRender())})}onDomEvent(e){this.fire(e.type,e)}destroy(){this._renderTimeoutId&&clearTimeout(this._renderTimeoutId),super.destroy()}}class lo extends Yi{constructor(e){super(e),this.domEventType=["compositionstart","compositionupdate","compositionend"];const t=this.document;t.on("compositionstart",()=>{t.isComposing=!0}),t.on("compositionend",()=>{t.isComposing=!1})}onDomEvent(e){this.fire(e.type,e)}}class co extends Yi{constructor(e){super(e),this.domEventType=["beforeinput"]}onDomEvent(e){this.fire(e.type,e)}}function uo(e){return"[object Range]"==Object.prototype.toString.apply(e)}function ho(e){e=e.ownerDocument.defaultView.getComputedStyle(e);return{top:parseInt(e.borderTopWidth,10),right:parseInt(e.borderRightWidth,10),bottom:parseInt(e.borderBottomWidth,10),left:parseInt(e.borderLeftWidth,10)}}const fo=["top","right","bottom","left","width","height"];class v{constructor(e){const t=uo(e);if(Object.defineProperty(this,"_source",{value:e._source||e,writable:!0,enumerable:!1}),Vt(e)||t)if(t){const t=v.getDomRangeRects(e);po(this,v.getBoundingRect(t))}else po(this,e.getBoundingClientRect());else if(Oi(e)){const{innerWidth:t,innerHeight:n}=e;po(this,{top:0,right:t,bottom:n,left:0,width:t,height:n})}else po(this,e)}clone(){return new v(this)}moveTo(e,t){return this.top=t,this.right=e+this.width,this.bottom=t+this.height,this.left=e,this}moveBy(e,t){return this.top+=t,this.right+=e,this.left+=e,this.bottom+=t,this}getIntersection(e){const t={top:Math.max(this.top,e.top),right:Math.min(this.right,e.right),bottom:Math.min(this.bottom,e.bottom),left:Math.max(this.left,e.left)};return t.width=t.right-t.left,t.height=t.bottom-t.top,t.width<0||t.height<0?null:new v(t)}getIntersectionArea(e){const t=this.getIntersection(e);return t?t.getArea():0}getArea(){return this.width*this.height}getVisible(){const t=this._source;let n=this.clone();if(!mo(t)){let e=t.parentNode||t.commonAncestorContainer;for(;e&&!mo(e);){const t=new v(e),r=n.getIntersection(t);if(!r)return null;r.getArea()<n.getArea()&&(n=r),e=e.parentNode}}return n}isEqual(e){for(const t of fo)if(this[t]!==e[t])return!1;return!0}contains(e){const t=this.getIntersection(e);return!(!t||!t.isEqual(e))}excludeScrollbarsAndBorders(){const e=this._source;let t,n,r;var i;return Oi(e)?(t=e.innerWidth-e.document.documentElement.clientWidth,n=e.innerHeight-e.document.documentElement.clientHeight,r=e.getComputedStyle(e.document.documentElement).direction):(i=ho(this._source),t=e.offsetWidth-e.clientWidth-i.left-i.right,n=e.offsetHeight-e.clientHeight-i.top-i.bottom,r=e.ownerDocument.defaultView.getComputedStyle(e).direction,this.left+=i.left,this.top+=i.top,this.right-=i.right,this.bottom-=i.bottom,this.width=this.right-this.left,this.height=this.bottom-this.top),this.width-=t,"ltr"===r?this.right-=t:this.left+=t,this.height-=n,this.bottom-=n,this}static getDomRangeRects(t){const n=[],e=Array.from(t.getClientRects());if(e.length)for(const t of e)n.push(new v(t));else{let e=t.startContainer;c(e)&&(e=e.parentNode);const r=new v(e.getBoundingClientRect());r.right=r.left,r.width=0,n.push(r)}return n}static getBoundingRect(e){const t={left:Number.POSITIVE_INFINITY,top:Number.POSITIVE_INFINITY,right:Number.NEGATIVE_INFINITY,bottom:Number.NEGATIVE_INFINITY};let n=0;for(const r of e)n++,t.left=Math.min(t.left,r.left),t.top=Math.min(t.top,r.top),t.right=Math.max(t.right,r.right),t.bottom=Math.max(t.bottom,r.bottom);return 0==n?null:(t.width=t.right-t.left,t.height=t.bottom-t.top,new v(t))}}function po(e,t){for(const n of fo)e[n]=t[n]}function mo(e){return Vt(e)&&e===e.ownerDocument.body}function go({target:e,viewportOffset:t=0}){var n=ko(e);let r=n,i=null;for(;r;){vo(xo(r==n?e:i),()=>Co(e,r));var o=Co(e,r);if(function(n,r,i){const o=r.clone().moveBy(0,i),a=r.clone().moveBy(0,-i),s=new v(n).excludeScrollbarsAndBorders();if(![a,o].every(e=>s.contains(e))){let{scrollX:e,scrollY:t}=n;yo(a,s)?t-=s.top-r.top+i:bo(o,s)&&(t+=r.bottom-s.bottom+i),wo(r,s)?e-=s.left-r.left+i:_o(r,s)&&(e+=r.right-s.right+i),n.scrollTo(e,t)}}(r,o,t),r.parent!=r){if(i=r.frameElement,r=r.parent,!i)return}else r=null}}function vo(e,t){var n=ko(e);let r,i;for(;e!=n.document.body;)i=t(),(r=new v(e).excludeScrollbarsAndBorders()).contains(i)||(yo(i,r)?e.scrollTop-=r.top-i.top:bo(i,r)&&(e.scrollTop+=i.bottom-r.bottom),wo(i,r)?e.scrollLeft-=r.left-i.left:_o(i,r)&&(e.scrollLeft+=i.right-r.right)),e=e.parentNode}function bo(e,t){return e.bottom>t.bottom}function yo(e,t){return e.top<t.top}function wo(e,t){return e.left<t.left}function _o(e,t){return e.right>t.right}function ko(e){return(uo(e)?e.startContainer:e).ownerDocument.defaultView}function xo(t){if(uo(t)){let e=t.commonAncestorContainer;return e=c(e)?e.parentNode:e}return t.parentNode}function Co(e,t){const n=ko(e),r=new v(e);if(n!==t){let e=n;for(;e!=t;){const t=e.frameElement,n=new v(t).excludeScrollbarsAndBorders();r.moveBy(n.left,n.top),e=e.parent}}return r}Object.assign({},{scrollViewportToShowTarget:go,scrollAncestorsToShowTarget:function(e){vo(xo(e),()=>new v(e))}});class So{constructor(e){this.document=new Tr(e),this.domConverter=new Ti(this.document),this.domRoots=new Map,this.set("isRenderingInProgress",!1),this.set("hasDomSelection",!1),this._renderer=new wi(this.domConverter,this.document.selection),this._renderer.bind("isFocused").to(this.document),this._initialDomRootAttributes=new WeakMap,this._observers=new Map,this._ongoingChange=!1,this._postFixersInProgress=!1,this._renderingDisabled=!1,this._hasChangedSinceTheLastRendering=!1,this._writer=new Jr(this.document),this.addObserver(Wi),this.addObserver(ao),this.addObserver(so),this.addObserver(Gi),this.addObserver(oo),this.addObserver(lo),Ir&&this.addObserver(co),this.document.on("keydown",hi),qr(this),this.on("render",()=>{this._render(),this.document.fire("layoutChanged"),this._hasChangedSinceTheLastRendering=!1}),this.listenTo(this.document.selection,"change",()=>{this._hasChangedSinceTheLastRendering=!0})}attachDomRoot(e,t="main"){const n=this.document.getRoot(t),r=(n._name=e.tagName.toLowerCase(),{});for(const{name:t,value:i}of Array.from(e.attributes))r[t]=i,"class"===t?this._writer.addClass(i.split(" "),n):this._writer.setAttribute(t,i,n);this._initialDomRootAttributes.set(e,r);const i=()=>{this._writer.setAttribute("contenteditable",!n.isReadOnly,n),n.isReadOnly?this._writer.addClass("ck-read-only",n):this._writer.removeClass("ck-read-only",n)};i(),this.domRoots.set(t,e),this.domConverter.bindElements(e,n),this._renderer.markToSync("children",n),this._renderer.markToSync("attributes",n),this._renderer.domDocuments.add(e.ownerDocument),n.on("change:children",(e,t)=>this._renderer.markToSync("children",t)),n.on("change:attributes",(e,t)=>this._renderer.markToSync("attributes",t)),n.on("change:text",(e,t)=>this._renderer.markToSync("text",t)),n.on("change:isReadOnly",()=>this.change(i)),n.on("change",()=>{this._hasChangedSinceTheLastRendering=!0});for(const n of this._observers.values())n.observe(e,t)}detachDomRoot(e){const t=this.domRoots.get(e);Array.from(t.attributes).forEach(({name:e})=>t.removeAttribute(e));var n=this._initialDomRootAttributes.get(t);for(const e in n)t.setAttribute(e,n[e]);this.domRoots.delete(e),this.domConverter.unbindDomElement(t)}getDomRoot(e="main"){return this.domRoots.get(e)}addObserver(e){let t=this._observers.get(e);if(!t){t=new e(this),this._observers.set(e,t);for(const[e,n]of this.domRoots)t.observe(n,e);t.enable()}return t}getObserver(e){return this._observers.get(e)}disableObservers(){for(const e of this._observers.values())e.disable()}enableObservers(){for(const e of this._observers.values())e.enable()}scrollToTheSelection(){var e=this.document.selection.getFirstRange();e&&go({target:this.domConverter.viewRangeToDom(e),viewportOffset:20})}focus(){var e;this.document.isFocused||(e=this.document.selection.editableElement)&&(this.domConverter.focus(e),this.forceRender())}change(e){if(this.isRenderingInProgress||this._postFixersInProgress)throw new h.a("cannot-change-view-tree",this);try{if(this._ongoingChange)return e(this._writer);this._ongoingChange=!0;var t=e(this._writer);return this._ongoingChange=!1,!this._renderingDisabled&&this._hasChangedSinceTheLastRendering&&(this._postFixersInProgress=!0,this.document._callPostFixers(this._writer),this._postFixersInProgress=!1,this.fire("render")),t}catch(e){h.a.rethrowUnexpectedError(e,this)}}forceRender(){this._hasChangedSinceTheLastRendering=!0,this.change(()=>{})}destroy(){for(const e of this._observers.values())e.destroy();this.document.destroy(),this.stopListening()}createPositionAt(e,t){return f._createAt(e,t)}createPositionAfter(e){return f._createAfter(e)}createPositionBefore(e){return f._createBefore(e)}createRange(e,t){return new m(e,t)}createRangeOn(e){return m._createOn(e)}createRangeIn(e){return m._createIn(e)}createSelection(e,t,n){return new Cr(e,t,n)}_disableRendering(e){0==(this._renderingDisabled=e)&&this.change(()=>{})}_render(){this.isRenderingInProgress=!0,this.disableObservers(),this._renderer.render(),this.enableObservers(),this.isRenderingInProgress=!1}}a(So,l);class To{constructor(e){this.parent=null,this._attrs=pn(e)}get index(){var e;if(!this.parent)return null;if(null===(e=this.parent.getChildIndex(this)))throw new h.a("model-node-not-found-in-parent",this);return e}get startOffset(){var e;if(!this.parent)return null;if(null===(e=this.parent.getChildStartOffset(this)))throw new h.a("model-node-not-found-in-parent",this);return e}get offsetSize(){return 1}get endOffset(){return this.parent?this.startOffset+this.offsetSize:null}get nextSibling(){var e=this.index;return null!==e&&this.parent.getChild(e+1)||null}get previousSibling(){var e=this.index;return null!==e&&this.parent.getChild(e-1)||null}get root(){let e=this;for(;e.parent;)e=e.parent;return e}isAttached(){return this.root.is("rootElement")}getPath(){const e=[];let t=this;for(;t.parent;)e.unshift(t.startOffset),t=t.parent;return e}getAncestors(e={includeSelf:!1,parentFirst:!1}){const t=[];let n=e.includeSelf?this:this.parent;for(;n;)t[e.parentFirst?"push":"unshift"](n),n=n.parent;return t}getCommonAncestor(e,t={}){var n=this.getAncestors(t),r=e.getAncestors(t);let i=0;for(;n[i]==r[i]&&n[i];)i++;return 0===i?null:n[i-1]}isBefore(e){if(this==e)return!1;if(this.root!==e.root)return!1;var t=this.getPath(),n=e.getPath(),r=un(t,n);switch(r){case"prefix":return!0;case"extension":return!1;default:return t[r]<n[r]}}isAfter(e){return this!=e&&this.root===e.root&&!this.isBefore(e)}hasAttribute(e){return this._attrs.has(e)}getAttribute(e){return this._attrs.get(e)}getAttributes(){return this._attrs.entries()}getAttributeKeys(){return this._attrs.keys()}toJSON(){const e={};return this._attrs.size&&(e.attributes=Array.from(this._attrs).reduce((e,t)=>(e[t[0]]=t[1],e),{})),e}is(e){return"node"===e||"model:node"===e}_clone(){return new To(this._attrs)}_remove(){this.parent._removeChildren(this.index)}_setAttribute(e,t){this._attrs.set(e,t)}_setAttributesTo(e){this._attrs=pn(e)}_removeAttribute(e){return this._attrs.delete(e)}_clearAttributes(){this._attrs.clear()}}class d extends To{constructor(e,t){super(t),this._data=e||""}get offsetSize(){return this.data.length}get data(){return this._data}is(e){return"$text"===e||"model:$text"===e||"text"===e||"model:text"===e||"node"===e||"model:node"===e}toJSON(){const e=super.toJSON();return e.data=this.data,e}_clone(){return new d(this.data,this.getAttributes())}static fromJSON(e){return new d(e.data,e.attributes)}}class $o{constructor(e,t,n){if(this.textNode=e,t<0||t>e.offsetSize)throw new h.a("model-textproxy-wrong-offsetintext",this);if(n<0||t+n>e.offsetSize)throw new h.a("model-textproxy-wrong-length",this);this.data=e.data.substring(t,t+n),this.offsetInText=t}get startOffset(){return null!==this.textNode.startOffset?this.textNode.startOffset+this.offsetInText:null}get offsetSize(){return this.data.length}get endOffset(){return null!==this.startOffset?this.startOffset+this.offsetSize:null}get isPartial(){return this.offsetSize!==this.textNode.offsetSize}get parent(){return this.textNode.parent}get root(){return this.textNode.root}is(e){return"$textProxy"===e||"model:$textProxy"===e||"textProxy"===e||"model:textProxy"===e}getPath(){const e=this.textNode.getPath();return 0<e.length&&(e[e.length-1]+=this.offsetInText),e}getAncestors(e={includeSelf:!1,parentFirst:!1}){const t=[];let n=e.includeSelf?this:this.parent;for(;n;)t[e.parentFirst?"push":"unshift"](n),n=n.parent;return t}hasAttribute(e){return this.textNode.hasAttribute(e)}getAttribute(e){return this.textNode.getAttribute(e)}getAttributes(){return this.textNode.getAttributes()}getAttributeKeys(){return this.textNode.getAttributeKeys()}}class Eo{constructor(e){this._nodes=[],e&&this._insertNodes(0,e)}[Symbol.iterator](){return this._nodes[Symbol.iterator]()}get length(){return this._nodes.length}get maxOffset(){return this._nodes.reduce((e,t)=>e+t.offsetSize,0)}getNode(e){return this._nodes[e]||null}getNodeIndex(e){e=this._nodes.indexOf(e);return-1==e?null:e}getNodeStartOffset(e){e=this.getNodeIndex(e);return null===e?null:this._nodes.slice(0,e).reduce((e,t)=>e+t.offsetSize,0)}indexToOffset(e){if(e==this._nodes.length)return this.maxOffset;e=this._nodes[e];if(e)return this.getNodeStartOffset(e);throw new h.a("model-nodelist-index-out-of-bounds",this)}offsetToIndex(e){let t=0;for(const n of this._nodes){if(e>=t&&e<t+n.offsetSize)return this.getNodeIndex(n);t+=n.offsetSize}if(t!=e)throw new h.a("model-nodelist-offset-out-of-bounds",this,{offset:e,nodeList:this});return this.length}_insertNodes(e,t){for(const e of t)if(!(e instanceof To))throw new h.a("model-nodelist-insertnodes-not-node",this);this._nodes.splice(e,0,...t)}_removeNodes(e,t=1){return this._nodes.splice(e,t)}toJSON(){return this._nodes.map(e=>e.toJSON())}}class b extends To{constructor(e,t,n){super(t),this.name=e,this._children=new Eo,n&&this._insertChild(0,n)}get childCount(){return this._children.length}get maxOffset(){return this._children.maxOffset}get isEmpty(){return 0===this.childCount}is(e,t=null){return t?t===this.name&&("element"===e||"model:element"===e):"element"===e||"model:element"===e||"node"===e||"model:node"===e}getChild(e){return this._children.getNode(e)}getChildren(){return this._children[Symbol.iterator]()}getChildIndex(e){return this._children.getNodeIndex(e)}getChildStartOffset(e){return this._children.getNodeStartOffset(e)}offsetToIndex(e){return this._children.offsetToIndex(e)}getNodeByPath(e){let t=this;for(const n of e)t=t.getChild(t.offsetToIndex(n));return t}findAncestor(e,t={includeSelf:!1}){let n=t.includeSelf?this:this.parent;for(;n;){if(n.name===e)return n;n=n.parent}return null}toJSON(){const e=super.toJSON();if(e.name=this.name,0<this._children.length){e.children=[];for(const t of this._children)e.children.push(t.toJSON())}return e}_clone(e=!1){e=e?Array.from(this._children).map(e=>e._clone(!0)):null;return new b(this.name,this.getAttributes(),e)}_appendChild(e){this._insertChild(this.childCount,e)}_insertChild(e,t){t="string"==typeof(t=t)?[new d(t)]:(nn(t)||(t=[t]),Array.from(t).map(e=>"string"==typeof e?new d(e):e instanceof $o?new d(e.data,e.getAttributes()):e));for(const e of t)null!==e.parent&&e._remove(),e.parent=this;this._children._insertNodes(e,t)}_removeChildren(e,t=1){t=this._children._removeNodes(e,t);for(const e of t)e.parent=null;return t}static fromJSON(e){let t=null;if(e.children){t=[];for(const n of e.children)n.name?t.push(b.fromJSON(n)):t.push(d.fromJSON(n))}return new b(e.name,e.attributes,t)}}class Ao{constructor(e={}){if(!e.boundaries&&!e.startPosition)throw new h.a("model-tree-walker-no-start-position",null);var t=e.direction||"forward";if("forward"!=t&&"backward"!=t)throw new h.a("model-tree-walker-unknown-direction",e,{direction:t});this.direction=t,this.boundaries=e.boundaries||null,e.startPosition?this.position=e.startPosition.clone():this.position=y._createAt(this.boundaries["backward"==this.direction?"end":"start"]),this.position.stickiness="toNone",this.singleCharacters=!!e.singleCharacters,this.shallow=!!e.shallow,this.ignoreElementEnd=!!e.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null,this._visitedParent=this.position.parent}[Symbol.iterator](){return this}skip(e){let t,n,r,i;for(;r=this.position,i=this._visitedParent,{done:t,value:n}=this.next(),!t&&e(n););t||(this.position=r,this._visitedParent=i)}next(){return"forward"==this.direction?this._next():this._previous()}_next(){const e=this.position,n=this.position.clone(),r=this._visitedParent;if(null===r.parent&&n.offset===r.maxOffset)return{done:!0};if(r===this._boundaryEndParent&&n.offset==this.boundaries.end.offset)return{done:!0};const t=n.parent,i=Mo(n,t),o=i||Po(n,t,i);if(o instanceof b)return this.shallow?n.offset++:(n.path.push(0),this._visitedParent=o),Oo("elementStart",o,e,this.position=n,1);if(o instanceof d){let t;if(this.singleCharacters)t=1;else{let e=o.endOffset;this._boundaryEndParent==r&&this.boundaries.end.offset<e&&(e=this.boundaries.end.offset),t=e-n.offset}const i=n.offset-o.startOffset,a=new $o(o,i,t);return n.offset+=t,Oo("text",a,e,this.position=n,t)}return n.path.pop(),n.offset++,this.position=n,this._visitedParent=r.parent,this.ignoreElementEnd?this._next():Oo("elementEnd",r,e,n)}_previous(){const e=this.position,n=this.position.clone(),r=this._visitedParent;if(null===r.parent&&0===n.offset)return{done:!0};if(r==this._boundaryStartParent&&n.offset==this.boundaries.start.offset)return{done:!0};const t=n.parent,i=Mo(n,t),o=i||Do(n,t,i);if(o instanceof b)return n.offset--,this.shallow?Oo("elementStart",o,e,this.position=n,1):(n.path.push(o.maxOffset),this.position=n,this._visitedParent=o,this.ignoreElementEnd?this._previous():Oo("elementEnd",o,e,n));if(o instanceof d){let t;if(this.singleCharacters)t=1;else{let e=o.startOffset;this._boundaryStartParent==r&&this.boundaries.start.offset>e&&(e=this.boundaries.start.offset),t=n.offset-e}const i=n.offset-o.startOffset,a=new $o(o,i-t,t);return n.offset-=t,Oo("text",a,e,this.position=n,t)}return n.path.pop(),this.position=n,this._visitedParent=r.parent,Oo("elementStart",r,e,n,1)}}function Oo(e,t,n,r,i){return{done:!1,value:{type:e,item:t,previousPosition:n,nextPosition:r,length:i}}}class y{constructor(e,t,n="toNone"){if(!e.is("element")&&!e.is("documentFragment"))throw new h.a("model-position-root-invalid",e);if(!(t instanceof Array)||0===t.length)throw new h.a("model-position-path-incorrect-format",e,{path:t});e.is("rootElement")?t=t.slice():(t=[...e.getPath(),...t],e=e.root),this.root=e,this.path=t,this.stickiness=n}get offset(){return this.path[this.path.length-1]}set offset(e){this.path[this.path.length-1]=e}get parent(){let t=this.root;for(let e=0;e<this.path.length-1;e++)if(!(t=t.getChild(t.offsetToIndex(this.path[e]))))throw new h.a("model-position-path-incorrect",this,{position:this});if(t.is("$text"))throw new h.a("model-position-path-incorrect",this,{position:this});return t}get index(){return this.parent.offsetToIndex(this.offset)}get textNode(){return Mo(this,this.parent)}get nodeAfter(){var e=this.parent;return Po(this,e,Mo(this,e))}get nodeBefore(){var e=this.parent;return Do(this,e,Mo(this,e))}get isAtStart(){return 0===this.offset}get isAtEnd(){return this.offset==this.parent.maxOffset}compareWith(e){if(this.root!=e.root)return"different";var t=un(this.path,e.path);switch(t){case"same":return"same";case"prefix":return"before";case"extension":return"after";default:return this.path[t]<e.path[t]?"before":"after"}}getLastMatchingPosition(e,t={}){t.startPosition=this;const n=new Ao(t);return n.skip(e),n.position}getParentPath(){return this.path.slice(0,-1)}getAncestors(){const e=this.parent;return e.is("documentFragment")?[e]:e.getAncestors({includeSelf:!0})}findAncestor(e){const t=this.parent;return t.is("element")?t.findAncestor(e,{includeSelf:!0}):null}getCommonPath(e){var t;return this.root!=e.root?[]:(e="string"==typeof(t=un(this.path,e.path))?Math.min(this.path.length,e.path.length):t,this.path.slice(0,e))}getCommonAncestor(e){var t=this.getAncestors(),n=e.getAncestors();let r=0;for(;t[r]==n[r]&&t[r];)r++;return 0===r?null:t[r-1]}getShiftedBy(e){const t=this.clone(),n=t.offset+e;return t.offset=n<0?0:n,t}isAfter(e){return"after"==this.compareWith(e)}isBefore(e){return"before"==this.compareWith(e)}isEqual(e){return"same"==this.compareWith(e)}isTouching(e){let t=null,n=null;switch(this.compareWith(e)){case"same":return!0;case"before":t=y._createAt(this),n=y._createAt(e);break;case"after":t=y._createAt(e),n=y._createAt(this);break;default:return!1}let r=t.parent;for(;t.path.length+n.path.length;){if(t.isEqual(n))return!0;if(t.path.length>n.path.length){if(t.offset!==r.maxOffset)return!1;t.path=t.path.slice(0,-1),r=r.parent,t.offset++}else{if(0!==n.offset)return!1;n.path=n.path.slice(0,-1)}}}is(e){return"position"===e||"model:position"===e}hasSameParentAs(e){return this.root===e.root&&"same"==un(this.getParentPath(),e.getParentPath())}getTransformedByOperation(e){let t;switch(e.type){case"insert":t=this._getTransformedByInsertOperation(e);break;case"move":case"remove":case"reinsert":t=this._getTransformedByMoveOperation(e);break;case"split":t=this._getTransformedBySplitOperation(e);break;case"merge":t=this._getTransformedByMergeOperation(e);break;default:t=y._createAt(this)}return t}_getTransformedByInsertOperation(e){return this._getTransformedByInsertion(e.position,e.howMany)}_getTransformedByMoveOperation(e){return this._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany)}_getTransformedBySplitOperation(e){const t=e.movedRange;return t.containsPosition(this)||t.start.isEqual(this)&&"toNext"==this.stickiness?this._getCombined(e.splitPosition,e.moveTargetPosition):e.graveyardPosition?this._getTransformedByMove(e.graveyardPosition,e.insertionPosition,1):this._getTransformedByInsertion(e.insertionPosition,1)}_getTransformedByMergeOperation(e){const t=e.movedRange;let n;return t.containsPosition(this)||t.start.isEqual(this)?(n=this._getCombined(e.sourcePosition,e.targetPosition),e.sourcePosition.isBefore(e.targetPosition)&&(n=n._getTransformedByDeletion(e.deletionPosition,1))):n=this.isEqual(e.deletionPosition)?y._createAt(e.deletionPosition):this._getTransformedByMove(e.deletionPosition,e.graveyardPosition,1),n}_getTransformedByDeletion(e,t){const n=y._createAt(this);if(this.root==e.root)if("same"==un(e.getParentPath(),this.getParentPath())){if(e.offset<this.offset){if(e.offset+t>this.offset)return null;n.offset-=t}}else if("prefix"==un(e.getParentPath(),this.getParentPath())){var r=e.path.length-1;if(e.offset<=this.path[r]){if(e.offset+t>this.path[r])return null;n.path[r]-=t}}return n}_getTransformedByInsertion(e,t){const n=y._createAt(this);var r;return this.root==e.root&&("same"==un(e.getParentPath(),this.getParentPath())?(e.offset<this.offset||e.offset==this.offset&&"toPrevious"!=this.stickiness)&&(n.offset+=t):"prefix"==un(e.getParentPath(),this.getParentPath())&&(r=e.path.length-1,e.offset<=this.path[r]&&(n.path[r]+=t))),n}_getTransformedByMove(e,t,n){if(t=t._getTransformedByDeletion(e,n),e.isEqual(t))return y._createAt(this);const r=this._getTransformedByDeletion(e,n);return null===r||e.isEqual(this)&&"toNext"==this.stickiness||e.getShiftedBy(n).isEqual(this)&&"toPrevious"==this.stickiness?this._getCombined(e,t):r._getTransformedByInsertion(t,n)}_getCombined(e,t){const n=e.path.length-1,r=y._createAt(t);return r.stickiness=this.stickiness,r.offset=r.offset+this.path[n]-e.offset,r.path=[...r.path,...this.path.slice(1+n)],r}toJSON(){return{root:this.root.toJSON(),path:Array.from(this.path),stickiness:this.stickiness}}clone(){return new this.constructor(this.root,this.path,this.stickiness)}static _createAt(e,t,n="toNone"){if(e instanceof y)return new y(e.root,e.path,e.stickiness);{const r=e;if("end"==t)t=r.maxOffset;else{if("before"==t)return this._createBefore(r,n);if("after"==t)return this._createAfter(r,n);if(0!==t&&!t)throw new h.a("model-createpositionat-offset-required",[this,e])}if(!r.is("element")&&!r.is("documentFragment"))throw new h.a("model-position-parent-incorrect",[this,e]);const i=r.getPath();return i.push(t),new this(r.root,i,n)}}static _createAfter(e,t){if(e.parent)return this._createAt(e.parent,e.endOffset,t);throw new h.a("model-position-after-root",[this,e],{root:e})}static _createBefore(e,t){if(e.parent)return this._createAt(e.parent,e.startOffset,t);throw new h.a("model-position-before-root",e,{root:e})}static fromJSON(e,t){if("$graveyard"===e.root){const n=new y(t.graveyard,e.path);return n.stickiness=e.stickiness,n}if(t.getRoot(e.root))return new y(t.getRoot(e.root),e.path,e.stickiness);throw new h.a("model-position-fromjson-no-root",t,{rootName:e.root})}}function Mo(e,t){const n=t.getChild(t.offsetToIndex(e.offset));return n&&n.is("$text")&&n.startOffset<e.offset?n:null}function Po(e,t,n){return null!==n?null:t.getChild(t.offsetToIndex(e.offset))}function Do(e,t,n){return null!==n?null:t.getChild(t.offsetToIndex(e.offset)-1)}class _{constructor(e,t=null){this.start=y._createAt(e),this.end=t?y._createAt(t):y._createAt(e),this.start.stickiness=this.isCollapsed?"toNone":"toNext",this.end.stickiness=this.isCollapsed?"toNone":"toPrevious"}*[Symbol.iterator](){yield*new Ao({boundaries:this,ignoreElementEnd:!0})}get isCollapsed(){return this.start.isEqual(this.end)}get isFlat(){return"same"==un(this.start.getParentPath(),this.end.getParentPath())}get root(){return this.start.root}containsPosition(e){return e.isAfter(this.start)&&e.isBefore(this.end)}containsRange(e,t=!1){e.isCollapsed&&(t=!1);var n=this.containsPosition(e.start)||t&&this.start.isEqual(e.start),t=this.containsPosition(e.end)||t&&this.end.isEqual(e.end);return n&&t}containsItem(e){e=y._createBefore(e);return this.containsPosition(e)||this.start.isEqual(e)}is(e){return"range"===e||"model:range"===e}isEqual(e){return this.start.isEqual(e.start)&&this.end.isEqual(e.end)}isIntersecting(e){return this.start.isBefore(e.end)&&this.end.isAfter(e.start)}getDifference(e){const t=[];return this.isIntersecting(e)?(this.containsPosition(e.start)&&t.push(new _(this.start,e.start)),this.containsPosition(e.end)&&t.push(new _(e.end,this.end))):t.push(new _(this.start,this.end)),t}getIntersection(n){if(this.isIntersecting(n)){let e=this.start,t=this.end;return this.containsPosition(n.start)&&(e=n.start),this.containsPosition(n.end)&&(t=n.end),new _(e,t)}return null}getJoined(e,t=!1){let n=this.isIntersecting(e);if(!(n=n||(this.start.isBefore(e.start)?t?this.end.isTouching(e.start):this.end.isEqual(e.start):t?e.end.isTouching(this.start):e.end.isEqual(this.start))))return null;let r=this.start,i=this.end;return e.start.isBefore(r)&&(r=e.start),e.end.isAfter(i)&&(i=e.end),new _(r,i)}getMinimalFlatRanges(){const e=[],t=this.start.getCommonPath(this.end).length,n=y._createAt(this.start);let r=n.parent;for(;n.path.length>t+1;){const t=r.maxOffset-n.offset;0!=t&&e.push(new _(n,n.getShiftedBy(t))),n.path=n.path.slice(0,-1),n.offset++,r=r.parent}for(;n.path.length<=this.end.path.length;){const t=this.end.path[n.path.length-1],r=t-n.offset;0!=r&&e.push(new _(n,n.getShiftedBy(r))),n.offset=t,n.path.push(0)}return e}getWalker(e={}){return e.boundaries=this,new Ao(e)}*getItems(e={}){e.boundaries=this,e.ignoreElementEnd=!0;var t=new Ao(e);for(const e of t)yield e.item}*getPositions(e={}){e.boundaries=this;var t=new Ao(e);yield t.position;for(const e of t)yield e.nextPosition}getTransformedByOperation(e){switch(e.type){case"insert":return this._getTransformedByInsertOperation(e);case"move":case"remove":case"reinsert":return this._getTransformedByMoveOperation(e);case"split":return[this._getTransformedBySplitOperation(e)];case"merge":return[this._getTransformedByMergeOperation(e)]}return[new _(this.start,this.end)]}getTransformedByOperations(n){const r=[new _(this.start,this.end)];for(const i of n)for(let e=0;e<r.length;e++){var t=r[e].getTransformedByOperation(i);r.splice(e,1,...t),e+=t.length-1}for(let t=0;t<r.length;t++){const o=r[t];for(let e=t+1;e<r.length;e++){const n=r[e];(o.containsRange(n)||n.containsRange(o)||o.isEqual(n))&&r.splice(e,1)}}return r}getCommonAncestor(){return this.start.getCommonAncestor(this.end)}getContainedElement(){if(this.isCollapsed)return null;const e=this.start.nodeAfter,t=this.end.nodeBefore;return e&&e.is("element")&&e===t?e:null}toJSON(){return{start:this.start.toJSON(),end:this.end.toJSON()}}clone(){return new this.constructor(this.start,this.end)}_getTransformedByInsertOperation(e,t=!1){return this._getTransformedByInsertion(e.position,e.howMany,t)}_getTransformedByMoveOperation(e,t=!1){var n=e.sourcePosition,r=e.howMany,e=e.targetPosition;return this._getTransformedByMove(n,e,r,t)}_getTransformedBySplitOperation(e){var t=this.start._getTransformedBySplitOperation(e);let n=this.end._getTransformedBySplitOperation(e);return this.end.isEqual(e.insertionPosition)&&(n=this.end.getShiftedBy(1)),t.root!=n.root&&(n=this.end.getShiftedBy(-1)),new _(t,n)}_getTransformedByMergeOperation(e){if(this.start.isEqual(e.targetPosition)&&this.end.isEqual(e.deletionPosition))return new _(this.start);let t=this.start._getTransformedByMergeOperation(e),n=this.end._getTransformedByMergeOperation(e);return t.root!=n.root&&(n=this.end.getShiftedBy(-1)),t.isAfter(n)&&(e.sourcePosition.isBefore(e.targetPosition)?(t=y._createAt(n)).offset=0:(e.deletionPosition.isEqual(t)||(n=e.deletionPosition),t=e.targetPosition)),new _(t,n)}_getTransformedByInsertion(e,t,n=!1){if(n&&this.containsPosition(e))return[new _(this.start,e),new _(e.getShiftedBy(t),this.end._getTransformedByInsertion(e,t))];{const n=new _(this.start,this.end);return n.start=n.start._getTransformedByInsertion(e,t),n.end=n.end._getTransformedByInsertion(e,t),[n]}}_getTransformedByMove(e,t,n,r=!1){if(this.isCollapsed){const r=this.start._getTransformedByMove(e,t,n);return[new _(r)]}const i=_._createFromPositionAndShift(e,n),o=t._getTransformedByDeletion(e,n);if(this.containsPosition(t)&&!r&&(i.containsPosition(this.start)||i.containsPosition(this.end))){const r=this.start._getTransformedByMove(e,t,n),i=this.end._getTransformedByMove(e,t,n);return[new _(r,i)]}let a;const s=this.getDifference(i);let l=null;const c=this.getIntersection(i);if(1==s.length?l=new _(s[0].start._getTransformedByDeletion(e,n),s[0].end._getTransformedByDeletion(e,n)):2==s.length&&(l=new _(this.start,this.end._getTransformedByDeletion(e,n))),a=l?l._getTransformedByInsertion(o,n,null!==c||r):[],c){const e=new _(c.start._getCombined(i.start,o),c.end._getCombined(i.start,o));2==a.length?a.splice(1,0,e):a.push(e)}return a}_getTransformedByDeletion(e,t){let n=this.start._getTransformedByDeletion(e,t),r=this.end._getTransformedByDeletion(e,t);return null==n&&null==r?null:(null==n&&(n=e),null==r&&(r=e),new _(n,r))}static _createFromPositionAndShift(e,t){var n=e,e=e.getShiftedBy(t);return 0<t?new this(n,e):new this(e,n)}static _createIn(e){return new this(y._createAt(e,0),y._createAt(e,e.maxOffset))}static _createOn(e){return this._createFromPositionAndShift(y._createBefore(e),e.offsetSize)}static _createFromRanges(t){if(0===t.length)throw new h.a("range-create-from-ranges-empty-array",null);if(1==t.length)return t[0].clone();var e=t[0];t.sort((e,t)=>e.start.isAfter(t.start)?1:-1);const n=t.indexOf(e),r=new this(e.start,e.end);if(0<n)for(let e=n-1;t[e].end.isEqual(r.start);e++)r.start=y._createAt(t[e].start);for(let e=n+1;e<t.length&&t[e].start.isEqual(r.end);e++)r.end=y._createAt(t[e].end);return r}static fromJSON(e,t){return new this(y.fromJSON(e.start,t),y.fromJSON(e.end,t))}}class Ro{constructor(){this._modelToViewMapping=new WeakMap,this._viewToModelMapping=new WeakMap,this._viewToModelLengthCallbacks=new Map,this._markerNameToElements=new Map,this._elementToMarkerNames=new Map,this._unboundMarkerNames=new Set,this.on("modelToViewPosition",(e,t)=>{var n;t.viewPosition||(n=this._modelToViewMapping.get(t.modelPosition.parent),t.viewPosition=this.findPositionIn(n,t.modelPosition.offset))},{priority:"low"}),this.on("viewToModelPosition",(e,t)=>{var n,r;t.modelPosition||(r=this.findMappedViewAncestor(t.viewPosition),n=this._viewToModelMapping.get(r),r=this._toModelOffset(t.viewPosition.parent,t.viewPosition.offset,r),t.modelPosition=y._createAt(n,r))},{priority:"low"})}bindElements(e,t){this._modelToViewMapping.set(e,t),this._viewToModelMapping.set(t,e)}unbindViewElement(e){const t=this.toModelElement(e);if(this._viewToModelMapping.delete(e),this._elementToMarkerNames.has(e))for(const t of this._elementToMarkerNames.get(e))this._unboundMarkerNames.add(t);this._modelToViewMapping.get(t)==e&&this._modelToViewMapping.delete(t)}unbindModelElement(e){var t=this.toViewElement(e);this._modelToViewMapping.delete(e),this._viewToModelMapping.get(t)==e&&this._viewToModelMapping.delete(t)}bindElementToMarker(e,t){const n=this._markerNameToElements.get(t)||new Set,r=(n.add(e),this._elementToMarkerNames.get(e)||new Set);r.add(t),this._markerNameToElements.set(t,n),this._elementToMarkerNames.set(e,r)}unbindElementFromMarkerName(e,t){const n=this._markerNameToElements.get(t),r=(n&&(n.delete(e),0==n.size&&this._markerNameToElements.delete(t)),this._elementToMarkerNames.get(e));r&&(r.delete(t),0==r.size&&this._elementToMarkerNames.delete(e))}flushUnboundMarkerNames(){var e=Array.from(this._unboundMarkerNames);return this._unboundMarkerNames.clear(),e}clearBindings(){this._modelToViewMapping=new WeakMap,this._viewToModelMapping=new WeakMap,this._markerNameToElements=new Map,this._elementToMarkerNames=new Map,this._unboundMarkerNames=new Set}toModelElement(e){return this._viewToModelMapping.get(e)}toViewElement(e){return this._modelToViewMapping.get(e)}toModelRange(e){return new _(this.toModelPosition(e.start),this.toModelPosition(e.end))}toViewRange(e){return new m(this.toViewPosition(e.start),this.toViewPosition(e.end))}toModelPosition(e){e={viewPosition:e,mapper:this};return this.fire("viewToModelPosition",e),e.modelPosition}toViewPosition(e,t={isPhantom:!1}){e={modelPosition:e,mapper:this,isPhantom:t.isPhantom};return this.fire("modelToViewPosition",e),e.viewPosition}markerNameToElements(e){const t=this._markerNameToElements.get(e);if(!t)return null;const n=new Set;for(const e of t)if(e.is("attributeElement"))for(const t of e.getElementsWithSameId())n.add(t);else n.add(e);return n}registerViewToModelLength(e,t){this._viewToModelLengthCallbacks.set(e,t)}findMappedViewAncestor(e){let t=e.parent;for(;!this._viewToModelMapping.has(t);)t=t.parent;return t}_toModelOffset(t,n,e){if(e!=t)return this._toModelOffset(t.parent,t.index,e)+this._toModelOffset(t,n,t);if(t.is("$text"))return n;let r=0;for(let e=0;e<n;e++)r+=this.getModelLength(t.getChild(e));return r}getModelLength(t){if(this._viewToModelLengthCallbacks.get(t.name))return this._viewToModelLengthCallbacks.get(t.name)(t);if(this._viewToModelMapping.has(t))return 1;if(t.is("$text"))return t.data.length;if(t.is("uiElement"))return 0;{let e=0;for(const n of t.getChildren())e+=this.getModelLength(n);return e}}findPositionIn(e,t){let n,r=0,i=0,o=0;if(e.is("$text"))return new f(e,t);for(;i<t;)n=e.getChild(o),r=this.getModelLength(n),i+=r,o++;return i==t?this._moveViewPositionToTextNode(new f(e,o)):this.findPositionIn(n,t-(i-r))}_moveViewPositionToTextNode(e){var t=e.nodeBefore,n=e.nodeAfter;return t instanceof s?new f(t,t.data.length):n instanceof s?new f(n,0):e}}a(Ro,o);class Io{constructor(){this._consumable=new Map,this._textProxyRegistry=new Map}add(e,t){t=No(t),e instanceof $o&&(e=this._getSymbolForTextProxy(e)),this._consumable.has(e)||this._consumable.set(e,new Map),this._consumable.get(e).set(t,!0)}consume(e,t){return t=No(t),e instanceof $o&&(e=this._getSymbolForTextProxy(e)),!!this.test(e,t)&&(this._consumable.get(e).set(t,!1),!0)}test(e,t){t=No(t),e instanceof $o&&(e=this._getSymbolForTextProxy(e));const n=this._consumable.get(e);return void 0===n||void 0===(e=n.get(t))?null:e}revert(e,t){t=No(t),e instanceof $o&&(e=this._getSymbolForTextProxy(e));var n=this.test(e,t);return!1===n?(this._consumable.get(e).set(t,!0),!0):!0!==n&&null}_getSymbolForTextProxy(e){let t=null;const n=this._textProxyRegistry.get(e.startOffset);if(n){const r=n.get(e.endOffset);r&&(t=r.get(e.parent))}return t=t||this._addSymbolForTextProxy(e.startOffset,e.endOffset,e.parent)}_addSymbolForTextProxy(e,t,n){var r=Symbol("textProxySymbol");let i,o;return(i=this._textProxyRegistry.get(e))||(i=new Map,this._textProxyRegistry.set(e,i)),(o=i.get(t))||(o=new Map,i.set(t,o)),o.set(n,r),r}}function No(e){e=e.split(":");return 1<e.length?e[0]+":"+e[1]:e[0]}class jo{constructor(e){this.conversionApi=Object.assign({dispatcher:this},e),this._reconversionEventsMapping=new Map}convertChanges(e,t,n){for(const t of e.getMarkersToRemove())this.convertMarkerRemove(t.name,t.range,n);const r=this._mapChangesWithAutomaticReconversion(e);for(const e of r)"insert"===e.type?this.convertInsert(_._createFromPositionAndShift(e.position,e.length),n):"remove"===e.type?this.convertRemove(e.position,e.length,e.name,n):"reconvert"===e.type?this.reconvertElement(e.element,n):this.convertAttribute(e.range,e.attributeKey,e.attributeOldValue,e.attributeNewValue,n);for(const e of this.conversionApi.mapper.flushUnboundMarkerNames()){const r=t.get(e).getRange();this.convertMarkerRemove(e,r,n),this.convertMarkerAdd(e,r,n)}for(const t of e.getMarkersToAdd())this.convertMarkerAdd(t.name,t.range,n)}convertInsert(e,t){this.conversionApi.writer=t,this.conversionApi.consumable=this._createInsertConsumable(e);for(const t of Array.from(e).map(Lo))this._convertInsertWithAttributes(t);this._clearConversionApi()}convertRemove(e,t,n,r){this.conversionApi.writer=r,this.fire("remove:"+n,{position:e,length:t},this.conversionApi),this._clearConversionApi()}convertAttribute(e,t,n,r,i){this.conversionApi.writer=i,this.conversionApi.consumable=this._createConsumableForRange(e,"attribute:"+t);for(const i of e){const e={item:i.item,range:_._createFromPositionAndShift(i.previousPosition,i.length),attributeKey:t,attributeOldValue:n,attributeNewValue:r};this._testAndFire("attribute:"+t,e)}this._clearConversionApi()}reconvertElement(e,t){const n=_._createOn(e),r=(this.conversionApi.writer=t,this.conversionApi.consumable=this._createInsertConsumable(n),this.conversionApi.mapper),i=r.toViewElement(e);t.remove(i),this._convertInsertWithAttributes({item:e,range:n});var o=r.toViewElement(e);for(const n of _._createIn(e)){const e=n["item"],i=function(e,t){if(e.is("textProxy")){const n=t.toViewPosition(y._createBefore(e)).parent;return n.is("$text")?n:null}return t.toViewElement(e)}(e,r);i?i.root!==o.root&&t.move(t.createRangeOn(i),r.toViewPosition(y._createBefore(e))):this._convertInsertWithAttributes(Lo(n))}r.unbindViewElement(i),this._clearConversionApi()}convertSelection(e,t,n){const r=Array.from(t.getMarkersAtPosition(e.getFirstPosition()));if(this.conversionApi.writer=n,this.conversionApi.consumable=this._createSelectionConsumable(e,r),this.fire("selection",{selection:e},this.conversionApi),e.isCollapsed){for(const t of r){const n=t.getRange();if(function(e,t,n){const r=t.getRange(),i=Array.from(e.getAncestors());return i.shift(),i.reverse(),!i.some(e=>{if(r.containsItem(e))return!!n.toViewElement(e).getCustomProperty("addHighlight")})}(e.getFirstPosition(),t,this.conversionApi.mapper)){const r={item:e,markerName:t.name,markerRange:n};this.conversionApi.consumable.test(e,"addMarker:"+t.name)&&this.fire("addMarker:"+t.name,r,this.conversionApi)}}for(const t of e.getAttributeKeys()){const n={item:e,range:e.getFirstRange(),attributeKey:t,attributeOldValue:null,attributeNewValue:e.getAttribute(t)};this.conversionApi.consumable.test(e,"attribute:"+n.attributeKey)&&this.fire("attribute:"+n.attributeKey+":$text",n,this.conversionApi)}this._clearConversionApi()}}convertMarkerAdd(e,t,n){if(t.root.document&&"$graveyard"!=t.root.rootName){this.conversionApi.writer=n;const r="addMarker:"+e,i=new Io;if(i.add(t,r),this.conversionApi.consumable=i,this.fire(r,{markerName:e,markerRange:t},this.conversionApi),i.test(t,r)){this.conversionApi.consumable=this._createConsumableForRange(t,r);for(const n of t.getItems())if(this.conversionApi.consumable.test(n,r)){const i={item:n,range:_._createOn(n),markerName:e,markerRange:t};this.fire(r,i,this.conversionApi)}this._clearConversionApi()}}}convertMarkerRemove(e,t,n){t.root.document&&"$graveyard"!=t.root.rootName&&(this.conversionApi.writer=n,this.fire("removeMarker:"+e,{markerName:e,markerRange:t},this.conversionApi),this._clearConversionApi())}_mapReconversionTriggerEvent(e,t){this._reconversionEventsMapping.set(t,e)}_createInsertConsumable(e){const t=new Io;for(const n of e){const e=n.item;t.add(e,"insert");for(const r of e.getAttributeKeys())t.add(e,"attribute:"+r)}return t}_createConsumableForRange(e,t){const n=new Io;for(const r of e.getItems())n.add(r,t);return n}_createSelectionConsumable(e,t){const n=new Io;n.add(e,"selection");for(const r of t)n.add(e,"addMarker:"+r.name);for(const t of e.getAttributeKeys())n.add(e,"attribute:"+t);return n}_testAndFire(e,t){this.conversionApi.consumable.test(t.item,e)&&this.fire(e+":"+(t.item.name||"$text"),t,this.conversionApi)}_clearConversionApi(){delete this.conversionApi.writer,delete this.conversionApi.consumable}_convertInsertWithAttributes(e){this._testAndFire("insert",e);for(const t of e.item.getAttributeKeys())e.attributeKey=t,e.attributeOldValue=null,e.attributeNewValue=e.item.getAttribute(t),this._testAndFire("attribute:"+t,e)}_mapChangesWithAutomaticReconversion(e){const t=new Set,n=[];for(const i of e.getChanges()){const e=i.position||i.range.start,o=e.parent;if(Mo(e,o))n.push(i);else{const a="attribute"===i.type?Po(e,o,null):o;var r;!a.is("$text")&&(r="attribute"===i.type?`attribute:${i.attributeKey}:`+a.name:i.type+":"+i.name,this._isReconvertTriggerEvent(r,a.name))?t.has(a)||(t.add(a),n.push({type:"reconvert",element:a})):n.push(i)}}return n}_isReconvertTriggerEvent(e,t){return this._reconversionEventsMapping.get(e)===t}}function Lo(e){return{item:e.item,range:_._createFromPositionAndShift(e.previousPosition,e.length)}}a(jo,o);class Vo{constructor(e,t,n){this._lastRangeBackward=!1,this._ranges=[],this._attrs=new Map,e&&this.setTo(e,t,n)}get anchor(){var e;return 0<this._ranges.length?(e=this._ranges[this._ranges.length-1],this._lastRangeBackward?e.end:e.start):null}get focus(){var e;return 0<this._ranges.length?(e=this._ranges[this._ranges.length-1],this._lastRangeBackward?e.start:e.end):null}get isCollapsed(){return 1===this._ranges.length&&this._ranges[0].isCollapsed}get rangeCount(){return this._ranges.length}get isBackward(){return!this.isCollapsed&&this._lastRangeBackward}isEqual(t){if(this.rangeCount!=t.rangeCount)return!1;if(0!==this.rangeCount){if(!this.anchor.isEqual(t.anchor)||!this.focus.isEqual(t.focus))return!1;for(const n of this._ranges){let e=!1;for(const r of t._ranges)if(n.isEqual(r)){e=!0;break}if(!e)return!1}}return!0}*getRanges(){for(const e of this._ranges)yield new _(e.start,e.end)}getFirstRange(){let e=null;for(const t of this._ranges)e&&!t.start.isBefore(e.start)||(e=t);return e?new _(e.start,e.end):null}getLastRange(){let e=null;for(const t of this._ranges)e&&!t.end.isAfter(e.end)||(e=t);return e?new _(e.start,e.end):null}getFirstPosition(){const e=this.getFirstRange();return e?e.start.clone():null}getLastPosition(){const e=this.getLastRange();return e?e.end.clone():null}setTo(t,n,r){if(null===t)this._setRanges([]);else if(t instanceof Vo)this._setRanges(t.getRanges(),t.isBackward);else if(t&&"function"==typeof t.getRanges)this._setRanges(t.getRanges(),t.isBackward);else if(t instanceof _)this._setRanges([t],!!n&&!!n.backward);else if(t instanceof y)this._setRanges([new _(t)]);else if(t instanceof To){r=!!r&&!!r.backward;let e;if("in"==n)e=_._createIn(t);else if("on"==n)e=_._createOn(t);else{if(void 0===n)throw new h.a("model-selection-setto-required-second-parameter",[this,t]);e=new _(y._createAt(t,n))}this._setRanges([e],r)}else{if(!nn(t))throw new h.a("model-selection-setto-not-selectable",[this,t]);this._setRanges(t,n&&!!n.backward)}}_setRanges(e,t=!1){var n=(e=Array.from(e)).some(t=>{if(t instanceof _)return this._ranges.every(e=>!e.isEqual(t));throw new h.a("model-selection-set-ranges-not-range",[this,e])});if(e.length!==this._ranges.length||n){this._removeAllRanges();for(const t of e)this._pushRange(t);this._lastRangeBackward=!!t,this.fire("change:range",{directChange:!0})}}setFocus(e,t){if(null===this.anchor)throw new h.a("model-selection-setfocus-no-ranges",[this,e]);const n=y._createAt(e,t);"same"!=n.compareWith(this.focus)&&(e=this.anchor,this._ranges.length&&this._popRange(),"before"==n.compareWith(e)?(this._pushRange(new _(n,e)),this._lastRangeBackward=!0):(this._pushRange(new _(e,n)),this._lastRangeBackward=!1),this.fire("change:range",{directChange:!0}))}getAttribute(e){return this._attrs.get(e)}getAttributes(){return this._attrs.entries()}getAttributeKeys(){return this._attrs.keys()}hasAttribute(e){return this._attrs.has(e)}removeAttribute(e){this.hasAttribute(e)&&(this._attrs.delete(e),this.fire("change:attribute",{attributeKeys:[e],directChange:!0}))}setAttribute(e,t){this.getAttribute(e)!==t&&(this._attrs.set(e,t),this.fire("change:attribute",{attributeKeys:[e],directChange:!0}))}getSelectedElement(){return 1!==this.rangeCount?null:this.getFirstRange().getContainedElement()}is(e){return"selection"===e||"model:selection"===e}*getSelectedBlocks(){var e,t,n=new WeakSet;for(const o of this.getRanges()){var r=zo(o.start,n);r&&Bo(r,o)&&(yield r);for(const a of o.getWalker()){var i=a.item;"elementEnd"==a.type&&(e=i,t=o,Fo(e,n)&&Bo(e,t))&&(yield i)}r=zo(o.end,n);r&&!o.end.isTouching(y._createAt(r,0))&&Bo(r,o)&&(yield r)}}containsEntireContent(e=this.anchor.root){const t=y._createAt(e,0),n=y._createAt(e,"end");return t.isTouching(this.getFirstPosition())&&n.isTouching(this.getLastPosition())}_pushRange(e){this._checkRange(e),this._ranges.push(new _(e.start,e.end))}_checkRange(t){for(let e=0;e<this._ranges.length;e++)if(t.isIntersecting(this._ranges[e]))throw new h.a("model-selection-range-intersects",[this,t],{addedRange:t,intersectingRange:this._ranges[e]})}_removeAllRanges(){for(;0<this._ranges.length;)this._popRange()}_popRange(){this._ranges.pop()}}function Fo(e,t){return!t.has(e)&&(t.add(e),e.root.document.model.schema.isBlock(e)&&e.parent)}function zo(e,t){const n=e.parent.root.document.model.schema,r=e.parent.getAncestors({parentFirst:!0,includeSelf:!0});let i=!1;e=r.find(e=>!i&&(!(i=n.isLimit(e))&&Fo(e,t)));return r.forEach(e=>t.add(e)),e}function Bo(n,e){var t=function(){const e=n.root.document.model.schema;let t=n.parent;for(;t;){if(e.isBlock(t))return t;t=t.parent}}();return!t||!e.containsRange(_._createOn(t),!0)}a(Vo,o);class Ho extends _{constructor(e,t){super(e,t),function(){this.listenTo(this.root.document.model,"applyOperation",(e,t)=>{t=t[0];t.isDocumentOperation&&function(e){const t=this.getTransformedByOperation(e),n=_._createFromRanges(t),r=!n.isEqual(this),i=function(e,t){switch(t.type){case"insert":return e.containsPosition(t.position);case"move":case"remove":case"reinsert":case"merge":return e.containsPosition(t.sourcePosition)||e.start.isEqual(t.sourcePosition)||e.containsPosition(t.targetPosition);case"split":return e.containsPosition(t.splitPosition)||e.containsPosition(t.insertionPosition)}return!1}(this,e);let o=null;if(r){"$graveyard"==n.root.rootName&&(o="remove"==e.type?e.sourcePosition:e.deletionPosition);const t=this.toRange();this.start=n.start,this.end=n.end,this.fire("change:range",t,{deletionPosition:o})}else i&&this.fire("change:content",this.toRange(),{deletionPosition:o})}.call(this,t)},{priority:"low"})}.call(this)}detach(){this.stopListening()}is(e){return"liveRange"===e||"model:liveRange"===e||"range"==e||"model:range"===e}toRange(){return new _(this.start,this.end)}static fromRange(e){return new Ho(e.start,e.end)}}a(Ho,o);class Uo{constructor(e){this._selection=new Wo(e),this._selection.delegate("change:range").to(this),this._selection.delegate("change:attribute").to(this),this._selection.delegate("change:marker").to(this)}get isCollapsed(){return this._selection.isCollapsed}get anchor(){return this._selection.anchor}get focus(){return this._selection.focus}get rangeCount(){return this._selection.rangeCount}get hasOwnRange(){return this._selection.hasOwnRange}get isBackward(){return this._selection.isBackward}get isGravityOverridden(){return this._selection.isGravityOverridden}get markers(){return this._selection.markers}get _ranges(){return this._selection._ranges}getRanges(){return this._selection.getRanges()}getFirstPosition(){return this._selection.getFirstPosition()}getLastPosition(){return this._selection.getLastPosition()}getFirstRange(){return this._selection.getFirstRange()}getLastRange(){return this._selection.getLastRange()}getSelectedBlocks(){return this._selection.getSelectedBlocks()}getSelectedElement(){return this._selection.getSelectedElement()}containsEntireContent(e){return this._selection.containsEntireContent(e)}destroy(){this._selection.destroy()}getAttributeKeys(){return this._selection.getAttributeKeys()}getAttributes(){return this._selection.getAttributes()}getAttribute(e){return this._selection.getAttribute(e)}hasAttribute(e){return this._selection.hasAttribute(e)}refresh(){this._selection._updateMarkers(),this._selection._updateAttributes(!1)}is(e){return"selection"===e||"model:selection"==e||"documentSelection"==e||"model:documentSelection"==e}_setFocus(e,t){this._selection.setFocus(e,t)}_setTo(e,t,n){this._selection.setTo(e,t,n)}_setAttribute(e,t){this._selection.setAttribute(e,t)}_removeAttribute(e){this._selection.removeAttribute(e)}_getStoredAttributes(){return this._selection._getStoredAttributes()}_overrideGravity(){return this._selection.overrideGravity()}_restoreGravity(e){this._selection.restoreGravity(e)}static _getStoreAttributeKey(e){return"selection:"+e}static _isStoreAttributeKey(e){return e.startsWith("selection:")}}a(Uo,o);class Wo extends Vo{constructor(e){super(),this.markers=new rn({idProperty:"name"}),this._model=e.model,this._document=e,this._attributePriority=new Map,this._selectionRestorePosition=null,this._hasChangedRange=!1,this._overriddenGravityRegister=new Set,this.listenTo(this._model,"applyOperation",(e,t)=>{t=t[0];t.isDocumentOperation&&"marker"!=t.type&&"rename"!=t.type&&"noop"!=t.type&&(0==this._ranges.length&&this._selectionRestorePosition&&this._fixGraveyardSelection(this._selectionRestorePosition),this._selectionRestorePosition=null,this._hasChangedRange&&(this._hasChangedRange=!1,this.fire("change:range",{directChange:!1})))},{priority:"lowest"}),this.on("change:range",()=>{for(const e of this.getRanges())if(!this._document._validateSelectionRange(e))throw new h.a("document-selection-wrong-position",this,{range:e})}),this.listenTo(this._model.markers,"update",()=>this._updateMarkers()),this.listenTo(this._document,"change",(e,t)=>{{var n=this._model,r=t;const i=n.document.differ;for(const o of i.getChanges())if("insert"==o.type){const i=o.position.parent;o.length===i.maxOffset&&n.enqueueChange(r,e=>{for(const t of Array.from(i.getAttributeKeys()).filter(e=>e.startsWith("selection:")))e.removeAttribute(t,i)})}}})}get isCollapsed(){return 0===this._ranges.length?this._document._getDefaultRange().isCollapsed:super.isCollapsed}get anchor(){return super.anchor||this._document._getDefaultRange().start}get focus(){return super.focus||this._document._getDefaultRange().end}get rangeCount(){return this._ranges.length||1}get hasOwnRange(){return 0<this._ranges.length}get isGravityOverridden(){return!!this._overriddenGravityRegister.size}destroy(){for(let e=0;e<this._ranges.length;e++)this._ranges[e].detach();this.stopListening()}*getRanges(){this._ranges.length?yield*super.getRanges():yield this._document._getDefaultRange()}getFirstRange(){return super.getFirstRange()||this._document._getDefaultRange()}getLastRange(){return super.getLastRange()||this._document._getDefaultRange()}setTo(e,t,n){super.setTo(e,t,n),this._updateAttributes(!0),this._updateMarkers()}setFocus(e,t){super.setFocus(e,t),this._updateAttributes(!0),this._updateMarkers()}setAttribute(e,t){if(this._setAttribute(e,t)){const t=[e];this.fire("change:attribute",{attributeKeys:t,directChange:!0})}}removeAttribute(e){this._removeAttribute(e)&&this.fire("change:attribute",{attributeKeys:[e],directChange:!0})}overrideGravity(){var e=qt();return this._overriddenGravityRegister.add(e),1===this._overriddenGravityRegister.size&&this._updateAttributes(!0),e}restoreGravity(e){if(!this._overriddenGravityRegister.has(e))throw new h.a("document-selection-gravity-wrong-restore",this,{uid:e});this._overriddenGravityRegister.delete(e),this.isGravityOverridden||this._updateAttributes(!0)}_popRange(){this._ranges.pop().detach()}_pushRange(e){e=this._prepareRange(e);e&&this._ranges.push(e)}_prepareRange(e){if(this._checkRange(e),e.root!=this._document.graveyard){const r=Ho.fromRange(e);return r.on("change:range",(e,t,n)=>{if(this._hasChangedRange=!0,r.root==this._document.graveyard){this._selectionRestorePosition=n.deletionPosition;const e=this._ranges.indexOf(r);this._ranges.splice(e,1),r.detach()}}),r}}_updateMarkers(){const e=[];let t=!1;for(const t of this._model.markers){const n=t.getRange();for(const r of this.getRanges())n.containsRange(r,!r.isCollapsed)&&e.push(t)}const n=Array.from(this.markers);for(const n of e)this.markers.has(n)||(this.markers.add(n),t=!0);for(const n of Array.from(this.markers))e.includes(n)||(this.markers.remove(n),t=!0);t&&this.fire("change:marker",{oldMarkers:n,directChange:!1})}_updateAttributes(e){const t=pn(this._getSurroundingAttributes()),n=pn(this.getAttributes());if(e)this._attributePriority=new Map,this._attrs=new Map;else for(const[e,t]of this._attributePriority)"low"==t&&(this._attrs.delete(e),this._attributePriority.delete(e));this._setAttributesTo(t);const r=[];for(const[e,t]of this.getAttributes())n.has(e)&&n.get(e)===t||r.push(e);for(const[e]of n)this.hasAttribute(e)||r.push(e);0<r.length&&this.fire("change:attribute",{attributeKeys:r,directChange:!1})}_setAttribute(e,t,n=!0){n=n?"normal":"low";return("low"!=n||"normal"!=this._attributePriority.get(e))&&(super.getAttribute(e)!==t&&(this._attrs.set(e,t),this._attributePriority.set(e,n),!0))}_removeAttribute(e,t=!0){t=t?"normal":"low";return!("low"==t&&"normal"==this._attributePriority.get(e)||(this._attributePriority.set(e,t),!super.hasAttribute(e)||(this._attrs.delete(e),0)))}_setAttributesTo(e){const t=new Set;for(const[t,i]of this.getAttributes())e.get(t)!==i&&this._removeAttribute(t,!1);for(var[n,r]of e)this._setAttribute(n,r,!1)&&t.add(n);return t}*_getStoredAttributes(){const e=this.getFirstPosition().parent;if(this.isCollapsed&&e.isEmpty)for(const t of e.getAttributeKeys())t.startsWith("selection:")&&(yield[t.substr("selection:".length),e.getAttribute(t)])}_getSurroundingAttributes(){const e=this.getFirstPosition(),t=this._model.schema;let n=null;if(this.isCollapsed){var r=e.textNode||e.nodeBefore,i=e.textNode||e.nodeAfter;if(n=(n=this.isGravityOverridden?n:qo(r))||qo(i),!this.isGravityOverridden&&!n){let e=r;for(;e&&!t.isInline(e)&&!n;)e=e.previousSibling,n=qo(e)}if(!n){let e=i;for(;e&&!t.isInline(e)&&!n;)e=e.nextSibling,n=qo(e)}n=n||this._getStoredAttributes()}else{const e=this.getFirstRange();for(const o of e){if(o.item.is("element")&&t.isObject(o.item))break;if("text"==o.type){n=o.item.getAttributes();break}}}return n}_fixGraveyardSelection(e){e=this._model.schema.getNearestSelectionRange(e);e&&this._pushRange(e)}}function qo(e){return e instanceof $o||e instanceof d?e.getAttributes():null}class Yo{constructor(e){this._dispatchers=e}add(e){for(const t of this._dispatchers)e(t);return this}}function Go(e){return Lt(e,5)}class Ko extends Yo{elementToElement(e){return this.add(((t=Go(t=e)).view=Qo(t.view,"container"),e=>{var o;if(e.on("insert:"+t.model,(o=t.view,(e,t,n)=>{var r,i=o(t.item,n);i&&n.consumable.consume(t.item,"insert")&&(r=n.mapper.toViewPosition(t.range.start),n.mapper.bindElements(t.item,i),n.writer.insert(r,i))}),{priority:t.converterPriority||"normal"}),t.triggerBy){if(t.triggerBy.attributes)for(const o of t.triggerBy.attributes)e._mapReconversionTriggerEvent(t.model,`attribute:${o}:`+t.model);if(t.triggerBy.children)for(const o of t.triggerBy.children)e._mapReconversionTriggerEvent(t.model,"insert:"+o),e._mapReconversionTriggerEvent(t.model,"remove:"+o)}}));var t}attributeToElement(e){return this.add(function(t){let n="attribute:"+((t=Go(t)).model.key||t.model);if(t.model.name&&(n+=":"+t.model.name),t.model.values)for(const n of t.model.values)t.view[n]=Qo(t.view[n],"attribute");else t.view=Qo(t.view,"attribute");const r=Zo(t);return e=>{var s;e.on(n,(s=r,(e,t,n)=>{var r=s(t.attributeOldValue,n),i=s(t.attributeNewValue,n);if((r||i)&&n.consumable.consume(t.item,e.name)){const o=n.writer,a=o.document.selection;if(t.item instanceof Vo||t.item instanceof Uo)o.wrap(a.getFirstRange(),i);else{let e=n.mapper.toViewRange(t.range);null!==t.attributeOldValue&&r&&(e=o.unwrap(e,r)),null!==t.attributeNewValue&&i&&o.wrap(e,i)}}}),{priority:t.converterPriority||"normal"})}}(e))}attributeToAttribute(e){return this.add(function(t){let n="attribute:"+((t=Go(t)).model.key||t.model);if(t.model.name&&(n+=":"+t.model.name),t.model.values)for(const n of t.model.values)t.view[n]=ea(t.view[n]);else t.view=ea(t.view);const r=Zo(t);return e=>{var s;e.on(n,(s=r,(e,t,n)=>{var r=s(t.attributeOldValue,n),i=s(t.attributeNewValue,n);if((r||i)&&n.consumable.consume(t.item,e.name)){const o=n.mapper.toViewElement(t.item),a=n.writer;if(!o)throw new h.a("conversion-attribute-to-attribute-on-text",[t,n]);if(null!==t.attributeOldValue&&r)if("class"==r.key){const e=Array.isArray(r.value)?r.value:[r.value];for(const t of e)a.removeClass(t,o)}else if("style"==r.key){const e=Object.keys(r.value);for(const t of e)a.removeStyle(t,o)}else a.removeAttribute(r.key,o);if(null!==t.attributeNewValue&&i)if("class"==i.key){const e=Array.isArray(i.value)?i.value:[i.value];for(const t of e)a.addClass(t,o)}else if("style"==i.key){const e=Object.keys(i.value);for(const t of e)a.setStyle(t,i.value[t],o)}else a.setAttribute(i.key,i.value,o)}}),{priority:t.converterPriority||"normal"})}}(e))}markerToElement(e){return this.add(((t=Go(t=e)).view=Qo(t.view,"ui"),e=>{var l;e.on("addMarker:"+t.model,(l=t.view,(e,t,n)=>{t.isOpening=!0;var r=l(t,n),i=(t.isOpening=!1,l(t,n));if(r&&i){var o=t.markerRange;if(!o.isCollapsed||n.consumable.consume(o,e.name)){for(const t of o)if(!n.consumable.consume(t.item,e.name))return;const a=n.mapper,s=n.writer;s.insert(a.toViewPosition(o.start),r),n.mapper.bindElementToMarker(r,t.markerName),o.isCollapsed||(s.insert(a.toViewPosition(o.end),i),n.mapper.bindElementToMarker(i,t.markerName)),e.stop()}}}),{priority:t.converterPriority||"normal"}),e.on("removeMarker:"+t.model,(t.view,(e,t,n)=>{var r=n.mapper.markerNameToElements(t.markerName);if(r){for(const e of r)n.mapper.unbindElementFromMarkerName(e,t.markerName),n.writer.clear(n.writer.createRangeOn(e),e);n.writer.clearClonedElementsGroup(t.markerName),e.stop()}}),{priority:t.converterPriority||"normal"})}));var t}markerToHighlight(e){return this.add((t=e,e=>{var s,a,o;e.on("addMarker:"+t.model,(s=t.view,(e,t,n)=>{if(t.item&&(t.item instanceof Vo||t.item instanceof Uo||t.item.is("$textProxy"))){var r=ta(s,t,n);if(r&&n.consumable.consume(t.item,e.name)){const i=n.writer,o=Xo(i,r),a=i.document.selection;if(t.item instanceof Vo||t.item instanceof Uo)i.wrap(a.getFirstRange(),o,a);else{const e=n.mapper.toViewRange(t.range),s=i.wrap(e,o);for(const e of s.getItems())if(e.is("attributeElement")&&e.isSimilar(o)){n.mapper.bindElementToMarker(e,t.markerName);break}}}}}),{priority:t.converterPriority||"normal"}),e.on("addMarker:"+t.model,(o=t.view,(e,t,n)=>{if(t.item&&t.item instanceof b){var r=ta(o,t,n);if(r&&n.consumable.test(t.item,e.name)){const i=n.mapper.toViewElement(t.item);if(i&&i.getCustomProperty("addHighlight")){n.consumable.consume(t.item,e.name);for(const o of _._createIn(t.item))n.consumable.consume(o.item,e.name);i.getCustomProperty("addHighlight")(i,r,n.writer),n.mapper.bindElementToMarker(i,t.markerName)}}}}),{priority:t.converterPriority||"normal"}),e.on("removeMarker:"+t.model,(a=t.view,(e,t,n)=>{if(!t.markerRange.isCollapsed){var r=ta(a,t,n);if(r){var i=Xo(n.writer,r),o=n.mapper.markerNameToElements(t.markerName);if(o){for(const a of o)n.mapper.unbindElementFromMarkerName(a,t.markerName),a.is("attributeElement")?n.writer.unwrap(n.writer.createRangeOn(a),i):a.getCustomProperty("removeHighlight")(a,r.id,n.writer);n.writer.clearClonedElementsGroup(t.markerName),e.stop()}}}}),{priority:t.converterPriority||"normal"})}));var t}markerToData(e){return this.add(function(t){const n=(t=Go(t)).model;return t.view||(t.view=e=>({group:n,name:e.substr(t.model.length+1)})),e=>{var o,a;e.on("addMarker:"+n,(o=t.view,(e,t,n)=>{var r,i=o(t.markerName,n);i&&(r=t.markerRange,n.consumable.consume(r,e.name)&&(Jo(r,!1,n,t,i),Jo(r,!0,n,t,i),e.stop()))}),{priority:t.converterPriority||"normal"}),e.on("removeMarker:"+n,(a=t.view,(e,t,r)=>{const i=a(t.markerName,r);if(i){var n=r.mapper.markerNameToElements(t.markerName);if(n){for(const a of n)r.mapper.unbindElementFromMarkerName(a,t.markerName),a.is("containerElement")?(o(`data-${i.group}-start-before`,a),o(`data-${i.group}-start-after`,a),o(`data-${i.group}-end-before`,a),o(`data-${i.group}-end-after`,a)):r.writer.clear(r.writer.createRangeOn(a),a);r.writer.clearClonedElementsGroup(t.markerName),e.stop()}}function o(e,t){if(t.hasAttribute(e)){const n=new Set(t.getAttribute(e).split(","));n.delete(i.name),0==n.size?r.writer.removeAttribute(e,t):r.writer.setAttribute(e,Array.from(n).join(","),t)}}}),{priority:t.converterPriority||"normal"})}}(e))}}function Xo(e,t){const n=e.createAttributeElement("span",t.attributes);return t.classes&&n._addClass(t.classes),t.priority&&(n._priority=t.priority),n._id=t.id,n}function Jo(n,r,i,o,a){n=r?n.start:n.end;if(i.schema.checkChild(n,"$text"))l=i.mapper.toViewPosition(n),c=i,d=o,u=a.group+"-"+(r?"start":"end"),s=a.name?{name:a.name}:null,u=c.writer.createUIElement(u,s),c.writer.insert(l,u),c.mapper.bindElementToMarker(u,d.markerName);else{let e,t;t=r&&n.nodeAfter||!r&&!n.nodeBefore?(e=n.nodeAfter,!0):(e=n.nodeBefore,!1);{var s=i.mapper.toViewElement(e);var l=r;var c=t;var u=i;var d=o;n=a;const h=`data-${n.group}-${l?"start":"end"}-`+(c?"before":"after"),f=s.hasAttribute(h)?s.getAttribute(h).split(","):[];f.unshift(n.name),u.writer.setAttribute(h,f.join(","),s),u.mapper.bindElementToMarker(s,d.markerName)}}}function Qo(s,l){return"function"==typeof s?s:(e,t)=>{{var n=s,r=t,i=l;"string"==typeof n&&(n={name:n});let e;const o=r.writer,a=Object.assign({},n.attributes);if("container"==i)e=o.createContainerElement(n.name,a);else if("attribute"==i){const r={priority:n.priority||$r.DEFAULT_PRIORITY};e=o.createAttributeElement(n.name,a,r)}else e=o.createUIElement(n.name,a);if(n.styles){const r=Object.keys(n.styles);for(const i of r)o.setStyle(i,n.styles[i],e)}if(n.classes){const r=n.classes;if("string"==typeof r)o.addClass(r,e);else for(const n of r)o.addClass(n,e)}return e}}}function Zo(r){return r.model.values?(e,t)=>{const n=r.view[e];return n?n(e,t):null}:r.view}function ea(t){return"string"==typeof t?e=>({key:t,value:e}):"object"==typeof t?t.value?()=>t:e=>({key:t.key,value:e}):t}function ta(e,t,n){const r="function"==typeof e?e(t,n):e;return r?(r.priority||(r.priority=10),r.id||(r.id=t.markerName),r):null}function na(e){const{schema:t,document:n}=e.model;for(const i of n.getRootNames()){var r=n.getRoot(i);if(r.isEmpty&&!t.checkChild(r,"$text")&&t.checkChild(r,"paragraph"))return e.insertElement("paragraph",r),!0}return!1}function ra(e,t,n){const r=n.createContext(e);return n.checkChild(r,"paragraph")&&n.checkChild(r.push("paragraph"),t)}function ia(e,t){var n=t.createElement("paragraph");return t.insert(n,e),t.createPositionAt(n,0)}class oa extends Yo{elementToElement(e){return this.add(aa(e))}elementToAttribute(i){return this.add(function(t){ca(t=Go(i));const n=ua(t,!1),e=sa(t.view),r=e?"element:"+e:"element";return e=>{e.on(r,n,{priority:t.converterPriority||"low"})}}())}attributeToAttribute(r){return this.add(function(t){let e=null;"string"!=typeof(t=Go(r)).view&&!t.view.key||(e=function(e){"string"==typeof e.view&&(e.view={key:e.view});var t=e.view.key;let n;return n="class"==t||"style"==t?{["class"==t?"classes":"styles"]:e.view.value}:{attributes:{[t]:void 0===e.view.value?/[\s\S]*/:e.view.value}},e.view.name&&(n.name=e.view.name),e.view=n,t}(t)),ca(t,e);const n=ua(t,!0);return e=>{e.on("element",n,{priority:t.converterPriority||"low"})}}())}elementToMarker(e){return Object(h.c)("upcast-helpers-element-to-marker-deprecated"),this.add(function(e){{var t=e=Go(e);const n=t.model;t.model=(e,t)=>{e="string"==typeof n?n:n(e,t);return t.writer.createElement("$marker",{"data-name":e})}}return aa(e)}(e))}dataToMarker(e){return this.add(function(r){(r=Go(r)).model||(r.model=e=>e?r.view+":"+e:r.view);const i=la(da(r,"start")),o=la(da(r,"end"));return e=>{e.on("element:"+r.view+"-start",i,{priority:r.converterPriority||"normal"}),e.on("element:"+r.view+"-end",o,{priority:r.converterPriority||"normal"});var a,t=Yt.get("low"),n=Yt.get("highest"),n=Yt.get(r.converterPriority)/n;e.on("element",(a=r,(e,i,o)=>{var t="data-"+a.view;function n(e,t){for(const n of t){const t=a.model(n,o),r=o.writer.createElement("$marker",{"data-name":t});o.writer.insert(r,e),i.modelCursor.isEqual(e)?i.modelCursor=i.modelCursor.getShiftedBy(1):i.modelCursor=i.modelCursor._getTransformedByInsertion(e,1),i.modelRange=i.modelRange._getTransformedByInsertion(e,1)[0]}}i.modelRange||(i=Object.assign(i,o.convertChildren(i.viewItem,i.modelCursor))),o.consumable.consume(i.viewItem,{attributes:t+"-end-after"})&&n(i.modelRange.end,i.viewItem.getAttribute(t+"-end-after").split(",")),o.consumable.consume(i.viewItem,{attributes:t+"-start-after"})&&n(i.modelRange.end,i.viewItem.getAttribute(t+"-start-after").split(",")),o.consumable.consume(i.viewItem,{attributes:t+"-end-before"})&&n(i.modelRange.start,i.viewItem.getAttribute(t+"-end-before").split(",")),o.consumable.consume(i.viewItem,{attributes:t+"-start-before"})&&n(i.modelRange.start,i.viewItem.getAttribute(t+"-start-before").split(","))}),{priority:t+n})}}(e))}}function aa(t){const n=la(t=Go(t)),e=sa(t.view),r=e?"element:"+e:"element";return e=>{e.on(r,n,{priority:t.converterPriority||"normal"})}}function sa(e){return"string"==typeof e?e:"object"==typeof e&&"string"==typeof e.name?e.name:null}function la(s){const l=new mn(s.view);return(e,t,n)=>{var r,i,o=l.match(t.viewItem);if(o){const a=o.match;a.name=!0,n.consumable.test(t.viewItem,a)&&(o=s.model,r=t.viewItem,i=n,(r=o instanceof Function?o(r,i):i.writer.createElement(o))&&n.safeInsert(r,t.modelCursor)&&(n.consumable.consume(t.viewItem,a),n.convertChildren(t.viewItem,r),n.updateConversionResult(r,t)))}}}function ca(e,t=null){var n="object"!=typeof e.model?e.model:e.model.key,r="object"!=typeof e.model||void 0===e.model.value?null===t||(e=>e.getAttribute(t)):e.model.value;e.model={key:n,value:r}}function ua(a,s){const l=new mn(a.view);return(e,t,n)=>{const r=l.match(t.viewItem);var i,o;r&&(i=a.model.key,null!==(o="function"==typeof a.model.value?a.model.value(t.viewItem,n):a.model.value)&&(function(e,t){t="function"==typeof e?e(t):e;return("object"!=typeof t||sa(t))&&(!t.classes&&!t.attributes&&!t.styles)}(a.view,t.viewItem)?r.match.name=!0:delete r.match.name,n.consumable.test(t.viewItem,r.match)&&function(e,t,n){let r=!1;for(const i of Array.from(e.getItems({shallow:s})))n.schema.checkAttribute(i,t.key)&&(n.writer.setAttribute(t.key,t.value,i),r=!0);return r}((t=t.modelRange?t:Object.assign(t,n.convertChildren(t.viewItem,t.modelCursor))).modelRange,{key:i,value:o},n)&&n.consumable.consume(t.viewItem,r.match)))}}function da(n,e){const t={};return t.view=n.view+"-"+e,t.model=(e,t)=>{e=e.getAttribute("name"),e=n.model(e,t);return t.writer.createElement("$marker",{"data-name":e})},t}class ha{constructor(e,t){this.model=e,this.view=new So(t),this.mapper=new Ro,this.downcastDispatcher=new jo({mapper:this.mapper,schema:e.schema});const n=this.model.document,r=n.selection,i=this.model.markers;var o,a;this.listenTo(this.model,"_beforeChanges",()=>{this.view._disableRendering(!0)},{priority:"highest"}),this.listenTo(this.model,"_afterChanges",()=>{this.view._disableRendering(!1)},{priority:"lowest"}),this.listenTo(n,"change",()=>{this.view.change(e=>{this.downcastDispatcher.convertChanges(n.differ,i,e),this.downcastDispatcher.convertSelection(r,i,e)})},{priority:"low"}),this.listenTo(this.view.document,"selectionChange",(o=this.model,a=this.mapper,(e,t)=>{const n=t.newSelection,r=[];for(const o of n.getRanges())r.push(a.toModelRange(o));const i=o.createSelection(r,{backward:n.isBackward});i.isEqual(o.document.selection)||o.change(e=>{e.setSelection(i)})})),this.downcastDispatcher.on("insert:$text",(e,t,n)=>{if(n.consumable.consume(t.item,"insert")){const r=n.writer,i=n.mapper.toViewPosition(t.range.start),o=r.createText(t.item.data);r.insert(i,o)}},{priority:"lowest"}),this.downcastDispatcher.on("remove",(e,t,n)=>{const r=n.mapper.toViewPosition(t.position),i=t.position.getShiftedBy(t.length),o=n.mapper.toViewPosition(i,{isPhantom:!0}),a=n.writer.createRange(r,o),s=n.writer.remove(a.getTrimmed());for(const e of n.writer.createRangeIn(s).getItems())n.mapper.unbindViewElement(e)},{priority:"low"}),this.downcastDispatcher.on("selection",(e,t,n)=>{const r=n.writer,i=r.document.selection;for(const e of i.getRanges())e.isCollapsed&&e.end.parent.isAttached()&&n.writer.mergeAttributes(e.start);r.setSelection(null)},{priority:"low"}),this.downcastDispatcher.on("selection",(e,t,n)=>{const r=t.selection;if(!r.isCollapsed&&n.consumable.consume(r,"selection")){const i=[];for(const e of r.getRanges()){const t=n.mapper.toViewRange(e);i.push(t)}n.writer.setSelection(i,{backward:r.isBackward})}},{priority:"low"}),this.downcastDispatcher.on("selection",(e,t,n)=>{const r=t.selection;if(r.isCollapsed&&n.consumable.consume(r,"selection")){const i=n.writer,o=r.getFirstPosition(),a=n.mapper.toViewPosition(o),s=i.breakAttributes(a);i.setSelection(s)}},{priority:"low"}),this.view.document.roots.bindTo(this.model.document.roots).using(e=>{if("$graveyard"==e.rootName)return null;const t=new wr(this.view.document,e.name);return t.rootName=e.rootName,this.mapper.bindElements(e,t),t})}destroy(){this.view.destroy(),this.stopListening()}}a(ha,l);class fa{constructor(){this._commands=new Map}add(e,t){this._commands.set(e,t)}get(e){return this._commands.get(e)}execute(e,...t){const n=this.get(e);if(n)return n.execute(...t);throw new h.a("commandcollection-command-not-found",this,{commandName:e})}*names(){yield*this._commands.keys()}*commands(){yield*this._commands.values()}[Symbol.iterator](){return this._commands[Symbol.iterator]()}destroy(){for(const e of this.commands())e.destroy()}}class pa{constructor(){this._consumables=new Map}add(e,t){let n;e.is("$text")||e.is("documentFragment")?this._consumables.set(e,!0):(this._consumables.has(e)?n=this._consumables.get(e):(n=new ma(e),this._consumables.set(e,n)),n.add(t))}test(e,t){const n=this._consumables.get(e);return void 0===n?null:e.is("$text")||e.is("documentFragment")?n:n.test(t)}consume(e,t){return!!this.test(e,t)&&(e.is("$text")||e.is("documentFragment")?this._consumables.set(e,!1):this._consumables.get(e).consume(t),!0)}revert(e,t){const n=this._consumables.get(e);void 0!==n&&(e.is("$text")||e.is("documentFragment")?this._consumables.set(e,!0):n.revert(t))}static consumablesFromElement(e){const t={element:e,name:!0,attributes:[],classes:[],styles:[]},n=e.getAttributeKeys();for(const e of n)"style"!=e&&"class"!=e&&t.attributes.push(e);var r=e.getClassNames();for(const e of r)t.classes.push(e);r=e.getStyleNames();for(const e of r)t.styles.push(e);return t}static createFrom(e,t){if(t=t||new pa(e),e.is("$text"))t.add(e);else{e.is("element")&&t.add(e,pa.consumablesFromElement(e)),e.is("documentFragment")&&t.add(e);for(const n of e.getChildren())t=pa.createFrom(n,t)}return t}}class ma{constructor(e){this.element=e,this._canConsumeName=null,this._consumables={attributes:new Map,styles:new Map,classes:new Map}}add(e){e.name&&(this._canConsumeName=!0);for(const t in this._consumables)t in e&&this._add(t,e[t])}test(e){if(e.name&&!this._canConsumeName)return this._canConsumeName;for(const n in this._consumables)if(n in e){var t=this._test(n,e[n]);if(!0!==t)return t}return!0}consume(e){e.name&&(this._canConsumeName=!1);for(const t in this._consumables)t in e&&this._consume(t,e[t])}revert(e){e.name&&(this._canConsumeName=!0);for(const t in this._consumables)t in e&&this._revert(t,e[t])}_add(e,t){const n=Be(t)?t:[t],r=this._consumables[e];for(const t of n){if("attributes"===e&&("class"===t||"style"===t))throw new h.a("viewconsumable-invalid-attribute",this);if(r.set(t,!0),"styles"===e)for(const e of this.element.document.stylesProcessor.getRelatedStyles(t))r.set(e,!0)}}_test(e,t){const n=Be(t)?t:[t],r=this._consumables[e];for(const t of n)if("attributes"!==e||"class"!==t&&"style"!==t){const e=r.get(t);if(void 0===e)return null;if(!e)return!1}else{const e="class"==t?"classes":"styles",n=this._test(e,[...this._consumables[e].keys()]);if(!0!==n)return n}return!0}_consume(e,t){const n=Be(t)?t:[t],r=this._consumables[e];for(const t of n)if("attributes"!==e||"class"!==t&&"style"!==t){if(r.set(t,!1),"styles"==e)for(const e of this.element.document.stylesProcessor.getRelatedStyles(t))r.set(e,!1)}else{const e="class"==t?"classes":"styles";this._consume(e,[...this._consumables[e].keys()])}}_revert(e,t){const n=Be(t)?t:[t],r=this._consumables[e];for(const t of n)if("attributes"!==e||"class"!==t&&"style"!==t)!1===r.get(t)&&r.set(t,!0);else{const e="class"==t?"classes":"styles";this._revert(e,[...this._consumables[e].keys()])}}}class ga{constructor(){this._sourceDefinitions={},this._attributeProperties={},this.decorate("checkChild"),this.decorate("checkAttribute"),this.on("checkAttribute",(e,t)=>{t[0]=new va(t[0])},{priority:"highest"}),this.on("checkChild",(e,t)=>{t[0]=new va(t[0]),t[1]=this.getDefinition(t[1])},{priority:"highest"})}register(e,t){if(this._sourceDefinitions[e])throw new h.a("schema-cannot-register-item-twice",this,{itemName:e});this._sourceDefinitions[e]=[Object.assign({},t)],this._clearCache()}extend(e,t){if(!this._sourceDefinitions[e])throw new h.a("schema-cannot-extend-missing-item",this,{itemName:e});this._sourceDefinitions[e].push(Object.assign({},t)),this._clearCache()}getDefinitions(){return this._compiledDefinitions||this._compile(),this._compiledDefinitions}getDefinition(e){e="string"==typeof e?e:e.is&&(e.is("$text")||e.is("$textProxy"))?"$text":e.name;return this.getDefinitions()[e]}isRegistered(e){return!!this.getDefinition(e)}isBlock(e){e=this.getDefinition(e);return!(!e||!e.isBlock)}isLimit(e){e=this.getDefinition(e);return!(!e||!e.isLimit&&!e.isObject)}isObject(e){e=this.getDefinition(e);return!!e&&!!(e.isObject||e.isLimit&&e.isSelectable&&e.isContent)}isInline(e){e=this.getDefinition(e);return!(!e||!e.isInline)}isSelectable(e){e=this.getDefinition(e);return!(!e||!e.isSelectable&&!e.isObject)}isContent(e){e=this.getDefinition(e);return!(!e||!e.isContent&&!e.isObject)}checkChild(e,t){return!!t&&this._checkContextMatch(t,e)}checkAttribute(e,t){const n=this.getDefinition(e.last);return!!n&&n.allowAttributes.includes(t)}checkMerge(e,t=null){if(e instanceof y){const t=e.nodeBefore,n=e.nodeAfter;if(!(t instanceof b))throw new h.a("schema-check-merge-no-element-before",this);if(n instanceof b)return this.checkMerge(t,n);throw new h.a("schema-check-merge-no-element-after",this)}for(const r of t.getChildren())if(!this.checkChild(e,r))return!1;return!0}addChildCheck(r){this.on("checkChild",(e,[t,n])=>{!n||"boolean"==typeof(t=r(t,n))&&(e.stop(),e.return=t)},{priority:"high"})}addAttributeCheck(r){this.on("checkAttribute",(e,[t,n])=>{t=r(t,n);"boolean"==typeof t&&(e.stop(),e.return=t)},{priority:"high"})}setAttributeProperties(e,t){this._attributeProperties[e]=Object.assign(this.getAttributeProperties(e),t)}getAttributeProperties(e){return this._attributeProperties[e]||{}}getLimitElement(e){let t;for(t=e instanceof y?e.parent:(e instanceof _?[e]:Array.from(e.getRanges())).reduce((e,t)=>{t=t.getCommonAncestor();return e?e.getCommonAncestor(t,{includeSelf:!0}):t},null);!this.isLimit(t)&&t.parent;)t=t.parent;return t}checkAttributeInSelection(e,t){if(e.isCollapsed)return n=[...e.getFirstPosition().getAncestors(),new d("",e.getAttributes())],this.checkAttribute(n,t);var n=e.getRanges();for(const e of n)for(const r of e)if(this.checkAttribute(r.item,t))return!0;return!1}*getValidRanges(e,t){for(const n of e=function*(e){for(const t of e)yield*t.getMinimalFlatRanges()}(e))yield*this._getValidRangesForRange(n,t)}getNearestSelectionRange(e,t="both"){if(this.checkChild(e,"$text"))return new _(e);let n,r;var i=e.getAncestors().reverse().find(e=>this.isLimit(e))||e.root;"both"!=t&&"backward"!=t||(n=new Ao({boundaries:_._createIn(i),startPosition:e,direction:"backward"})),"both"!=t&&"forward"!=t||(r=new Ao({boundaries:_._createIn(i),startPosition:e}));for(const e of function*(e,t){let n=!1;for(;!n;){if(n=!0,e){const t=e.next();t.done||(n=!1,yield{walker:e,value:t.value})}if(t){const e=t.next();e.done||(n=!1,yield{walker:t,value:e.value})}}}(n,r)){const t=e.walker==n?"elementEnd":"elementStart",r=e.value;if(r.type==t&&this.isObject(r.item))return _._createOn(r.item);if(this.checkChild(r.nextPosition,"$text"))return new _(r.nextPosition)}return null}findAllowedParent(e,t){let n=e.parent;for(;n;){if(this.checkChild(n,t))return n;if(this.isLimit(n))return null;n=n.parent}return null}removeDisallowedAttributes(e,t){for(const n of e)if(n.is("$text"))wa(this,n,t);else{const e=_._createIn(n).getPositions();for(const r of e)wa(this,r.nodeBefore||r.parent,t)}}createContext(e){return new va(e)}_clearCache(){this._compiledDefinitions=null}_compile(){const e={},t=this._sourceDefinitions,n=Object.keys(t);for(const p of n)e[p]=function(e,t){t={name:t,allowIn:[],allowContentOf:[],allowWhere:[],allowAttributes:[],allowAttributesOf:[],inheritTypesFrom:[]};var n=e,r=t;for(const a of n){const n=Object.keys(a).filter(e=>e.startsWith("is"));for(const s of n)r[s]=a[s]}ba(e,t,"allowIn"),ba(e,t,"allowContentOf"),ba(e,t,"allowWhere"),ba(e,t,"allowAttributes"),ba(e,t,"allowAttributesOf"),ba(e,t,"inheritTypesFrom");var i=e,o=t;for(const l of i){const i=l.inheritAllFrom;i&&(o.allowContentOf.push(i),o.allowWhere.push(i),o.allowAttributesOf.push(i),o.inheritTypesFrom.push(i))}return t}(t[p],p);for(const t of n)!function(e,t){for(const n of e[t].allowContentOf)e[n]&&!function(e,t){const n=e[t];return r=e,Object.keys(r).map(e=>r[e]).filter(e=>e.allowIn.includes(n.name));var r}(e,n).forEach(e=>{e.allowIn.push(t)});delete e[t].allowContentOf}(e,t);for(const t of n){r=void 0;i=void 0;o=void 0;o=void 0;var r=e;var i=t;for(const m of r[i].allowWhere){var o=r[m];o&&(o=o.allowIn,r[i].allowIn.push(...o))}delete r[i].allowWhere}for(const t of n){{a=void 0;s=void 0;l=void 0;l=void 0;var a=e;var s=t;for(const g of a[s].allowAttributesOf){var l=a[g];l&&(l=l.allowAttributes,a[s].allowAttributes.push(...l))}delete a[s].allowAttributesOf}{c=void 0;u=void 0;d=void 0;var c=e;var u=t;const v=c[u];for(const u of v.inheritTypesFrom){var d=c[u];if(d){const c=Object.keys(d).filter(e=>e.startsWith("is"));for(const u of c)u in v||(v[u]=d[u])}}delete v.inheritTypesFrom}}for(const t of n){(function(t,e){const n=t[e],r=n.allowIn.filter(e=>t[e]);n.allowIn=Array.from(new Set(r))})(e,t);{h=void 0;f=void 0;var h=e;var f=t;const b=h[f];b.allowAttributes=Array.from(new Set(b.allowAttributes))}}this._compiledDefinitions=e}_checkContextMatch(e,t,n=t.length-1){var r=t.getItem(n);if(e.allowIn.includes(r.name)){if(0==n)return!0;{const e=this.getDefinition(r);return this._checkContextMatch(e,t,n-1)}}return!1}*_getValidRangesForRange(e,t){let n=e.start,r=e.start;for(const i of e.getItems({shallow:!0}))i.is("element")&&(yield*this._getValidRangesForRange(_._createIn(i),t)),this.checkAttribute(i,t)||(n.isEqual(r)||(yield new _(n,r)),n=y._createAfter(i)),r=y._createAfter(i);n.isEqual(r)||(yield new _(n,r))}}a(ga,l);class va{constructor(e){if(e instanceof va)return e;"string"==typeof e?e=[e]:Array.isArray(e)||(e=e.getAncestors({includeSelf:!0})),e[0]&&"string"!=typeof e[0]&&e[0].is("documentFragment")&&e.shift(),this._items=e.map(ya)}get length(){return this._items.length}get last(){return this._items[this._items.length-1]}[Symbol.iterator](){return this._items[Symbol.iterator]()}push(e){const t=new va([e]);return t._items=[...this._items,...t._items],t}getItem(e){return this._items[e]}*getNames(){yield*this._items.map(e=>e.name)}endsWith(e){return Array.from(this.getNames()).join(" ").endsWith(e)}startsWith(e){return Array.from(this.getNames()).join(" ").startsWith(e)}}function ba(e,t,n){for(const r of e)"string"==typeof r[n]?t[n].push(r[n]):Array.isArray(r[n])&&t[n].push(...r[n])}function ya(t){return"string"==typeof t?{name:t,*getAttributeKeys(){},getAttribute(){}}:{name:t.is("element")?t.name:"$text",*getAttributeKeys(){yield*t.getAttributeKeys()},getAttribute:e=>t.getAttribute(e)}}function wa(e,t,n){for(const r of t.getAttributeKeys())e.checkAttribute(t,r)||n.removeAttribute(r,t)}class _a{constructor(e={}){this._splitParts=new Map,this._cursorParents=new Map,this._modelCursor=null,this.conversionApi=Object.assign({},e),this.conversionApi.convertItem=this._convertItem.bind(this),this.conversionApi.convertChildren=this._convertChildren.bind(this),this.conversionApi.safeInsert=this._safeInsert.bind(this),this.conversionApi.updateConversionResult=this._updateConversionResult.bind(this),this.conversionApi.splitToAllowedParent=this._splitToAllowedParent.bind(this),this.conversionApi.getSplitParts=this._getSplitParts.bind(this)}convert(e,t,n=["$root"]){this.fire("viewCleanup",e),this._modelCursor=function(e,t){let n;for(const i of new va(e)){const e={};for(const t of i.getAttributeKeys())e[t]=i.getAttribute(t);var r=t.createElement(i.name,e);n&&t.append(r,n),n=y._createAt(r,0)}return n}(n,t),this.conversionApi.writer=t,this.conversionApi.consumable=pa.createFrom(e),this.conversionApi.store={};const r=this._convertItem(e,this._modelCursor)["modelRange"],i=t.createDocumentFragment();if(r){this._removeEmptyElements();for(const e of Array.from(this._modelCursor.parent.getChildren()))t.append(e,i);i.markers=function(e,t){const n=new Set,r=new Map,i=_._createIn(e).getItems();for(const e of i)"$marker"==e.name&&n.add(e);for(const e of n){const n=e.getAttribute("data-name"),i=t.createPositionBefore(e);r.has(n)?r.get(n).end=i.clone():r.set(n,new _(i.clone())),t.remove(e)}return r}(i,t)}return this._modelCursor=null,this._splitParts.clear(),this._cursorParents.clear(),this.conversionApi.writer=null,this.conversionApi.store=null,i}_convertItem(e,t){t=Object.assign({viewItem:e,modelCursor:t,modelRange:null});if(e.is("element")?this.fire("element:"+e.name,t,this.conversionApi):e.is("$text")?this.fire("text",t,this.conversionApi):this.fire("documentFragment",t,this.conversionApi),!t.modelRange||t.modelRange instanceof _)return{modelRange:t.modelRange,modelCursor:t.modelCursor};throw new h.a("view-conversion-dispatcher-incorrect-result",this)}_convertChildren(e,t){let n=t.is("position")?t:y._createAt(t,0);const r=new _(n);for(const t of Array.from(e.getChildren())){const e=this._convertItem(t,n);e.modelRange instanceof _&&(r.end=e.modelRange.end,n=e.modelCursor)}return{modelRange:r,modelCursor:n}}_safeInsert(e,t){t=this._splitToAllowedParent(e,t);return!!t&&(this.conversionApi.writer.insert(e,t.position),!0)}_updateConversionResult(e,t){const n=this._getSplitParts(e),r=this.conversionApi.writer;t.modelRange||(t.modelRange=r.createRange(r.createPositionBefore(e),r.createPositionAfter(n[n.length-1])));e=this._cursorParents.get(e);t.modelCursor=e?r.createPositionAt(e,0):t.modelRange.end}_splitToAllowedParent(e,t){const{schema:n,writer:r}=this.conversionApi;let i=n.findAllowedParent(t,e);if(i){if(i===t.parent)return{position:t};this._modelCursor.parent.getAncestors().includes(i)&&(i=null)}if(!i)return ra(t,e,n)?{position:ia(t,r)}:null;const o=this.conversionApi.writer.split(t,i),a=[];for(const e of o.range.getWalker())if("elementEnd"==e.type)a.push(e.item);else{const t=a.pop(),n=e.item;this._registerSplitPair(t,n)}t=o.range.end.parent;return this._cursorParents.set(e,t),{position:o.position,cursorParent:t}}_registerSplitPair(e,t){this._splitParts.has(e)||this._splitParts.set(e,[e]);const n=this._splitParts.get(e);this._splitParts.set(t,n),n.push(t)}_getSplitParts(e){return this._splitParts.has(e)?this._splitParts.get(e):[e]}_removeEmptyElements(){let e=!1;for(const t of this._splitParts.keys())t.isEmpty&&(this.conversionApi.writer.remove(t),this._splitParts.delete(t),e=!0);e&&this._removeEmptyElements()}}a(_a,o);class ka{constructor(e,t){this.model=e,this.stylesProcessor=t,this.processor=void 0,this.mapper=new Ro,this.downcastDispatcher=new jo({mapper:this.mapper,schema:e.schema}),this.downcastDispatcher.on("insert:$text",(e,t,n)=>{if(n.consumable.consume(t.item,"insert")){const r=n.writer,i=n.mapper.toViewPosition(t.range.start),o=r.createText(t.item.data);r.insert(i,o)}},{priority:"lowest"}),this.upcastDispatcher=new _a({schema:e.schema}),this.viewDocument=new Tr(t),this._viewWriter=new Jr(this.viewDocument),this.upcastDispatcher.on("text",(e,t,{schema:n,consumable:r,writer:i})=>{let o=t.modelCursor;if(r.test(t.viewItem)){if(!n.checkChild(o,"$text")){if(!ra(o,"$text",n))return;o=ia(o,i)}r.consume(t.viewItem);n=i.createText(t.viewItem.data);i.insert(n,o),t.modelRange=i.createRange(o,o.getShiftedBy(n.offsetSize)),t.modelCursor=t.modelRange.end}},{priority:"lowest"}),this.upcastDispatcher.on("element",(e,t,n)=>{if(!t.modelRange&&n.consumable.consume(t.viewItem,{name:!0})){const{modelRange:e,modelCursor:r}=n.convertChildren(t.viewItem,t.modelCursor);t.modelRange=e,t.modelCursor=r}},{priority:"lowest"}),this.upcastDispatcher.on("documentFragment",(e,t,n)=>{if(!t.modelRange&&n.consumable.consume(t.viewItem,{name:!0})){const{modelRange:e,modelCursor:r}=n.convertChildren(t.viewItem,t.modelCursor);t.modelRange=e,t.modelCursor=r}},{priority:"lowest"}),this.decorate("init"),this.decorate("set"),this.on("init",()=>{this.fire("ready")},{priority:"lowest"}),this.on("ready",()=>{this.model.enqueueChange("transparent",na)},{priority:"lowest"})}get(e={}){var{rootName:t="main",trim:n="empty"}=e;if(this._checkIfRootsExists([t]))return t=this.model.document.getRoot(t),"empty"!==n||this.model.hasContent(t,{ignoreWhitespaces:!0})?this.stringify(t,e):"";throw new h.a("datacontroller-get-non-existent-root",this)}stringify(e,t){e=this.toView(e,t);return this.processor.toData(e)}toView(e,t){const n=this.viewDocument,r=this._viewWriter;this.mapper.clearBindings();var i=_._createIn(e),o=new Xr(n);if(this.mapper.bindElements(e,o),this.downcastDispatcher.conversionApi.options=t,this.downcastDispatcher.convertInsert(i,r),!e.is("documentFragment")){const t=function(e){const t=[],n=e.root.document;if(!n)return[];const r=_._createIn(e);for(const e of n.model.markers){const n=r.getIntersection(e.getRange());n&&t.push([e.name,n])}return t}(e);for(const[e,n]of t)this.downcastDispatcher.convertMarkerAdd(e,n,r)}return delete this.downcastDispatcher.conversionApi.options,o}init(e){if(this.model.document.version)throw new h.a("datacontroller-init-document-not-empty",this);let r={};if("string"==typeof e?r.main=e:r=e,this._checkIfRootsExists(Object.keys(r)))return this.model.enqueueChange("transparent",e=>{for(const n of Object.keys(r)){var t=this.model.document.getRoot(n);e.insert(this.parse(r[n],t),t,0)}}),Promise.resolve();throw new h.a("datacontroller-init-non-existent-root",this)}set(e){let r={};if("string"==typeof e?r.main=e:r=e,!this._checkIfRootsExists(Object.keys(r)))throw new h.a("datacontroller-set-non-existent-root",this);this.model.enqueueChange("transparent",e=>{e.setSelection(null),e.removeSelectionAttribute(this.model.document.selection.getAttributeKeys());for(const n of Object.keys(r)){var t=this.model.document.getRoot(n);e.remove(e.createRangeIn(t)),e.insert(this.parse(r[n],t),t,0)}})}parse(e,t="$root"){e=this.processor.toView(e);return this.toModel(e,t)}toModel(t,n="$root"){return this.model.change(e=>this.upcastDispatcher.convert(t,e,n))}addStyleProcessorRules(e){e(this.stylesProcessor)}destroy(){this.stopListening()}_checkIfRootsExists(e){for(const t of e)if(!this.model.document.getRootNames().includes(t))return!1;return!0}}a(ka,l);class xa{constructor(e,t){this._helpers=new Map,this._downcast=Array.isArray(e)?e:[e],this._createConversionHelpers({name:"downcast",dispatchers:this._downcast,isDowncast:!0}),this._upcast=Array.isArray(t)?t:[t],this._createConversionHelpers({name:"upcast",dispatchers:this._upcast,isDowncast:!1})}addAlias(e,t){var n=this._downcast.includes(t);if(!this._upcast.includes(t)&&!n)throw new h.a("conversion-add-alias-dispatcher-not-registered",this);this._createConversionHelpers({name:e,dispatchers:[t],isDowncast:n})}for(e){if(this._helpers.has(e))return this._helpers.get(e);throw new h.a("conversion-for-unknown-group",this)}elementToElement(e){this.for("downcast").elementToElement(e);for(var{model:t,view:n}of Ca(e))this.for("upcast").elementToElement({model:t,view:n,converterPriority:e.converterPriority})}attributeToElement(e){this.for("downcast").attributeToElement(e);for(var{model:t,view:n}of Ca(e))this.for("upcast").elementToAttribute({view:n,model:t,converterPriority:e.converterPriority})}attributeToAttribute(e){this.for("downcast").attributeToAttribute(e);for(var{model:t,view:n}of Ca(e))this.for("upcast").attributeToAttribute({view:n,model:t})}_createConversionHelpers({name:e,dispatchers:t,isDowncast:n}){if(this._helpers.has(e))throw new h.a("conversion-group-exists",this);n=new(n?Ko:oa)(t);this._helpers.set(e,n)}}function*Ca(e){if(e.model.values)for(const t of e.model.values)yield*Sa({key:e.model.key,value:t},e.view[t],e.upcastAlso?e.upcastAlso[t]:void 0);else yield*Sa(e.model,e.view,e.upcastAlso)}function*Sa(e,t,n){if(yield{model:e,view:t},n)for(const t of n=Array.isArray(n)?n:[n])yield{model:e,view:t}}class Ta{constructor(e="default"){this.operations=[],this.type=e}get baseVersion(){for(const e of this.operations)if(null!==e.baseVersion)return e.baseVersion;return null}addOperation(e){return(e.batch=this).operations.push(e),e}}class $a{constructor(e){this.baseVersion=e,this.isDocumentOperation=null!==this.baseVersion,this.batch=null}_validate(){}toJSON(){const e=Object.assign({},this);return e.__className=this.constructor.className,delete e.batch,delete e.isDocumentOperation,e}static get className(){return"Operation"}static fromJSON(e){return new this(e.baseVersion)}}class Ea{constructor(e){this.markers=new Map,this._children=new Eo,e&&this._insertChild(0,e)}[Symbol.iterator](){return this.getChildren()}get childCount(){return this._children.length}get maxOffset(){return this._children.maxOffset}get isEmpty(){return 0===this.childCount}get root(){return this}get parent(){return null}is(e){return"documentFragment"===e||"model:documentFragment"===e}getChild(e){return this._children.getNode(e)}getChildren(){return this._children[Symbol.iterator]()}getChildIndex(e){return this._children.getNodeIndex(e)}getChildStartOffset(e){return this._children.getNodeStartOffset(e)}getPath(){return[]}getNodeByPath(e){let t=this;for(const n of e)t=t.getChild(t.offsetToIndex(n));return t}offsetToIndex(e){return this._children.offsetToIndex(e)}toJSON(){const e=[];for(const t of this._children)e.push(t.toJSON());return e}static fromJSON(e){const t=[];for(const n of e)n.name?t.push(b.fromJSON(n)):t.push(d.fromJSON(n));return new Ea(t)}_appendChild(e){this._insertChild(this.childCount,e)}_insertChild(e,t){t="string"==typeof(t=t)?[new d(t)]:(nn(t)||(t=[t]),Array.from(t).map(e=>"string"==typeof e?new d(e):e instanceof $o?new d(e.data,e.getAttributes()):e));for(const e of t)null!==e.parent&&e._remove(),e.parent=this;this._children._insertNodes(e,t)}_removeChildren(e,t=1){t=this._children._removeNodes(e,t);for(const e of t)e.parent=null;return t}}function Aa(e,t){const n=(t=Pa(t)).reduce((e,t)=>e+t.offsetSize,0),r=e.parent;Ra(e);var i=e.index;return r._insertChild(i,t),Da(r,i+t.length),Da(r,i),new _(e,e.getShiftedBy(n))}function Oa(e){if(!e.isFlat)throw new h.a("operation-utils-remove-range-not-flat",this);const t=e.start.parent;Ra(e.start),Ra(e.end);var n=t._removeChildren(e.start.index,e.end.index-e.start.index);return Da(t,e.start.index),n}function Ma(e,t){if(!e.isFlat)throw new h.a("operation-utils-move-range-not-flat",this);var n=Oa(e);Aa(t=t._getTransformedByDeletion(e.start,e.end.offset-e.start.offset),n)}function Pa(t){const n=[];t instanceof Array||(t=[t]);for(let e=0;e<t.length;e++)if("string"==typeof t[e])n.push(new d(t[e]));else if(t[e]instanceof $o)n.push(new d(t[e].data,t[e].getAttributes()));else if(t[e]instanceof Ea||t[e]instanceof Eo)for(const r of t[e])n.push(r);else t[e]instanceof To&&n.push(t[e]);for(let e=1;e<n.length;e++){const i=n[e],o=n[e-1];i instanceof d&&o instanceof d&&Ia(i,o)&&(n.splice(e-1,2,new d(o.data+i.data,o.getAttributes())),e--)}return n}function Da(e,t){const n=e.getChild(t-1),r=e.getChild(t);var i;n&&r&&n.is("$text")&&r.is("$text")&&Ia(n,r)&&(i=new d(n.data+r.data,n.getAttributes()),e._removeChildren(t-1,2),e._insertChild(t-1,i))}function Ra(e){const t=e.textNode,n=e.parent;var r,i;t&&(e=e.offset-t.startOffset,r=t.index,n._removeChildren(r,1),i=new d(t.data.substr(0,e),t.getAttributes()),e=new d(t.data.substr(e),t.getAttributes()),n._insertChild(r,[i,e]))}function Ia(e,t){const n=e.getAttributes(),r=t.getAttributes();for(const e of n){if(e[1]!==t.getAttribute(e[0]))return;r.next()}return r.next().done}function Na(e,t){return Vi(e,t)}class k extends $a{constructor(e,t,n,r,i){super(i),this.range=e.clone(),this.key=t,this.oldValue=void 0===n?null:n,this.newValue=void 0===r?null:r}get type(){return null===this.oldValue?"addAttribute":null===this.newValue?"removeAttribute":"changeAttribute"}clone(){return new k(this.range,this.key,this.oldValue,this.newValue,this.baseVersion)}getReversed(){return new k(this.range,this.key,this.newValue,this.oldValue,this.baseVersion+1)}toJSON(){const e=super.toJSON();return e.range=this.range.toJSON(),e}_validate(){if(!this.range.isFlat)throw new h.a("attribute-operation-range-not-flat",this);for(const e of this.range.getItems({shallow:!0})){if(null!==this.oldValue&&!Na(e.getAttribute(this.key),this.oldValue))throw new h.a("attribute-operation-wrong-old-value",this,{item:e,key:this.key,value:this.oldValue});if(null===this.oldValue&&null!==this.newValue&&e.hasAttribute(this.key))throw new h.a("attribute-operation-attribute-exists",this,{node:e,key:this.key})}}_execute(){if(!Na(this.oldValue,this.newValue)){var e=this.range,t=this.key,n=this.newValue;Ra(e.start),Ra(e.end);for(const r of e.getItems({shallow:!0})){const e=r.is("$textProxy")?r.textNode:r;null!==n?e._setAttribute(t,n):e._removeAttribute(t),Da(e.parent,e.index)}Da(e.end.parent,e.end.index)}}static get className(){return"AttributeOperation"}static fromJSON(e,t){return new k(_.fromJSON(e.range,t),e.key,e.oldValue,e.newValue,e.baseVersion)}}class ja extends $a{constructor(e,t){super(null),this.sourcePosition=e.clone(),this.howMany=t}get type(){return"detach"}toJSON(){const e=super.toJSON();return e.sourcePosition=this.sourcePosition.toJSON(),e}_validate(){if(this.sourcePosition.root.document)throw new h.a("detach-operation-on-document-node",this)}_execute(){Oa(_._createFromPositionAndShift(this.sourcePosition,this.howMany))}static get className(){return"DetachOperation"}}class x extends $a{constructor(e,t,n,r){super(r),this.sourcePosition=e.clone(),this.sourcePosition.stickiness="toNext",this.howMany=t,this.targetPosition=n.clone(),this.targetPosition.stickiness="toNone"}get type(){return"$graveyard"==this.targetPosition.root.rootName?"remove":"$graveyard"==this.sourcePosition.root.rootName?"reinsert":"move"}clone(){return new this.constructor(this.sourcePosition,this.howMany,this.targetPosition,this.baseVersion)}getMovedRangeStart(){return this.targetPosition._getTransformedByDeletion(this.sourcePosition,this.howMany)}getReversed(){var e=this.sourcePosition._getTransformedByInsertion(this.targetPosition,this.howMany);return new this.constructor(this.getMovedRangeStart(),this.howMany,e,this.baseVersion+1)}_validate(){const e=this.sourcePosition.parent,t=this.targetPosition.parent,n=this.sourcePosition.offset,r=this.targetPosition.offset;if(n+this.howMany>e.maxOffset)throw new h.a("move-operation-nodes-do-not-exist",this);if(e===t&&n<r&&r<n+this.howMany)throw new h.a("move-operation-range-into-itself",this);if(this.sourcePosition.root==this.targetPosition.root&&"prefix"==un(this.sourcePosition.getParentPath(),this.targetPosition.getParentPath())){const e=this.sourcePosition.path.length-1;if(this.targetPosition.path[e]>=n&&this.targetPosition.path[e]<n+this.howMany)throw new h.a("move-operation-node-into-itself",this)}}_execute(){Ma(_._createFromPositionAndShift(this.sourcePosition,this.howMany),this.targetPosition)}toJSON(){const e=super.toJSON();return e.sourcePosition=this.sourcePosition.toJSON(),e.targetPosition=this.targetPosition.toJSON(),e}static get className(){return"MoveOperation"}static fromJSON(e,t){var n=y.fromJSON(e.sourcePosition,t),t=y.fromJSON(e.targetPosition,t);return new this(n,e.howMany,t,e.baseVersion)}}class C extends $a{constructor(e,t,n){super(n),this.position=e.clone(),this.position.stickiness="toNone",this.nodes=new Eo(Pa(t)),this.shouldReceiveAttributes=!1}get type(){return"insert"}get howMany(){return this.nodes.maxOffset}clone(){const e=new Eo([...this.nodes].map(e=>e._clone(!0))),t=new C(this.position,e,this.baseVersion);return t.shouldReceiveAttributes=this.shouldReceiveAttributes,t}getReversed(){var e=this.position.root.document.graveyard,e=new y(e,[0]);return new x(this.position,this.nodes.maxOffset,e,this.baseVersion+1)}_validate(){var e=this.position.parent;if(!e||e.maxOffset<this.position.offset)throw new h.a("insert-operation-position-invalid",this)}_execute(){var e=this.nodes;this.nodes=new Eo([...e].map(e=>e._clone(!0))),Aa(this.position,e)}toJSON(){const e=super.toJSON();return e.position=this.position.toJSON(),e.nodes=this.nodes.toJSON(),e}static get className(){return"InsertOperation"}static fromJSON(e,t){const n=[];for(const t of e.nodes)t.name?n.push(b.fromJSON(t)):n.push(d.fromJSON(t));const r=new C(y.fromJSON(e.position,t),n,e.baseVersion);return r.shouldReceiveAttributes=e.shouldReceiveAttributes,r}}class La extends $a{constructor(e,t,n,r,i,o){super(o),this.name=e,this.oldRange=t?t.clone():null,this.newRange=n?n.clone():null,this.affectsData=i,this._markers=r}get type(){return"marker"}clone(){return new La(this.name,this.oldRange,this.newRange,this._markers,this.affectsData,this.baseVersion)}getReversed(){return new La(this.name,this.newRange,this.oldRange,this._markers,this.affectsData,this.baseVersion+1)}_execute(){var e=this.newRange?"_set":"_remove";this._markers[e](this.name,this.newRange,!0,this.affectsData)}toJSON(){const e=super.toJSON();return this.oldRange&&(e.oldRange=this.oldRange.toJSON()),this.newRange&&(e.newRange=this.newRange.toJSON()),delete e._markers,e}static get className(){return"MarkerOperation"}static fromJSON(e,t){return new La(e.name,e.oldRange?_.fromJSON(e.oldRange,t):null,e.newRange?_.fromJSON(e.newRange,t):null,t.model.markers,e.affectsData,e.baseVersion)}}class Va extends $a{constructor(e,t,n,r){super(r),this.position=e,this.position.stickiness="toNext",this.oldName=t,this.newName=n}get type(){return"rename"}clone(){return new Va(this.position.clone(),this.oldName,this.newName,this.baseVersion)}getReversed(){return new Va(this.position.clone(),this.newName,this.oldName,this.baseVersion+1)}_validate(){var e=this.position.nodeAfter;if(!(e instanceof b))throw new h.a("rename-operation-wrong-position",this);if(e.name!==this.oldName)throw new h.a("rename-operation-wrong-name",this)}_execute(){this.position.nodeAfter.name=this.newName}toJSON(){const e=super.toJSON();return e.position=this.position.toJSON(),e}static get className(){return"RenameOperation"}static fromJSON(e,t){return new Va(y.fromJSON(e.position,t),e.oldName,e.newName,e.baseVersion)}}class Fa extends $a{constructor(e,t,n,r,i){super(i),this.root=e,this.key=t,this.oldValue=n,this.newValue=r}get type(){return null===this.oldValue?"addRootAttribute":null===this.newValue?"removeRootAttribute":"changeRootAttribute"}clone(){return new Fa(this.root,this.key,this.oldValue,this.newValue,this.baseVersion)}getReversed(){return new Fa(this.root,this.key,this.newValue,this.oldValue,this.baseVersion+1)}_validate(){if(this.root!=this.root.root||this.root.is("documentFragment"))throw new h.a("rootattribute-operation-not-a-root",this,{root:this.root,key:this.key});if(null!==this.oldValue&&this.root.getAttribute(this.key)!==this.oldValue)throw new h.a("rootattribute-operation-wrong-old-value",this,{root:this.root,key:this.key});if(null===this.oldValue&&null!==this.newValue&&this.root.hasAttribute(this.key))throw new h.a("rootattribute-operation-attribute-exists",this,{root:this.root,key:this.key})}_execute(){null!==this.newValue?this.root._setAttribute(this.key,this.newValue):this.root._removeAttribute(this.key)}toJSON(){const e=super.toJSON();return e.root=this.root.toJSON(),e}static get className(){return"RootAttributeOperation"}static fromJSON(e,t){if(t.getRoot(e.root))return new Fa(t.getRoot(e.root),e.key,e.oldValue,e.newValue,e.baseVersion);throw new h.a("rootattribute-operation-fromjson-no-root",this,{rootName:e.root})}}class S extends $a{constructor(e,t,n,r,i){super(i),this.sourcePosition=e.clone(),this.sourcePosition.stickiness="toPrevious",this.howMany=t,this.targetPosition=n.clone(),this.targetPosition.stickiness="toNext",this.graveyardPosition=r.clone()}get type(){return"merge"}get deletionPosition(){return new y(this.sourcePosition.root,this.sourcePosition.path.slice(0,-1))}get movedRange(){var e=this.sourcePosition.getShiftedBy(Number.POSITIVE_INFINITY);return new _(this.sourcePosition,e)}clone(){return new this.constructor(this.sourcePosition,this.howMany,this.targetPosition,this.graveyardPosition,this.baseVersion)}getReversed(){const e=this.targetPosition._getTransformedByMergeOperation(this),t=this.sourcePosition.path.slice(0,-1),n=new y(this.sourcePosition.root,t)._getTransformedByMergeOperation(this),r=new T(e,this.howMany,this.graveyardPosition,this.baseVersion+1);return r.insertionPosition=n,r}_validate(){var e=this.sourcePosition.parent,t=this.targetPosition.parent;if(!e.parent)throw new h.a("merge-operation-source-position-invalid",this);if(!t.parent)throw new h.a("merge-operation-target-position-invalid",this);if(this.howMany!=e.maxOffset)throw new h.a("merge-operation-how-many-invalid",this)}_execute(){var e=this.sourcePosition.parent;Ma(_._createIn(e),this.targetPosition),Ma(_._createOn(e),this.graveyardPosition)}toJSON(){const e=super.toJSON();return e.sourcePosition=e.sourcePosition.toJSON(),e.targetPosition=e.targetPosition.toJSON(),e.graveyardPosition=e.graveyardPosition.toJSON(),e}static get className(){return"MergeOperation"}static fromJSON(e,t){var n=y.fromJSON(e.sourcePosition,t),r=y.fromJSON(e.targetPosition,t),t=y.fromJSON(e.graveyardPosition,t);return new this(n,e.howMany,r,t,e.baseVersion)}}class T extends $a{constructor(e,t,n,r){super(r),this.splitPosition=e.clone(),this.splitPosition.stickiness="toNext",this.howMany=t,this.insertionPosition=T.getInsertionPosition(e),this.insertionPosition.stickiness="toNone",this.graveyardPosition=n?n.clone():null,this.graveyardPosition&&(this.graveyardPosition.stickiness="toNext")}get type(){return"split"}get moveTargetPosition(){const e=this.insertionPosition.path.slice();return e.push(0),new y(this.insertionPosition.root,e)}get movedRange(){var e=this.splitPosition.getShiftedBy(Number.POSITIVE_INFINITY);return new _(this.splitPosition,e)}clone(){const e=new this.constructor(this.splitPosition,this.howMany,this.graveyardPosition,this.baseVersion);return e.insertionPosition=this.insertionPosition,e}getReversed(){var e=this.splitPosition.root.document.graveyard,e=new y(e,[0]);return new S(this.moveTargetPosition,this.howMany,this.splitPosition,e,this.baseVersion+1)}_validate(){var e=this.splitPosition.parent,t=this.splitPosition.offset;if(!e||e.maxOffset<t)throw new h.a("split-operation-position-invalid",this);if(!e.parent)throw new h.a("split-operation-split-in-root",this);if(this.howMany!=e.maxOffset-this.splitPosition.offset)throw new h.a("split-operation-how-many-invalid",this);if(this.graveyardPosition&&!this.graveyardPosition.nodeAfter)throw new h.a("split-operation-graveyard-position-invalid",this)}_execute(){const e=this.splitPosition.parent;var t;this.graveyardPosition?Ma(_._createFromPositionAndShift(this.graveyardPosition,1),this.insertionPosition):(t=e._clone(),Aa(this.insertionPosition,t)),Ma(new _(y._createAt(e,this.splitPosition.offset),y._createAt(e,e.maxOffset)),this.moveTargetPosition)}toJSON(){const e=super.toJSON();return e.splitPosition=this.splitPosition.toJSON(),e.insertionPosition=this.insertionPosition.toJSON(),this.graveyardPosition&&(e.graveyardPosition=this.graveyardPosition.toJSON()),e}static get className(){return"SplitOperation"}static getInsertionPosition(e){const t=e.path.slice(0,-1);return t[t.length-1]++,new y(e.root,t)}static fromJSON(e,t){const n=y.fromJSON(e.splitPosition,t),r=y.fromJSON(e.insertionPosition,t),i=e.graveyardPosition?y.fromJSON(e.graveyardPosition,t):null,o=new this(n,e.howMany,i,e.baseVersion);return o.insertionPosition=r,o}}class za extends b{constructor(e,t,n="main"){super(t),this._document=e,this.rootName=n}get document(){return this._document}is(e,t){return t?t===this.name&&("rootElement"===e||"model:rootElement"===e||"element"===e||"model:element"===e):"rootElement"===e||"model:rootElement"===e||"element"===e||"model:element"===e||"node"===e||"model:node"===e}toJSON(){return this.rootName}}class Ba{constructor(e,t){this.model=e,this.batch=t}createText(e,t){return new d(e,t)}createElement(e,t){return new b(e,t)}createDocumentFragment(){return new Ea}cloneElement(e,t=!0){return e._clone(t)}insert(e,t,n=0){if(this._assertWriterUsedCorrectly(),!(e instanceof d&&""==e.data)){var r=y._createAt(t,n);if(e.parent){if(qa(e.root,r.root))return void this.move(_._createOn(e),r);if(e.root.document)throw new h.a("model-writer-insert-forbidden-move",this);this.remove(e)}const i=r.root.document?r.root.document.version:null,o=new C(r,e,i);if(e instanceof d&&(o.shouldReceiveAttributes=!0),this.batch.addOperation(o),this.model.applyOperation(o),e instanceof Ea)for(const[t,n]of e.markers){const e=y._createAt(n.root,0),i={range:new _(n.start._getCombined(e,r),n.end._getCombined(e,r)),usingOperation:!0,affectsData:!0};this.model.markers.has(t)?this.updateMarker(t,i):this.addMarker(t,i)}}}insertText(e,t,n,r){t instanceof Ea||t instanceof b||t instanceof y?this.insert(this.createText(e),t,n):this.insert(this.createText(e,t),n,r)}insertElement(e,t,n,r){t instanceof Ea||t instanceof b||t instanceof y?this.insert(this.createElement(e),t,n):this.insert(this.createElement(e,t),n,r)}append(e,t){this.insert(e,t,"end")}appendText(e,t,n){t instanceof Ea||t instanceof b?this.insert(this.createText(e),t,"end"):this.insert(this.createText(e,t),n,"end")}appendElement(e,t,n){t instanceof Ea||t instanceof b?this.insert(this.createElement(e),t,"end"):this.insert(this.createElement(e,t),n,"end")}setAttribute(e,t,n){if(this._assertWriterUsedCorrectly(),n instanceof _){var r=n.getMinimalFlatRanges();for(const n of r)Ha(this,e,t,n)}else Ua(this,e,t,n)}setAttributes(e,t){for(var[n,r]of pn(e))this.setAttribute(n,r,t)}removeAttribute(e,t){if(this._assertWriterUsedCorrectly(),t instanceof _){var n=t.getMinimalFlatRanges();for(const t of n)Ha(this,e,null,t)}else Ua(this,e,null,t)}clearAttributes(e){this._assertWriterUsedCorrectly();var t=e=>{for(const t of e.getAttributeKeys())this.removeAttribute(t,e)};if(e instanceof _)for(const n of e.getItems())t(n);else t(e)}move(e,t,n){if(this._assertWriterUsedCorrectly(),!(e instanceof _))throw new h.a("writer-move-invalid-range",this);if(!e.isFlat)throw new h.a("writer-move-range-not-flat",this);const r=y._createAt(t,n);if(!r.isEqual(e.start)){if(this._addOperationForAffectedMarkers("move",e),!qa(e.root,r.root))throw new h.a("writer-move-different-document",this);t=e.root.document?e.root.document.version:null,n=new x(e.start,e.end.offset-e.start.offset,r,t);this.batch.addOperation(n),this.model.applyOperation(n)}}remove(t){this._assertWriterUsedCorrectly();var e=(t instanceof _?t:_._createOn(t)).getMinimalFlatRanges().reverse();for(const t of e){this._addOperationForAffectedMarkers("move",t);{n=void 0;r=void 0;i=void 0;o=void 0;var n=t.start;var r=t.end.offset-t.start.offset;var i=this.batch;var o=this.model;let e;if(n.root.document){const i=o.document,a=new y(i.graveyard,[0]);e=new x(n,r,a,i.version)}else e=new ja(n,r);i.addOperation(e),o.applyOperation(e)}}}merge(e){this._assertWriterUsedCorrectly();var t=e.nodeBefore,n=e.nodeAfter;if(this._addOperationForAffectedMarkers("merge",e),!(t instanceof b))throw new h.a("writer-merge-no-element-before",this);if(!(n instanceof b))throw new h.a("writer-merge-no-element-after",this);e.root.document?this._merge(e):this._mergeDetached(e)}createPositionFromPath(e,t,n){return this.model.createPositionFromPath(e,t,n)}createPositionAt(e,t){return this.model.createPositionAt(e,t)}createPositionAfter(e){return this.model.createPositionAfter(e)}createPositionBefore(e){return this.model.createPositionBefore(e)}createRange(e,t){return this.model.createRange(e,t)}createRangeIn(e){return this.model.createRangeIn(e)}createRangeOn(e){return this.model.createRangeOn(e)}createSelection(e,t,n){return this.model.createSelection(e,t,n)}_mergeDetached(e){var t=e.nodeBefore,e=e.nodeAfter;this.move(_._createIn(e),y._createAt(t,"end")),this.remove(e)}_merge(e){var t=y._createAt(e.nodeBefore,"end"),n=y._createAt(e.nodeAfter,0),r=e.root.document.graveyard,r=new y(r,[0]),i=e.root.document.version,n=new S(n,e.nodeAfter.maxOffset,t,r,i);this.batch.addOperation(n),this.model.applyOperation(n)}rename(e,t){if(this._assertWriterUsedCorrectly(),!(e instanceof b))throw new h.a("writer-rename-not-element-instance",this);var n=e.root.document?e.root.document.version:null,e=new Va(y._createBefore(e),e.name,t,n);this.batch.addOperation(e),this.model.applyOperation(e)}split(e,t){this._assertWriterUsedCorrectly();let n,r,i=e.parent;if(!i.parent)throw new h.a("writer-split-element-no-parent",this);if(t=t||i.parent,!e.parent.getAncestors({includeSelf:!0}).includes(t))throw new h.a("writer-split-invalid-limit-element",this);do{const t=i.root.document?i.root.document.version:null,o=i.maxOffset-e.offset,a=new T(e,o,null,t);this.batch.addOperation(a),this.model.applyOperation(a),n||r||(n=i,r=e.parent.nextSibling),i=(e=this.createPositionAfter(e.parent)).parent}while(i!==t);return{position:e,range:new _(y._createAt(n,"end"),y._createAt(r,0))}}wrap(e,t){if(this._assertWriterUsedCorrectly(),!e.isFlat)throw new h.a("writer-wrap-range-not-flat",this);t=t instanceof b?t:new b(t);if(0<t.childCount)throw new h.a("writer-wrap-element-not-empty",this);if(null!==t.parent)throw new h.a("writer-wrap-element-attached",this);this.insert(t,e.start);e=new _(e.start.getShiftedBy(1),e.end.getShiftedBy(1));this.move(e,y._createAt(t,0))}unwrap(e){if(this._assertWriterUsedCorrectly(),null===e.parent)throw new h.a("writer-unwrap-element-no-parent",this);this.move(_._createIn(e),this.createPositionAfter(e)),this.remove(e)}addMarker(e,t){if(this._assertWriterUsedCorrectly(),!t||"boolean"!=typeof t.usingOperation)throw new h.a("writer-addmarker-no-usingoperation",this);var n=t.usingOperation,r=t.range,t=void 0!==t.affectsData&&t.affectsData;if(this.model.markers.has(e))throw new h.a("writer-addmarker-marker-exists",this);if(r)return n?(Wa(this,e,null,r,t),this.model.markers.get(e)):this.model.markers._set(e,r,n,t);throw new h.a("writer-addmarker-no-range",this)}updateMarker(e,t){this._assertWriterUsedCorrectly();const n="string"==typeof e?e:e.name,r=this.model.markers.get(n);if(!r)throw new h.a("writer-updatemarker-marker-not-exists",this);if(t){var e="boolean"==typeof t.usingOperation,i="boolean"==typeof t.affectsData,o=(i?t:r).affectsData;if(!e&&!t.range&&!i)throw new h.a("writer-updatemarker-wrong-options",this);var i=r.getRange(),a=t.range||i;e&&t.usingOperation!==r.managedUsingOperations?t.usingOperation?Wa(this,n,null,a,o):(Wa(this,n,i,null,o),this.model.markers._set(n,a,void 0,o)):r.managedUsingOperations?Wa(this,n,i,a,o):this.model.markers._set(n,a,void 0,o)}else this.model.markers._refresh(r)}removeMarker(e){this._assertWriterUsedCorrectly();e="string"==typeof e?e:e.name;if(!this.model.markers.has(e))throw new h.a("writer-removemarker-no-marker",this);const t=this.model.markers.get(e);t.managedUsingOperations?Wa(this,e,t.getRange(),null,t.affectsData):this.model.markers._remove(e)}setSelection(e,t,n){this._assertWriterUsedCorrectly(),this.model.document.selection._setTo(e,t,n)}setSelectionFocus(e,t){this._assertWriterUsedCorrectly(),this.model.document.selection._setFocus(e,t)}setSelectionAttribute(e,t){if(this._assertWriterUsedCorrectly(),"string"==typeof e)this._setSelectionAttribute(e,t);else for(const[t,n]of pn(e))this._setSelectionAttribute(t,n)}removeSelectionAttribute(e){if(this._assertWriterUsedCorrectly(),"string"==typeof e)this._removeSelectionAttribute(e);else for(const t of e)this._removeSelectionAttribute(t)}overrideSelectionGravity(){return this.model.document.selection._overrideGravity()}restoreSelectionGravity(e){this.model.document.selection._restoreGravity(e)}_setSelectionAttribute(e,t){const n=this.model.document.selection;var r;n.isCollapsed&&n.anchor.parent.isEmpty&&(r=Uo._getStoreAttributeKey(e),this.setAttribute(r,t,n.anchor.parent)),n._setAttribute(e,t)}_removeSelectionAttribute(e){const t=this.model.document.selection;var n;t.isCollapsed&&t.anchor.parent.isEmpty&&(n=Uo._getStoreAttributeKey(e),this.removeAttribute(n,t.anchor.parent)),t._removeAttribute(e)}_assertWriterUsedCorrectly(){if(this.model._currentWriter!==this)throw new h.a("writer-incorrect-use",this)}_addOperationForAffectedMarkers(t,n){for(const i of this.model.markers)if(i.managedUsingOperations){var r=i.getRange();let e=!1;if("move"===t)e=n.containsPosition(r.start)||n.start.isEqual(r.start)||n.containsPosition(r.end)||n.end.isEqual(r.end);else{const t=n.nodeBefore,o=n.nodeAfter,a=r.start.parent==t&&r.start.isAtEnd,s=r.end.parent==o&&0==r.end.offset,l=r.end.nodeAfter==o,c=r.start.nodeAfter==o;e=a||s||l||c}e&&this.updateMarker(i.name,{range:r})}}}function Ha(n,r,i,e){const o=n.model,a=o.document;let s,l,t,c=e.start;for(const n of e.getWalker({shallow:!0}))t=n.item.getAttribute(r),s&&l!=t&&(l!=i&&u(),c=s),s=n.nextPosition,l=t;function u(){var e=new _(c,s),t=e.root.document?a.version:null,e=new k(e,r,l,i,t);n.batch.addOperation(e),o.applyOperation(e)}s instanceof y&&s!=c&&l!=i&&u()}function Ua(e,t,n,r){const i=e.model,o=i.document,a=r.getAttribute(t);let s,l;if(a!=n){if(r.root===r){const e=r.document?o.version:null;l=new Fa(r,t,a,n,e)}else{const i=(s=new _(y._createBefore(r),e.createPositionAfter(r))).root.document?o.version:null;l=new k(s,t,a,n,i)}e.batch.addOperation(l),i.applyOperation(l)}}function Wa(e,t,n,r,i){const o=e.model,a=o.document,s=new La(t,n,r,o.markers,i,a.version);e.batch.addOperation(s),o.applyOperation(s)}function qa(e,t){return e===t||e instanceof za&&t instanceof za}class Ya{constructor(e){this._markerCollection=e,this._changesInElement=new Map,this._elementSnapshots=new Map,this._changedMarkers=new Map,this._changeCount=0,this._cachedChanges=null,this._cachedChangesWithGraveyard=null}get isEmpty(){return 0==this._changesInElement.size&&0==this._changedMarkers.size}refreshItem(e){if(!this._isInInsertedElement(e.parent)){this._markRemove(e.parent,e.startOffset,e.offsetSize),this._markInsert(e.parent,e.startOffset,e.offsetSize);const t=_._createOn(e);for(const e of this._markerCollection.getMarkersIntersectingRange(t)){const t=e.getRange();this.bufferMarkerChange(e.name,t,t,e.affectsData)}this._cachedChanges=null}}bufferOperation(e){switch(e.type){case"insert":if(this._isInInsertedElement(e.position.parent))return;this._markInsert(e.position.parent,e.position.offset,e.nodes.maxOffset);break;case"addAttribute":case"removeAttribute":case"changeAttribute":for(const i of e.range.getItems({shallow:!0}))this._isInInsertedElement(i.parent)||this._markAttribute(i);break;case"remove":case"move":case"reinsert":if(e.sourcePosition.isEqual(e.targetPosition)||e.sourcePosition.getShiftedBy(e.howMany).isEqual(e.targetPosition))return;var t=this._isInInsertedElement(e.sourcePosition.parent),n=this._isInInsertedElement(e.targetPosition.parent);t||this._markRemove(e.sourcePosition.parent,e.sourcePosition.offset,e.howMany),n||this._markInsert(e.targetPosition.parent,e.getMovedRangeStart().offset,e.howMany);break;case"rename":if(this._isInInsertedElement(e.position.parent))return;this._markRemove(e.position.parent,e.position.offset,1),this._markInsert(e.position.parent,e.position.offset,1);t=_._createFromPositionAndShift(e.position,1);for(const e of this._markerCollection.getMarkersIntersectingRange(t)){var r=e.getRange();this.bufferMarkerChange(e.name,r,r,e.affectsData)}break;case"split":n=e.splitPosition.parent;this._isInInsertedElement(n)||this._markRemove(n,e.splitPosition.offset,e.howMany),this._isInInsertedElement(e.insertionPosition.parent)||this._markInsert(e.insertionPosition.parent,e.insertionPosition.offset,1),e.graveyardPosition&&this._markRemove(e.graveyardPosition.parent,e.graveyardPosition.offset,1);break;case"merge":t=e.sourcePosition.parent,n=(this._isInInsertedElement(t.parent)||this._markRemove(t.parent,t.startOffset,1),e.graveyardPosition.parent),n=(this._markInsert(n,e.graveyardPosition.offset,1),e.targetPosition.parent);this._isInInsertedElement(n)||this._markInsert(n,e.targetPosition.offset,t.maxOffset)}this._cachedChanges=null}bufferMarkerChange(e,t,n,r){const i=this._changedMarkers.get(e);i?(i.newRange=n,i.affectsData=r,null==i.oldRange&&null==i.newRange&&this._changedMarkers.delete(e)):this._changedMarkers.set(e,{oldRange:t,newRange:n,affectsData:r})}getMarkersToRemove(){const e=[];for(var[t,n]of this._changedMarkers)null!=n.oldRange&&e.push({name:t,range:n.oldRange});return e}getMarkersToAdd(){const e=[];for(var[t,n]of this._changedMarkers)null!=n.newRange&&e.push({name:t,range:n.newRange});return e}getChangedMarkers(){return Array.from(this._changedMarkers).map(e=>({name:e[0],data:{oldRange:e[1].oldRange,newRange:e[1].newRange}}))}hasDataChanges(){for(var[,e]of this._changedMarkers)if(e.affectsData)return!0;return 0<this._changesInElement.size}getChanges(r={includeChangesInGraveyard:!1}){if(this._cachedChanges)return(r.includeChangesInGraveyard?this._cachedChangesWithGraveyard:this._cachedChanges).slice();const i=[];for(const r of this._changesInElement.keys()){var e=this._changesInElement.get(r).sort((e,t)=>e.offset===t.offset?e.type!=t.type?"remove"==e.type?-1:1:0:e.offset<t.offset?-1:1),o=this._elementSnapshots.get(r),a=Ga(r.getChildren());let t=0,n=0;for(const c of function(t,e){const n=[];let r=0,i=0;for(const t of e){if(t.offset>r){for(let e=0;e<t.offset-r;e++)n.push("e");i+=t.offset-r}if("insert"==t.type){for(let e=0;e<t.howMany;e++)n.push("i");r=t.offset+t.howMany}else{if("remove"==t.type){for(let e=0;e<t.howMany;e++)n.push("r");r=t.offset}else n.push(..."a".repeat(t.howMany).split("")),r=t.offset+t.howMany;i+=t.howMany}}if(i<t)for(let e=0;e<t-i-r;e++)n.push("e");return n}(o.length,e))if("i"===c)i.push(this._getInsertDiff(r,t,a[t].name)),t++;else{if("r"===c)i.push(this._getRemoveDiff(r,t,o[n].name));else{if("a"===c){var s=a[t].attributes,l=o[n].attributes;let e;if("$text"==a[t].name)e=new _(y._createAt(r,t),y._createAt(r,t+1));else{const i=r.offsetToIndex(t);e=new _(y._createAt(r,t),y._createAt(r.getChild(i),0))}i.push(...this._getAttributesDiff(e,l,s))}t++}n++}}i.sort((e,t)=>e.position.root!=t.position.root?e.position.root.rootName<t.position.root.rootName?-1:1:e.position.isEqual(t.position)?e.changeCount-t.changeCount:e.position.isBefore(t.position)?-1:1);for(let e=1;e<i.length;e++){const t=i[e-1],n=i[e],u="remove"==t.type&&"remove"==n.type&&"$text"==t.name&&"$text"==n.name&&t.position.isEqual(n.position),d="insert"==t.type&&"insert"==n.type&&"$text"==t.name&&"$text"==n.name&&t.position.parent==n.position.parent&&t.position.offset+t.length==n.position.offset,h="attribute"==t.type&&"attribute"==n.type&&t.position.parent==n.position.parent&&t.range.isFlat&&n.range.isFlat&&t.position.offset+t.length==n.position.offset&&t.attributeKey==n.attributeKey&&t.attributeOldValue==n.attributeOldValue&&t.attributeNewValue==n.attributeNewValue;(u||d||h)&&(i[e-1].length++,h&&(i[e-1].range.end=i[e-1].range.end.getShiftedBy(1)),i.splice(e,1),e--)}for(const r of i)delete r.changeCount,"attribute"==r.type&&(delete r.position,delete r.length);return this._changeCount=0,this._cachedChangesWithGraveyard=i.slice(),this._cachedChanges=i.slice().filter(Ka),r.includeChangesInGraveyard?this._cachedChangesWithGraveyard:this._cachedChanges}reset(){this._changesInElement.clear(),this._elementSnapshots.clear(),this._changedMarkers.clear(),this._cachedChanges=null}_markInsert(e,t,n){t={type:"insert",offset:t,howMany:n,count:this._changeCount++};this._markChange(e,t)}_markRemove(e,t,n){var r={type:"remove",offset:t,howMany:n,count:this._changeCount++};this._markChange(e,r),this._removeAllNestedChanges(e,t,n)}_markAttribute(e){var t={type:"attribute",offset:e.startOffset,howMany:e.offsetSize,count:this._changeCount++};this._markChange(e.parent,t)}_markChange(e,t){this._makeSnapshot(e);const n=this._getChangesForElement(e);this._handleChange(t,n),n.push(t);for(let e=0;e<n.length;e++)n[e].howMany<1&&(n.splice(e,1),e--)}_getChangesForElement(e){let t;return this._changesInElement.has(e)?t=this._changesInElement.get(e):(t=[],this._changesInElement.set(e,t)),t}_makeSnapshot(e){this._elementSnapshots.has(e)||this._elementSnapshots.set(e,Ga(e.getChildren()))}_handleChange(e,t){e.nodesToHandle=e.howMany;for(const a of t){var n,r,i=e.offset+e.howMany,o=a.offset+a.howMany;if("insert"==e.type&&("insert"==a.type&&(e.offset<=a.offset?a.offset+=e.howMany:e.offset<o&&(a.howMany+=e.nodesToHandle,e.nodesToHandle=0)),"remove"==a.type&&e.offset<a.offset&&(a.offset+=e.howMany),"attribute"==a.type)&&(e.offset<=a.offset?a.offset+=e.howMany:e.offset<o&&(n=a.howMany,a.howMany=e.offset-a.offset,t.unshift({type:"attribute",offset:i,howMany:n-a.howMany,count:this._changeCount++}))),"remove"==e.type){if("insert"==a.type)if(i<=a.offset)a.offset-=e.howMany;else if(i<=o)if(e.offset<a.offset){const t=i-a.offset;a.offset=e.offset,a.howMany-=t,e.nodesToHandle-=t}else a.howMany-=e.nodesToHandle,e.nodesToHandle=0;else if(e.offset<=a.offset)e.nodesToHandle-=a.howMany,a.howMany=0;else if(e.offset<o){const t=o-e.offset;a.howMany-=t,e.nodesToHandle-=t}if("remove"==a.type&&(i<=a.offset?a.offset-=e.howMany:e.offset<a.offset&&(e.nodesToHandle+=a.howMany,a.howMany=0)),"attribute"==a.type)if(i<=a.offset)a.offset-=e.howMany;else if(e.offset<a.offset){const t=i-a.offset;a.offset=e.offset,a.howMany-=t}else e.offset<o&&(i<=o?(n=a.howMany,a.howMany=e.offset-a.offset,r=n-a.howMany-e.nodesToHandle,t.unshift({type:"attribute",offset:e.offset,howMany:r,count:this._changeCount++})):a.howMany-=o-e.offset)}if("attribute"==e.type){if("insert"==a.type)if(e.offset<a.offset&&i>a.offset){if(o<i){const e={type:"attribute",offset:o,howMany:i-o,count:this._changeCount++};this._handleChange(e,t),t.push(e)}e.nodesToHandle=a.offset-e.offset,e.howMany=e.nodesToHandle}else e.offset>=a.offset&&e.offset<o&&(o<i?(e.nodesToHandle=i-o,e.offset=o):e.nodesToHandle=0);"remove"==a.type&&e.offset<a.offset&&i>a.offset&&(r={type:"attribute",offset:a.offset,howMany:i-a.offset,count:this._changeCount++},this._handleChange(r,t),t.push(r),e.nodesToHandle=a.offset-e.offset,e.howMany=e.nodesToHandle),"attribute"==a.type&&(e.offset>=a.offset&&i<=o?(e.nodesToHandle=0,e.howMany=0,e.offset=0):e.offset<=a.offset&&o<=i&&(a.howMany=0))}}e.howMany=e.nodesToHandle,delete e.nodesToHandle}_getInsertDiff(e,t,n){return{type:"insert",position:y._createAt(e,t),name:n,length:1,changeCount:this._changeCount++}}_getRemoveDiff(e,t,n){return{type:"remove",position:y._createAt(e,t),name:n,length:1,changeCount:this._changeCount++}}_getAttributesDiff(e,t,n){const r=[];n=new Map(n);for(var[i,o]of t){const t=n.has(i)?n.get(i):null;t!==o&&r.push({type:"attribute",position:e.start,range:e.clone(),length:1,attributeKey:i,attributeOldValue:o,attributeNewValue:t,changeCount:this._changeCount++}),n.delete(i)}for(const[t,a]of n)r.push({type:"attribute",position:e.start,range:e.clone(),length:1,attributeKey:t,attributeOldValue:null,attributeNewValue:a,changeCount:this._changeCount++});return r}_isInInsertedElement(e){var t=e.parent;if(!t)return!1;var n=this._changesInElement.get(t),r=e.startOffset;if(n)for(const e of n)if("insert"==e.type&&r>=e.offset&&r<e.offset+e.howMany)return!0;return this._isInInsertedElement(t)}_removeAllNestedChanges(e,t,n){const r=new _(y._createAt(e,t),y._createAt(e,t+n));for(const e of r.getItems({shallow:!0}))e.is("element")&&(this._elementSnapshots.delete(e),this._changesInElement.delete(e),this._removeAllNestedChanges(e,0,e.maxOffset))}}function Ga(e){const t=[];for(const n of e)if(n.is("$text"))for(let e=0;e<n.data.length;e++)t.push({name:"$text",attributes:new Map(n.getAttributes())});else t.push({name:n.name,attributes:new Map(n.getAttributes())});return t}function Ka(e){var t=e.position&&"$graveyard"==e.position.root.rootName,e=e.range&&"$graveyard"==e.range.root.rootName;return!t&&!e}class Xa{constructor(){this._operations=[],this._undoPairs=new Map,this._undoneOperations=new Set}addOperation(e){this._operations.includes(e)||this._operations.push(e)}getOperations(e=Number.NEGATIVE_INFINITY,t=Number.POSITIVE_INFINITY){const n=[];for(const r of this._operations)r.baseVersion>=e&&r.baseVersion<t&&n.push(r);return n}getOperation(e){for(const t of this._operations)if(t.baseVersion==e)return t}setOperationAsUndone(e,t){this._undoPairs.set(t,e),this._undoneOperations.add(e)}isUndoingOperation(e){return this._undoPairs.has(e)}isUndoneOperation(e){return this._undoneOperations.has(e)}getUndoneOperation(e){return this._undoPairs.get(e)}}function Ja(e,t){return(n=e.charAt(t-1))&&1==n.length&&/[\ud800-\udbff]/.test(n)&&((n=e.charAt(t))&&1==n.length&&/[\udc00-\udfff]/.test(n));var n}function Qa(e,t){return(e=e.charAt(t))&&1==e.length&&/[\u0300-\u036f\u1ab0-\u1aff\u1dc0-\u1dff\u20d0-\u20ff\ufe20-\ufe2f]/.test(e)}class Za{constructor(e){this.model=e,this.version=0,this.history=new Xa(this),this.selection=new Uo(this),this.roots=new rn({idProperty:"rootName"}),this.differ=new Ya(e.markers),this._postFixers=new Set,this._hasSelectionChangedFromTheLastChangeBlock=!1,this.createRoot("$root","$graveyard"),this.listenTo(e,"applyOperation",(e,t)=>{t=t[0];if(t.isDocumentOperation&&t.baseVersion!==this.version)throw new h.a("model-document-applyoperation-wrong-version",this,{operation:t})},{priority:"highest"}),this.listenTo(e,"applyOperation",(e,t)=>{t=t[0];t.isDocumentOperation&&this.differ.bufferOperation(t)},{priority:"high"}),this.listenTo(e,"applyOperation",(e,t)=>{t=t[0];t.isDocumentOperation&&(this.version++,this.history.addOperation(t))},{priority:"low"}),this.listenTo(this.selection,"change",()=>{this._hasSelectionChangedFromTheLastChangeBlock=!0}),this.listenTo(e.markers,"update",(e,n,t,r)=>{this.differ.bufferMarkerChange(n.name,t,r,n.affectsData),null===t&&n.on("change",(e,t)=>{this.differ.bufferMarkerChange(n.name,t,n.getRange(),n.affectsData)})})}get graveyard(){return this.getRoot("$graveyard")}createRoot(e="$root",t="main"){if(this.roots.get(t))throw new h.a("model-document-createroot-name-exists",this,{name:t});e=new za(this,e,t);return this.roots.add(e),e}destroy(){this.selection.destroy(),this.stopListening()}getRoot(e="main"){return this.roots.get(e)}getRootNames(){return Array.from(this.roots,e=>e.rootName).filter(e=>"$graveyard"!=e)}registerPostFixer(e){this._postFixers.add(e)}toJSON(){const e=dn(this);return e.selection="[engine.model.DocumentSelection]",e.model="[engine.model.Model]",e}_handleChangeBlock(e){this._hasDocumentChangedFromTheLastChangeBlock()&&(this._callPostFixers(e),this.selection.refresh(),this.differ.hasDataChanges()?this.fire("change:data",e.batch):this.fire("change",e.batch),this.selection.refresh(),this.differ.reset()),this._hasSelectionChangedFromTheLastChangeBlock=!1}_hasDocumentChangedFromTheLastChangeBlock(){return!this.differ.isEmpty||this._hasSelectionChangedFromTheLastChangeBlock}_getDefaultRoot(){for(const e of this.roots)if(e!==this.graveyard)return e;return this.graveyard}_getDefaultRange(){const e=this._getDefaultRoot(),t=this.model,n=t.schema,r=t.createPositionFromPath(e,[0]);return n.getNearestSelectionRange(r)||t.createRange(r)}_validateSelectionRange(e){return es(e.start)&&es(e.end)}_callPostFixers(e){let t=!1;do{for(const n of this._postFixers)if(this.selection.refresh(),t=n(e),t)break}while(t)}}function es(e){var t,n=e.textNode;return!n||!Ja(t=n.data,e=e.offset-n.startOffset)&&!Qa(t,e)}a(Za,o);class ts{constructor(){this._markers=new Map}[Symbol.iterator](){return this._markers.values()}has(e){return this._markers.has(e)}get(e){return this._markers.get(e)||null}_set(t,n,r=!1,i=!1){const o=t instanceof ns?t.name:t;if(o.includes(","))throw new h.a("markercollection-incorrect-marker-name",this);const a=this._markers.get(o);if(a){const t=a.getRange();let e=!1;return t.isEqual(n)||(a._attachLiveRange(Ho.fromRange(n)),e=!0),r!=a.managedUsingOperations&&(a._managedUsingOperations=r,e=!0),"boolean"==typeof i&&i!=a.affectsData&&(a._affectsData=i,e=!0),e&&this.fire("update:"+o,a,t,n),a}t=Ho.fromRange(n),t=new ns(o,t,r,i);return this._markers.set(o,t),this.fire("update:"+o,t,null,n),t}_remove(e){const t=e instanceof ns?e.name:e,n=this._markers.get(t);return!!n&&(this._markers.delete(t),this.fire("update:"+t,n,n.getRange(),null),this._destroyMarker(n),!0)}_refresh(e){const t=e instanceof ns?e.name:e,n=this._markers.get(t);if(!n)throw new h.a("markercollection-refresh-marker-not-exists",this);e=n.getRange();this.fire("update:"+t,n,e,e,n.managedUsingOperations,n.affectsData)}*getMarkersAtPosition(e){for(const t of this)t.getRange().containsPosition(e)&&(yield t)}*getMarkersIntersectingRange(e){for(const t of this)null!==t.getRange().getIntersection(e)&&(yield t)}destroy(){for(const e of this._markers.values())this._destroyMarker(e);this._markers=null,this.stopListening()}*getMarkersGroup(e){for(const t of this._markers.values())t.name.startsWith(e+":")&&(yield t)}_destroyMarker(e){e.stopListening(),e._detachLiveRange()}}a(ts,o);class ns{constructor(e,t,n,r){this.name=e,this._liveRange=this._attachLiveRange(t),this._managedUsingOperations=n,this._affectsData=r}get managedUsingOperations(){if(this._liveRange)return this._managedUsingOperations;throw new h.a("marker-destroyed",this)}get affectsData(){if(this._liveRange)return this._affectsData;throw new h.a("marker-destroyed",this)}getStart(){if(this._liveRange)return this._liveRange.start.clone();throw new h.a("marker-destroyed",this)}getEnd(){if(this._liveRange)return this._liveRange.end.clone();throw new h.a("marker-destroyed",this)}getRange(){if(this._liveRange)return this._liveRange.toRange();throw new h.a("marker-destroyed",this)}is(e){return"marker"===e||"model:marker"===e}_attachLiveRange(e){return this._liveRange&&this._detachLiveRange(),e.delegate("change:range").to(this),e.delegate("change:content").to(this),this._liveRange=e}_detachLiveRange(){this._liveRange.stopDelegating("change:range",this),this._liveRange.stopDelegating("change:content",this),this._liveRange.detach(),this._liveRange=null}}a(ns,o);class rs extends $a{get type(){return"noop"}clone(){return new rs(this.baseVersion)}getReversed(){return new rs(this.baseVersion+1)}_execute(){}static get className(){return"NoOperation"}}const is={};is[k.className]=k,is[C.className]=C,is[La.className]=La,is[x.className]=x,is[rs.className]=rs,is[$a.className]=$a,is[Va.className]=Va,is[Fa.className]=Fa,is[T.className]=T,is[S.className]=S;class os extends y{constructor(e,t,n="toNone"){if(super(e,t,n),!this.root.is("rootElement"))throw new h.a("model-liveposition-root-not-rootelement",e);!function(){this.listenTo(this.root.document.model,"applyOperation",(e,t)=>{t=t[0];t.isDocumentOperation&&function(e){var t=this.getTransformedByOperation(e);if(!this.isEqual(t)){const e=this.toPosition();this.path=t.path,this.root=t.root,this.fire("change",e)}}.call(this,t)},{priority:"low"})}.call(this)}detach(){this.stopListening()}is(e){return"livePosition"===e||"model:livePosition"===e||"position"==e||"model:position"===e}toPosition(){return new y(this.root,this.path.slice(),this.stickiness)}static fromPosition(e,t){return new this(e.root,e.path.slice(),t||e.stickiness)}}a(os,o);class as{constructor(e,t,n){this.model=e,this.writer=t,this.position=n,this.canMergeWith=new Set([this.position.parent]),this.schema=e.schema,this._filterAttributesOf=[],this._affectedStart=null,this._affectedEnd=null}handleNodes(t,n){t=Array.from(t);for(let e=0;e<t.length;e++){var r=t[e];this._handleNode(r,{isFirst:0===e&&n.isFirst,isLast:e===t.length-1&&n.isLast})}this.schema.removeDisallowedAttributes(this._filterAttributesOf,this.writer),this._filterAttributesOf=[]}getSelectionRange(){return this.nodeToSelect?_._createOn(this.nodeToSelect):this.model.schema.getNearestSelectionRange(this.position)}getAffectedRange(){return this._affectedStart?new _(this._affectedStart,this._affectedEnd):null}destroy(){this._affectedStart&&this._affectedStart.detach(),this._affectedEnd&&this._affectedEnd.detach()}_handleNode(e,t){this.schema.isObject(e)?this._handleObject(e,t):this._checkAndSplitToAllowedPosition(e,t)?(this._insert(e),this._mergeSiblingsOf(e,t)):this._handleDisallowedNode(e,t)}_handleObject(e,t){this._checkAndSplitToAllowedPosition(e)?this._insert(e):this._tryAutoparagraphing(e,t)}_handleDisallowedNode(e,t){e.is("element")?this.handleNodes(e.getChildren(),t):this._tryAutoparagraphing(e,t)}_insert(e){if(!this.schema.checkChild(this.position,e))throw new h.a("insertcontent-wrong-position",this,{node:e,position:this.position});const t=os.fromPosition(this.position,"toNext");this._setAffectedBoundaries(this.position),this.writer.insert(e,this.position),this.position=t.toPosition(),t.detach(),this.schema.isObject(e)&&!this.schema.checkChild(this.position,"$text")?this.nodeToSelect=e:this.nodeToSelect=null,this._filterAttributesOf.push(e)}_setAffectedBoundaries(e){this._affectedStart||(this._affectedStart=os.fromPosition(e,"toPrevious")),this._affectedEnd&&!this._affectedEnd.isBefore(e)||(this._affectedEnd&&this._affectedEnd.detach(),this._affectedEnd=os.fromPosition(e,"toNext"))}_mergeSiblingsOf(e,t){if(e instanceof b){const n=this._canMergeLeft(e,t),r=this._canMergeRight(e,t),i=os._createBefore(e),o=(i.stickiness="toNext",os._createAfter(e));if(o.stickiness="toNext",n){const e=os.fromPosition(this.position);e.stickiness="toNext",this._affectedStart.isEqual(i)&&(this._affectedStart.detach(),this._affectedStart=os._createAt(i.nodeBefore,"end","toPrevious")),this.writer.merge(i),i.isEqual(this._affectedEnd)&&t.isLast&&(this._affectedEnd.detach(),this._affectedEnd=os._createAt(i.nodeBefore,"end","toNext")),this.position=e.toPosition(),e.detach()}if(r){if(!this.position.isEqual(o))throw new h.a("insertcontent-invalid-insertion-position",this);this.position=y._createAt(o.nodeBefore,"end");const e=os.fromPosition(this.position,"toPrevious");this._affectedEnd.isEqual(o)&&(this._affectedEnd.detach(),this._affectedEnd=os._createAt(o.nodeBefore,"end","toNext")),this.writer.merge(o),o.getShiftedBy(-1).isEqual(this._affectedStart)&&t.isFirst&&(this._affectedStart.detach(),this._affectedStart=os._createAt(o.nodeBefore,0,"toPrevious")),this.position=e.toPosition(),e.detach()}(n||r)&&this._filterAttributesOf.push(this.position.parent),i.detach(),o.detach()}}_canMergeLeft(e,t){var n=e.previousSibling;return t.isFirst&&n instanceof b&&this.canMergeWith.has(n)&&this.model.schema.checkMerge(n,e)}_canMergeRight(e,t){var n=e.nextSibling;return t.isLast&&n instanceof b&&this.canMergeWith.has(n)&&this.model.schema.checkMerge(e,n)}_tryAutoparagraphing(e,t){const n=this.writer.createElement("paragraph");this._getAllowedIn(n,this.position.parent)&&this.schema.checkChild(n,e)&&(n._appendChild(e),this._handleNode(n,t))}_checkAndSplitToAllowedPosition(e){var t=this._getAllowedIn(e,this.position.parent);if(!t)return!1;for(;t!=this.position.parent;){if(this.schema.isLimit(this.position.parent))return!1;if(this.position.isAtStart){const e=this.position.parent;this.position=this.writer.createPositionBefore(e),e.isEmpty&&e.parent===t&&this.writer.remove(e)}else if(this.position.isAtEnd)this.position=this.writer.createPositionAfter(this.position.parent);else{const e=this.writer.createPositionAfter(this.position.parent);this._setAffectedBoundaries(this.position),this.writer.split(this.position),this.position=e,this.canMergeWith.add(this.position.nodeAfter)}}return!0}_getAllowedIn(e,t){return this.schema.checkChild(t,e)?t:t.parent?this._getAllowedIn(e,t.parent):null}}function ss(e,d,h={}){if(!d.isCollapsed){const f=d.getFirstRange();if("$graveyard"!=f.root.rootName){const p=e.schema;e.change(e=>{if(!h.doNotResetEntireContent&&(s=p,t=d,c=s.getLimitElement(t),t.containsEntireContent(c)&&(t=t.getFirstRange()).start.parent!=t.end.parent?s.checkChild(c,"paragraph"):void 0))return t=d,c=(s=e).model.schema.getLimitElement(t),s.remove(s.createRangeIn(c)),void cs(s,s.createPositionAt(c,0),t);var t,n,r,i;const[o,a]=function(e){const t=e.root.document.model,n=e.start;let r=e.end;if(t.hasContent(e,{ignoreMarkers:!0})){const n=function(e){const t=e.parent,n=t.root.document.model.schema,r=t.getAncestors({parentFirst:!0,includeSelf:!0});for(const e of r){if(n.isLimit(e))return null;if(n.isBlock(e))return e}}(r);if(n&&r.isTouching(t.createPositionAt(n,0))){const n=t.createSelection(e);t.modifySelection(n,{direction:"backward"}),r=n.getLastPosition()}}return[os.fromPosition(n,"toPrevious"),os.fromPosition(r,"toNext")]}(f);if(o.isTouching(a)||e.remove(e.createRange(o,a)),!h.leaveUnmerged){{var s=e,l=o,c=a;const u=s.model;ls(s.model.schema,l,c)&&([t,n]=function(e){var t=l.getAncestors(),n=e.getAncestors();let r=0;for(;t[r]&&t[r]==n[r];)r++;return[t[r],n[r]]}(c),(!u.hasContent(t,{ignoreMarkers:!0})&&u.hasContent(n,{ignoreMarkers:!0})?function e(t,n,r,i){var o=n.parent,a=r.parent;if(o!=i&&a!=i){for(n=t.createPositionAfter(o),(r=t.createPositionBefore(a)).isEqual(n)||t.insert(o,r);n.parent.isEmpty;){const e=n.parent;n=t.createPositionBefore(e),t.remove(e)}r=t.createPositionBefore(a);{o=t,a=r;const s=a.nodeBefore,l=a.nodeAfter;s.name!=l.name&&o.rename(s,l.name),o.clearAttributes(s),o.setAttributes(Object.fromEntries(l.getAttributes()),s),o.merge(a)}ls(t.model.schema,n,r)&&e(t,n,r,i)}}:function e(t,n,r,i){var o=n.parent,a=r.parent;if(o!=i&&a!=i){for(n=t.createPositionAfter(o),(r=t.createPositionBefore(a)).isEqual(n)||t.insert(a,n),t.merge(n);r.parent.isEmpty;){const e=r.parent;r=t.createPositionBefore(e),t.remove(e)}ls(t.model.schema,n,r)&&e(t,n,r,i)}})(s,l,c,t.parent))}p.removeDisallowedAttributes(o.parent.getChildren(),e)}us(e,d,o),h.doNotAutoparagraph||(n=p,r=o,i=n.checkChild(r,"$text"),n=n.checkChild(r,"paragraph"),i||!n)||cs(e,o,d),o.detach(),a.detach()})}}}function ls(e,t,n){var r=t.parent,i=n.parent;return r!=i&&!e.isLimit(r)&&!e.isLimit(i)&&function(e,t,n){const r=new _(e,t);for(const e of r.getWalker())if(n.isLimit(e.item))return;return 1}(t,n,e)}function cs(e,t,n){var r=e.createElement("paragraph");e.insert(r,t),us(e,n,e.createPositionAt(r,0))}function us(e,t,n){t instanceof Uo?e.setSelection(n):t.setTo(n)}function ds(e,t){const{isForward:n,walker:r,unit:i,schema:o}=e,{type:a,item:s,nextPosition:l}=t;{if("text"!=a)return a==(n?"elementStart":"elementEnd")?o.isSelectable(s)?y._createAt(s,n?"after":"before"):o.checkChild(l,"$text")?l:void 0:o.isLimit(s)?void r.skip(()=>!0):o.checkChild(l,"$text")?l:void 0;if("word"===e.unit){var c=r,u=n,d;let t=c.position.textNode;if(t){let e=c.position.offset-t.startOffset;for(;!function(e,t,n){t+=n?0:-1;return' ,.?!:;"-()'.includes(e.charAt(t))}(t.data,e,u)&&(d=t,e!==(u?d.endOffset:0));){c.next();const g=u?c.position.nodeAfter:c.position.nodeBefore;g&&g.is("$text")&&(d=g.data.charAt(u?0:g.data.length-1),' ,.?!:;"-()'.includes(d)||(c.next(),t=c.position.textNode)),e=c.position.offset-t.startOffset}}return c.position}var h=r,f=i,p=h.position.textNode;if(p){var m=p.data;let e=h.position.offset-p.startOffset;for(;Ja(m,e)||"character"==f&&Qa(m,e);)h.next(),e=h.position.offset-p.startOffset}return h.position}}function hs(t,n){const r=[];Array.from(t.getItems({direction:"backward"})).map(e=>n.createRangeOn(e)).filter(e=>(e.start.isAfter(t.start)||e.start.isEqual(t.start))&&(e.end.isBefore(t.end)||e.end.isEqual(t.end))).forEach(e=>{r.push(e.start.parent),n.remove(e)}),r.forEach(e=>{let t=e;for(;t.parent&&t.isEmpty;){const e=n.createRangeOn(t);t=t.parent,n.remove(e)}})}function fs(s){s.document.registerPostFixer(t=>{{var n=t,r=s;const i=r.document.selection,o=r.schema,a=[];let e=!1;for(const n of i.getRanges()){const r=function(n,r){if(n.isCollapsed){var i=r;const e=n.start,t=i.getNearestSelectionRange(e);return t?t.isCollapsed?(i=t.start,e.isEqual(i)?null:new _(i)):t:null}{var o=n,i=r;const{start:a,end:s}=o,l=i.checkChild(a,"$text"),c=i.checkChild(s,"$text"),u=i.getLimitElement(a),d=i.getLimitElement(s);if(u===d){if(l&&c)return null;if(function(e,t,n){e=e.nodeAfter&&!n.isLimit(e.nodeAfter)||n.checkChild(e,"$text"),n=t.nodeBefore&&!n.isLimit(t.nodeBefore)||n.checkChild(t,"$text");return e||n}(a,s,i)){const o=a.nodeAfter&&i.isSelectable(a.nodeAfter)?null:i.getNearestSelectionRange(a,"forward"),l=s.nodeBefore&&i.isSelectable(s.nodeBefore)?null:i.getNearestSelectionRange(s,"backward"),c=o?o.start:a,u=l?l.start:s;return new _(c,u)}}n=u&&!u.is("rootElement"),r=d&&!d.is("rootElement");if(n||r){const o=a.nodeAfter&&s.nodeBefore&&a.nodeAfter.parent===s.nodeBefore.parent,l=n&&(!o||!ms(a.nodeAfter,i)),c=r&&(!o||!ms(s.nodeBefore,i));let e=a,t=s;return l&&(e=y._createBefore(ps(u,i))),c&&(t=y._createAfter(ps(d,i))),new _(e,t)}return null}}(n,o);r&&!r.isEqual(n)?(a.push(r),e=!0):a.push(n)}e&&n.setSelection(function(e){const t=[];t.push(e.shift());for(const i of e){const e=t.pop();var n,r;i.isIntersecting(e)?(r=(e.start.isAfter(i.start)?i:e).start,n=(e.end.isAfter(i.end)?e:i).end,r=new _(r,n),t.push(r)):(t.push(e),t.push(i))}return t}(a),{backward:i.isBackward})}})}function ps(e,t){let n=e,r=n;for(;t.isLimit(r)&&r.parent;)r=(n=r).parent;return n}function ms(e,t){return e&&t.isSelectable(e)}class gs{constructor(){this.markers=new ts,this.document=new Za(this),this.schema=new ga,this._pendingChanges=[],this._currentWriter=null,["insertContent","deleteContent","modifySelection","getSelectedContent","applyOperation"].forEach(e=>this.decorate(e)),this.on("applyOperation",(e,t)=>{t[0]._validate()},{priority:"highest"}),this.schema.register("$root",{isLimit:!0}),this.schema.register("$block",{allowIn:"$root",isBlock:!0}),this.schema.register("$text",{allowIn:"$block",isInline:!0,isContent:!0}),this.schema.register("$clipboardHolder",{allowContentOf:"$root",isLimit:!0}),this.schema.extend("$text",{allowIn:"$clipboardHolder"}),this.schema.register("$marker"),this.schema.addChildCheck((e,t)=>{if("$marker"===t.name)return!0}),fs(this),this.document.registerPostFixer(na)}change(e){try{return 0===this._pendingChanges.length?(this._pendingChanges.push({batch:new Ta,callback:e}),this._runPendingChanges()[0]):e(this._currentWriter)}catch(e){h.a.rethrowUnexpectedError(e,this)}}enqueueChange(e,t){try{"string"==typeof e?e=new Ta(e):"function"==typeof e&&(t=e,e=new Ta),this._pendingChanges.push({batch:e,callback:t}),1==this._pendingChanges.length&&this._runPendingChanges()}catch(e){h.a.rethrowUnexpectedError(e,this)}}applyOperation(e){e._execute()}insertContent(e,t,n){return o=e,a=t,s=n,(i=this).change(e=>{let t;(t=a?a instanceof Vo||a instanceof Uo?a:e.createSelection(a,s):i.document.selection).isCollapsed||i.deleteContent(t,{doNotAutoparagraph:!0});const n=new as(i,e,t.anchor);var r=o.is("documentFragment")?o.getChildren():[o],r=(n.handleNodes(r,{isFirst:!0,isLast:!0}),n.getSelectionRange()),e=(r&&(t instanceof Uo?e.setSelection(r):t.setTo(r)),n.getAffectedRange()||i.createRange(t.anchor));return n.destroy(),e});var i,o,a,s}deleteContent(e,t){ss(this,e,t)}modifySelection(e,t){{var[n,r,i={}]=[this,e,t],o;const a=n.schema,s="backward"!=i.direction,l=i.unit||"character",c=r.focus,u=new Ao({boundaries:(i=s,t=(e=c).root,t=y._createAt(t,i?"end":0),i?new _(e,t):new _(t,e)),singleCharacters:!0,direction:s?"forward":"backward"}),d={walker:u,schema:a,isForward:s,unit:l};for(;o=u.next();){if(o.done)return;const i=ds(d,o.value);if(i)return void(r instanceof Uo?n.change(e=>{e.setSelectionFocus(i)}):r.setFocus(i))}}}getSelectedContent(e){return l=e,this.change(t=>{const n=t.createDocumentFragment(),r=l.getFirstRange();if(r&&!r.isCollapsed){const o=r.start.root,a=r.start.getCommonPath(r.end),s=o.getNodeByPath(a);let e;var i=(e=r.start.parent==r.end.parent?r:t.createRange(t.createPositionAt(s,r.start.path[a.length]),t.createPositionAt(s,r.end.path[a.length]+1))).end.offset-e.start.offset;for(const l of e.getItems({shallow:!0}))l.is("$textProxy")?t.appendText(l.data,l.getAttributes(),n):t.append(t.cloneElement(l,!0),n);if(e!=r){const l=r._getTransformedByMove(e.start,t.createPositionAt(n,0),i)[0],o=t.createRange(t.createPositionAt(n,0),l.start);hs(t.createRange(l.end,t.createPositionAt(n,"end")),t),hs(o,t)}}return n});var l}hasContent(e,t={}){const n=e instanceof b?_._createIn(e):e;if(!n.isCollapsed){var{ignoreWhitespaces:r=!1,ignoreMarkers:e=!1}=t;if(!e)for(const e of this.markers.getMarkersIntersectingRange(n))if(e.affectsData)return!0;for(const e of n.getItems())if(this.schema.isContent(e)){if(!e.is("$textProxy"))return!0;if(!r)return!0;if(-1!==e.data.search(/\S/))return!0}}return!1}createPositionFromPath(e,t,n){return new y(e,t,n)}createPositionAt(e,t){return y._createAt(e,t)}createPositionAfter(e){return y._createAfter(e)}createPositionBefore(e){return y._createBefore(e)}createRange(e,t){return new _(e,t)}createRangeIn(e){return _._createIn(e)}createRangeOn(e){return _._createOn(e)}createSelection(e,t,n){return new Vo(e,t,n)}createBatch(e){return new Ta(e)}createOperationFromJSON(e){return class{static fromJSON(e,t){return is[e.__className].fromJSON(e,t)}}.fromJSON(e,this.document)}destroy(){this.document.destroy(),this.stopListening()}_runPendingChanges(){const e=[];for(this.fire("_beforeChanges");this._pendingChanges.length;){var t=this._pendingChanges[0].batch,t=(this._currentWriter=new Ba(this,t),this._pendingChanges[0].callback(this._currentWriter));e.push(t),this.document._handleChangeBlock(this._currentWriter),this._pendingChanges.shift(),this._currentWriter=null}return this.fire("_afterChanges"),e}}a(gs,l);class vs{constructor(){this._listener=Object.create(Mi)}listenTo(e){this._listener.listenTo(e,"keydown",(e,t)=>{this._listener.fire("_keydown:"+Lr(t),t)})}set(e,n,t={}){e=Vr(e),t=t.priority;this._listener.listenTo(this._listener,"_keydown:"+e,(e,t)=>{n(t,()=>{t.preventDefault(),t.stopPropagation(),e.stop()}),e.return=!0},{priority:t})}press(e){return!!this._listener.fire("_keydown:"+Lr(e),e)}destroy(){this._listener.stopListening()}}class bs extends vs{constructor(e){super(),this.editor=e}set(n,e,t={}){if("string"==typeof e){const n=e;e=(e,t)=>{this.editor.execute(n),t()}}super.set(n,e,t)}}class ys{constructor(e={}){this._context=e.context||new cn({language:e.language}),this._context._addEditor(this,!e.context);var t=Array.from(this.constructor.builtinPlugins||[]),e=(this.config=new Ft(e,this.constructor.defaultConfig),this.config.define("plugins",t),this.config.define(this._context._getEditorConfig()),this.plugins=new on(this,t,this._context.plugins),this.locale=this._context.locale,this.t=this.locale.t,this.commands=new fa,this.set("state","initializing"),this.once("ready",()=>this.state="ready",{priority:"high"}),this.once("destroy",()=>this.state="destroyed",{priority:"high"}),this.set("isReadOnly",!1),this.model=new gs,new tr);this.data=new ka(this.model,e),this.editing=new ha(this.model,e),this.editing.view.document.bind("isReadOnly").to(this),this.conversion=new xa([this.editing.downcastDispatcher,this.data.downcastDispatcher],this.data.upcastDispatcher),this.conversion.addAlias("dataDowncast",this.data.downcastDispatcher),this.conversion.addAlias("editingDowncast",this.editing.downcastDispatcher),this.keystrokes=new bs(this),this.keystrokes.listenTo(this.editing.view.document)}initPlugins(){const e=this.config,t=e.get("plugins"),n=e.get("removePlugins")||[],r=e.get("extraPlugins")||[];return this.plugins.init(t.concat(r),n)}destroy(){let e=Promise.resolve();return(e="initializing"==this.state?new Promise(e=>this.once("ready",e)):e).then(()=>{this.fire("destroy"),this.stopListening(),this.commands.destroy()}).then(()=>this.plugins.destroy()).then(()=>{this.model.destroy(),this.data.destroy(),this.editing.destroy(),this.keystrokes.destroy()}).then(()=>this._context._removeEditor(this))}execute(...e){try{return this.commands.execute(...e)}catch(e){h.a.rethrowUnexpectedError(e,this)}}}a(ys,l);gt={updateSourceElement(){if(!this.sourceElement)throw new h.a("editor-missing-sourceelement",this);var e=this.sourceElement,t=this.data.get();e instanceof HTMLTextAreaElement&&(e.value=t),e.innerHTML=t}};class ws{getHtml(e){const t=document.implementation.createHTMLDocument("").createElement("div");return t.appendChild(e),t.innerHTML}}class _s{constructor(e){this._domParser=new DOMParser,this._domConverter=new Ti(e,{blockFillerMode:"nbsp"}),this._htmlWriter=new ws}toData(e){e=this._domConverter.viewToDom(e,document);return this._htmlWriter.getHtml(e)}toView(e){e=this._toDom(e);return this._domConverter.domToView(e)}_toDom(e){const t=this._domParser.parseFromString(e,"text/html"),n=t.createDocumentFragment(),r=t.body.childNodes;for(;0<r.length;)n.appendChild(r[0]);return n}}class ks{constructor(e){this.editor=e,this._components=new Map}*names(){for(const e of this._components.values())yield e.originalName}add(e,t){this._components.set(xs(e),{callback:t,originalName:e})}create(e){if(this.has(e))return this._components.get(xs(e)).callback(this.editor.locale);throw new h.a("componentfactory-item-missing",this,{name:e})}has(e){return this._components.has(xs(e))}}function xs(e){return String(e).toLowerCase()}class Cs{constructor(){this.set("isFocused",!1),this.set("focusedElement",null),this._elements=new Set,this._nextEventLoopTimeout=null}add(e){if(this._elements.has(e))throw new h.a("focustracker-add-element-already-exist",this);this.listenTo(e,"focus",()=>this._focus(e),{useCapture:!0}),this.listenTo(e,"blur",()=>this._blur(),{useCapture:!0}),this._elements.add(e)}remove(e){e===this.focusedElement&&this._blur(e),this._elements.has(e)&&(this.stopListening(e),this._elements.delete(e))}destroy(){this.stopListening()}_focus(e){clearTimeout(this._nextEventLoopTimeout),this.focusedElement=e,this.isFocused=!0}_blur(){clearTimeout(this._nextEventLoopTimeout),this._nextEventLoopTimeout=setTimeout(()=>{this.focusedElement=null,this.isFocused=!1},0)}}a(Cs,Mi),a(Cs,l);class Ss{constructor(e){this.editor=e,this.componentFactory=new ks(e),this.focusTracker=new Cs,this._editableElementsMap=new Map,this.listenTo(e.editing.view.document,"layoutChanged",()=>this.update())}get element(){return null}update(){this.fire("update")}destroy(){this.stopListening(),this.focusTracker.destroy();for(const e of this._editableElementsMap.values())e.ckeditorInstance=null;this._editableElementsMap=new Map}setEditableElement(e,t){this._editableElementsMap.set(e,t),t.ckeditorInstance||(t.ckeditorInstance=this.editor)}getEditableElement(e="main"){return this._editableElementsMap.get(e)}getEditableElementsNames(){return this._editableElementsMap.keys()}get _editableElements(){return console.warn("editor-ui-deprecated-editable-elements: The EditorUI#_editableElements property has been deprecated and will be removed in the near future.",{editorUI:this}),this._editableElementsMap}}a(Ss,o),t(14);const Ts=new WeakMap;function $s(e){const{view:t,element:n,text:r,isDirectHost:i=!0}=e,o=t.document;Ts.has(o)||(Ts.set(o,new Map),o.registerPostFixer(e=>Es(o,e))),Ts.get(o).set(n,{text:r,isDirectHost:i}),t.change(e=>Es(o,e))}function Es(e,t){var n=Ts.get(e);let r=!1;for(const[e,i]of n)!function(e,t,n){const{text:r,isDirectHost:i}=n,o=i?t:function(e){if(1===e.childCount){const t=e.getChild(0);if(t.is("element")&&!t.is("uiElement"))return t}return null}(t);let a=!1;return o&&((n.hostElement=o).getAttribute("data-placeholder")!==r&&(e.setAttribute("data-placeholder",r,o),a=!0),function(e){var t,n;if(e.isAttached())return t=!Array.from(e.getChildren()).some(e=>!e.is("uiElement")),!(n=e.document).isFocused&&t||(n=n.selection.anchor,t&&n&&n.parent!==e)}(o)?function(e,t){return!t.hasClass("ck-placeholder")&&(e.addClass("ck-placeholder",t),1)}(e,o)&&(a=!0):function(e,t){return t.hasClass("ck-placeholder")&&(e.removeClass("ck-placeholder",t),1)}(e,o)&&(a=!0),a)}(t,e,i)||(r=!0);return r}class As{constructor(){this._replacedElements=[]}replace(e,t){this._replacedElements.push({element:e,newElement:t}),e.style.display="none",t&&e.parentNode.insertBefore(t,e.nextSibling)}restore(){this._replacedElements.forEach(({element:e,newElement:t})=>{e.style.display="",t&&t.remove()}),this._replacedElements=[]}}class Os extends Ss{constructor(e,t){super(e),this.view=t,this._toolbarConfig=(t=e.config.get("toolbar"),Array.isArray(t)?{items:t}:t?Object.assign({items:[]},t):{items:[]}),this._elementReplacer=new As}get element(){return this.view.element}init(e){const t=this.editor,n=this.view,r=t.editing.view,i=n.editable,o=r.document.getRoot();i.name=o.rootName,n.render();var a=i.element;this.setEditableElement(i.name,a),this.focusTracker.add(a),n.editable.bind("isFocused").to(this.focusTracker),r.attachDomRoot(a),e&&this._elementReplacer.replace(e,this.element),this._initPlaceholder(),this._initToolbar(),this.fire("ready")}destroy(){const e=this.view,t=this.editor.editing.view;this._elementReplacer.restore(),t.detachDomRoot(e.editable.name),e.destroy(),super.destroy()}_initToolbar(){const e=this.editor,t=this.view,n=e.editing.view;var r,i,o,a,s,l;t.stickyPanel.bind("isActive").to(this.focusTracker,"isFocused"),t.stickyPanel.limiterElement=t.element,this._toolbarConfig.viewportTopOffset&&(t.stickyPanel.viewportTopOffset=this._toolbarConfig.viewportTopOffset),t.toolbar.fillFromConfig(this._toolbarConfig.items,this.componentFactory),{origin:r,originKeystrokeHandler:i,originFocusTracker:o,toolbar:a,beforeFocus:s,afterBlur:l}={origin:n,originFocusTracker:this.focusTracker,originKeystrokeHandler:e.keystrokes,toolbar:t.toolbar},o.add(a.element),i.set("Alt+F10",(e,t)=>{o.isFocused&&!a.focusTracker.isFocused&&(s&&s(),a.focus(),t())}),a.keystrokes.set("Esc",(e,t)=>{a.focusTracker.isFocused&&(r.focus(),l&&l(),t())})}_initPlaceholder(){const e=this.editor,t=e.editing.view,n=t.document.getRoot(),r=e.sourceElement,i=e.config.get("placeholder")||r&&"textarea"===r.tagName.toLowerCase()&&r.getAttribute("placeholder");i&&$s({view:t,element:n,text:i,isDirectHost:!1})}}class Ms extends rn{constructor(e=[]){super(e,{idProperty:"viewUid"}),this.on("add",(e,t,n)=>{this._renderViewIntoCollectionParent(t,n)}),this.on("remove",(e,t)=>{t.element&&this._parentElement&&t.element.remove()}),this._parentElement=null}destroy(){this.map(e=>e.destroy())}setParent(e){this._parentElement=e;for(const e of this)this._renderViewIntoCollectionParent(e)}delegate(...r){if(r.length&&r.every(e=>"string"==typeof e))return{to:n=>{for(const e of this)for(const t of r)e.delegate(t).to(n);this.on("add",(e,t)=>{for(const e of r)t.delegate(e).to(n)}),this.on("remove",(e,t)=>{for(const e of r)t.stopDelegating(e,n)})}};throw new h.a("ui-viewcollection-delegate-wrong-events",this)}_renderViewIntoCollectionParent(e,t){e.isRendered||e.render(),e.element&&this._parentElement&&this._parentElement.insertBefore(e.element,this._parentElement.children[t])}}class Ps{constructor(e){Object.assign(this,Vs(Ls(e))),this._isRendered=!1,this._revertData=null}render(){var e=this._renderNode({intoFragment:!0});return this._isRendered=!0,e}apply(e){return this._revertData={children:[],bindings:[],attributes:{}},this._renderNode({node:e,isApplying:!0,revertData:this._revertData}),e}revert(e){if(!this._revertData)throw new h.a("ui-template-revert-not-applied",[this,e]);this._revertTemplateFromNode(e,this._revertData)}*getViews(){yield*function*e(t){if(t.children)for(const n of t.children)Us(n)?yield n:Ws(n)&&(yield*e(n))}(this)}static bind(r,i){return{to:(e,t)=>new Rs({eventNameOrFunction:e,attribute:e,observable:r,emitter:i,callback:t}),if:(e,t,n)=>new Is({observable:r,emitter:i,attribute:e,valueIfTrue:t,callback:n})}}static extend(e,t){if(e._isRendered)throw new h.a("template-extend-render",[this,e]);!function t(n,r){if(r.attributes&&(n.attributes||(n.attributes={}),Bs(n.attributes,r.attributes)),r.eventListeners&&(n.eventListeners||(n.eventListeners={}),Bs(n.eventListeners,r.eventListeners)),r.text&&n.text.push(...r.text),r.children&&r.children.length){if(n.children.length!=r.children.length)throw new h.a("ui-template-extend-children-mismatch",n);let e=0;for(const i of r.children)t(n.children[e++],i)}}(e,Vs(Ls(t)))}_renderNode(e){if(e.node?this.tag&&this.text:this.tag?this.text:!this.text)throw new h.a("ui-template-wrong-syntax",this);return this.text?this._renderText(e):this._renderElement(e)}_renderElement(e){let t=e.node;return t=t||(e.node=document.createElementNS(this.ns||"http://www.w3.org/1999/xhtml",this.tag)),this._renderAttributes(e),this._renderElementChildren(e),this._setUpListeners(e),t}_renderText(e){let t=e.node;return t?e.revertData.text=t.textContent:t=e.node=document.createTextNode(""),Ns(this.text)?this._bindToObservable({schema:this.text,updater:(n=t,{set(e){n.textContent=e},remove(){n.textContent=""}}),data:e}):t.textContent=this.text.join(""),t;var n}_renderAttributes(e){let t,n,r,i;if(this.attributes){const o=e.node,a=e.revertData;for(t in this.attributes)if(r=o.getAttribute(t),n=this.attributes[t],a&&(a.attributes[t]=r),i=w(n[0])&&n[0].ns?n[0].ns:null,Ns(n)){const s=i?n[0].value:n;a&&Ys(t)&&s.unshift(r),this._bindToObservable({schema:s,updater:function(t,n,r){return{set(e){t.setAttributeNS(r,n,e)},remove(){t.removeAttributeNS(r,n)}}}(o,t,i),data:e})}else"style"==t&&"string"!=typeof n[0]?this._renderStyleAttribute(n[0],e):(a&&r&&Ys(t)&&n.unshift(r),n=n.map(e=>e&&e.value||e).reduce((e,t)=>e.concat(t),[]).reduce(zs,""),Hs(n)||o.setAttributeNS(i,t,n))}}_renderStyleAttribute(e,t){const n=t.node;for(const i in e){var r=e[i];Ns(r)?this._bindToObservable({schema:[r],updater:function(t,n){return{set(e){t.style[n]=e},remove(){t.style[n]=null}}}(n,i),data:t}):n.style[i]=r}}_renderElementChildren(e){const t=e.node,n=e.intoFragment?document.createDocumentFragment():t,r=e.isApplying;let i=0;for(const o of this.children)if(qs(o)){if(!r){o.setParent(t);for(const e of o)n.appendChild(e.element)}}else if(Us(o))r||(o.isRendered||o.render(),n.appendChild(o.element));else if(yi(o))n.appendChild(o);else if(r){const t={children:[],bindings:[],attributes:{}};e.revertData.children.push(t),o._renderNode({node:n.childNodes[i++],isApplying:!0,revertData:t})}else n.appendChild(o.render());e.intoFragment&&t.appendChild(n)}_setUpListeners(r){if(this.eventListeners)for(const i in this.eventListeners){var e=this.eventListeners[i].map(e=>{var[t,n]=i.split("@");return e.activateDomEventListener(t,n,r)});r.revertData&&r.revertData.bindings.push(e)}}_bindToObservable({schema:t,updater:n,data:r}){const e=r.revertData;js(t,n,r);var i=t.filter(e=>!Hs(e)).filter(e=>e.observable).map(e=>e.activateAttributeListener(t,n,r));e&&e.bindings.push(i)}_revertTemplateFromNode(t,n){for(const t of n.bindings)for(const n of t)n();if(n.text)t.textContent=n.text;else{for(const r in n.attributes){var e=n.attributes[r];null===e?t.removeAttribute(r):t.setAttribute(r,e)}for(let e=0;e<n.children.length;++e)this._revertTemplateFromNode(t.childNodes[e],n.children[e])}}}a(Ps,o);class Ds{constructor(e){Object.assign(this,e)}getValue(e){var t=this.observable[this.attribute];return this.callback?this.callback(t,e):t}activateAttributeListener(e,t,n){const r=()=>js(e,t,n);return this.emitter.listenTo(this.observable,"change:"+this.attribute,r),()=>{this.emitter.stopListening(this.observable,"change:"+this.attribute,r)}}}class Rs extends Ds{activateDomEventListener(e,n,t){const r=(e,t)=>{n&&!t.target.matches(n)||("function"==typeof this.eventNameOrFunction?this.eventNameOrFunction(t):this.observable.fire(this.eventNameOrFunction,t))};return this.emitter.listenTo(t.node,e,r),()=>{this.emitter.stopListening(t.node,e,r)}}}class Is extends Ds{getValue(e){return!Hs(super.getValue(e))&&(this.valueIfTrue||!0)}}function Ns(e){return!!e&&(e.value&&(e=e.value),Array.isArray(e)?e.some(Ns):e instanceof Ds)}function js(e,t,{node:n}){i=n;let r=e.map(e=>e instanceof Ds?e.getValue(i):e);var i;Hs(r=1==e.length&&e[0]instanceof Is?r[0]:r.reduce(zs,""))?t.remove():t.set(r)}function Ls(e){return Rt(e,e=>{if(e&&(e instanceof Ds||Ws(e)||Us(e)||qs(e)))return e})}function Vs(e){if("string"==typeof e?e={text:[e]}:e.text&&(n=e,Array.isArray(n.text)||(n.text=[n.text])),e.on&&(e.eventListeners=function(e){for(const t in e)Fs(e,t);return e}(e.on),delete e.on),!e.text){if(e.attributes){var t=e.attributes;for(const i in t)t[i].value&&(t[i].value=[].concat(t[i].value)),Fs(t,i)}const r=[];if(e.children)if(qs(e.children))r.push(e.children);else for(const o of e.children)Ws(o)||Us(o)||yi(o)?r.push(o):r.push(new Ps(o));e.children=r}var n;return e}function Fs(e,t){Array.isArray(e[t])||(e[t]=[e[t]])}function zs(e,t){return Hs(t)?e:Hs(e)?t:e+" "+t}function Bs(e,t){for(const n in t)e[n]?e[n].push(...t[n]):e[n]=t[n]}function Hs(e){return!e&&0!==e}function Us(e){return e instanceof $}function Ws(e){return e instanceof Ps}function qs(e){return e instanceof Ms}function Ys(e){return"class"==e||"style"==e}t(16);class ${constructor(n){this.element=null,this.isRendered=!1,this.locale=n,this.t=n&&n.t,this._viewCollections=new rn,this._unboundChildren=this.createCollection(),this._viewCollections.on("add",(e,t)=>{t.locale=n}),this.decorate("render")}get bindTemplate(){return this._bindTemplate||(this._bindTemplate=Ps.bind(this,this))}createCollection(e){e=new Ms(e);return this._viewCollections.add(e),e}registerChild(e){for(const t of e=nn(e)?e:[e])this._unboundChildren.add(t)}deregisterChild(e){for(const t of e=nn(e)?e:[e])this._unboundChildren.remove(t)}setTemplate(e){this.template=new Ps(e)}extendTemplate(e){Ps.extend(this.template,e)}render(){if(this.isRendered)throw new h.a("ui-view-render-already-rendered",this);this.template&&(this.element=this.template.render(),this.registerChild(this.template.getViews())),this.isRendered=!0}destroy(){this.stopListening(),this._viewCollections.map(e=>e.destroy()),this.template&&this.template._revertData&&this.template.revert(this.element)}}a($,Mi),a($,l);function Gs(e){return"string"==typeof e||!Be(e)&&K(e)&&"[object String]"==Y(e)}class Ks extends Ms{constructor(e,t=[]){super(t),this.locale=e}attachToDom(){this._bodyCollectionContainer=new Ps({tag:"div",attributes:{class:["ck","ck-reset_all","ck-body","ck-rounded-corners"],dir:this.locale.uiLanguageDirection},children:this}).render();let e=document.querySelector(".ck-body-wrapper");e||(e=function(e,t,n=[]){const r=t.xmlns,i=r?e.createElementNS(r,"div"):e.createElement("div");for(const e in t)i.setAttribute(e,t[e]);for(var o of n=!Gs(n)&&nn(n)?n:[n])Gs(o)&&(o=e.createTextNode(o)),i.appendChild(o);return i}(document,{class:"ck-body-wrapper"}),document.body.appendChild(e)),e.appendChild(this._bodyCollectionContainer)}detachFromDom(){super.destroy(),this._bodyCollectionContainer&&this._bodyCollectionContainer.remove();const e=document.querySelector(".ck-body-wrapper");e&&0==e.childElementCount&&e.remove()}}t(18);class Xs extends ${constructor(e){super(e),this.body=new Ks(e)}render(){super.render(),this.body.attachToDom()}destroy(){return this.body.detachFromDom(),super.destroy()}}t(20);class Js extends ${constructor(e){super(e),this.set("text"),this.set("for"),this.id="ck-editor__label_"+qt();const t=this.bindTemplate;this.setTemplate({tag:"label",attributes:{class:["ck","ck-label"],id:this.id,for:t.to("for")},children:[{text:t.to("text")}]})}}class Qs extends Xs{constructor(e){super(e),this.top=this.createCollection(),this.main=this.createCollection(),this._voiceLabelView=this._createVoiceLabel(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-reset","ck-editor","ck-rounded-corners"],role:"application",dir:e.uiLanguageDirection,lang:e.uiLanguage,"aria-labelledby":this._voiceLabelView.id},children:[this._voiceLabelView,{tag:"div",attributes:{class:["ck","ck-editor__top","ck-reset_all"],role:"presentation"},children:this.top},{tag:"div",attributes:{class:["ck","ck-editor__main"],role:"presentation"},children:this.main}]})}_createVoiceLabel(){const e=this.t,t=new Js;return t.text=e("Rich Text Editor"),t.extendTemplate({attributes:{class:"ck-voice-label"}}),t}}class Zs extends ${constructor(e,t,n){super(e),this.setTemplate({tag:"div",attributes:{class:["ck","ck-content","ck-editor__editable","ck-rounded-corners"],lang:e.contentLanguage,dir:e.contentLanguageDirection}}),this.name=null,this.set("isFocused",!1),this._editableElement=n,this._hasExternalElement=!!this._editableElement,this._editingView=t}render(){super.render(),this._hasExternalElement?this.template.apply(this.element=this._editableElement):this._editableElement=this.element,this.on("change:isFocused",()=>this._updateIsFocusedClasses()),this._updateIsFocusedClasses()}destroy(){this._hasExternalElement&&this.template.revert(this._editableElement),super.destroy()}_updateIsFocusedClasses(){const o=this._editingView;function a(n){o.change(e=>{var t=o.document.getRoot(n.name);e.addClass(n.isFocused?"ck-focused":"ck-blurred",t),e.removeClass(n.isFocused?"ck-blurred":"ck-focused",t)})}(o.isRenderingInProgress?function r(i){o.once("change:isRenderingInProgress",(e,t,n)=>{(n?r:a)(i)})}:a)(this)}}class el extends Zs{constructor(e,t,n){super(e,t,n),this.extendTemplate({attributes:{role:"textbox",class:"ck-editor__editable_inline"}})}render(){super.render();const n=this._editingView,r=this.t;n.change(e=>{var t=n.document.getRoot(this.name);e.setAttribute("aria-label",r("Rich Text Editor, %0",this.name),t)})}}function tl(t){return e=>e+t}t(22);const nl=tl("px");class rl extends ${constructor(e){super(e);const t=this.bindTemplate;this.set("isActive",!1),this.set("isSticky",!1),this.set("limiterElement",null),this.set("limiterBottomOffset",50),this.set("viewportTopOffset",0),this.set("_marginLeft",null),this.set("_isStickyToTheLimiter",!1),this.set("_hasViewportTopOffset",!1),this.content=this.createCollection(),this._contentPanelPlaceholder=new Ps({tag:"div",attributes:{class:["ck","ck-sticky-panel__placeholder"],style:{display:t.to("isSticky",e=>e?"block":"none"),height:t.to("isSticky",e=>e?nl(this._panelRect.height):null)}}}).render(),this._contentPanel=new Ps({tag:"div",attributes:{class:["ck","ck-sticky-panel__content",t.if("isSticky","ck-sticky-panel__content_sticky"),t.if("_isStickyToTheLimiter","ck-sticky-panel__content_sticky_bottom-limit")],style:{width:t.to("isSticky",e=>e?nl(this._contentPanelPlaceholder.getBoundingClientRect().width):null),top:t.to("_hasViewportTopOffset",e=>e?nl(this.viewportTopOffset):null),bottom:t.to("_isStickyToTheLimiter",e=>e?nl(this.limiterBottomOffset):null),marginLeft:t.to("_marginLeft")}},children:this.content}).render(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-sticky-panel"]},children:[this._contentPanelPlaceholder,this._contentPanel]})}render(){super.render(),this._checkIfShouldBeSticky(),this.listenTo(u.window,"scroll",()=>{this._checkIfShouldBeSticky()}),this.listenTo(this,"change:isActive",()=>{this._checkIfShouldBeSticky()})}_checkIfShouldBeSticky(){var e=this._panelRect=this._contentPanel.getBoundingClientRect();let t;this.limiterElement?(t=this._limiterRect=this.limiterElement.getBoundingClientRect(),this.isSticky=this.isActive&&t.top<this.viewportTopOffset&&this._panelRect.height+this.limiterBottomOffset<t.height):this.isSticky=!1,this.isSticky?(this._isStickyToTheLimiter=t.bottom<e.height+this.limiterBottomOffset+this.viewportTopOffset,this._hasViewportTopOffset=!this._isStickyToTheLimiter&&!!this.viewportTopOffset,this._marginLeft=this._isStickyToTheLimiter?null:nl(-u.window.scrollX)):(this._isStickyToTheLimiter=!1,this._hasViewportTopOffset=!1,this._marginLeft=null)}}class il{constructor(t){if(Object.assign(this,t),t.actions&&t.keystrokeHandler)for(const n in t.actions){let e=t.actions[n];for(const r of e="string"==typeof e?[e]:e)t.keystrokeHandler.set(r,(e,t)=>{this[n](),t()})}}get first(){return this.focusables.find(ol)||null}get last(){return this.focusables.filter(ol).slice(-1)[0]||null}get next(){return this._getFocusableItem(1)}get previous(){return this._getFocusableItem(-1)}get current(){let n=null;return null===this.focusTracker.focusedElement?null:(this.focusables.find((e,t)=>{e=e.element===this.focusTracker.focusedElement;return e&&(n=t),e}),n)}focusFirst(){this._focus(this.first)}focusLast(){this._focus(this.last)}focusNext(){this._focus(this.next)}focusPrevious(){this._focus(this.previous)}_focus(e){e&&e.focus()}_getFocusableItem(t){const n=this.current,r=this.focusables.length;if(r){if(null===n)return this[1===t?"first":"last"];let e=(n+r+t)%r;do{const n=this.focusables.get(e);if(ol(n))return n}while((e=(e+r+t)%r)!==n)}return null}}function ol(e){return!(!e.focus||"none"==u.window.getComputedStyle(e.element).display)}class al extends ${constructor(e){super(e),this.setTemplate({tag:"span",attributes:{class:["ck","ck-toolbar__separator"]}})}}class E{constructor(e,t){E._observerInstance||E._createObserver(),this._element=e,this._callback=t,E._addElementCallback(e,t),E._observerInstance.observe(e)}destroy(){E._deleteElementCallback(this._element,this._callback)}static _addElementCallback(e,t){E._elementCallbacks||(E._elementCallbacks=new Map);let n=E._elementCallbacks.get(e);n||(n=new Set,E._elementCallbacks.set(e,n)),n.add(t)}static _deleteElementCallback(e,t){const n=E._getElementCallbacks(e);n&&(n.delete(t),n.size||(E._elementCallbacks.delete(e),E._observerInstance.unobserve(e))),E._elementCallbacks&&!E._elementCallbacks.size&&(E._observerInstance=null,E._elementCallbacks=null)}static _getElementCallbacks(e){return E._elementCallbacks?E._elementCallbacks.get(e):null}static _createObserver(){let e;e="function"==typeof u.window.ResizeObserver?u.window.ResizeObserver:sl,E._observerInstance=new e(e=>{for(const t of e){const e=E._getElementCallbacks(t.target);if(e)for(const n of e)n(t)}})}}E._observerInstance=null,E._elementCallbacks=null;class sl{constructor(e){this._callback=e,this._elements=new Set,this._previousRects=new Map,this._periodicCheckTimeout=null}observe(e){this._elements.add(e),this._checkElementRectsAndExecuteCallback(),1===this._elements.size&&this._startPeriodicCheck()}unobserve(e){this._elements.delete(e),this._previousRects.delete(e),this._elements.size||this._stopPeriodicCheck()}_startPeriodicCheck(){const e=()=>{this._checkElementRectsAndExecuteCallback(),this._periodicCheckTimeout=setTimeout(e,100)};this.listenTo(u.window,"resize",()=>{this._checkElementRectsAndExecuteCallback()}),this._periodicCheckTimeout=setTimeout(e,100)}_stopPeriodicCheck(){clearTimeout(this._periodicCheckTimeout),this.stopListening(),this._previousRects.clear()}_checkElementRectsAndExecuteCallback(){const e=[];for(const t of this._elements)this._hasRectChanged(t)&&e.push({target:t,contentRect:this._previousRects.get(t)});e.length&&this._callback(e)}_hasRectChanged(e){if(!e.ownerDocument.body.contains(e))return!1;const t=new v(e),n=this._previousRects.get(e),r=!n||!n.isEqual(t);return this._previousRects.set(e,t),r}}a(sl,Mi);class ll extends ${constructor(e){super(e);const t=this.bindTemplate;this.set("isVisible",!1),this.set("position","se"),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-reset","ck-dropdown__panel",t.to("position",e=>"ck-dropdown__panel_"+e),t.if("isVisible","ck-dropdown__panel-visible")]},children:this.children,on:{selectstart:t.to(e=>e.preventDefault())}})}focus(){this.children.length&&this.children.first.focus()}focusLast(){if(this.children.length){const e=this.children.last;"function"==typeof e.focusLast?e.focusLast():e.focus()}}}function cl({element:e,target:t,positions:n,limiter:r,fitInViewport:i}){oe(t)&&(t=t()),oe(r)&&(r=r());var o=e&&e.parentNode&&e.offsetParent!==u.document.body?e.offsetParent:null,a=new v(e),t=new v(t);let s,l;if(r||i){const e=function(e,t){const{elementRect:n,viewportRect:r}=t,i=n.getArea(),o=function(n,{targetRect:e,elementRect:t,limiterRect:r,viewportRect:i}){const o=[],a=t.getArea();for(const c of n){const n=ul(c,e,t);if(n){var[s,l]=n;let e=0,t=0;if(r)if(i){const n=r.getIntersection(i);n&&(e=n.getIntersectionArea(l))}else e=r.getIntersectionArea(l);i&&(t=i.getIntersectionArea(l));s={positionName:s,positionRect:l,limiterIntersectArea:e,viewportIntersectArea:t};if(e===a)return[s];o.push(s)}}return o}(e,t);if(r){const e=dl(o.filter(({viewportIntersectArea:e})=>e===i),i);if(e)return e}return dl(o,i)}(n,{targetRect:t,elementRect:a,limiterRect:r&&new v(r).getVisible(),viewportRect:i&&new v(u.window)});[l,s]=e||ul(n[0],t,a)}else[l,s]=ul(n[0],t,a);let c=hl(s);return{left:(c=o?([{left:e,top:r},i]=[c,o],n=hl(new v(i)),t=ho(i),e-=n.left,r-=n.top,e+=i.scrollLeft,r+=i.scrollTop,{left:e-=t.left,top:r-=t.top}):c).left,top:c.top,name:l}}function ul(e,t,n){var r,e=e(t,n);return e?({left:t,top:e,name:r}=e,[r,n.clone().moveTo(t,e)]):null}function dl(e,t){let n,r,i=0;for(var{positionName:o,positionRect:a,limiterIntersectArea:s,viewportIntersectArea:l}of e){if(s===t)return[o,a];const e=l**2+s**2;e>i&&(i=e,n=a,r=o)}return n?[r,n]:null}function hl({left:e,top:t}){var{scrollX:n,scrollY:r}=u.window;return{left:e+n,top:t+r}}t(24);class fl extends ${constructor(e,t,n){super(e);const r=this.bindTemplate;this.buttonView=t,this.panelView=n,this.set("isOpen",!1),this.set("isEnabled",!0),this.set("class"),this.set("id"),this.set("panelPosition","auto"),this.keystrokes=new vs,this.setTemplate({tag:"div",attributes:{class:["ck","ck-dropdown",r.to("class"),r.if("isEnabled","ck-disabled",e=>!e)],id:r.to("id"),"aria-describedby":r.to("ariaDescribedById")},children:[t,n]}),t.extendTemplate({attributes:{class:["ck-dropdown__button"]}})}render(){super.render(),this.listenTo(this.buttonView,"open",()=>{this.isOpen=!this.isOpen}),this.panelView.bind("isVisible").to(this,"isOpen"),this.on("change:isOpen",()=>{this.isOpen&&("auto"===this.panelPosition?this.panelView.position=fl._getOptimalPosition({element:this.panelView.element,target:this.buttonView.element,fitInViewport:!0,positions:this._panelPositions}).name:this.panelView.position=this.panelPosition)}),this.keystrokes.listenTo(this.element);var e=(e,t)=>{this.isOpen&&(this.buttonView.focus(),this.isOpen=!1,t())};this.keystrokes.set("arrowdown",(e,t)=>{this.buttonView.isEnabled&&!this.isOpen&&(this.isOpen=!0,t())}),this.keystrokes.set("arrowright",(e,t)=>{this.isOpen&&t()}),this.keystrokes.set("arrowleft",e),this.keystrokes.set("esc",e)}focus(){this.buttonView.focus()}get _panelPositions(){var{southEast:e,southWest:t,northEast:n,northWest:r}=fl.defaultPanelPositions;return"ltr"===this.locale.uiLanguageDirection?[e,t,n,r]:[t,e,r,n]}}fl.defaultPanelPositions={southEast:e=>({top:e.bottom,left:e.left,name:"se"}),southWest:(e,t)=>({top:e.bottom,left:e.left-t.width+e.width,name:"sw"}),northEast:(e,t)=>({top:e.top-t.height,left:e.left,name:"ne"}),northWest:(e,t)=>({top:e.bottom-t.height,left:e.left-t.width+e.width,name:"nw"})},fl._getOptimalPosition=cl,t(26);class pl extends ${constructor(){super();const e=this.bindTemplate;this.set("content",""),this.set("viewBox","0 0 20 20"),this.set("fillColor",""),this.setTemplate({tag:"svg",ns:"http://www.w3.org/2000/svg",attributes:{class:["ck","ck-icon"],viewBox:e.to("viewBox")}})}render(){super.render(),this._updateXMLContent(),this._colorFillPaths(),this.on("change:content",()=>{this._updateXMLContent(),this._colorFillPaths()}),this.on("change:fillColor",()=>{this._colorFillPaths()})}_updateXMLContent(){if(this.content){const e=(new DOMParser).parseFromString(this.content.trim(),"image/svg+xml").querySelector("svg"),t=e.getAttribute("viewBox");for(t&&(this.viewBox=t),this.element.innerHTML="";0<e.childNodes.length;)this.element.appendChild(e.childNodes[0])}}_colorFillPaths(){this.fillColor&&this.element.querySelectorAll(".ck-icon__fill").forEach(e=>{e.style.fill=this.fillColor})}}t(28);class ml extends ${constructor(e){super(e),this.set("text",""),this.set("position","s");const t=this.bindTemplate;this.setTemplate({tag:"span",attributes:{class:["ck","ck-tooltip",t.to("position",e=>"ck-tooltip_"+e),t.if("text","ck-hidden",e=>!e.trim())]},children:[{tag:"span",attributes:{class:["ck","ck-tooltip__text"]},children:[{text:t.to("text")}]}]})}}t(30);class A extends ${constructor(e){super(e);const t=this.bindTemplate,n=qt();this.set("class"),this.set("labelStyle"),this.set("icon"),this.set("isEnabled",!0),this.set("isOn",!1),this.set("isVisible",!0),this.set("isToggleable",!1),this.set("keystroke"),this.set("label"),this.set("tabindex",-1),this.set("tooltip"),this.set("tooltipPosition","s"),this.set("type","button"),this.set("withText",!1),this.set("withKeystroke",!1),this.children=this.createCollection(),this.tooltipView=this._createTooltipView(),this.labelView=this._createLabelView(n),this.iconView=new pl,this.iconView.extendTemplate({attributes:{class:"ck-button__icon"}}),this.keystrokeView=this._createKeystrokeView(),this.bind("_tooltipString").to(this,"tooltip",this,"label",this,"keystroke",this._getTooltipString.bind(this)),this.setTemplate({tag:"button",attributes:{class:["ck","ck-button",t.to("class"),t.if("isEnabled","ck-disabled",e=>!e),t.if("isVisible","ck-hidden",e=>!e),t.to("isOn",e=>e?"ck-on":"ck-off"),t.if("withText","ck-button_with-text"),t.if("withKeystroke","ck-button_with-keystroke")],type:t.to("type",e=>e||"button"),tabindex:t.to("tabindex"),"aria-labelledby":"ck-editor__aria-label_"+n,"aria-disabled":t.if("isEnabled",!0,e=>!e),"aria-pressed":t.to("isOn",e=>!!this.isToggleable&&String(e))},children:this.children,on:{mousedown:t.to(e=>{e.preventDefault()}),click:t.to(e=>{this.isEnabled?this.fire("execute"):e.preventDefault()})}})}render(){super.render(),this.icon&&(this.iconView.bind("content").to(this,"icon"),this.children.add(this.iconView)),this.children.add(this.tooltipView),this.children.add(this.labelView),this.withKeystroke&&this.children.add(this.keystrokeView)}focus(){this.element.focus()}_createTooltipView(){const e=new ml;return e.bind("text").to(this,"_tooltipString"),e.bind("position").to(this,"tooltipPosition"),e}_createLabelView(e){const t=new $,n=this.bindTemplate;return t.setTemplate({tag:"span",attributes:{class:["ck","ck-button__label"],style:n.to("labelStyle"),id:"ck-editor__aria-label_"+e},children:[{text:this.bindTemplate.to("label")}]}),t}_createKeystrokeView(){const e=new $;return e.setTemplate({tag:"span",attributes:{class:["ck","ck-button__keystroke"]},children:[{text:this.bindTemplate.to("keystroke",e=>Fr(e))}]}),e}_getTooltipString(e,t,n){return e?"string"==typeof e?e:(n=n&&Fr(n),e instanceof Function?e(t,n):t+(n?` (${n})`:"")):""}}var gl='<svg viewBox="0 0 10 10" xmlns="http://www.w3.org/2000/svg"><path d="M.941 4.523a.75.75 0 1 1 1.06-1.06l3.006 3.005 3.005-3.005a.75.75 0 1 1 1.06 1.06l-3.549 3.55a.75.75 0 0 1-1.168-.136L.941 4.523z"/></svg>';class vl extends A{constructor(e){super(e),this.arrowView=this._createArrowView(),this.extendTemplate({attributes:{"aria-haspopup":!0}}),this.delegate("execute").to(this,"open")}render(){super.render(),this.children.add(this.arrowView)}_createArrowView(){const e=new pl;return e.content=gl,e.extendTemplate({attributes:{class:"ck-dropdown__arrow"}}),e}}t(32);class bl extends ${constructor(){super(),this.items=this.createCollection(),this.focusTracker=new Cs,this.keystrokes=new vs,this._focusCycler=new il({focusables:this.items,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"arrowup",focusNext:"arrowdown"}}),this.setTemplate({tag:"ul",attributes:{class:["ck","ck-reset","ck-list"]},children:this.items})}render(){super.render();for(const e of this.items)this.focusTracker.add(e.element);this.items.on("add",(e,t)=>{this.focusTracker.add(t.element)}),this.items.on("remove",(e,t)=>{this.focusTracker.remove(t.element)}),this.keystrokes.listenTo(this.element)}focus(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}}class yl extends ${constructor(e){super(e),this.children=this.createCollection(),this.setTemplate({tag:"li",attributes:{class:["ck","ck-list__item"]},children:this.children})}focus(){this.children.first.focus()}}class wl extends ${constructor(e){super(e),this.setTemplate({tag:"li",attributes:{class:["ck","ck-list__separator"]}})}}t(34);class _l extends A{constructor(e){super(e),this.isToggleable=!0,this.toggleSwitchView=this._createToggleView(),this.extendTemplate({attributes:{class:"ck-switchbutton"}})}render(){super.render(),this.children.add(this.toggleSwitchView)}_createToggleView(){const e=new $;return e.setTemplate({tag:"span",attributes:{class:["ck","ck-button__toggle"]},children:[{tag:"span",attributes:{class:["ck","ck-button__toggle__inner"]}}]}),e}}function kl({emitter:e,activator:r,callback:i,contextElements:o}){e.listenTo(document,"mousedown",(e,t)=>{if(r()){const n="function"==typeof t.composedPath?t.composedPath():[];for(const e of o)if(e.contains(t.target)||n.includes(e))return;i()}})}function xl(e,t=vl){const n=new t(e),r=new ll(e),i=new fl(e,n,r);return n.bind("isEnabled").to(i),(n instanceof vl?n:n.arrowView).bind("isOn").to(i,"isOpen"),(s=t=i).on("render",()=>{kl({emitter:s,activator:()=>s.isOpen,callback:()=>{s.isOpen=!1},contextElements:[s.element]})}),(a=t).on("execute",e=>{e.source instanceof _l||(a.isOpen=!1)}),(o=t).keystrokes.set("arrowdown",(e,t)=>{o.isOpen&&(o.panelView.focus(),t())}),o.keystrokes.set("arrowup",(e,t)=>{o.isOpen&&(o.panelView.focusLast(),t())}),i;var o,a,s}function Cl(e,t){const i=e.locale,n=e.listView=new bl(i);n.items.bindTo(t).using(({type:t,model:n})=>{if("separator"===t)return new wl(i);if("button"===t||"switchbutton"===t){const r=new yl(i);let e;return(e=new("button"===t?A:_l)(i)).bind(...Object.keys(n)).to(n),e.delegate("execute").to(r),r.children.add(e),r}}),e.panelView.children.add(n),n.items.delegate("execute").to(e)}t(36),t(38),t(40);class Sl extends ${constructor(e,t){super(e);const n=this.bindTemplate,r=this.t;var i;this.options=t||{},this.set("ariaLabel",r("Editor toolbar")),this.set("maxWidth","auto"),this.items=this.createCollection(),this.focusTracker=new Cs,this.keystrokes=new vs,this.set("class"),this.set("isCompact",!1),this.itemsView=new Tl(e),this.children=this.createCollection(),this.children.add(this.itemsView),this.focusables=this.createCollection(),this._focusCycler=new il({focusables:this.focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:["arrowleft","arrowup"],focusNext:["arrowright","arrowdown"]}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-toolbar",n.to("class"),n.if("isCompact","ck-toolbar_compact")],role:"toolbar","aria-label":n.to("ariaLabel"),style:{maxWidth:n.to("maxWidth")}},children:this.children,on:{mousedown:(i=this).bindTemplate.to(e=>{e.target===i.element&&e.preventDefault()})}}),this._behavior=new(this.options.shouldGroupWhenFull?El:$l)(this)}render(){super.render();for(const e of this.items)this.focusTracker.add(e.element);this.items.on("add",(e,t)=>{this.focusTracker.add(t.element)}),this.items.on("remove",(e,t)=>{this.focusTracker.remove(t.element)}),this.keystrokes.listenTo(this.element),this._behavior.render(this)}destroy(){return this._behavior.destroy(),super.destroy()}focus(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}fillFromConfig(e,t){this.items.addMany(e.map(e=>"|"==e?new al:t.has(e)?t.create(e):void Object(h.c)("toolbarview-item-unavailable",{name:e})).filter(e=>void 0!==e))}}class Tl extends ${constructor(e){super(e),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-toolbar__items"]},children:this.children})}}class $l{constructor(e){const t=e.bindTemplate;e.set("isVertical",!1),e.itemsView.children.bindTo(e.items).using(e=>e),e.focusables.bindTo(e.items).using(e=>e),e.extendTemplate({attributes:{class:[t.if("isVertical","ck-toolbar_vertical")]}})}render(){}destroy(){}}class El{constructor(e){this.view=e,this.viewChildren=e.children,this.viewFocusables=e.focusables,this.viewItemsView=e.itemsView,this.viewFocusTracker=e.focusTracker,this.viewLocale=e.locale,this.ungroupedItems=e.createCollection(),this.groupedItems=e.createCollection(),this.groupedItemsDropdown=this._createGroupedItemsDropdown(),this.resizeObserver=null,this.cachedPadding=null,this.shouldUpdateGroupingOnNextResize=!1,e.itemsView.children.bindTo(this.ungroupedItems).using(e=>e),this.ungroupedItems.on("add",this._updateFocusCycleableItems.bind(this)),this.ungroupedItems.on("remove",this._updateFocusCycleableItems.bind(this)),e.children.on("add",this._updateFocusCycleableItems.bind(this)),e.children.on("remove",this._updateFocusCycleableItems.bind(this)),e.items.on("change",(e,t)=>{var n=t.index;for(const e of t.removed)(n>=this.ungroupedItems.length?this.groupedItems:this.ungroupedItems).remove(e);for(let e=n;e<n+t.added.length;e++){var r=t.added[e-n];e>this.ungroupedItems.length?this.groupedItems.add(r,e-this.ungroupedItems.length):this.ungroupedItems.add(r,e)}this._updateGrouping()}),e.extendTemplate({attributes:{class:["ck-toolbar_grouping"]}})}render(e){this.viewElement=e.element,this._enableGroupingOnResize(),this._enableGroupingOnMaxWidthChange(e)}destroy(){this.groupedItemsDropdown.destroy(),this.resizeObserver.destroy()}_updateGrouping(){if(this.viewElement.ownerDocument.body.contains(this.viewElement))if(this.viewElement.offsetParent){var t=this.groupedItems.length;let e;for(;this._areItemsOverflowing;)this._groupLastItem(),e=!0;if(!e&&this.groupedItems.length){for(;this.groupedItems.length&&!this._areItemsOverflowing;)this._ungroupFirstItem();this._areItemsOverflowing&&this._groupLastItem()}this.groupedItems.length!==t&&this.view.fire("groupedItemsUpdate")}else this.shouldUpdateGroupingOnNextResize=!0}get _areItemsOverflowing(){if(!this.ungroupedItems.length)return!1;const e=this.viewElement,t=this.viewLocale.uiLanguageDirection,n=new v(e.lastChild),r=new v(e);if(!this.cachedPadding){const n=u.window.getComputedStyle(e),r="ltr"===t?"paddingRight":"paddingLeft";this.cachedPadding=Number.parseInt(n[r])}return"ltr"===t?n.right>r.right-this.cachedPadding:n.left<r.left+this.cachedPadding}_enableGroupingOnResize(){let t;this.resizeObserver=new E(this.viewElement,e=>{t&&t===e.contentRect.width&&!this.shouldUpdateGroupingOnNextResize||(this.shouldUpdateGroupingOnNextResize=!1,this._updateGrouping(),t=e.contentRect.width)}),this._updateGrouping()}_enableGroupingOnMaxWidthChange(e){e.on("change:maxWidth",()=>{this._updateGrouping()})}_groupLastItem(){this.groupedItems.length||(this.viewChildren.add(new al),this.viewChildren.add(this.groupedItemsDropdown),this.viewFocusTracker.add(this.groupedItemsDropdown.element)),this.groupedItems.add(this.ungroupedItems.remove(this.ungroupedItems.last),0)}_ungroupFirstItem(){this.ungroupedItems.add(this.groupedItems.remove(this.groupedItems.first)),this.groupedItems.length||(this.viewChildren.remove(this.groupedItemsDropdown),this.viewChildren.remove(this.viewChildren.last),this.viewFocusTracker.remove(this.groupedItemsDropdown.element))}_createGroupedItemsDropdown(){const e=this.viewLocale,t=e.t,n=xl(e);n.class="ck-toolbar__grouped-dropdown",n.panelPosition="ltr"===e.uiLanguageDirection?"sw":"se";{var r=n;const i=r.locale,o=i.t,a=r.toolbarView=new Sl(i);a.set("ariaLabel",o("Dropdown toolbar")),r.extendTemplate({attributes:{class:["ck-toolbar-dropdown"]}}),[].map(e=>a.items.add(e)),r.panelView.children.add(a),a.items.delegate("execute").to(r)}return n.buttonView.set({label:t("Show more items"),tooltip:!0,icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><circle cx="9.5" cy="4.5" r="1.5"/><circle cx="9.5" cy="10.5" r="1.5"/><circle cx="9.5" cy="16.5" r="1.5"/></svg>'}),n.toolbarView.items.bindTo(this.groupedItems).using(e=>e),n}_updateFocusCycleableItems(){this.viewFocusables.clear(),this.ungroupedItems.map(e=>{this.viewFocusables.add(e)}),this.groupedItems.length&&this.viewFocusables.add(this.groupedItemsDropdown)}}t(42);class Al extends Qs{constructor(e,t,n={}){super(e),this.stickyPanel=new rl(e),this.toolbar=new Sl(e,{shouldGroupWhenFull:n.shouldToolbarGroupWhenFull}),this.editable=new el(e,t)}render(){super.render(),this.stickyPanel.content.add(this.toolbar),this.top.add(this.stickyPanel),this.main.add(this.editable)}}class Ol extends ys{constructor(e,t){super(t),Vt(e)&&(this.sourceElement=e),this.data.processor=new _s(this.data.viewDocument),this.model.document.createRoot();t=!this.config.get("toolbar.shouldNotGroupWhenFull"),e=new Al(this.locale,this.editing.view,{shouldToolbarGroupWhenFull:t});this.ui=new Os(this,e);{var n=this;if(!oe(n.updateSourceElement))throw new h.a("attachtoform-missing-elementapi-interface",n);const r=n.sourceElement;if(r&&"textarea"===r.tagName.toLowerCase()&&r.form){let e;const i=r.form,o=()=>n.updateSourceElement();oe(i.submit)&&(e=i.submit,i.submit=()=>{o(),e.apply(i)}),i.addEventListener("submit",o),n.on("destroy",()=>{i.removeEventListener("submit",o),e&&(i.submit=e)})}}}destroy(){return this.sourceElement&&this.updateSourceElement(),this.ui.destroy(),super.destroy()}static create(r,i={}){return new Promise(e=>{const n=new this(r,i);e(n.initPlugins().then(()=>n.ui.init(Vt(r)?r:null)).then(()=>{if(!Vt(r)&&i.initialData)throw new h.a("editor-create-initial-data",null);var e,t=i.initialData||(Vt(e=r)?(t=e)instanceof HTMLTextAreaElement?t.value:t.innerHTML:e);return n.data.init(t)}).then(()=>n.fire("ready")).then(()=>n))})}}a(Ol,{setData(e){this.data.set(e)},getData(e){return this.data.get(e)}}),a(Ol,gt);class O{constructor(e){this.editor=e,this.set("isEnabled",!0),this._disableStack=new Set}forceDisabled(e){this._disableStack.add(e),1==this._disableStack.size&&(this.on("set:isEnabled",Ml,{priority:"highest"}),this.isEnabled=!1)}clearForceDisabled(e){this._disableStack.delete(e),0==this._disableStack.size&&(this.off("set:isEnabled",Ml),this.isEnabled=!0)}destroy(){this.stopListening()}static get isContextPlugin(){return!1}}function Ml(e){e.return=!1,e.stop()}a(O,l);class Pl{constructor(e){this.files=function(e){const t=e.files?Array.from(e.files):[],n=e.items?Array.from(e.items):[];return t.length?t:n.filter(e=>"file"===e.kind).map(e=>e.getAsFile())}(e),this._native=e}get types(){return this._native.types}getData(e){return this._native.getData(e)}setData(e,t){this._native.setData(e,t)}}class Dl extends Yi{constructor(e){super(e);const i=this.document;function t(e,t){t.preventDefault();var n=t.dropRange?[t.dropRange]:Array.from(i.selection.getRanges()),r=new Ut(i,"clipboardInput");i.fire(r,{dataTransfer:t.dataTransfer,targetRanges:n}),r.stop.called&&t.stopPropagation()}this.domEventType=["paste","copy","cut","drop","dragover"],this.listenTo(i,"paste",t,{priority:"low"}),this.listenTo(i,"drop",t,{priority:"low"})}onDomEvent(e){const t={dataTransfer:new Pl(e.clipboardData||e.dataTransfer)};"drop"==e.type&&(t.dropRange=function(e,t){const n=t.target.ownerDocument,r=t.clientX,i=t.clientY;let o;return n.caretRangeFromPoint&&n.caretRangeFromPoint(r,i)?o=n.caretRangeFromPoint(r,i):t.rangeParent&&((o=n.createRange()).setStart(t.rangeParent,t.rangeOffset),o.collapse(!0)),o?e.domConverter.domRangeToView(o):e.document.selection.getFirstRange()}(this.view,e)),this.fire(e.type,e,t)}}class Rl extends O{static get pluginName(){return"PastePlainText"}init(){const e=this.editor.editing.view,t=e.document;let n=!1;e.addObserver(Dl),this.listenTo(t,"keydown",(e,t)=>{n=t.shiftKey}),this.listenTo(t,"clipboardInput",(e,t)=>{n&&(t.asPlainText=!0)},{priority:"high"})}}const Il=["figcaption","li"];class Nl extends O{static get pluginName(){return"Clipboard"}static get requires(){return[Rl]}init(){const o=this.editor,a=o.model.document,s=o.editing.view,r=s.document;function n(e,t){var n=t.dataTransfer,t=(t.preventDefault(),o.data.toView(o.model.getSelectedContent(a.selection)));r.fire("clipboardOutput",{dataTransfer:n,content:t,method:e.name})}this._htmlDataProcessor=new _s(r),s.addObserver(Dl),this.listenTo(r,"clipboardInput",e=>{o.isReadOnly&&e.stop()},{priority:"highest"}),this.listenTo(r,"clipboardInput",(e,t)=>{const n=t.dataTransfer;let r="";n.getData("text/html")?r=n.getData("text/html").replace(/<span(?: class="Apple-converted-space"|)>(\s+)<\/span>/g,(e,t)=>1==t.length?" ":t):n.getData("text/plain")&&(((i=(i=n.getData("text/plain")).replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r?\n\r?\n/g,"</p><p>").replace(/\r?\n/g,"<br>").replace(/^\s/,"&nbsp;").replace(/\s$/,"&nbsp;").replace(/\s\s/g," &nbsp;")).includes("</p><p>")||i.includes("<br>"))&&(i=`<p>${i}</p>`),r=i),r=this._htmlDataProcessor.toView(r);var i=new Ut(this,"inputTransformation");this.fire(i,{content:r,dataTransfer:n,asPlainText:t.asPlainText}),i.stop.called&&e.stop(),s.scrollToTheSelection()},{priority:"low"}),this.listenTo(this,"inputTransformation",(r,e)=>{if(!e.content.isEmpty){const t=this.editor.data,n=this.editor.model,i=t.toModel(e.content,"$clipboardHolder");if(0!=i.childCount){if(e.asPlainText||!(1<(e=i).childCount)&&0==[...e.getChild(0).getAttributeKeys()].length){const r=new Map(Array.from(a.selection.getAttributes()).filter(e=>o.model.schema.getAttributeProperties(e[0]).isFormatting));n.change(e=>{const t=e.createRangeIn(i);for(const n of t.getItems())(n.is("$text")||n.is("$textProxy"))&&e.setAttributes(r,n)})}n.insertContent(i),r.stop()}}},{priority:"low"}),this.listenTo(r,"copy",n,{priority:"low"}),this.listenTo(r,"cut",(e,t)=>{o.isReadOnly?t.preventDefault():n(e,t)},{priority:"low"}),this.listenTo(r,"clipboardOutput",(e,t)=>{t.content.isEmpty||(t.dataTransfer.setData("text/html",this._htmlDataProcessor.toData(t.content)),t.dataTransfer.setData("text/plain",function t(n){let r="";if(n.is("$text")||n.is("$textProxy"))r=n.data;else if(n.is("element","img")&&n.hasAttribute("alt"))r=n.getAttribute("alt");else if(n.is("element","br"))r="\n";else{let e=null;for(const i of n.getChildren()){const n=t(i);e&&(e.is("containerElement")||i.is("containerElement"))&&(Il.includes(e.name)||Il.includes(i.name)?r+="\n":r+="\n\n"),r+=n,e=i}}return r}(t.content))),"cut"==t.method&&o.model.deleteContent(a.selection)},{priority:"low"})}}class M{constructor(e){this.editor=e,this.set("value",void 0),this.set("isEnabled",!1),this._disableStack=new Set,this.decorate("execute"),this.listenTo(this.editor.model.document,"change",()=>{this.refresh()}),this.on("execute",e=>{this.isEnabled||e.stop()},{priority:"high"}),this.listenTo(e,"change:isReadOnly",(e,t,n)=>{n?this.forceDisabled("readOnlyMode"):this.clearForceDisabled("readOnlyMode")})}refresh(){this.isEnabled=!0}forceDisabled(e){this._disableStack.add(e),1==this._disableStack.size&&(this.on("set:isEnabled",jl,{priority:"highest"}),this.isEnabled=!1)}clearForceDisabled(e){this._disableStack.delete(e),0==this._disableStack.size&&(this.off("set:isEnabled",jl),this.refresh())}execute(){}destroy(){this.stopListening()}}function jl(e){e.return=!1,e.stop()}function*Ll(e,t){for(const n of t)n&&e.getAttributeProperties(n[0]).copyOnEnter&&(yield n)}a(M,l);class Vl extends M{execute(){const t=this.editor.model,n=t.document;t.change(e=>{!function(e,t,n,r){const i=n.isCollapsed,o=n.getFirstRange(),a=o.start.parent,s=o.end.parent;if(r.isLimit(a)||r.isLimit(s))return i||a!=s||e.deleteContent(n);if(i){const e=Ll(t.model.schema,n.getAttributes());Fl(t,o.start),t.setSelectionAttribute(e)}else{const r=!(o.start.isAtStart&&o.end.isAtEnd),i=a==s;e.deleteContent(n,{leaveUnmerged:r}),r&&(i?Fl(t,n.focus):t.setSelection(s,0))}}(this.editor.model,e,n.selection,t.schema),this.fire("afterExecute",{writer:e})})}}function Fl(e,t){e.split(t),e.setSelection(t.parent.nextSibling,0)}class zl extends Ri{constructor(e){super(e);const r=this.document;r.on("keydown",(e,n)=>{if(this.isEnabled&&n.keyCode==g.enter){let t;r.once("enter",e=>t=e,{priority:"highest"}),r.fire("enter",new qi(r,n.domEvent,{isSoft:n.shiftKey})),t&&t.stop.called&&e.stop()}})}observe(){}}class Bl extends O{static get pluginName(){return"Enter"}init(){const n=this.editor,r=n.editing.view,e=r.document;r.addObserver(zl),n.commands.add("enter",new Vl(n)),this.listenTo(e,"enter",(e,t)=>{t.preventDefault(),t.isSoft||(n.execute("enter"),r.scrollToTheSelection())},{priority:"low"})}}class Hl extends M{execute(){const c=this.editor.model,u=c.document;c.change(e=>{{var t=c,n=e,r=u.selection;const i=r.isCollapsed,o=r.getFirstRange(),a=o.start.parent,s=o.end.parent,l=a==s;if(i){const i=Ll(t.schema,r.getAttributes());Ul(t,n,o.end),n.removeSelectionAttribute(r.getAttributeKeys()),n.setSelectionAttribute(i)}else{const i=!(o.start.isAtStart&&o.end.isAtEnd);t.deleteContent(r,{leaveUnmerged:i}),l?Ul(t,n,r.focus):i&&n.setSelection(s,0)}}this.fire("afterExecute",{writer:e})})}refresh(){var e,t=this.editor.model,n=t.document;this.isEnabled=(t=t.schema,!(1<(n=n.selection).rangeCount)&&(!(!(e=n.anchor)||!t.checkChild(e,"softBreak"))&&(n=(e=n.getFirstRange()).start.parent,e=e.end.parent,!Wl(n,t)&&!Wl(e,t)||n===e)))}}function Ul(e,t,n){var r=t.createElement("softBreak");e.insertContent(r,n),t.setSelection(r,"after")}function Wl(e,t){return!e.is("rootElement")&&(t.isLimit(e)||Wl(e.parent,t))}class ql extends O{static get pluginName(){return"ShiftEnter"}init(){const n=this.editor,e=n.model.schema,t=n.conversion,r=n.editing.view,i=r.document;e.register("softBreak",{allowWhere:"$text",isInline:!0}),t.for("upcast").elementToElement({model:"softBreak",view:"br"}),t.for("downcast").elementToElement({model:"softBreak",view:(e,{writer:t})=>t.createEmptyElement("br")}),r.addObserver(zl),n.commands.add("shiftEnter",new Hl(n)),this.listenTo(i,"enter",(e,t)=>{t.preventDefault(),t.isSoft&&(n.execute("shiftEnter"),r.scrollToTheSelection())},{priority:"low"})}}class Yl extends M{execute(){const e=this.editor.model,t=e.document.selection;let n=e.schema.getLimitElement(t);if(t.containsEntireContent(n)||!Gl(e.schema,n))do{if(!(n=n.parent))return}while(!Gl(e.schema,n));e.change(e=>{e.setSelection(n,"in")})}}function Gl(e,t){return e.isLimit(t)&&(e.checkChild(t,"$text")||e.checkChild(t,"paragraph"))}const Kl=Vr("Ctrl+A");class Xl extends O{static get pluginName(){return"SelectAllEditing"}init(){const n=this.editor,e=n.editing.view.document;n.commands.add("selectAll",new Yl(n)),this.listenTo(e,"keydown",(e,t)=>{Lr(t)===Kl&&(n.execute("selectAll"),t.preventDefault())})}}class Jl extends O{static get pluginName(){return"SelectAllUI"}init(){const i=this.editor;i.ui.componentFactory.add("selectAll",e=>{const t=i.commands.get("selectAll"),n=new A(e),r=e.t;return n.set({label:r("Select all"),icon:'<svg width="20" height="20" xmlns="http://www.w3.org/2000/svg"><path d="M.75 15.5a.75.75 0 0 1 .75.75V18l.008.09A.5.5 0 0 0 2 18.5h1.75a.75.75 0 1 1 0 1.5H1.5l-.144-.007a1.5 1.5 0 0 1-1.35-1.349L0 18.5v-2.25a.75.75 0 0 1 .75-.75zm18.5 0a.75.75 0 0 1 .75.75v2.25l-.007.144a1.5 1.5 0 0 1-1.349 1.35L18.5 20h-2.25a.75.75 0 1 1 0-1.5H18a.5.5 0 0 0 .492-.41L18.5 18v-1.75a.75.75 0 0 1 .75-.75zm-10.45 3c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2H7.2a.2.2 0 0 1-.2-.2v-1.1c0-.11.09-.2.2-.2h1.6zm4 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2h-1.6a.2.2 0 0 1-.2-.2v-1.1c0-.11.09-.2.2-.2h1.6zm.45-5.5a.75.75 0 1 1 0 1.5h-8.5a.75.75 0 1 1 0-1.5h8.5zM1.3 11c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2H.2a.2.2 0 0 1-.2-.2v-1.6c0-.11.09-.2.2-.2h1.1zm18.5 0c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2h-1.1a.2.2 0 0 1-.2-.2v-1.6c0-.11.09-.2.2-.2h1.1zm-4.55-2a.75.75 0 1 1 0 1.5H4.75a.75.75 0 1 1 0-1.5h10.5zM1.3 7c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2H.2a.2.2 0 0 1-.2-.2V7.2c0-.11.09-.2.2-.2h1.1zm18.5 0c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2h-1.1a.2.2 0 0 1-.2-.2V7.2c0-.11.09-.2.2-.2h1.1zm-4.55-2a.75.75 0 1 1 0 1.5h-2.5a.75.75 0 1 1 0-1.5h2.5zm-5 0a.75.75 0 1 1 0 1.5h-5.5a.75.75 0 0 1 0-1.5h5.5zm-6.5-5a.75.75 0 0 1 0 1.5H2a.5.5 0 0 0-.492.41L1.5 2v1.75a.75.75 0 0 1-1.5 0V1.5l.007-.144A1.5 1.5 0 0 1 1.356.006L1.5 0h2.25zM18.5 0l.144.007a1.5 1.5 0 0 1 1.35 1.349L20 1.5v2.25a.75.75 0 1 1-1.5 0V2l-.008-.09A.5.5 0 0 0 18 1.5h-1.75a.75.75 0 1 1 0-1.5h2.25zM8.8 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2H7.2a.2.2 0 0 1-.2-.2V.2c0-.11.09-.2.2-.2h1.6zm4 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2h-1.6a.2.2 0 0 1-.2-.2V.2c0-.11.09-.2.2-.2h1.6z"/></svg>',keystroke:"Ctrl+A",tooltip:!0}),n.bind("isOn","isEnabled").to(t,"value","isEnabled"),this.listenTo(n,"execute",()=>{i.execute("selectAll"),i.editing.view.focus()}),n})}}class Ql extends O{static get requires(){return[Xl,Jl]}static get pluginName(){return"SelectAll"}}class Zl{constructor(e,t=20){this.model=e,this.size=0,this.limit=t,this.isLocked=!1,this._changeCallback=(e,t)=>{"transparent"!=t.type&&t!==this._batch&&this._reset(!0)},this._selectionChangeCallback=()=>{this._reset()},this.model.document.on("change",this._changeCallback),this.model.document.selection.on("change:range",this._selectionChangeCallback),this.model.document.selection.on("change:attribute",this._selectionChangeCallback)}get batch(){return this._batch||(this._batch=this.model.createBatch()),this._batch}input(e){this.size+=e,this.size>=this.limit&&this._reset(!0)}lock(){this.isLocked=!0}unlock(){this.isLocked=!1}destroy(){this.model.document.off("change",this._changeCallback),this.model.document.selection.off("change:range",this._selectionChangeCallback),this.model.document.selection.off("change:attribute",this._selectionChangeCallback)}_reset(e){this.isLocked&&!e||(this._batch=null,this.size=0)}}class ec extends M{constructor(e,t){super(e),this._buffer=new Zl(e.model,t),this._batches=new WeakSet}get buffer(){return this._buffer}destroy(){super.destroy(),this._buffer.destroy()}execute(e={}){const t=this.editor.model,n=t.document,r=e.text||"",i=r.length,o=e.range?t.createSelection(e.range):n.selection,a=e.resultRange;t.enqueueChange(this._buffer.batch,e=>{this._buffer.lock(),this._batches.add(this._buffer.batch),t.deleteContent(o),r&&t.insertContent(e.createText(r,n.selection.getAttributes()),o),a?e.setSelection(a):o.is("documentSelection")||e.setSelection(o),this._buffer.unlock(),this._buffer.input(i)})}}const tc=[Lr("arrowUp"),Lr("arrowRight"),Lr("arrowDown"),Lr("arrowLeft"),9,16,17,18,19,20,27,33,34,35,36,45,91,93,144,145,173,174,175,176,177,178,179,255];for(let e=112;e<=135;e++)tc.push(e);function nc(e){return e.ctrlKey||tc.includes(e.keyCode)}function rc(e){if(e.newChildren.length-e.oldChildren.length==1){e=function(e,t){const n=[];let r,i=0;return e.forEach(e=>{"equal"==e?(o(),i++):"insert"==e?(a("insert")?r.values.push(t[i]):(o(),r={type:"insert",index:i,values:[t[i]]}),i++):a("delete")?r.howMany++:(o(),r={type:"delete",index:i,howMany:1})}),o(),n;function o(){r&&(n.push(r),r=null)}function a(e){return r&&r.type==e}}(gi(e.oldChildren,e.newChildren,ic),e.newChildren);if(!(1<e.length)){const t=e[0];return t.values[0]&&t.values[0].is("$text")?t:void 0}}}function ic(e,t){return e&&e.is("$text")&&t&&t.is("$text")?e.data===t.data:e===t}class oc{constructor(e){this.editor=e,this.editing=this.editor.editing}handle(e,t){if(function(e){if(0!=e.length)for(const t of e)if("children"===t.type&&!rc(t))return 1}(e))this._handleContainerChildrenMutations(e,t);else for(const n of e)this._handleTextMutation(n,t),this._handleTextNodeInsertion(n)}_handleContainerChildrenMutations(t,n){var r=function(){const e=t.map(e=>e.node).reduce((e,t)=>e.getCommonAncestor(t,{includeSelf:!0}));if(e)return e.getAncestors({includeSelf:!0,parentFirst:!0}).find(e=>e.is("containerElement")||e.is("rootElement"))}();if(r){const e=this.editor.editing.view.domConverter.mapViewToDom(r),a=new Ti(this.editor.editing.view.document),s=this.editor.data.toModel(a.domToView(e)).getChild(0),l=this.editor.editing.mapper.toModelElement(r);if(l){const c=Array.from(s.getChildren()),u=Array.from(l.getChildren()),d=c[c.length-1],h=u[u.length-1],f=d&&d.is("element","softBreak"),p=h&&!h.is("element","softBreak");f&&p&&c.pop();r=this.editor.model.schema;if(ac(c,r)&&ac(u,r)){const m=c.map(e=>e.is("$text")?e.data:"@").join("").replace(/\u00A0/g," "),g=u.map(e=>e.is("$text")?e.data:"@").join("").replace(/\u00A0/g," ");if(g!==m){var{firstChangeAt:r,insertions:i,deletions:o}=sc(gi(g,m));let e=null;n&&(e=this.editing.mapper.toModelRange(n.getFirstRange()));n=m.substr(r,i),i=this.editor.model.createRange(this.editor.model.createPositionAt(l,r),this.editor.model.createPositionAt(l,r+o));this.editor.execute("input",{text:n,range:i,resultRange:e})}}}}}_handleTextMutation(t,n){if("text"==t.type){const a=t.newText.replace(/\u00A0/g," "),s=t.oldText.replace(/\u00A0/g," ");if(s!==a){var{firstChangeAt:r,insertions:i,deletions:o}=sc(gi(s,a));let e=null;n&&(e=this.editing.mapper.toModelRange(n.getFirstRange()));const l=this.editing.view.createPositionAt(t.node,r),c=this.editing.mapper.toModelPosition(l),u=this.editor.model.createRange(c,c.getShiftedBy(o)),d=a.substr(r,i);this.editor.execute("input",{text:d,range:u,resultRange:e})}}}_handleTextNodeInsertion(e){if("children"==e.type){const t=rc(e),n=this.editing.view.createPositionAt(e.node,t.index),r=this.editing.mapper.toModelPosition(n),i=t.values[0].data;this.editor.execute("input",{text:i.replace(/\u00A0/g," "),range:this.editor.model.createRange(r)})}}}function ac(e,t){return e.every(e=>t.isInline(e))}function sc(t){let n=null,r=null;for(let e=0;e<t.length;e++)"equal"!=t[e]&&(n=null===n?e:n,r=e);let i=0,o=0;for(let e=n;e<=r;e++)"insert"!=t[e]&&i++,"delete"!=t[e]&&o++;return{insertions:o,deletions:i,firstChangeAt:n}}class lc extends O{static get pluginName(){return"Input"}init(){const e=this.editor,t=new ec(e,e.config.get("typing.undoStep")||20);e.commands.add("input",t);{var n=e;let i=null;const a=n.model,s=n.editing.view,l=n.commands.get("input");function r(e){var t=a.document,n=s.document.isComposing,r=i&&i.isEqual(t.selection);i=null,!l.isEnabled||nc(e)||t.selection.isCollapsed||n&&229===e.keyCode||!n&&229===e.keyCode&&r||o()}function o(){const e=l.buffer;e.lock();var t=e.batch;l._batches.add(t),a.enqueueChange(t,()=>{a.deleteContent(a.document.selection)}),e.unlock()}Ir?s.document.on("beforeinput",(e,t)=>r(t),{priority:"lowest"}):s.document.on("keydown",(e,t)=>r(t),{priority:"lowest"}),s.document.on("compositionstart",function(){const e=a.document,t=1!==e.selection.rangeCount||e.selection.getFirstRange().isFlat;e.selection.isCollapsed||t||o()},{priority:"lowest"}),s.document.on("compositionend",()=>{i=a.createSelection(a.document.selection)},{priority:"lowest"})}var i;(i=e).editing.view.document.on("mutations",(e,t,n)=>{new oc(i).handle(t,n)})}isInput(e){return this.editor.commands.get("input")._batches.has(e)}}class cc extends M{constructor(e,t){super(e),this.direction=t,this._buffer=new Zl(e.model,e.config.get("typing.undoStep"))}get buffer(){return this._buffer}execute(t={}){const i=this.editor.model,o=i.document;i.enqueueChange(this._buffer.batch,e=>{this._buffer.lock();const n=e.createSelection(t.selection||o.selection),r=n.isCollapsed;if(n.isCollapsed&&i.modifySelection(n,{direction:this.direction,unit:t.unit}),this._shouldEntireContentBeReplacedWithParagraph(t.sequence||1))this._replaceEntireContentWithParagraph(e);else if(!n.isCollapsed){let t=0;n.getFirstRange().getMinimalFlatRanges().forEach(e=>{t+=xr(e.getWalker({singleCharacters:!0,ignoreElementEnd:!0,shallow:!0}))}),i.deleteContent(n,{doNotResetEntireContent:r,direction:this.direction}),this._buffer.input(t),e.setSelection(n),this._buffer.unlock()}})}_shouldEntireContentBeReplacedWithParagraph(e){if(1<e)return!1;const t=this.editor.model,n=t.document.selection,r=t.schema.getLimitElement(n);return!(!n.isCollapsed||!n.containsEntireContent(r))&&(!!t.schema.checkChild(r,"paragraph")&&(!(e=r.getChild(0))||"paragraph"!==e.name))}_replaceEntireContentWithParagraph(e){const t=this.editor.model,n=t.document.selection,r=t.schema.getLimitElement(n),i=e.createElement("paragraph");e.remove(e.createRangeIn(r)),e.insert(i,r),e.setSelection(i,0)}}class uc extends Ri{constructor(i){super(i);const o=i.document;let a=0;function s(e,t,n){let r;o.once("delete",e=>r=e,{priority:Number.POSITIVE_INFINITY}),o.fire("delete",new qi(o,t,n)),r&&r.stop.called&&e.stop()}o.on("keyup",(e,t)=>{t.keyCode!=g.delete&&t.keyCode!=g.backspace||(a=0)}),o.on("keydown",(e,t)=>{const n={};if(t.keyCode==g.delete)n.direction="forward",n.unit="character";else{if(t.keyCode!=g.backspace)return;n.direction="backward",n.unit="codePoint"}var r=Pr?t.altKey:t.ctrlKey;n.unit=r?"word":n.unit,n.sequence=++a,s(e,t.domEvent,n)}),Ir&&o.on("beforeinput",(e,t)=>{if("deleteContentBackward"==t.domEvent.inputType){const n={unit:"codepoint",direction:"backward",sequence:1},r=t.domTarget.ownerDocument.defaultView.getSelection();r.anchorNode==r.focusNode&&r.anchorOffset+1!=r.focusOffset&&(n.selectionToRemove=i.domConverter.domSelectionToView(r)),s(e,t.domEvent,n)}})}observe(){}}class dc extends O{static get pluginName(){return"Delete"}init(){const r=this.editor,i=r.editing.view,e=i.document;if(i.addObserver(uc),r.commands.add("forwardDelete",new cc(r,"forward")),r.commands.add("delete",new cc(r,"backward")),this.listenTo(e,"delete",(e,t)=>{const n={unit:t.unit,sequence:t.sequence};if(t.selectionToRemove){const i=r.model.createSelection(),e=[];for(const i of t.selectionToRemove.getRanges())e.push(r.editing.mapper.toModelRange(i));i.setTo(e),n.selection=i}r.execute("forward"==t.direction?"forwardDelete":"delete",n),t.preventDefault(),i.scrollToTheSelection()}),Ir){let n=null;this.listenTo(e,"delete",(e,t)=>{t=t.domTarget.ownerDocument.defaultView.getSelection();n={anchorNode:t.anchorNode,anchorOffset:t.anchorOffset,focusNode:t.focusNode,focusOffset:t.focusOffset}},{priority:"lowest"}),this.listenTo(e,"keyup",(e,t)=>{if(n){const e=t.domTarget.ownerDocument.defaultView.getSelection();e.collapse(n.anchorNode,n.anchorOffset),e.extend(n.focusNode,n.focusOffset),n=null}})}}}class hc extends O{static get requires(){return[lc,dc]}static get pluginName(){return"Typing"}}const fc=new Map;function P(e,t,n){let r=fc.get(e);r||(r=new Map,fc.set(e,r)),r.set(t,n)}function pc(e){return[e]}function mc(e,t,n={}){const r=function(e,t){const n=fc.get(e);return n&&n.has(t)?n.get(t):pc}(e.constructor,t.constructor);try{return r(e=e.clone(),t,n)}catch(e){throw e}}class gc{constructor(e,t,n=!1){this.originalOperations=new Map,this._history=e.history,this._useRelations=t,this._forceWeakRemove=!!n,this._relations=new Map}setOriginalOperations(e,t=null){var n=t?this.originalOperations.get(t):null;for(const t of e)this.originalOperations.set(t,n||t)}updateRelation(e,t){switch(e.constructor){case x:switch(t.constructor){case S:e.targetPosition.isEqual(t.sourcePosition)||t.movedRange.containsPosition(e.targetPosition)?this._setRelation(e,t,"insertAtSource"):e.targetPosition.isEqual(t.deletionPosition)?this._setRelation(e,t,"insertBetween"):e.targetPosition.isAfter(t.sourcePosition)&&this._setRelation(e,t,"moveTargetAfter");break;case x:e.targetPosition.isEqual(t.sourcePosition)||e.targetPosition.isBefore(t.sourcePosition)?this._setRelation(e,t,"insertBefore"):this._setRelation(e,t,"insertAfter")}break;case T:switch(t.constructor){case S:e.splitPosition.isBefore(t.sourcePosition)&&this._setRelation(e,t,"splitBefore");break;case x:(e.splitPosition.isEqual(t.sourcePosition)||e.splitPosition.isBefore(t.sourcePosition))&&this._setRelation(e,t,"splitBefore")}break;case S:switch(t.constructor){case S:e.targetPosition.isEqual(t.sourcePosition)||this._setRelation(e,t,"mergeTargetNotMoved"),e.sourcePosition.isEqual(t.targetPosition)&&this._setRelation(e,t,"mergeSourceNotMoved"),e.sourcePosition.isEqual(t.sourcePosition)&&this._setRelation(e,t,"mergeSameElement");break;case T:e.sourcePosition.isEqual(t.splitPosition)&&this._setRelation(e,t,"splitAtSource")}break;case La:{const a=e.newRange;if(a)switch(t.constructor){case x:{const s=_._createFromPositionAndShift(t.sourcePosition,t.howMany),l=s.containsPosition(a.start)||s.start.isEqual(a.start),c=s.containsPosition(a.end)||s.end.isEqual(a.end);!l&&!c||s.containsRange(a)||this._setRelation(e,t,{side:l?"left":"right",path:(l?a.start:a.end).path.slice()});break}case S:var n=a.start.isEqual(t.targetPosition),r=a.start.isEqual(t.deletionPosition),i=a.end.isEqual(t.deletionPosition),o=a.end.isEqual(t.sourcePosition);(n||r||i||o)&&this._setRelation(e,t,{wasInLeftElement:n,wasStartBeforeMergedElement:r,wasEndBeforeMergedElement:i,wasInRightElement:o})}}}}getContext(e,t,n){return{aIsStrong:n,aWasUndone:this._wasUndone(e),bWasUndone:this._wasUndone(t),abRelation:this._useRelations?this._getRelation(e,t):null,baRelation:this._useRelations?this._getRelation(t,e):null,forceWeakRemove:this._forceWeakRemove}}_wasUndone(e){e=this.originalOperations.get(e);return e.wasUndone||this._history.isUndoneOperation(e)}_getRelation(e,t){t=this.originalOperations.get(t),t=this._history.getUndoneOperation(t);if(!t)return null;const n=this.originalOperations.get(e),r=this._relations.get(n);return r&&r.get(t)||null}_setRelation(e,t,n){e=this.originalOperations.get(e),t=this.originalOperations.get(t);let r=this._relations.get(e);r||(r=new Map,this._relations.set(e,r)),r.set(t,n)}}function vc(e,t){for(const n of e)n.baseVersion=t++}function bc(t,n){for(let e=0;e<n;e++)t.push(new rs(0))}function yc(e,t,n){var r=e.nodes.getNode(0).getAttribute(t);return r==n?null:(e=new _(e.position,e.position.getShiftedBy(e.howMany)),new k(e,t,r,n,0))}function wc(e,t){return null===e.targetPosition._getTransformedByDeletion(t.sourcePosition,t.howMany)}function _c(n,e){const r=[];for(let t=0;t<n.length;t++){var i=n[t],o=new x(i.start,i.end.offset-i.start.offset,e,0);r.push(o);for(let e=t+1;e<n.length;e++)n[e]=n[e]._getTransformedByMove(o.sourcePosition,o.targetPosition,o.howMany)[0];e=e._getTransformedByMove(o.sourcePosition,o.targetPosition,o.howMany)}return r}P(k,k,(t,e,n)=>{if(t.key===e.key&&t.range.start.hasSameParentAs(e.range.start)){const r=t.range.getDifference(e.range).map(e=>new k(e,t.key,t.oldValue,t.newValue,0)),i=t.range.getIntersection(e.range);return i&&n.aIsStrong&&r.push(new k(i,e.key,e.newValue,t.newValue,0)),0==r.length?[new rs(0)]:r}return[t]}),P(k,C,(t,e)=>{if(t.range.start.hasSameParentAs(e.position)&&t.range.containsPosition(e.position)){const r=t.range._getTransformedByInsertion(e.position,e.howMany,!e.shouldReceiveAttributes).map(e=>new k(e,t.key,t.oldValue,t.newValue,t.baseVersion));var n;return e.shouldReceiveAttributes&&(n=yc(e,t.key,t.oldValue))&&r.unshift(n),r}return t.range=t.range._getTransformedByInsertion(e.position,e.howMany,!1)[0],[t]}),P(k,S,(t,e)=>{const n=[];t.range.start.hasSameParentAs(e.deletionPosition)&&(t.range.containsPosition(e.deletionPosition)||t.range.start.isEqual(e.deletionPosition))&&n.push(_._createFromPositionAndShift(e.graveyardPosition,1));e=t.range._getTransformedByMergeOperation(e);return e.isCollapsed||n.push(e),n.map(e=>new k(e,t.key,t.oldValue,t.newValue,t.baseVersion))}),P(k,x,(t,e)=>function(e,t){const n=_._createFromPositionAndShift(t.sourcePosition,t.howMany);let r=null,i=[];n.containsRange(e,!0)?r=e:e.start.hasSameParentAs(n.start)?(i=e.getDifference(n),r=e.getIntersection(n)):i=[e];const o=[];for(var a of i){a=a._getTransformedByDeletion(t.sourcePosition,t.howMany);const n=t.getMovedRangeStart(),r=a.start.hasSameParentAs(n);a=a._getTransformedByInsertion(n,t.howMany,r),o.push(...a)}return r&&o.push(r._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany,!1)[0]),o}(t.range,e).map(e=>new k(e,t.key,t.oldValue,t.newValue,t.baseVersion))),P(k,T,(e,t)=>{if(e.range.end.isEqual(t.insertionPosition))t.graveyardPosition||e.range.end.offset++;else{if(e.range.start.hasSameParentAs(t.splitPosition)&&e.range.containsPosition(t.splitPosition)){const n=e.clone();return n.range=new _(t.moveTargetPosition.clone(),e.range.end._getCombined(t.splitPosition,t.moveTargetPosition)),e.range.end=t.splitPosition.clone(),e.range.end.stickiness="toPrevious",[e,n]}e.range=e.range._getTransformedBySplitOperation(t)}return[e]}),P(C,k,(e,t)=>{const n=[e];return e.shouldReceiveAttributes&&e.position.hasSameParentAs(t.range.start)&&t.range.containsPosition(e.position)&&((e=yc(e,t.key,t.newValue))&&n.push(e)),n}),P(C,C,(e,t,n)=>(e.position.isEqual(t.position)&&n.aIsStrong||(e.position=e.position._getTransformedByInsertOperation(t)),[e])),P(C,x,(e,t)=>(e.position=e.position._getTransformedByMoveOperation(t),[e])),P(C,T,(e,t)=>(e.position=e.position._getTransformedBySplitOperation(t),[e])),P(C,S,(e,t)=>(e.position=e.position._getTransformedByMergeOperation(t),[e])),P(La,C,(e,t)=>(e.oldRange&&(e.oldRange=e.oldRange._getTransformedByInsertOperation(t)[0]),e.newRange&&(e.newRange=e.newRange._getTransformedByInsertOperation(t)[0]),[e])),P(La,La,(e,t,n)=>{if(e.name==t.name){if(!n.aIsStrong)return[new rs(0)];e.oldRange=t.newRange?t.newRange.clone():null}return[e]}),P(La,S,(e,t)=>(e.oldRange&&(e.oldRange=e.oldRange._getTransformedByMergeOperation(t)),e.newRange&&(e.newRange=e.newRange._getTransformedByMergeOperation(t)),[e])),P(La,x,(e,t,n)=>{if(e.oldRange&&(e.oldRange=_._createFromRanges(e.oldRange._getTransformedByMoveOperation(t))),e.newRange){if(n.abRelation){var r=_._createFromRanges(e.newRange._getTransformedByMoveOperation(t));if("left"==n.abRelation.side&&t.targetPosition.isEqual(e.newRange.start))return e.newRange.start.path=n.abRelation.path,e.newRange.end=r.end,[e];if("right"==n.abRelation.side&&t.targetPosition.isEqual(e.newRange.end))return e.newRange.start=r.start,e.newRange.end.path=n.abRelation.path,[e]}e.newRange=_._createFromRanges(e.newRange._getTransformedByMoveOperation(t))}return[e]}),P(La,T,(e,t,n)=>{if(e.oldRange&&(e.oldRange=e.oldRange._getTransformedBySplitOperation(t)),e.newRange){var r;if(n.abRelation)return r=e.newRange._getTransformedBySplitOperation(t),e.newRange.start.isEqual(t.splitPosition)&&n.abRelation.wasStartBeforeMergedElement?e.newRange.start=y._createAt(t.insertionPosition):e.newRange.start.isEqual(t.splitPosition)&&!n.abRelation.wasInLeftElement&&(e.newRange.start=y._createAt(t.moveTargetPosition)),e.newRange.end.isEqual(t.splitPosition)&&n.abRelation.wasInRightElement?e.newRange.end=y._createAt(t.moveTargetPosition):e.newRange.end.isEqual(t.splitPosition)&&n.abRelation.wasEndBeforeMergedElement?e.newRange.end=y._createAt(t.insertionPosition):e.newRange.end=r.end,[e];e.newRange=e.newRange._getTransformedBySplitOperation(t)}return[e]}),P(S,C,(e,t)=>(e.sourcePosition.hasSameParentAs(t.position)&&(e.howMany+=t.howMany),e.sourcePosition=e.sourcePosition._getTransformedByInsertOperation(t),e.targetPosition=e.targetPosition._getTransformedByInsertOperation(t),[e])),P(S,S,(e,t,n)=>{if(e.sourcePosition.isEqual(t.sourcePosition)&&e.targetPosition.isEqual(t.targetPosition)){if(n.bWasUndone){const n=t.graveyardPosition.path.slice();return n.push(0),e.sourcePosition=new y(t.graveyardPosition.root,n),e.howMany=0,[e]}}else{if(!e.sourcePosition.isEqual(t.sourcePosition)||e.targetPosition.isEqual(t.targetPosition)||n.bWasUndone||"splitAtSource"==n.abRelation)return e.sourcePosition.hasSameParentAs(t.targetPosition)&&(e.howMany+=t.howMany),e.sourcePosition=e.sourcePosition._getTransformedByMergeOperation(t),e.targetPosition=e.targetPosition._getTransformedByMergeOperation(t),e.graveyardPosition.isEqual(t.graveyardPosition)&&n.aIsStrong||(e.graveyardPosition=e.graveyardPosition._getTransformedByMergeOperation(t)),[e];var r="$graveyard"==e.targetPosition.root.rootName,i="$graveyard"==t.targetPosition.root.rootName;if(i&&!r||!(r&&!i)&&n.aIsStrong){const n=t.targetPosition._getTransformedByMergeOperation(t),o=e.targetPosition._getTransformedByMergeOperation(t);return[new x(n,e.howMany,o,0)]}}return[new rs(0)]}),P(S,x,(e,t,n)=>{const r=_._createFromPositionAndShift(t.sourcePosition,t.howMany);return"remove"==t.type&&!n.bWasUndone&&!n.forceWeakRemove&&e.deletionPosition.hasSameParentAs(t.sourcePosition)&&r.containsPosition(e.sourcePosition)?[new rs(0)]:(e.sourcePosition.hasSameParentAs(t.targetPosition)&&(e.howMany+=t.howMany),e.sourcePosition.hasSameParentAs(t.sourcePosition)&&(e.howMany-=t.howMany),e.sourcePosition=e.sourcePosition._getTransformedByMoveOperation(t),e.targetPosition=e.targetPosition._getTransformedByMoveOperation(t),e.graveyardPosition.isEqual(t.targetPosition)||(e.graveyardPosition=e.graveyardPosition._getTransformedByMoveOperation(t)),[e])}),P(S,T,(e,t,n)=>{if(t.graveyardPosition&&(e.graveyardPosition=e.graveyardPosition._getTransformedByDeletion(t.graveyardPosition,1),e.deletionPosition.isEqual(t.graveyardPosition)&&(e.howMany=t.howMany)),e.targetPosition.isEqual(t.splitPosition)){var r=0!=t.howMany,i=t.graveyardPosition&&e.deletionPosition.isEqual(t.graveyardPosition);if(r||i||"mergeTargetNotMoved"==n.abRelation)return e.sourcePosition=e.sourcePosition._getTransformedBySplitOperation(t),[e]}if(e.sourcePosition.isEqual(t.splitPosition)){if("mergeSourceNotMoved"==n.abRelation)return e.howMany=0,e.targetPosition=e.targetPosition._getTransformedBySplitOperation(t),[e];if("mergeSameElement"==n.abRelation||0<e.sourcePosition.offset)return e.sourcePosition=t.moveTargetPosition.clone(),e.targetPosition=e.targetPosition._getTransformedBySplitOperation(t),[e]}return e.sourcePosition.hasSameParentAs(t.splitPosition)&&(e.howMany=t.splitPosition.offset),e.sourcePosition=e.sourcePosition._getTransformedBySplitOperation(t),e.targetPosition=e.targetPosition._getTransformedBySplitOperation(t),[e]}),P(x,C,(e,t)=>{var n=_._createFromPositionAndShift(e.sourcePosition,e.howMany)._getTransformedByInsertOperation(t,!1)[0];return e.sourcePosition=n.start,e.howMany=n.end.offset-n.start.offset,e.targetPosition.isEqual(t.position)||(e.targetPosition=e.targetPosition._getTransformedByInsertOperation(t)),[e]}),P(x,x,(e,t,n)=>{const r=_._createFromPositionAndShift(e.sourcePosition,e.howMany),i=_._createFromPositionAndShift(t.sourcePosition,t.howMany);let o,a=n.aIsStrong,s=!n.aIsStrong;if("insertBefore"==n.abRelation||"insertAfter"==n.baRelation?s=!0:"insertAfter"!=n.abRelation&&"insertBefore"!=n.baRelation||(s=!1),o=e.targetPosition.isEqual(t.targetPosition)&&s?e.targetPosition._getTransformedByDeletion(t.sourcePosition,t.howMany):e.targetPosition._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany),wc(e,t)&&wc(t,e))return[t.getReversed()];if(r.containsPosition(t.targetPosition)&&r.containsRange(i,!0))return r.start=r.start._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany),r.end=r.end._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany),_c([r],o);if(i.containsPosition(e.targetPosition)&&i.containsRange(r,!0))return r.start=r.start._getCombined(t.sourcePosition,t.getMovedRangeStart()),r.end=r.end._getCombined(t.sourcePosition,t.getMovedRangeStart()),_c([r],o);var l=un(e.sourcePosition.getParentPath(),t.sourcePosition.getParentPath());if("prefix"==l||"extension"==l)return r.start=r.start._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany),r.end=r.end._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany),_c([r],o);"remove"!=e.type||"remove"==t.type||n.aWasUndone||n.forceWeakRemove?"remove"==e.type||"remove"!=t.type||n.bWasUndone||n.forceWeakRemove||(a=!1):a=!0;const c=[],u=r.getDifference(i);for(const e of u){e.start=e.start._getTransformedByDeletion(t.sourcePosition,t.howMany),e.end=e.end._getTransformedByDeletion(t.sourcePosition,t.howMany);const n="same"==un(e.start.getParentPath(),t.getMovedRangeStart().getParentPath()),r=e._getTransformedByInsertion(t.getMovedRangeStart(),t.howMany,n);c.push(...r)}const d=r.getIntersection(i);return null!==d&&a&&(d.start=d.start._getCombined(t.sourcePosition,t.getMovedRangeStart()),d.end=d.end._getCombined(t.sourcePosition,t.getMovedRangeStart()),0===c.length?c.push(d):1==c.length?i.start.isBefore(r.start)||i.start.isEqual(r.start)?c.unshift(d):c.push(d):c.splice(1,0,d)),0===c.length?[new rs(e.baseVersion)]:_c(c,o)}),P(x,T,(e,t,n)=>{let r=e.targetPosition.clone();e.targetPosition.isEqual(t.insertionPosition)&&t.graveyardPosition&&"moveTargetAfter"!=n.abRelation||(r=e.targetPosition._getTransformedBySplitOperation(t));const i=_._createFromPositionAndShift(e.sourcePosition,e.howMany);if(i.end.isEqual(t.insertionPosition))return t.graveyardPosition||e.howMany++,e.targetPosition=r,[e];if(i.start.hasSameParentAs(t.splitPosition)&&i.containsPosition(t.splitPosition)){let e=new _(t.splitPosition,i.end);return e=e._getTransformedBySplitOperation(t),_c([new _(i.start,t.splitPosition),e],r)}e.targetPosition.isEqual(t.splitPosition)&&"insertAtSource"==n.abRelation&&(r=t.moveTargetPosition),e.targetPosition.isEqual(t.insertionPosition)&&"insertBetween"==n.abRelation&&(r=e.targetPosition);const o=[i._getTransformedBySplitOperation(t)];if(t.graveyardPosition){const r=i.start.isEqual(t.graveyardPosition)||i.containsPosition(t.graveyardPosition);1<e.howMany&&r&&!n.aWasUndone&&o.push(_._createFromPositionAndShift(t.insertionPosition,1))}return _c(o,r)}),P(x,S,(n,r,i)=>{const e=_._createFromPositionAndShift(n.sourcePosition,n.howMany);if(r.deletionPosition.hasSameParentAs(n.sourcePosition)&&e.containsPosition(r.sourcePosition))if("remove"!=n.type||i.forceWeakRemove){if(1==n.howMany)return i.bWasUndone?(n.sourcePosition=r.graveyardPosition.clone(),n.targetPosition=n.targetPosition._getTransformedByMergeOperation(r),[n]):[new rs(0)]}else if(!i.aWasUndone){const i=[];let e=r.graveyardPosition.clone(),t=r.targetPosition._getTransformedByMergeOperation(r);1<n.howMany&&(i.push(new x(n.sourcePosition,n.howMany-1,n.targetPosition,0)),e=e._getTransformedByMove(n.sourcePosition,n.targetPosition,n.howMany-1),t=t._getTransformedByMove(n.sourcePosition,n.targetPosition,n.howMany-1));const a=r.deletionPosition._getCombined(n.sourcePosition,n.targetPosition),s=new x(e,1,a,0),l=s.getMovedRangeStart().path.slice();l.push(0);var o=new y(s.targetPosition.root,l),o=(t=t._getTransformedByMove(e,a,1),new x(t,r.howMany,o,0));return i.push(s),i.push(o),i}i=_._createFromPositionAndShift(n.sourcePosition,n.howMany)._getTransformedByMergeOperation(r);return n.sourcePosition=i.start,n.howMany=i.end.offset-i.start.offset,n.targetPosition=n.targetPosition._getTransformedByMergeOperation(r),[n]}),P(Va,C,(e,t)=>(e.position=e.position._getTransformedByInsertOperation(t),[e])),P(Va,S,(e,t)=>(e.position.isEqual(t.deletionPosition)?(e.position=t.graveyardPosition.clone(),e.position.stickiness="toNext"):e.position=e.position._getTransformedByMergeOperation(t),[e])),P(Va,x,(e,t)=>(e.position=e.position._getTransformedByMoveOperation(t),[e])),P(Va,Va,(e,t,n)=>{if(e.position.isEqual(t.position)){if(!n.aIsStrong)return[new rs(0)];e.oldName=t.newName}return[e]}),P(Va,T,(e,t)=>{if("same"!=un(e.position.path,t.splitPosition.getParentPath())||t.graveyardPosition)return e.position=e.position._getTransformedBySplitOperation(t),[e];{const t=new Va(e.position.getShiftedBy(1),e.oldName,e.newName,0);return[e,t]}}),P(Fa,Fa,(e,t,n)=>{if(e.root===t.root&&e.key===t.key){if(!n.aIsStrong||e.newValue===t.newValue)return[new rs(0)];e.oldValue=t.newValue}return[e]}),P(T,C,(e,t)=>(e.splitPosition.hasSameParentAs(t.position)&&e.splitPosition.offset<t.position.offset&&(e.howMany+=t.howMany),e.splitPosition=e.splitPosition._getTransformedByInsertOperation(t),e.insertionPosition=T.getInsertionPosition(e.splitPosition),[e])),P(T,S,(e,t,n)=>{if(e.graveyardPosition||n.bWasUndone||!e.splitPosition.hasSameParentAs(t.sourcePosition))return e.splitPosition.hasSameParentAs(t.deletionPosition)&&!e.splitPosition.isAfter(t.deletionPosition)&&e.howMany--,e.splitPosition.hasSameParentAs(t.targetPosition)&&(e.howMany+=t.howMany),e.splitPosition=e.splitPosition._getTransformedByMergeOperation(t),e.insertionPosition=T.getInsertionPosition(e.splitPosition),e.graveyardPosition&&(e.graveyardPosition=e.graveyardPosition._getTransformedByMergeOperation(t)),[e];{const n=t.graveyardPosition.path.slice(),r=(n.push(0),new y(t.graveyardPosition.root,n)),i=T.getInsertionPosition(new y(t.graveyardPosition.root,n)),o=new T(r,0,null,0);return o.insertionPosition=i,e.splitPosition=e.splitPosition._getTransformedByMergeOperation(t),e.insertionPosition=T.getInsertionPosition(e.splitPosition),e.graveyardPosition=o.insertionPosition.clone(),e.graveyardPosition.stickiness="toNext",[o,e]}}),P(T,x,(e,t,n)=>{const r=_._createFromPositionAndShift(t.sourcePosition,t.howMany);if(e.graveyardPosition){var i=r.start.isEqual(e.graveyardPosition)||r.containsPosition(e.graveyardPosition);if(!n.bWasUndone&&i){const n=e.splitPosition._getTransformedByMoveOperation(t),r=e.graveyardPosition._getTransformedByMoveOperation(t),o=r.path.slice();o.push(0);i=new y(r.root,o);return[new x(n,e.howMany,i,0)]}e.graveyardPosition=e.graveyardPosition._getTransformedByMoveOperation(t)}if(e.splitPosition.hasSameParentAs(t.sourcePosition)&&r.containsPosition(e.splitPosition)){const n=t.howMany-(e.splitPosition.offset-t.sourcePosition.offset);e.howMany-=n,e.splitPosition.hasSameParentAs(t.targetPosition)&&e.splitPosition.offset<t.targetPosition.offset&&(e.howMany+=t.howMany),e.splitPosition=t.sourcePosition.clone(),e.insertionPosition=T.getInsertionPosition(e.splitPosition)}else!e.splitPosition.isEqual(t.targetPosition)||"insertAtSource"!=n.baRelation&&"splitBefore"!=n.abRelation?(t.sourcePosition.isEqual(t.targetPosition)||(e.splitPosition.hasSameParentAs(t.sourcePosition)&&e.splitPosition.offset<=t.sourcePosition.offset&&(e.howMany-=t.howMany),e.splitPosition.hasSameParentAs(t.targetPosition)&&e.splitPosition.offset<t.targetPosition.offset&&(e.howMany+=t.howMany)),e.splitPosition.stickiness="toNone",e.splitPosition=e.splitPosition._getTransformedByMoveOperation(t),e.splitPosition.stickiness="toNext",e.graveyardPosition?e.insertionPosition=e.insertionPosition._getTransformedByMoveOperation(t):e.insertionPosition=T.getInsertionPosition(e.splitPosition)):(e.howMany+=t.howMany,e.splitPosition=e.splitPosition._getTransformedByDeletion(t.sourcePosition,t.howMany),e.insertionPosition=T.getInsertionPosition(e.splitPosition));return[e]}),P(T,T,(e,t,n)=>{if(e.splitPosition.isEqual(t.splitPosition)){if(!e.graveyardPosition&&!t.graveyardPosition)return[new rs(0)];if(e.graveyardPosition&&t.graveyardPosition&&e.graveyardPosition.isEqual(t.graveyardPosition))return[new rs(0)];if("splitBefore"==n.abRelation)return e.howMany=0,e.graveyardPosition=e.graveyardPosition._getTransformedBySplitOperation(t),[e]}if(e.graveyardPosition&&t.graveyardPosition&&e.graveyardPosition.isEqual(t.graveyardPosition)){var r="$graveyard"==e.splitPosition.root.rootName,i="$graveyard"==t.splitPosition.root.rootName;if(i&&!r||!(r&&!i)&&n.aIsStrong){const n=[];return t.howMany&&n.push(new x(t.moveTargetPosition,t.howMany,t.splitPosition,0)),e.howMany&&n.push(new x(e.splitPosition,e.howMany,e.moveTargetPosition,0)),n}return[new rs(0)]}if(e.graveyardPosition&&(e.graveyardPosition=e.graveyardPosition._getTransformedBySplitOperation(t)),e.splitPosition.isEqual(t.insertionPosition)&&"splitBefore"==n.abRelation)e.howMany++;else{if(t.splitPosition.isEqual(e.insertionPosition)&&"splitBefore"==n.baRelation){const n=t.insertionPosition.path.slice();n.push(0);r=new y(t.insertionPosition.root,n);return[e,new x(e.insertionPosition,1,r,0)]}e.splitPosition.hasSameParentAs(t.splitPosition)&&e.splitPosition.offset<t.splitPosition.offset&&(e.howMany-=t.howMany),e.splitPosition=e.splitPosition._getTransformedBySplitOperation(t),e.insertionPosition=T.getInsertionPosition(e.splitPosition)}return[e]});class kc extends M{constructor(e){super(e),this._stack=[],this._createdBatches=new WeakSet,this.refresh(),this.listenTo(e.data,"set",()=>this.clearStack())}refresh(){this.isEnabled=0<this._stack.length}addBatch(e){const t=this.editor.model.document.selection,n={ranges:t.hasOwnRange?Array.from(t.getRanges()):[],isBackward:t.isBackward};this._stack.push({batch:e,selection:n}),this.refresh()}clearStack(){this._stack=[],this.refresh()}_restoreSelection(e,t,n){const r=this.editor.model,i=r.document,o=[],a=e.map(e=>e.getTransformedByOperations(n)),s=a.flat();for(const e of a){const t=e.filter(e=>{var t=e;return!s.some(e=>e!==t&&e.containsRange(t,!0))});c=l=void 0;var l=t;l.sort((e,t)=>e.start.isBefore(t.start)?-1:1);for(let e=1;e<l.length;e++){var c=l[e-1].getJoined(l[e],!0);c&&(e--,l.splice(e,2,c))}const n=t.find(e=>e.root!=i.graveyard);n&&o.push(n)}o.length&&r.change(e=>{e.setSelection(o,{backward:t})})}_undo(e,t){const n=this.editor.model,r=n.document,i=(this._createdBatches.add(t),e.operations.slice().filter(e=>e.isDocumentOperation));i.reverse();for(const e of i){const i=e.baseVersion+1,o=Array.from(r.history.getOperations(i)),a=function(t,n,r){t=t.slice(),n=n.slice();const i=new gc(r.document,r.useRelations,r.forceWeakRemove),o=(i.setOriginalOperations(t),i.setOriginalOperations(n),i.originalOperations);if(0!=t.length&&0!=n.length){const a=new WeakMap;for(const n of t)a.set(n,0);const s={nextBaseVersionA:t[t.length-1].baseVersion+1,nextBaseVersionB:n[n.length-1].baseVersion+1,originalOperationsACount:t.length,originalOperationsBCount:n.length};let e=0;for(;e<t.length;){const r=t[e],o=a.get(r);if(o==n.length)e++;else{const s=n[o],l=mc(r,s,i.getContext(r,s,!0)),c=mc(s,r,i.getContext(s,r,!1));i.updateRelation(r,s),i.setOriginalOperations(l,r),i.setOriginalOperations(c,s);for(const t of l)a.set(t,o+c.length);t.splice(e,1,...l),n.splice(o,1,...c)}}if(r.padWithNoOps){const r=t.length-s.originalOperationsACount,i=n.length-s.originalOperationsBCount;bc(t,i-r),bc(n,r-i)}vc(t,s.nextBaseVersionB),vc(n,s.nextBaseVersionA)}return{operationsA:t,operationsB:n,originalOperations:o}}([e.getReversed()],o,{useRelations:!0,document:this.editor.model.document,padWithNoOps:!1,forceWeakRemove:!0}).operationsA;for(const i of a)t.addOperation(i),n.applyOperation(i),r.history.setOperationAsUndone(e,i)}}}class xc extends kc{execute(t=null){const e=t?this._stack.findIndex(e=>e.batch==t):this._stack.length-1,n=this._stack.splice(e,1)[0],r=this.editor.model.createBatch("transparent");this.editor.model.enqueueChange(r,()=>{this._undo(n.batch,r);var e=this.editor.model.document.history.getOperations(n.batch.baseVersion);this._restoreSelection(n.selection.ranges,n.selection.isBackward,e),this.fire("revert",n.batch,r)}),this.refresh()}}class Cc extends kc{execute(){const t=this._stack.pop(),n=this.editor.model.createBatch("transparent");this.editor.model.enqueueChange(n,()=>{var e=t.batch.operations[t.batch.operations.length-1].baseVersion+1,e=this.editor.model.document.history.getOperations(e);this._restoreSelection(t.selection.ranges,t.selection.isBackward,e),this._undo(t.batch,n)}),this.refresh()}}class Sc extends O{static get pluginName(){return"UndoEditing"}constructor(e){super(e),this._batchRegistry=new WeakSet}init(){const e=this.editor;this._undoCommand=new xc(e),this._redoCommand=new Cc(e),e.commands.add("undo",this._undoCommand),e.commands.add("redo",this._redoCommand),this.listenTo(e.model,"applyOperation",(e,t)=>{var n,r,t=t[0];t.isDocumentOperation&&(t=t.batch,n=this._redoCommand._createdBatches.has(t),r=this._undoCommand._createdBatches.has(t),this._batchRegistry.has(t)||"transparent"==t.type&&!n&&!r||(n?this._undoCommand.addBatch(t):r||(this._undoCommand.addBatch(t),this._redoCommand.clearStack()),this._batchRegistry.add(t)))},{priority:"highest"}),this.listenTo(this._undoCommand,"revert",(e,t,n)=>{this._redoCommand.addBatch(n)}),e.keystrokes.set("CTRL+Z","undo"),e.keystrokes.set("CTRL+Y","redo"),e.keystrokes.set("CTRL+SHIFT+Z","redo")}}var Tc='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M5.042 9.367l2.189 1.837a.75.75 0 0 1-.965 1.149l-3.788-3.18a.747.747 0 0 1-.21-.284.75.75 0 0 1 .17-.945L6.23 4.762a.75.75 0 1 1 .964 1.15L4.863 7.866h8.917A.75.75 0 0 1 14 7.9a4 4 0 1 1-1.477 7.718l.344-1.489a2.5 2.5 0 1 0 1.094-4.73l.008-.032H5.042z"/></svg>',$c='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M14.958 9.367l-2.189 1.837a.75.75 0 0 0 .965 1.149l3.788-3.18a.747.747 0 0 0 .21-.284.75.75 0 0 0-.17-.945L13.77 4.762a.75.75 0 1 0-.964 1.15l2.331 1.955H6.22A.75.75 0 0 0 6 7.9a4 4 0 1 0 1.477 7.718l-.344-1.489A2.5 2.5 0 1 1 6.039 9.4l-.008-.032h8.927z"/></svg>';class Ec extends O{init(){const e=this.editor,t=e.locale,n=e.t,r="ltr"==t.uiLanguageDirection?Tc:$c,i="ltr"==t.uiLanguageDirection?$c:Tc;this._addButton("undo",n("Undo"),"CTRL+Z",r),this._addButton("redo",n("Redo"),"CTRL+Y",i)}_addButton(r,i,o,a){const s=this.editor;s.ui.componentFactory.add(r,e=>{const t=s.commands.get(r),n=new A(e);return n.set({label:i,icon:a,keystroke:o,tooltip:!0}),n.bind("isEnabled").to(t,"isEnabled"),this.listenTo(n,"execute",()=>{s.execute(r),s.editing.view.focus()}),n})}}class Ac extends O{static get requires(){return[Sc,Ec]}static get pluginName(){return"Undo"}}class Oc{constructor(e){this.context=e}destroy(){this.stopListening()}static get isContextPlugin(){return!0}}a(Oc,l);class Mc extends Oc{static get pluginName(){return"PendingActions"}init(){this.set("hasAny",!1),this._actions=new rn({idProperty:"_id"}),this._actions.delegate("add","remove").to(this)}add(e){if("string"!=typeof e)throw new h.a("pendingactions-add-invalid-message",this);const t=Object.create(l);return t.set("message",e),this._actions.add(t),this.hasAny=!0,t}remove(e){this._actions.remove(e),this.hasAny=!!this._actions.length}get first(){return this._actions.get(0)}[Symbol.iterator](){return this._actions[Symbol.iterator]()}}class Pc{constructor(){const e=new window.FileReader;this._reader=e,this._data=void 0,this.set("loaded",0),e.onprogress=e=>{this.loaded=e.loaded}}get error(){return this._reader.error}get data(){return this._data}read(n){const r=this._reader;return this.total=n.size,new Promise((t,e)=>{r.onload=()=>{var e=r.result;this._data=e,t(e)},r.onerror=()=>{e("error")},r.onabort=()=>{e("aborted")},this._reader.readAsDataURL(n)})}abort(){this._reader.abort()}}a(Pc,l);class Dc extends O{static get pluginName(){return"FileRepository"}static get requires(){return[Mc]}init(){this.loaders=new rn,this.loaders.on("add",()=>this._updatePendingAction()),this.loaders.on("remove",()=>this._updatePendingAction()),this._loadersMap=new Map,this._pendingAction=null,this.set("uploaded",0),this.set("uploadTotal",null),this.bind("uploadedPercent").to(this,"uploaded",this,"uploadTotal",(e,t)=>t?e/t*100:0)}getLoader(e){return this._loadersMap.get(e)||null}createLoader(e){if(!this.createUploadAdapter)return Object(h.c)("filerepository-no-upload-adapter"),null;const t=new Rc(Promise.resolve(e),this.createUploadAdapter);return this.loaders.add(t),this._loadersMap.set(e,t),e instanceof Promise&&t.file.then(e=>{this._loadersMap.set(e,t)}).catch(()=>{}),t.on("change:uploaded",()=>{let e=0;for(const t of this.loaders)e+=t.uploaded;this.uploaded=e}),t.on("change:uploadTotal",()=>{let e=0;for(const t of this.loaders)t.uploadTotal&&(e+=t.uploadTotal);this.uploadTotal=e}),t}destroyLoader(e){const n=e instanceof Rc?e:this.getLoader(e);n._destroy(),this.loaders.remove(n),this._loadersMap.forEach((e,t)=>{e===n&&this._loadersMap.delete(t)})}_updatePendingAction(){const e=this.editor.plugins.get(Mc);if(this.loaders.length){if(!this._pendingAction){const t=this.editor.t,n=e=>`${t("Upload in progress")} ${parseInt(e)}%.`;this._pendingAction=e.add(n(this.uploadedPercent)),this._pendingAction.bind("message").to(this,"uploadedPercent",n)}}else e.remove(this._pendingAction),this._pendingAction=null}}a(Dc,l);class Rc{constructor(e,t){this.id=qt(),this._filePromiseWrapper=this._createFilePromiseWrapper(e),this._adapter=t(this),this._reader=new Pc,this.set("status","idle"),this.set("uploaded",0),this.set("uploadTotal",null),this.bind("uploadedPercent").to(this,"uploaded",this,"uploadTotal",(e,t)=>t?e/t*100:0),this.set("uploadResponse",null)}get file(){return this._filePromiseWrapper?this._filePromiseWrapper.promise.then(e=>this._filePromiseWrapper?e:null):Promise.resolve(null)}get data(){return this._reader.data}read(){if("idle"!=this.status)throw new h.a("filerepository-read-wrong-status",this);return this.status="reading",this.file.then(e=>this._reader.read(e)).then(e=>{if("reading"!==this.status)throw this.status;return this.status="idle",e}).catch(e=>{if("aborted"===e)throw this.status="aborted";throw this.status="error",this._reader.error||e})}upload(){if("idle"!=this.status)throw new h.a("filerepository-upload-wrong-status",this);return this.status="uploading",this.file.then(()=>this._adapter.upload()).then(e=>(this.uploadResponse=e,this.status="idle",e)).catch(e=>{if("aborted"===this.status)throw"aborted";throw this.status="error",e})}abort(){var e=this.status;this.status="aborted",this._filePromiseWrapper.isFulfilled?"reading"==e?this._reader.abort():"uploading"==e&&this._adapter.abort&&this._adapter.abort():(this._filePromiseWrapper.promise.catch(()=>{}),this._filePromiseWrapper.rejecter("aborted")),this._destroy()}_destroy(){this._filePromiseWrapper=void 0,this._reader=void 0,this._adapter=void 0,this.uploadResponse=void 0}_createFilePromiseWrapper(e){const r={};return r.promise=new Promise((t,n)=>{r.rejecter=n,r.isFulfilled=!1,e.then(e=>{r.isFulfilled=!0,t(e)}).catch(e=>{r.isFulfilled=!0,n(e)})}),r}}a(Rc,l);class Ic extends O{static get requires(){return[Dc]}static get pluginName(){return"CKFinderUploadAdapter"}init(){const t=this.editor.config.get("ckfinder.uploadUrl");t&&(this.editor.plugins.get(Dc).createUploadAdapter=e=>new Nc(e,t,this.editor.t))}}class Nc{constructor(e,t,n){this.loader=e,this.url=t,this.t=n}upload(){return this.loader.file.then(n=>new Promise((e,t)=>{this._initRequest(),this._initListeners(e,t,n),this._sendRequest(n)}))}abort(){this.xhr&&this.xhr.abort()}_initRequest(){const e=this.xhr=new XMLHttpRequest;e.open("POST",this.url,!0),e.responseType="json"}_initListeners(t,n,e){const r=this.xhr,i=this.loader,o=(0,this.t)("Cannot upload file:")+` ${e.name}.`;r.addEventListener("error",()=>n(o)),r.addEventListener("abort",()=>n()),r.addEventListener("load",()=>{var e=r.response;if(!e||!e.uploaded)return n(e&&e.error&&e.error.message?e.error.message:o);t({default:e.url})}),r.upload&&r.upload.addEventListener("progress",e=>{e.lengthComputable&&(i.uploadTotal=e.total,i.uploaded=e.loaded)})}_sendRequest(e){const t=new FormData;t.append("upload",e),t.append("ckCsrfToken",function(){let e=function(e){e="ckCsrfToken".toLowerCase();const t=document.cookie.split(";");for(const n of t){const t=n.split("=");if(decodeURIComponent(t[0].trim().toLowerCase())===e)return decodeURIComponent(t[1])}return null}();var t;return e&&40==e.length||(t=e=function(){let t="";var n=new Uint8Array(40);window.crypto.getRandomValues(n);for(let e=0;e<n.length;e++){const r="abcdefghijklmnopqrstuvwxyz0123456789".charAt(n[e]%"abcdefghijklmnopqrstuvwxyz0123456789".length);t+=.5<Math.random()?r.toUpperCase():r}return t}(),document.cookie=encodeURIComponent("ckCsrfToken")+"="+encodeURIComponent(t)+";path=/"),e}()),this.xhr.send(t)}}function jc(e){e=e.next();return e.done?null:e.value}function Lc(l,c,u,e){let d,h=null;d="function"==typeof e?e:(h=l.commands.get(e),()=>{l.execute(e)}),l.model.document.on("change:data",(e,t)=>{if((!h||h.isEnabled)&&c.isEnabled){const r=jc(l.model.document.selection.getRanges());if(r.isCollapsed&&"transparent"!=t.type){var t=Array.from(l.model.document.differ.getChanges()),n=t[0];if(1==t.length&&"insert"===n.type&&"$text"==n.name&&1==n.length){const i=n.position.parent;if(!(i.is("element","codeBlock")||h&&!0===h.value)){const o=i.getChild(0),a=l.model.createRangeOn(o);if(a.containsRange(r)||r.end.isEqual(a.end)){const s=u.exec(o.data.substr(0,r.end.offset));s&&l.model.enqueueChange(e=>{const t=e.createPositionAt(i,0),n=e.createPositionAt(i,s[0].length),r=new Ho(t,n);!1!==d({match:s})&&e.remove(r),r.detach()})}}}}}})}function Vc(h,f,e,p){let l,m;e instanceof RegExp?l=e:m=e,m=m||(e=>{const t=[],n=[];for(;null!==(s=l.exec(e))&&!(s&&s.length<4);){var{index:r,1:i,2:o,3:a}=s,s=[r+=s[0].length-(i+o+a).length,r+i.length],a=[r+i.length+o.length,r+i.length+o.length+a.length];t.push(s),t.push(a),n.push([r+i.length,r+i.length+o.length])}return{remove:t,format:n}}),h.model.document.on("change:data",(e,t)=>{if("transparent"!=t.type&&f.isEnabled){const r=h.model,i=r.document.selection;if(i.isCollapsed){var t=Array.from(r.document.differ.getChanges()),n=t[0];if(1==t.length&&"insert"===n.type&&"$text"==n.name&&1==n.length){const o=i.focus,a=o.parent,{text:s,range:l}=function(e,n){let r=e.start;return{text:Array.from(e.getItems()).reduce((e,t)=>!t.is("$text")&&!t.is("$textProxy")||t.getAttribute("code")?(r=n.createPositionAfter(t),""):e+t.data,""),range:n.createRange(r,e.end)}}(r.createRange(r.createPositionAt(a,0),o),r),c=m(s),u=Fc(l.start,c.format,r),d=Fc(l.start,c.remove,r);u.length&&d.length&&r.enqueueChange(e=>{if(!1!==p(e,u))for(const t of d.reverse())e.remove(t)})}}}})}function Fc(t,e,n){return e.filter(e=>void 0!==e[0]&&void 0!==e[1]).map(e=>n.createRange(t.getShiftedBy(e[0]),t.getShiftedBy(e[1])))}function zc(n,r){return(e,t)=>{if(!n.commands.get(r).isEnabled)return!1;t=n.model.schema.getValidRanges(t,r);for(const n of t)e.setAttribute(r,!0,n);e.removeSelectionAttribute(r)}}class Bc extends M{constructor(e,t){super(e),this.attributeKey=t}refresh(){const e=this.editor.model,t=e.document;this.value=this._getValueFromFirstAllowedNode(),this.isEnabled=e.schema.checkAttributeInSelection(t.selection,this.attributeKey)}execute(e={}){const n=this.editor.model,r=n.document.selection,i=void 0===e.forceValue?!this.value:e.forceValue;n.change(e=>{if(r.isCollapsed)i?e.setSelectionAttribute(this.attributeKey,!0):e.removeSelectionAttribute(this.attributeKey);else{var t=n.schema.getValidRanges(r.getRanges(),this.attributeKey);for(const n of t)i?e.setAttribute(this.attributeKey,i,n):e.removeAttribute(this.attributeKey,n)}})}_getValueFromFirstAllowedNode(){const e=this.editor.model,t=e.schema,n=e.document.selection;if(n.isCollapsed)return n.hasAttribute(this.attributeKey);for(const e of n.getRanges())for(const n of e.getItems())if(t.checkAttribute(n,this.attributeKey))return n.hasAttribute(this.attributeKey);return!1}}class Hc extends O{static get pluginName(){return"BoldEditing"}init(){const e=this.editor;e.model.schema.extend("$text",{allowAttributes:"bold"}),e.model.schema.setAttributeProperties("bold",{isFormatting:!0,copyOnEnter:!0}),e.conversion.attributeToElement({model:"bold",view:"strong",upcastAlso:["b",e=>{e=e.getStyle("font-weight");return e?"bold"==e||600<=Number(e)?{name:!0,styles:["font-weight"]}:void 0:null}]}),e.commands.add("bold",new Bc(e,"bold")),e.keystrokes.set("CTRL+B","bold")}}class Uc extends O{init(){const r=this.editor,i=r.t;r.ui.componentFactory.add("bold",e=>{const t=r.commands.get("bold"),n=new A(e);return n.set({label:i("Bold"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10.187 17H5.773c-.637 0-1.092-.138-1.364-.415-.273-.277-.409-.718-.409-1.323V4.738c0-.617.14-1.062.419-1.332.279-.27.73-.406 1.354-.406h4.68c.69 0 1.288.041 1.793.124.506.083.96.242 1.36.478.341.197.644.447.906.75a3.262 3.262 0 0 1 .808 2.162c0 1.401-.722 2.426-2.167 3.075C15.05 10.175 16 11.315 16 13.01a3.756 3.756 0 0 1-2.296 3.504 6.1 6.1 0 0 1-1.517.377c-.571.073-1.238.11-2 .11zm-.217-6.217H7v4.087h3.069c1.977 0 2.965-.69 2.965-2.072 0-.707-.256-1.22-.768-1.537-.512-.319-1.277-.478-2.296-.478zM7 5.13v3.619h2.606c.729 0 1.292-.067 1.69-.2a1.6 1.6 0 0 0 .91-.765c.165-.267.247-.566.247-.897 0-.707-.26-1.176-.778-1.409-.519-.232-1.31-.348-2.375-.348H7z"/></svg>',keystroke:"CTRL+B",tooltip:!0,isToggleable:!0}),n.bind("isOn","isEnabled").to(t,"value","isEnabled"),this.listenTo(n,"execute",()=>{r.execute("bold"),r.editing.view.focus()}),n})}}class Wc extends O{static get pluginName(){return"ItalicEditing"}init(){const e=this.editor;e.model.schema.extend("$text",{allowAttributes:"italic"}),e.model.schema.setAttributeProperties("italic",{isFormatting:!0,copyOnEnter:!0}),e.conversion.attributeToElement({model:"italic",view:"i",upcastAlso:["em",{styles:{"font-style":"italic"}}]}),e.commands.add("italic",new Bc(e,"italic")),e.keystrokes.set("CTRL+I","italic")}}class qc extends O{init(){const r=this.editor,i=r.t;r.ui.componentFactory.add("italic",e=>{const t=r.commands.get("italic"),n=new A(e);return n.set({label:i("Italic"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M9.586 14.633l.021.004c-.036.335.095.655.393.962.082.083.173.15.274.201h1.474a.6.6 0 1 1 0 1.2H5.304a.6.6 0 0 1 0-1.2h1.15c.474-.07.809-.182 1.005-.334.157-.122.291-.32.404-.597l2.416-9.55a1.053 1.053 0 0 0-.281-.823 1.12 1.12 0 0 0-.442-.296H8.15a.6.6 0 0 1 0-1.2h6.443a.6.6 0 1 1 0 1.2h-1.195c-.376.056-.65.155-.823.296-.215.175-.423.439-.623.79l-2.366 9.347z"/></svg>',keystroke:"CTRL+I",tooltip:!0,isToggleable:!0}),n.bind("isOn","isEnabled").to(t,"value","isEnabled"),this.listenTo(n,"execute",()=>{r.execute("italic"),r.editing.view.focus()}),n})}}class Yc extends M{refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(e={}){const t=this.editor.model,n=t.schema,r=t.document.selection,i=Array.from(r.getSelectedBlocks()),o=void 0===e.forceValue?!this.value:e.forceValue;t.change(e=>{var t;o?(t=i.filter(e=>Gc(e)||Xc(n,e)),this._applyQuote(e,t)):this._removeQuote(e,i.filter(Gc))})}_getValue(){var e=jc(this.editor.model.document.selection.getSelectedBlocks());return!(!e||!Gc(e))}_checkEnabled(){if(this.value)return!0;const e=this.editor.model.document.selection,t=this.editor.model.schema,n=jc(e.getSelectedBlocks());return!!n&&Xc(t,n)}_removeQuote(n,e){Kc(n,e).reverse().forEach(e=>{if(e.start.isAtStart&&e.end.isAtEnd)n.unwrap(e.start.parent);else if(e.start.isAtStart){const t=n.createPositionBefore(e.start.parent);void n.move(e,t)}else{e.end.isAtEnd||n.split(e.end);const t=n.createPositionAfter(e.end.parent);n.move(e,t)}})}_applyQuote(n,e){const r=[];Kc(n,e).reverse().forEach(e=>{let t=Gc(e.start);t||(t=n.createElement("blockQuote"),n.wrap(e,t)),r.push(t)}),r.reverse().reduce((e,t)=>e.nextSibling==t?(n.merge(n.createPositionAfter(e)),e):t)}}function Gc(e){return"blockQuote"==e.parent.name?e.parent:null}function Kc(e,t){let n,r=0;const i=[];for(;r<t.length;){var o=t[r],a=t[r+1];n=n||e.createPositionBefore(o),a&&o.nextSibling==a||(i.push(e.createRange(n,e.createPositionAfter(o))),n=null),r++}return i}function Xc(e,t){var n=e.checkChild(t.parent,"blockQuote"),e=e.checkChild(["$root","blockQuote"],t);return n&&e}class Jc extends O{static get pluginName(){return"BlockQuoteEditing"}init(){const n=this.editor,r=n.model.schema;n.commands.add("blockQuote",new Yc(n)),r.register("blockQuote",{allowWhere:"$block",allowContentOf:"$root"}),r.addChildCheck((e,t)=>{if(e.endsWith("blockQuote")&&"blockQuote"==t.name)return!1}),n.conversion.elementToElement({model:"blockQuote",view:"blockquote"}),n.model.document.registerPostFixer(e=>{const t=n.model.document.differ.getChanges();for(const n of t)if("insert"==n.type){const t=n.position.nodeAfter;if(!t)continue;if(t.is("element","blockQuote")&&t.isEmpty)return e.remove(t),!0;if(t.is("element","blockQuote")&&!r.checkChild(n.position,t))return e.unwrap(t),!0;if(t.is("element")){const n=e.createRangeIn(t);for(const t of n.getItems())if(t.is("element","blockQuote")&&!r.checkChild(e.createPositionBefore(t),t))return e.unwrap(t),!0}}else if("remove"==n.type){const r=n.position.parent;if(r.is("element","blockQuote")&&r.isEmpty)return e.remove(r),!0}return!1})}afterInit(){const i=this.editor.commands.get("blockQuote");this.listenTo(this.editor.editing.view.document,"enter",(e,t)=>{const n=this.editor.model.document,r=n.selection.getLastPosition().parent;n.selection.isCollapsed&&r.isEmpty&&i.value&&(this.editor.execute("blockQuote"),this.editor.editing.view.scrollToTheSelection(),t.preventDefault(),e.stop())})}}t(44);class Qc extends O{init(){const r=this.editor,i=r.t;r.ui.componentFactory.add("blockQuote",e=>{const t=r.commands.get("blockQuote"),n=new A(e);return n.set({label:i("Block quote"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 10.423a6.5 6.5 0 0 1 6.056-6.408l.038.67C6.448 5.423 5.354 7.663 5.22 10H9c.552 0 .5.432.5.986v4.511c0 .554-.448.503-1 .503h-5c-.552 0-.5-.449-.5-1.003v-4.574zm8 0a6.5 6.5 0 0 1 6.056-6.408l.038.67c-2.646.739-3.74 2.979-3.873 5.315H17c.552 0 .5.432.5.986v4.511c0 .554-.448.503-1 .503h-5c-.552 0-.5-.449-.5-1.003v-4.574z"/></svg>',tooltip:!0,isToggleable:!0}),n.bind("isOn","isEnabled").to(t,"value","isEnabled"),this.listenTo(n,"execute",()=>{r.execute("blockQuote"),r.editing.view.focus()}),n})}}class Zc extends O{static get pluginName(){return"CKFinderUI"}init(){const r=this.editor,e=r.ui.componentFactory,i=r.t;e.add("ckfinder",e=>{const t=r.commands.get("ckfinder"),n=new A(e);return n.set({label:i("Insert image or file"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.627 16.5zm5.873-.196zm0-7.001V8h-13v8.5h4.341c.191.54.457 1.044.785 1.5H2a1.5 1.5 0 0 1-1.5-1.5v-13A1.5 1.5 0 0 1 2 2h4.5a1.5 1.5 0 0 1 1.06.44L9.122 4H16a1.5 1.5 0 0 1 1.5 1.5v1A1.5 1.5 0 0 1 19 8v2.531a6.027 6.027 0 0 0-1.5-1.228zM16 6.5v-1H8.5l-2-2H2v13h1V8a1.5 1.5 0 0 1 1.5-1.5H16z"/><path d="M14.5 19.5a5 5 0 1 1 0-10 5 5 0 0 1 0 10zM15 14v-2h-1v2h-2v1h2v2h1v-2h2v-1h-2z"/></svg>',tooltip:!0}),n.bind("isEnabled").to(t),n.on("execute",()=>{r.execute("ckfinder"),r.editing.view.focus()}),n})}}class eu extends Ri{observe(e){this.listenTo(e,"load",(e,t)=>{var n=t.target;this.checkShouldIgnoreEventFromTarget(n)||"IMG"==n.tagName&&this._fireEvents(t)},{useCapture:!0})}_fireEvents(e){this.isEnabled&&(this.document.fire("layoutChanged"),this.document.fire("imageLoaded",e))}}class tu{constructor(){this._stack=[]}add(e,t){var n=this._stack,r=n[0],e=(this._insertDescriptor(e),n[0]);r===e||nu(r,e)||this.fire("change:top",{oldDescriptor:r,newDescriptor:e,writer:t})}remove(e,t){var n=this._stack,r=n[0],e=(this._removeDescriptor(e),n[0]);r===e||nu(r,e)||this.fire("change:top",{oldDescriptor:r,newDescriptor:e,writer:t})}_insertDescriptor(t){const n=this._stack,r=n.findIndex(e=>e.id===t.id);if(!nu(t,n[r])){-1<r&&n.splice(r,1);let e=0;for(;n[e]&&(i=n[e],o=t,i.priority>o.priority||!(i.priority<o.priority)&&ru(i.classes)>ru(o.classes));)e++;var i,o;n.splice(e,0,t)}}_removeDescriptor(t){const e=this._stack,n=e.findIndex(e=>e.id===t);-1<n&&e.splice(n,1)}}function nu(e,t){return e&&t&&e.priority==t.priority&&ru(e.classes)==ru(t.classes)}function ru(e){return Array.isArray(e)?e.sort().join(","):e}a(tu,o),t(46);const iu=tl("px"),ou=u.document.body;class D extends ${constructor(e){super(e);const t=this.bindTemplate;this.set("top",0),this.set("left",0),this.set("position","arrow_nw"),this.set("isVisible",!1),this.set("withArrow",!0),this.set("class"),this.content=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-balloon-panel",t.to("position",e=>"ck-balloon-panel_"+e),t.if("isVisible","ck-balloon-panel_visible"),t.if("withArrow","ck-balloon-panel_with-arrow"),t.to("class")],style:{top:t.to("top",iu),left:t.to("left",iu)}},children:this.content})}show(){this.isVisible=!0}hide(){this.isVisible=!1}attachTo(e){this.show();var t=D.defaultPositions,t=Object.assign({},{element:this.element,positions:[t.southArrowNorth,t.southArrowNorthMiddleWest,t.southArrowNorthMiddleEast,t.southArrowNorthWest,t.southArrowNorthEast,t.northArrowSouth,t.northArrowSouthMiddleWest,t.northArrowSouthMiddleEast,t.northArrowSouthWest,t.northArrowSouthEast],limiter:ou,fitInViewport:!0},e),e=D._getOptimalPosition(t),t=parseInt(e.left),n=parseInt(e.top),e=e.name;Object.assign(this,{top:n,left:t,position:e})}pin(e){this.unpin(),this._pinWhenIsVisibleCallback=()=>{this.isVisible?this._startPinning(e):this._stopPinning()},this._startPinning(e),this.listenTo(this,"change:isVisible",this._pinWhenIsVisibleCallback)}unpin(){this._pinWhenIsVisibleCallback&&(this._stopPinning(),this.stopListening(this,"change:isVisible",this._pinWhenIsVisibleCallback),this._pinWhenIsVisibleCallback=null,this.hide())}_startPinning(o){this.attachTo(o);const a=au(o.target),s=o.limiter?au(o.limiter):ou;this.listenTo(u.document,"scroll",(e,t)=>{const n=t.target,r=a&&n.contains(a),i=s&&n.contains(s);!r&&!i&&a&&s||this.attachTo(o)},{useCapture:!0}),this.listenTo(u.window,"resize",()=>{this.attachTo(o)})}_stopPinning(){this.stopListening(u.document,"scroll"),this.stopListening(u.window,"resize")}}function au(e){return Vt(e)?e:uo(e)?e.commonAncestorContainer:"function"==typeof e?au(e()):null}function su(e,t){return e.top-t.height-D.arrowVerticalOffset}function lu(e){return e.bottom+D.arrowVerticalOffset}function cu(e,t,n){return e&&du(e)&&!n.isInline(t)}function uu(e){return e.getAttribute("widget-type-around")}function du(e){return!!e.is("element")&&!!e.getCustomProperty("widget")}function hu(e,t,n={}){if(e.is("containerElement"))return t.setAttribute("contenteditable","false",e),t.addClass("ck-widget",e),t.setCustomProperty("widget",!0,e),e.getFillerOffset=vu,n.label&&(i=n.label,t.setCustomProperty("widgetLabel",i,e)),n.hasSelectionHandle&&(i=e,r=(n=t).createUIElement("div",{class:"ck ck-widget__selection-handle"},function(e){const t=this.toDomElement(e),n=new pl;return n.set("content",'<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M4 0v1H1v3H0V.5A.5.5 0 0 1 .5 0H4zm8 0h3.5a.5.5 0 0 1 .5.5V4h-1V1h-3V0zM4 16H.5a.5.5 0 0 1-.5-.5V12h1v3h3v1zm8 0v-1h3v-3h1v3.5a.5.5 0 0 1-.5.5H12z"/><path fill-opacity=".256" d="M1 1h14v14H1z"/><g class="ck-icon__selected-indicator"><path d="M7 0h2v1H7V0zM0 7h1v2H0V7zm15 0h1v2h-1V7zm-8 8h2v1H7v-1z"/><path fill-opacity=".254" d="M1 1h14v14H1z"/></g></svg>'),n.render(),t.appendChild(n.element),t}),n.insert(n.createPositionAt(i,0),r),n.addClass(["ck-widget_with-selection-handle"],i)),fu(e,t,(e,t,n)=>n.addClass(o(t.classes),e),(e,t,n)=>n.removeClass(o(t.classes),e)),e;throw new h.a("widget-to-widget-wrong-element-type",null,{element:e});var r,i;function o(e){return Array.isArray(e)?e:[e]}}function fu(n,e,r,i){const o=new tu;o.on("change:top",(e,t)=>{t.oldDescriptor&&i(n,t.oldDescriptor,t.writer),t.newDescriptor&&r(n,t.newDescriptor,t.writer)}),e.setCustomProperty("addHighlight",(e,t,n)=>o.add(t,n),n),e.setCustomProperty("removeHighlight",(e,t,n)=>o.remove(t,n),n)}function pu(r,i){return i.addClass(["ck-editor__editable","ck-editor__nested-editable"],r),i.setAttribute("contenteditable",r.isReadOnly?"false":"true",r),r.on("change:isReadOnly",(e,t,n)=>{i.setAttribute("contenteditable",n?"false":"true",r)}),r.on("change:isFocused",(e,t,n)=>{n?i.addClass("ck-editor__nested-editable_focused",r):i.removeClass("ck-editor__nested-editable_focused",r)}),r}function mu(e,t){const n=e.getSelectedElement();if(n){const r=uu(e);if(r)return t.createPositionAt(n,r);if(t.schema.isBlock(n))return t.createPositionAfter(n)}const r=e.getSelectedBlocks().next().value;if(r){if(r.isEmpty)return t.createPositionAt(r,0);const n=t.createPositionAfter(r);return e.focus.isTouching(n)?n:t.createPositionBefore(r)}return e.focus}function gu(e,t){const n=new v(u.window),r=n.getIntersection(e),i=t.height+D.arrowVerticalOffset;var o;return e.top-i>n.top||e.bottom+i<n.bottom?null:(o=(o=r||e).left+o.width/2-t.width/2,{top:Math.max(e.top,0)+D.arrowVerticalOffset,left:o,name:"arrow_n"})}function vu(){return null}function bu(e){var t,e=e.getSelectedElement();return e&&((t=e).getCustomProperty("image")&&du(t))?e:null}function yu(e){return!!e&&e.is("element","image")}function wu(e,t,n={}){var n=e.createElement("image",n),r=mu(t.document.selection,t);t.insertContent(n,r),n.parent&&e.setSelection(n,"on")}function _u(e){var t,n,r,i=e.schema,o=e.document.selection;return t=o,n=i,r=e,e=function(){const e=mu(t,r).parent;return e.isEmpty&&!e.is("element","$root")?e.parent:e}(),n.checkChild(e,"image")&&(n=i,!((e=o.getSelectedElement())&&n.isObject(e)))&&[...o.focus.getAncestors()].every(e=>!e.is("element","image"))}function ku(e){const t=[];for(const n of e.getChildren())t.push(n),n.is("element")&&t.push(...n.getChildren());return t.find(e=>e.is("element","img"))}function xu(t){return e=>{e.on(`attribute:${t}:image`,n)};function n(e,t,n){if(n.consumable.consume(t.item,e.name)){const r=n.writer,i=ku(n.mapper.toViewElement(t.item));r.setAttribute(t.attributeKey,t.attributeNewValue||"",i)}}}D.arrowHorizontalOffset=25,D.arrowVerticalOffset=10,D._getOptimalPosition=cl,D.defaultPositions={northWestArrowSouthWest:(e,t)=>({top:su(e,t),left:e.left-D.arrowHorizontalOffset,name:"arrow_sw"}),northWestArrowSouthMiddleWest:(e,t)=>({top:su(e,t),left:e.left-.25*t.width-D.arrowHorizontalOffset,name:"arrow_smw"}),northWestArrowSouth:(e,t)=>({top:su(e,t),left:e.left-t.width/2,name:"arrow_s"}),northWestArrowSouthMiddleEast:(e,t)=>({top:su(e,t),left:e.left-.75*t.width+D.arrowHorizontalOffset,name:"arrow_sme"}),northWestArrowSouthEast:(e,t)=>({top:su(e,t),left:e.left-t.width+D.arrowHorizontalOffset,name:"arrow_se"}),northArrowSouthWest:(e,t)=>({top:su(e,t),left:e.left+e.width/2-D.arrowHorizontalOffset,name:"arrow_sw"}),northArrowSouthMiddleWest:(e,t)=>({top:su(e,t),left:e.left+e.width/2-.25*t.width-D.arrowHorizontalOffset,name:"arrow_smw"}),northArrowSouth:(e,t)=>({top:su(e,t),left:e.left+e.width/2-t.width/2,name:"arrow_s"}),northArrowSouthMiddleEast:(e,t)=>({top:su(e,t),left:e.left+e.width/2-.75*t.width+D.arrowHorizontalOffset,name:"arrow_sme"}),northArrowSouthEast:(e,t)=>({top:su(e,t),left:e.left+e.width/2-t.width+D.arrowHorizontalOffset,name:"arrow_se"}),northEastArrowSouthWest:(e,t)=>({top:su(e,t),left:e.right-D.arrowHorizontalOffset,name:"arrow_sw"}),northEastArrowSouthMiddleWest:(e,t)=>({top:su(e,t),left:e.right-.25*t.width-D.arrowHorizontalOffset,name:"arrow_smw"}),northEastArrowSouth:(e,t)=>({top:su(e,t),left:e.right-t.width/2,name:"arrow_s"}),northEastArrowSouthMiddleEast:(e,t)=>({top:su(e,t),left:e.right-.75*t.width+D.arrowHorizontalOffset,name:"arrow_sme"}),northEastArrowSouthEast:(e,t)=>({top:su(e,t),left:e.right-t.width+D.arrowHorizontalOffset,name:"arrow_se"}),southWestArrowNorthWest:(e,t)=>({top:lu(e),left:e.left-D.arrowHorizontalOffset,name:"arrow_nw"}),southWestArrowNorthMiddleWest:(e,t)=>({top:lu(e),left:e.left-.25*t.width-D.arrowHorizontalOffset,name:"arrow_nmw"}),southWestArrowNorth:(e,t)=>({top:lu(e),left:e.left-t.width/2,name:"arrow_n"}),southWestArrowNorthMiddleEast:(e,t)=>({top:lu(e),left:e.left-.75*t.width+D.arrowHorizontalOffset,name:"arrow_nme"}),southWestArrowNorthEast:(e,t)=>({top:lu(e),left:e.left-t.width+D.arrowHorizontalOffset,name:"arrow_ne"}),southArrowNorthWest:(e,t)=>({top:lu(e),left:e.left+e.width/2-D.arrowHorizontalOffset,name:"arrow_nw"}),southArrowNorthMiddleWest:(e,t)=>({top:lu(e),left:e.left+e.width/2-.25*t.width-D.arrowHorizontalOffset,name:"arrow_nmw"}),southArrowNorth:(e,t)=>({top:lu(e),left:e.left+e.width/2-t.width/2,name:"arrow_n"}),southArrowNorthMiddleEast:(e,t)=>({top:lu(e),left:e.left+e.width/2-.75*t.width+D.arrowHorizontalOffset,name:"arrow_nme"}),southArrowNorthEast:(e,t)=>({top:lu(e),left:e.left+e.width/2-t.width+D.arrowHorizontalOffset,name:"arrow_ne"}),southEastArrowNorthWest:(e,t)=>({top:lu(e),left:e.right-D.arrowHorizontalOffset,name:"arrow_nw"}),southEastArrowNorthMiddleWest:(e,t)=>({top:lu(e),left:e.right-.25*t.width-D.arrowHorizontalOffset,name:"arrow_nmw"}),southEastArrowNorth:(e,t)=>({top:lu(e),left:e.right-t.width/2,name:"arrow_n"}),southEastArrowNorthMiddleEast:(e,t)=>({top:lu(e),left:e.right-.75*t.width+D.arrowHorizontalOffset,name:"arrow_nme"}),southEastArrowNorthEast:(e,t)=>({top:lu(e),left:e.right-t.width+D.arrowHorizontalOffset,name:"arrow_ne"})};class Cu extends M{refresh(){this.isEnabled=_u(this.editor.model)}execute(n){const r=this.editor.model;r.change(e=>{var t=Array.isArray(n.source)?n.source:[n.source];for(const n of t)wu(e,r,{src:n})})}}class Su extends O{static get pluginName(){return"ImageEditing"}init(){const e=this.editor,t=e.model.schema,i=e.t,n=e.conversion;function r(e,t,n){if(n.consumable.test(t.viewItem,{name:!0,classes:"image"})){const i=ku(t.viewItem);var r;i&&i.hasAttribute("src")&&n.consumable.test(i,{name:!0})&&((r=jc(n.convertItem(i,t.modelCursor).modelRange.getItems()))&&(n.convertChildren(t.viewItem,r),n.updateConversionResult(r,t)))}}function o(e,t,n){if(n.consumable.consume(t.item,e.name)){const r=n.writer,i=ku(n.mapper.toViewElement(t.item));if(null===t.attributeNewValue){const e=t.attributeOldValue;e.data&&(r.removeAttribute("srcset",i),r.removeAttribute("sizes",i),e.width&&r.removeAttribute("width",i))}else{const e=t.attributeNewValue;e.data&&(r.setAttribute("srcset",e.data,i),r.setAttribute("sizes","100vw",i),e.width&&r.setAttribute("width",e.width,i))}}}e.editing.view.addObserver(eu),t.register("image",{isObject:!0,isBlock:!0,allowWhere:"$block",allowAttributes:["alt","src","srcset"]}),n.for("dataDowncast").elementToElement({model:"image",view:(e,{writer:t})=>Tu(t)}),n.for("editingDowncast").elementToElement({model:"image",view:(e,{writer:t})=>{var n=Tu(t),r=i("image widget");return t.setCustomProperty("image",!0,n),hu(n,t,{label:function(){var e=ku(n).getAttribute("alt");return e?e+" "+r:r}})}}),n.for("downcast").add(xu("src")).add(xu("alt")).add(e=>{e.on("attribute:srcset:image",o)}),n.for("upcast").elementToElement({view:{name:"img",attributes:{src:!0}},model:(e,{writer:t})=>t.createElement("image",{src:e.getAttribute("src")})}).attributeToAttribute({view:{name:"img",key:"alt"},model:"alt"}).attributeToAttribute({view:{name:"img",key:"srcset"},model:{key:"srcset",value:e=>{const t={data:e.getAttribute("srcset")};return e.hasAttribute("width")&&(t.width=e.getAttribute("width")),t}}}).add(e=>{e.on("element:figure",r)}),e.commands.add("imageInsert",new Cu(e))}}function Tu(e){var t=e.createEmptyElement("img"),n=e.createContainerElement("figure",{class:"image"});return e.insert(e.createPositionAt(n,0),t),n}class $u extends Yi{constructor(e){super(e),this.domEventType="mousedown"}onDomEvent(e){this.fire(e.type,e)}}class Eu extends O{static get pluginName(){return"TwoStepCaretMovement"}constructor(e){super(e),this.attributes=new Set,this._overrideUid=null}init(){const e=this.editor,t=e.model,n=e.editing.view,o=e.locale,a=t.document.selection;this.listenTo(n.document,"keydown",(e,t)=>{var n,r,i;!a.isCollapsed||t.shiftKey||t.altKey||t.ctrlKey||(n=t.keyCode==g.arrowright,r=t.keyCode==g.arrowleft,(n||r)&&!!1===("ltr"===(i=o.contentLanguageDirection)&&n||"rtl"===i&&r?this._handleForwardMovement(t):this._handleBackwardMovement(t))&&e.stop())},{priority:Yt.get("high")+1}),this._isNextGravityRestorationSkipped=!1,this.listenTo(a,"change:range",(e,t)=>{this._isNextGravityRestorationSkipped?this._isNextGravityRestorationSkipped=!1:!this._isGravityOverridden||!t.directChange&&Pu(a.getFirstPosition(),this.attributes)||this._restoreGravity()})}registerAttribute(e){this.attributes.add(e)}_handleForwardMovement(e){const t=this.attributes,n=this.editor.model.document.selection,r=n.getFirstPosition();return!this._isGravityOverridden&&(!r.isAtStart||!Au(n,t))&&(Pu(r,t)?(Mu(e),this._overrideGravity(),!0):void 0)}_handleBackwardMovement(e){const t=this.attributes,n=this.editor.model,r=n.document.selection,i=r.getFirstPosition();return this._isGravityOverridden?(Mu(e),this._restoreGravity(),Ou(n,t,i),!0):i.isAtStart?!!Au(r,t)&&(Mu(e),Ou(n,t,i),!0):(o=t,Pu(i.getShiftedBy(-1),o)?i.isAtEnd&&!Au(r,t)&&Pu(i,t)?(Mu(e),Ou(n,t,i),!0):(this._isNextGravityRestorationSkipped=!0,this._overrideGravity(),!1):void 0);var o}get _isGravityOverridden(){return!!this._overrideUid}_overrideGravity(){this._overrideUid=this.editor.model.change(e=>e.overrideSelectionGravity())}_restoreGravity(){this.editor.model.change(e=>{e.restoreSelectionGravity(this._overrideUid),this._overrideUid=null})}}function Au(e,t){for(const n of t)if(e.hasAttribute(n))return 1}function Ou(e,t,n){const r=n.nodeBefore;e.change(e=>{r?e.setSelectionAttribute(r.getAttributes()):e.removeSelectionAttribute(t)})}function Mu(e){e.preventDefault()}function Pu(e,t){const{nodeBefore:n,nodeAfter:r}=e;for(const e of t){const t=n?n.getAttribute(e):void 0;if((r?r.getAttribute(e):void 0)!==t)return!0}return!1}function Du(e,t,n,r){return r.createRange(Ru(e,t,n,!0,r),Ru(e,t,n,!1,r))}function Ru(e,t,n,r,i){let o=e.textNode||(r?e.nodeBefore:e.nodeAfter),a=null;for(;o&&o.getAttribute(t)==n;)a=o,o=r?o.previousSibling:o.nextSibling;return a?i.createPositionAt(a,r?"before":"after"):e}class Iu{constructor(){this._definitions=new Set}get length(){return this._definitions.size}add(e){Array.isArray(e)?e.forEach(e=>this._definitions.add(e)):this._definitions.add(e)}getDispatcher(){return e=>{e.on("attribute:linkHref",(e,t,n)=>{if(n.consumable.test(t.item,"attribute:linkHref")){const i=n.writer,o=i.document.selection;for(const e of this._definitions){var r=i.createAttributeElement("a",e.attributes,{priority:5});i.setCustomProperty("link",!0,r),e.callback(t.attributeNewValue)?t.item.is("selection")?i.wrap(o.getFirstRange(),r):i.wrap(n.mapper.toViewRange(t.range),r):i.unwrap(n.mapper.toViewRange(t.range),r)}}},{priority:"high"})}}getDispatcherForLinkedImage(){return e=>{e.on("attribute:linkHref:image",(e,t,n)=>{const r=n.mapper.toViewElement(t.item),i=Array.from(r.getChildren()).find(e=>"a"===e.name);for(const e of this._definitions){const r=pn(e.attributes);if(e.callback(t.attributeNewValue))for(const[e,t]of r)"class"===e?n.writer.addClass(t,i):n.writer.setAttribute(e,t,i);else for(const[e,t]of r)"class"===e?n.writer.removeClass(t,i):n.writer.removeAttribute(e,i)}})}}}function Nu(e){return Lu.test(e)}function ju(e){return Nu(e)?e.match(Vu)||[]:e.split("")}var Lu=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]"),kt="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",pt="\\ud83c[\\udffb-\\udfff]",n="[^\\ud800-\\udfff]",r="(?:\\ud83c[\\udde6-\\uddff]){2}",e="[\\ud800-\\udbff][\\udc00-\\udfff]",mt="(?:"+kt+"|"+pt+")?",gt="[\\ufe0e\\ufe0f]?"+mt+"(?:\\u200d(?:"+[n,r,e].join("|")+")[\\ufe0e\\ufe0f]?"+mt+")*",mt="(?:"+[n+kt+"?",kt,r,e,"[\\ud800-\\udfff]"].join("|")+")",Vu=RegExp(pt+"(?="+pt+")|"+mt+gt,"g"),Fu=function(e){e=jn(e);var t,n,r=Nu(e)?ju(e):void 0,i=r?r[0]:e.charAt(0),o=r?(t=1,o=(r=r).length,n=void 0===n?o:n,(!t&&o<=n?r:xn(r,t,n)).join("")):e.slice(1);return i.toUpperCase()+o};const zu=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,Bu=/^(?:(?:https?|ftps?|mailto):|[^a-z]|[a-z+.-]+(?:[^a-z+.:-]|$))/i,Hu=/^[\S]+@((?![-_])(?:[-\w\u00a1-\uffff]{0,63}[^-_]\.))+(?:[a-z\u00a1-\uffff]{2,})$/i,Uu=/^((\w+:(\/{2,})?)|(\W))/i;function Wu(e,{writer:t}){e=t.createAttributeElement("a",{href:e},{priority:5});return t.setCustomProperty("link",!0,e),e}function qu(e){return(e=String(e)).replace(zu,"").match(Bu)?e:"#"}function Yu(e,t){return e&&e.is("element","image")&&t.checkAttribute("image","linkHref")}function Gu(e,t){n=e;var n=Hu.test(n)?"mailto:":t,t=!!n&&!Uu.test(e);return e&&t?n+e:e}class Ku extends M{constructor(e){super(e),this.manualDecorators=new rn,this.automaticDecorators=new Iu}restoreManualDecoratorStates(){for(const e of this.manualDecorators)e.value=this._getDecoratorStateFromModel(e.id)}refresh(){const e=this.editor.model,t=e.document,n=jc(t.selection.getSelectedBlocks());Yu(n,e.schema)?(this.value=n.getAttribute("linkHref"),this.isEnabled=e.schema.checkAttribute(n,"linkHref")):(this.value=t.selection.getAttribute("linkHref"),this.isEnabled=e.schema.checkAttributeInSelection(t.selection,"linkHref"));for(const e of this.manualDecorators)e.value=this._getDecoratorStateFromModel(e.id)}execute(s,e={}){const l=this.editor.model,c=l.document.selection,u=[],d=[];for(const s in e)(e[s]?u:d).push(s);l.change(t=>{if(c.isCollapsed){var e=c.getFirstPosition();if(c.hasAttribute("linkHref")){const r=Du(e,"linkHref",c.getAttribute("linkHref"),l);t.setAttribute("linkHref",s,r),u.forEach(e=>{t.setAttribute(e,!0,r)}),d.forEach(e=>{t.removeAttribute(e,r)}),t.setSelection(t.createPositionAfter(r.end.nodeBefore))}else if(""!==s){const d=pn(c.getAttributes());d.set("linkHref",s),u.forEach(e=>{d.set(e,!0)});var n=t.createText(s,d);l.insertContent(n,e),t.setSelection(t.createPositionAfter(n))}["linkHref",...u,...d].forEach(e=>{t.removeSelectionAttribute(e)})}else{const i=l.schema.getValidRanges(c.getRanges(),"linkHref"),o=[];for(const s of c.getSelectedBlocks())l.schema.checkAttribute(s,"linkHref")&&o.push(t.createRangeOn(s));const a=o.slice();for(const s of i)this._isRangeToUpdate(s,o)&&a.push(s);for(const l of a)t.setAttribute("linkHref",s,l),u.forEach(e=>{t.setAttribute(e,!0,l)}),d.forEach(e=>{t.removeAttribute(e,l)})}})}_getDecoratorStateFromModel(e){const t=this.editor.model,n=t.document,r=jc(n.selection.getSelectedBlocks());return(Yu(r,t.schema)?r:n.selection).getAttribute(e)}_isRangeToUpdate(e,t){for(const n of t)if(n.containsRange(e))return!1;return!0}}class Xu extends M{refresh(){const e=this.editor.model,t=e.document,n=jc(t.selection.getSelectedBlocks());Yu(n,e.schema)?this.isEnabled=e.schema.checkAttribute(n,"linkHref"):this.isEnabled=e.schema.checkAttributeInSelection(t.selection,"linkHref")}execute(){const e=this.editor,n=this.editor.model,r=n.document.selection,i=e.commands.get("link");n.change(e=>{var t=r.isCollapsed?[Du(r.getFirstPosition(),"linkHref",r.getAttribute("linkHref"),n)]:r.getRanges();for(const n of t)if(e.removeAttribute("linkHref",n),i)for(const r of i.manualDecorators)e.removeAttribute(r.id,n)})}}class Ju{constructor({id:e,label:t,attributes:n,defaultValue:r}){this.id=e,this.set("value"),this.defaultValue=r,this.label=t,this.attributes=n}}a(Ju,l),t(48);const Qu=/^(https?:)?\/\//;class Zu extends O{static get pluginName(){return"LinkEditing"}static get requires(){return[Eu,lc,Nl]}constructor(e){super(e),e.config.define("link",{addTargetToExternalLinks:!1})}init(){const e=this.editor,t=(e.model.schema.extend("$text",{allowAttributes:"linkHref"}),e.conversion.for("dataDowncast").attributeToElement({model:"linkHref",view:Wu}),e.conversion.for("editingDowncast").attributeToElement({model:"linkHref",view:(e,t)=>Wu(qu(e),t)}),e.conversion.for("upcast").elementToAttribute({view:{name:"a",attributes:{href:!0}},model:{key:"linkHref",value:e=>e.getAttribute("href")}}),e.commands.add("link",new Ku(e)),e.commands.add("unlink",new Xu(e)),function(e,t){const n={"Open in a new tab":e("Open in a new tab"),Downloadable:e("Downloadable")};return t.forEach(e=>(e.label&&n[e.label]&&(e.label=n[e.label]),e)),t}(e.t,function(e){const t=[];if(e)for(var[n,r]of Object.entries(e)){const e=Object.assign({},r,{id:"link"+Fu(n)});t.push(e)}return t}(e.config.get("link.decorators"))));this._enableAutomaticDecorators(t.filter(e=>"automatic"===e.mode)),this._enableManualDecorators(t.filter(e=>"manual"===e.mode)),e.plugins.get(Eu).registerAttribute("linkHref");{var o=e,a="linkHref",s="ck-link_selected";const n=o.editing.view,l=new Set;n.document.registerPostFixer(e=>{const t=o.model.document.selection;let n=!1;if(t.hasAttribute(a)){const r=Du(t.getFirstPosition(),a,t.getAttribute(a),o.model),i=o.editing.mapper.toViewRange(r);for(const o of i.getItems())o.is("element","a")&&!o.hasClass(s)&&(e.addClass(s,o),l.add(o),n=!0)}return n}),o.conversion.for("editingDowncast").add(e=>{function t(){n.change(e=>{for(const t of l.values())e.removeClass(s,t),l.delete(t)})}e.on("insert",t,{priority:"highest"}),e.on("remove",t,{priority:"highest"}),e.on("attribute",t,{priority:"highest"}),e.on("selection",t,{priority:"highest"})})}this._enableInsertContentSelectionAttributesFixer(),this._enableClickingAfterLink(),this._enableTypingOverLink(),this._handleDeleteContentAfterLink()}_enableAutomaticDecorators(e){const t=this.editor,n=t.commands.get("link").automaticDecorators;t.config.get("link.addTargetToExternalLinks")&&n.add({id:"linkIsExternal",mode:"automatic",callback:e=>Qu.test(e),attributes:{target:"_blank",rel:"noopener noreferrer"}}),n.add(e),n.length&&t.conversion.for("downcast").add(n.getDispatcher())}_enableManualDecorators(e){if(e.length){const t=this.editor,i=t.commands.get("link").manualDecorators;e.forEach(r=>{t.model.schema.extend("$text",{allowAttributes:r.id}),i.add(new Ju(r)),t.conversion.for("downcast").attributeToElement({model:r.id,view:(e,{writer:t})=>{if(e){const e=i.get(r.id).attributes,n=t.createAttributeElement("a",e,{priority:5});return t.setCustomProperty("link",!0,n),n}}}),t.conversion.for("upcast").elementToAttribute({view:{name:"a",attributes:i.get(r.id).attributes},model:{key:r.id}})})}}_enableInsertContentSelectionAttributesFixer(){const e=this.editor,n=e.model,r=n.document.selection,i=e.commands.get("link");this.listenTo(n,"insertContent",()=>{const e=r.anchor.nodeBefore,t=r.anchor.nodeAfter;r.hasAttribute("linkHref")&&e&&e.hasAttribute("linkHref")&&(t&&t.hasAttribute("linkHref")||n.change(e=>{ed(e,i.manualDecorators)}))},{priority:"low"})}_enableClickingAfterLink(){const r=this.editor,i=r.commands.get("link");r.editing.view.addObserver($u);let o=!1;this.listenTo(r.editing.view.document,"mousedown",()=>{o=!0}),this.listenTo(r.editing.view.document,"selectionChange",()=>{if(o){o=!1;const e=r.model.document.selection;if(e.isCollapsed&&e.hasAttribute("linkHref")){const t=e.getFirstPosition(),n=Du(t,"linkHref",e.getAttribute("linkHref"),r.model);(t.isTouching(n.start)||t.isTouching(n.end))&&r.model.change(e=>{ed(e,i.manualDecorators)})}}})}_enableTypingOverLink(){const t=this.editor,e=t.editing.view;let i,n;this.listenTo(e.document,"delete",()=>{n=!0},{priority:"high"}),this.listenTo(t.model,"deleteContent",()=>{const e=t.model.document.selection;e.isCollapsed||(n?n=!1:td(t)&&function(e){const t=e.document.selection,n=t.getFirstPosition(),r=t.getLastPosition(),i=n.nodeAfter;var o;if(i&&(i.is("$text")&&i.hasAttribute("linkHref")))return o=r.textNode||r.nodeBefore,i===o||Du(n,"linkHref",i.getAttribute("linkHref"),e).containsRange(e.createRange(n,r),!0)}(t.model)&&(i=e.getAttributes()))},{priority:"high"}),this.listenTo(t.model,"insertContent",(e,[r])=>{n=!1,td(t)&&i&&(t.model.change(e=>{for(var[t,n]of i)e.setAttribute(t,n,r)}),i=null)},{priority:"high"})}_handleDeleteContentAfterLink(){const e=this.editor,r=e.model,i=r.document.selection,t=e.editing.view,n=e.commands.get("link");let o=!1,a=!1;this.listenTo(t.document,"delete",(e,t)=>{a=t.domEvent.keyCode===g.backspace},{priority:"high"}),this.listenTo(r,"deleteContent",()=>{o=!1;var e=i.getFirstPosition(),t=i.getAttribute("linkHref");if(t){const n=Du(e,"linkHref",t,r);o=n.containsPosition(e)||n.end.isEqual(e)}},{priority:"high"}),this.listenTo(r,"deleteContent",()=>{a&&(a=!1,o||e.model.enqueueChange(e=>{ed(e,n.manualDecorators)}))},{priority:"low"})}}function ed(e,t){e.removeSelectionAttribute("linkHref");for(const n of t)e.removeSelectionAttribute(n.id)}function td(e){return e.plugins.get("Input").isInput(e.model.change(e=>e.batch))}class nd extends Oc{static get pluginName(){return"Notification"}init(){this.on("show:warning",(e,t)=>{window.alert(t.message)},{priority:"lowest"})}showSuccess(e,t={}){this._showNotification({message:e,type:"success",namespace:t.namespace,title:t.title})}showInfo(e,t={}){this._showNotification({message:e,type:"info",namespace:t.namespace,title:t.title})}showWarning(e,t={}){this._showNotification({message:e,type:"warning",namespace:t.namespace,title:t.title})}_showNotification(e){var t="show:"+e.type+(e.namespace?":"+e.namespace:"");this.fire(t,{message:e.message,type:e.type,title:e.title||""})}}class rd extends M{constructor(e){super(e),this.stopListening(this.editor.model.document,"change"),this.listenTo(this.editor.model.document,"change",()=>this.refresh(),{priority:"low"})}refresh(){var e=this.editor.commands.get("imageInsert"),t=this.editor.commands.get("link");this.isEnabled=e.isEnabled||t.isEnabled}execute(){const a=this.editor,e=this.editor.config.get("ckfinder.openerMethod")||"modal";if("popup"!=e&&"modal"!=e)throw new h.a("ckfinder-unknown-openermethod",a);const t=this.editor.config.get("ckfinder.options")||{},n=(t.chooseFiles=!0,t.onInit);t.language||(t.language=a.locale.uiLanguage),t.onInit=o=>{n&&n(o),o.on("files:choose",e=>{const t=e.data.files.toArray(),n=t.filter(e=>!e.isImage()),r=t.filter(e=>e.isImage());for(const o of n)a.execute("link",o.getUrl());const i=[];for(const a of r){const e=a.getUrl();i.push(e||o.request("file:getProxyUrl",{file:a}))}i.length&&id(a,i)}),o.on("file:choose:resizedImage",e=>{const t=e.data.resizedUrl;if(t)id(a,[t]);else{const e=a.plugins.get("Notification"),t=a.locale.t;e.showWarning(t("Could not obtain resized image URL."),{title:t("Selecting resized image failed"),namespace:"ckfinder"})}})},window.CKFinder[e](t)}}function id(e,t){if(e.commands.get("imageInsert").isEnabled)e.execute("imageInsert",{source:t});else{const t=e.plugins.get("Notification"),n=e.locale.t;t.showWarning(n("Could not insert image at the current position."),{title:n("Inserting image failed"),namespace:"ckfinder"})}}class od extends O{static get pluginName(){return"CKFinderEditing"}static get requires(){return[nd,Su,Zu]}init(){const e=this.editor;e.commands.add("ckfinder",new rd(e))}}const ad=/^data:(\S*?);base64,/;class sd{constructor(e,t,n){if(!e)throw new h.a("fileuploader-missing-file",null);if(!t)throw new h.a("fileuploader-missing-token",null);if(!n)throw new h.a("fileuploader-missing-api-address",null);this.file=function(e){if("string"==typeof e)return(e=e.match(ad))&&e.length}(e)?function(e){try{const t=e.match(ad)[1],n=atob(e.replace(ad,"")),r=[];for(let e=0;e<n.length;e+=512){const i=n.slice(e,e+512),o=new Array(i.length);for(let e=0;e<i.length;e++)o[e]=i.charCodeAt(e);r.push(new Uint8Array(o))}return new Blob(r,{type:t})}catch(e){throw new h.a("fileuploader-decoding-image-data-error",null)}}(e):e,this._token=t,this._apiAddress=n}onProgress(n){return this.on("progress",(e,t)=>n(t)),this}onError(n){return this.once("error",(e,t)=>n(t)),this}abort(){this.xhr.abort()}send(){return this._prepareRequest(),this._attachXHRListeners(),this._sendRequest()}_prepareRequest(){const e=new XMLHttpRequest;e.open("POST",this._apiAddress),e.setRequestHeader("Authorization",this._token.value),e.responseType="json",this.xhr=e}_attachXHRListeners(){const t=this,n=this.xhr;function e(e){return()=>t.fire("error",e)}n.addEventListener("error",e("Network Error")),n.addEventListener("abort",e("Abort")),n.upload&&n.upload.addEventListener("progress",e=>{e.lengthComputable&&this.fire("progress",{total:e.total,uploaded:e.loaded})}),n.addEventListener("load",()=>{var e=n.status,t=n.response;if(e<200||299<e)return this.fire("error",t.message||t.error)})}_sendRequest(){const e=new FormData,i=this.xhr;return e.append("file",this.file),new Promise((n,r)=>{i.addEventListener("load",()=>{var e=i.status,t=i.response;return e<200||299<e?t.message?r(new h.a("fileuploader-uploading-data-failed",this,{message:t.message})):r(t.error):n(t)}),i.addEventListener("error",()=>r(new Error("Network Error"))),i.addEventListener("abort",()=>r(new Error("Abort"))),i.send(e)})}}a(sd,o);const ld={autoRefresh:!0};class cd{constructor(t,e=ld){if(!t)throw new h.a("token-missing-token-url",this);e.initValue&&this._validateTokenValue(e.initValue),this.set("value",e.initValue),this._refresh="function"==typeof t?t:()=>{return e=t,new Promise((n,r)=>{const i=new XMLHttpRequest;i.open("GET",e),i.addEventListener("load",()=>{var e=i.status,t=i.response;return e<200||299<e?r(new h.a("token-cannot-download-new-token",null)):n(t)}),i.addEventListener("error",()=>r(new Error("Network Error"))),i.addEventListener("abort",()=>r(new Error("Abort"))),i.send()});var e},this._options=Object.assign({},ld,e)}init(){return new Promise((e,t)=>{this.value?(this._options.autoRefresh&&this._registerRefreshTokenTimeout(),e(this)):this.refreshToken().then(e).catch(t)})}refreshToken(){return this._refresh().then(e=>{this._validateTokenValue(e),this.set("value",e),this._options.autoRefresh&&this._registerRefreshTokenTimeout()}).then(()=>this)}destroy(){clearTimeout(this._tokenRefreshTimeout)}_validateTokenValue(e){var t="string"==typeof e,n=!/^".*"$/.test(e),t=t&&3===e.split(".").length;if(!n||!t)throw new h.a("token-not-in-jwt-format",this)}_registerRefreshTokenTimeout(){var e=this._getTokenRefreshTimeoutTime();clearTimeout(this._tokenRefreshTimeout),this._tokenRefreshTimeout=setTimeout(()=>{this.refreshToken()},e)}_getTokenRefreshTimeoutTime(){try{var[,e]=this.value.split("."),t=JSON.parse(atob(e))["exp"];return t?Math.floor((1e3*t-Date.now())/2):36e5}catch(e){return 36e5}}static create(e,t=ld){return new cd(e,t).init()}}a(cd,l);n=cd;class ud extends Oc{static get pluginName(){return"CloudServices"}init(){var e=this.context.config.get("cloudServices")||{};for(const t in e)this[t]=e[t];if(this.tokenUrl)return this.token=new ud.Token(this.tokenUrl),this.token.init();this.token=null}destroy(){super.destroy(),this.token&&this.token.destroy()}}ud.Token=n;class dd extends O{static get requires(){return[Dc,ud]}init(){const e=this.editor,t=e.plugins.get(ud),n=t.token,r=t.uploadUrl;n&&(this._uploadGateway=new dd._UploadGateway(n,r),e.plugins.get(Dc).createUploadAdapter=e=>new hd(this._uploadGateway,e))}}class hd{constructor(e,t){this.uploadGateway=e,this.loader=t}upload(){return this.loader.file.then(e=>(this.fileUploader=this.uploadGateway.upload(e),this.fileUploader.on("progress",(e,t)=>{this.loader.uploadTotal=t.total,this.loader.uploaded=t.uploaded}),this.fileUploader.send()))}abort(){this.fileUploader.abort()}}dd._UploadGateway=class{constructor(e,t){if(!e)throw new h.a("uploadgateway-missing-token",null);if(!t)throw new h.a("uploadgateway-missing-api-address",null);this._token=e,this._apiAddress=t}upload(e){return new sd(e,this._token,this._apiAddress)}},t(50);const fd=["before","after"],pd=(new DOMParser).parseFromString('<svg viewBox="0 0 10 8" xmlns="http://www.w3.org/2000/svg"><path d="M9.055.263v3.972h-6.77M1 4.216l2-2.038M1 4.178l2 2.038"/></svg>',"image/svg+xml").firstChild;class md extends O{static get pluginName(){return"WidgetTypeAround"}constructor(e){super(e),this._currentFakeCaretModelElement=null}init(){const r=this.editor,i=r.editing.view;this.on("change:isEnabled",(e,t,n)=>{i.change(e=>{for(const t of i.document.roots)n?e.removeClass("ck-widget__type-around_disabled",t):e.addClass("ck-widget__type-around_disabled",t)}),n||r.model.change(e=>{e.removeSelectionAttribute("widget-type-around")})}),this._enableTypeAroundUIInjection(),this._enableInsertingParagraphsOnButtonClick(),this._enableInsertingParagraphsOnEnterKeypress(),this._enableInsertingParagraphsOnTypingKeystroke(),this._enableTypeAroundFakeCaretActivationUsingKeyboardArrows(),this._enableDeleteIntegration(),this._enableInsertContentIntegration()}destroy(){this._currentFakeCaretModelElement=null}_insertParagraph(e,t){const n=this.editor,r=n.editing.view;n.execute("insertParagraph",{position:n.model.createPositionAt(e,t)}),r.focus(),r.scrollToTheSelection()}_listenToIfEnabled(e,t,n,r){this.listenTo(e,t,(...e)=>{this.isEnabled&&n(...e)},r)}_insertParagraphAccordingToFakeCaretPosition(){const e=this.editor.model.document.selection,t=uu(e);var n;return!!t&&(n=e.getSelectedElement(),this._insertParagraph(n,t),!0)}_enableTypeAroundUIInjection(){const e=this.editor,i=e.model.schema,t=e.locale.t,o={before:t("Insert paragraph before block"),after:t("Insert paragraph after block")};e.editing.downcastDispatcher.on("insert",(e,t,n)=>{var s,r=n.mapper.toViewElement(t.item);cu(r,t.item,i)&&(t=n.writer,s=o,n=r,r=t.createUIElement("div",{class:"ck ck-reset_all ck-widget__type-around"},function(e){var e=this.toDomElement(e),t=e,n=s;for(const i of fd){const o=new Ps({tag:"div",attributes:{class:["ck","ck-widget__type-around__button","ck-widget__type-around__button_"+i],title:n[i]},children:[t.ownerDocument.importNode(pd,!0)]});t.appendChild(o.render())}{var r=e;const a=new Ps({tag:"div",attributes:{class:["ck","ck-widget__type-around__fake-caret"]}});r.appendChild(a.render())}return e}),t.insert(t.createPositionAt(n,"end"),r))},{priority:"low"})}_enableTypeAroundFakeCaretActivationUsingKeyboardArrows(){const r=this.editor,e=r.model,t=e.document.selection,o=e.schema,n=r.editing.view;function a(e){return"ck-widget_type-around_show-fake-caret_"+e}this._listenToIfEnabled(n.document,"keydown",(e,t)=>{zr(t.keyCode)&&this._handleArrowKeyPress(e,t)},{priority:Yt.get("high")+10}),this._listenToIfEnabled(t,"change:range",(e,t)=>{t.directChange&&r.model.change(e=>{e.removeSelectionAttribute("widget-type-around")})}),this._listenToIfEnabled(e.document,"change:data",()=>{var e=t.getSelectedElement();e&&cu(r.editing.mapper.toViewElement(e),e,o)||r.model.change(e=>{e.removeSelectionAttribute("widget-type-around")})}),this._listenToIfEnabled(r.editing.downcastDispatcher,"selection",(e,t,n)=>{const r=n.writer;if(this._currentFakeCaretModelElement){const e=n.mapper.toViewElement(this._currentFakeCaretModelElement);e&&(r.removeClass(fd.map(a),e),this._currentFakeCaretModelElement=null)}var i=t.selection.getSelectedElement();i&&cu(n=n.mapper.toViewElement(i),i,o)&&(t=uu(t.selection))&&(r.addClass(a(t),n),this._currentFakeCaretModelElement=i)}),this._listenToIfEnabled(r.ui.focusTracker,"change:isFocused",(e,t,n)=>{n||r.model.change(e=>{e.removeSelectionAttribute("widget-type-around")})})}_handleArrowKeyPress(e,t){const n=this.editor,r=n.model,i=r.document.selection,o=r.schema,a=n.editing.view,s=Hr(t.keyCode,n.locale.contentLanguageDirection),l=a.document.selection.getSelectedElement();let c;cu(l,n.editing.mapper.toModelElement(l),o)?c=this._handleArrowKeyPressOnSelectedWidget(s):i.isCollapsed&&(c=this._handleArrowKeyPressWhenSelectionNextToAWidget(s)),c&&(t.preventDefault(),e.stop())}_handleArrowKeyPressOnSelectedWidget(t){const e=this.editor.model,n=uu(e.document.selection);return e.change(e=>n?n!==(t?"after":"before")&&(e.removeSelectionAttribute("widget-type-around"),!0):(e.setSelectionAttribute("widget-type-around",t?"after":"before"),!0))}_handleArrowKeyPressWhenSelectionNextToAWidget(t){const e=this.editor,n=e.model,r=n.schema,i=e.plugins.get("Widget"),o=i._getObjectElementNextToSelection(t);return!!cu(e.editing.mapper.toViewElement(o),o,r)&&(n.change(e=>{i._setSelectionOverElement(o),e.setSelectionAttribute("widget-type-around",t?"before":"after")}),!0)}_enableInsertingParagraphsOnButtonClick(){const i=this.editor,o=i.editing.view;this._listenToIfEnabled(o.document,"mousedown",(e,t)=>{var n,r=t.domTarget.closest(".ck-widget__type-around__button");r&&(n=r.classList.contains("ck-widget__type-around__button_before")?"before":"after",r=function(e,t){e=e.closest(".ck-widget");return t.mapDomToView(e)}(r,o.domConverter),r=i.editing.mapper.toModelElement(r),this._insertParagraph(r,n),t.preventDefault(),e.stop())})}_enableInsertingParagraphsOnEnterKeypress(){const a=this.editor,s=a.editing.view;this._listenToIfEnabled(s.document,"enter",(e,t)=>{var n=s.document.selection.getSelectedElement(),r=a.editing.mapper.toModelElement(n),i=a.model.schema;let o;this._insertParagraphAccordingToFakeCaretPosition()?o=!0:cu(n,r,i)&&(this._insertParagraph(r,t.isSoft?"before":"after"),o=!0),o&&(t.preventDefault(),e.stop())})}_enableInsertingParagraphsOnTypingKeystroke(){const e=this.editor.editing.view,n=[g.enter,g.delete,g.backspace];this._listenToIfEnabled(e.document,"keydown",(e,t)=>{n.includes(t.keyCode)||nc(t)||this._insertParagraphAccordingToFakeCaretPosition()},{priority:Yt.get("high")+1})}_enableDeleteIntegration(){const a=this.editor,e=a.editing.view,s=a.model,l=s.schema;this._listenToIfEnabled(e.document,"delete",(t,e)=>{var n=uu(s.document.selection);if(n){const r=e.direction,i=s.document.selection.getSelectedElement(),o="forward"==r;if("before"===n==o)a.execute("delete",{selection:s.createSelection(i,"on")});else{const t=l.getNearestSelectionRange(s.createPositionAt(i,n),r);if(t)if(t.isCollapsed){const e=s.createSelection(t.start);if(s.modifySelection(e,{direction:r}),e.focus.isEqual(t.start)){const a=function(e,t){let n=t;for(const r of t.getAncestors({parentFirst:!0})){if(1<r.childCount||e.isLimit(r))break;n=r}return n}(l,t.start.parent);s.deleteContent(s.createSelection(a,"on"),{doNotAutoparagraph:!0})}else s.change(e=>{e.setSelection(t),a.execute(o?"forwardDelete":"delete")})}else s.change(e=>{e.setSelection(t),a.execute(o?"forwardDelete":"delete")})}e.preventDefault(),t.stop()}},{priority:Yt.get("high")+1})}_enableInsertContentIntegration(){const e=this.editor,o=this.editor.model,a=o.document.selection;this._listenToIfEnabled(e.model,"insertContent",(e,[r,t])=>{if(!t||t.is("documentSelection")){const i=uu(a);return i?(e.stop(),o.change(e=>{var t=a.getSelectedElement(),t=o.createPositionAt(t,i),t=e.createSelection(t),n=o.insertContent(r,t);return e.setSelection(t),n})):void 0}},{priority:"high"})}}function gd(u){const d=u.model;return(e,t)=>{const n=t.keyCode==g.arrowup,r=t.keyCode==g.arrowdown,i=t.shiftKey,o=d.document.selection;if(n||r){const l=r;if(!i||(a=o,s=l,a.isCollapsed||a.isBackward!=s)){var a,s;const c=function(e,t,n){const r=e.model;if(n){const e=t.isCollapsed?t.focus:t.getLastPosition(),n=vd(r,e,"forward");return n?(i=r.createRange(e,n),(i=bd(r.schema,i,"backward"))&&e.isBefore(i)?r.createRange(e,i):null):null}{const e=t.isCollapsed?t.focus:t.getFirstPosition(),n=vd(r,e,"backward");var i;return n?(i=r.createRange(n,e),(t=bd(r.schema,i,"forward"))&&e.isAfter(t)?r.createRange(t,e):null):null}}(u,o,l);c&&!c.isCollapsed&&function(e,t,n){const r=e.model,i=e.view.domConverter;if(n){const e=r.createSelection(t.start);r.modifySelection(e),e.focus.isAtEnd||t.start.isEqual(e.focus)||(t=r.createRange(e.focus,t.end))}n=e.mapper.toViewRange(t),t=i.viewRangeToDom(n);let o;for(const e of v.getDomRangeRects(t))if(void 0!==o){if(Math.round(e.top)>=o)return;o=Math.max(o,Math.round(e.bottom))}else o=Math.round(e.bottom);return 1}(u,c,l)&&(d.change(e=>{var t=l?c.end:c.start;if(i){const n=d.createSelection(o.anchor);n.setFocus(t),e.setSelection(n)}else e.setSelection(t)}),e.stop(),t.preventDefault(),t.stopPropagation())}}}}function vd(e,t,n){const r=e.schema,i=e.createRangeIn(t.root),o="forward"==n?"elementStart":"elementEnd";for(const{previousPosition:e,item:a,type:s}of i.getWalker({startPosition:t,direction:n})){if(r.isLimit(a)&&!r.isInline(a))return e;if(s==o&&r.isBlock(a))return null}return null}function bd(e,t,n){const r="backward"==n?t.end:t.start;if(e.checkChild(r,"$text"))return r;for(const{nextPosition:r}of t.getWalker({direction:n}))if(e.checkChild(r,"$text"))return r}t(52);class yd extends O{static get pluginName(){return"Widget"}static get requires(){return[md]}init(){const e=this.editor.editing.view,t=e.document;this._previouslySelected=new Set,this.editor.editing.downcastDispatcher.on("selection",(e,t,n)=>{this._clearPreviouslySelectedWidgets(n.writer);const r=n.writer,i=r.document.selection,o=i.getSelectedElement();let a=null;for(const e of i.getRanges())for(const t of e){const e=t.item;!du(e)||(s=e,(l=a)&&Array.from(s.getAncestors()).includes(l))||(r.addClass("ck-widget_selected",e),this._previouslySelected.add(e),(a=e)==o&&r.setSelection(i.getRanges(),{fake:!0,label:function(e){const t=e.getCustomProperty("widgetLabel");return t?"function"==typeof t?t():t:""}(o)}))}var s,l},{priority:"low"}),e.addObserver($u),this.listenTo(t,"mousedown",(...e)=>this._onMousedown(...e)),this.listenTo(t,"keydown",(...e)=>{this._handleSelectionChangeOnArrowKeyPress(...e)},{priority:"high"}),this.listenTo(t,"keydown",(...e)=>{this._preventDefaultOnArrowKeyPress(...e)},{priority:Yt.get("high")-20}),this.listenTo(t,"keydown",gd(this.editor.editing)),this.listenTo(t,"delete",(e,t)=>{this._handleDelete("forward"==t.direction)&&(t.preventDefault(),e.stop())},{priority:"high"})}_onMousedown(e,t){const n=this.editor,r=n.editing.view,i=r.document;let o=t.target;if(function(e){for(;e;){if(e.is("editableElement")&&!e.is("rootElement"))return 1;if(du(e))return;e=e.parent}}(o)){if((Rr||Dr)&&3<=t.domEvent.detail){const e=n.editing.mapper,r=o.is("attributeElement")?o.findAncestor(e=>!e.is("attributeElement")):o,i=e.toModelElement(r);t.preventDefault(),this.editor.model.change(e=>{e.setSelection(i,"in")})}}else(du(o)||(o=o.findAncestor(du)))&&(t.preventDefault(),i.isFocused||r.focus(),t=n.editing.mapper.toModelElement(o),this._setSelectionOverElement(t))}_handleSelectionChangeOnArrowKeyPress(e,t){const n=t.keyCode;if(zr(n)){const i=this.editor.model,o=i.schema,a=i.document.selection,s=a.getSelectedElement(),l=Hr(n,this.editor.locale.contentLanguageDirection);if(s&&o.isObject(s)){const n=l?a.getLastPosition():a.getFirstPosition(),s=o.getNearestSelectionRange(n,l?"forward":"backward");void(s&&(i.change(e=>{e.setSelection(s)}),t.preventDefault(),e.stop()))}else{var r;!a.isCollapsed||(r=this._getObjectElementNextToSelection(l))&&o.isObject(r)&&(this._setSelectionOverElement(r),t.preventDefault(),e.stop())}}}_preventDefaultOnArrowKeyPress(e,t){if(zr(t.keyCode)){const n=this.editor.model,r=n.schema,i=n.document.selection.getSelectedElement();i&&r.isObject(i)&&(t.preventDefault(),e.stop())}}_handleDelete(e){if(!this.editor.isReadOnly){const n=this.editor.model.document.selection;if(n.isCollapsed){const r=this._getObjectElementNextToSelection(e);return r?(this.editor.model.change(e=>{let t=n.anchor.parent;for(;t.isEmpty;){const n=t;t=n.parent,e.remove(n)}this._setSelectionOverElement(r)}),!0):void 0}}}_setSelectionOverElement(t){this.editor.model.change(e=>{e.setSelection(e.createRangeOn(t))})}_getObjectElementNextToSelection(e){const t=this.editor.model,n=t.schema,r=t.document.selection,i=t.createSelection(r);t.modifySelection(i,{direction:e?"forward":"backward"});e=e?i.focus.nodeBefore:i.focus.nodeAfter;return e&&n.isObject(e)?e:null}_clearPreviouslySelectedWidgets(e){for(const t of this._previouslySelected)e.removeClass("ck-widget_selected",t);this._previouslySelected.clear()}}class wd extends M{refresh(){const e=this.editor.model.document.selection.getSelectedElement();this.isEnabled=yu(e),yu(e)&&e.hasAttribute("alt")?this.value=e.getAttribute("alt"):this.value=!1}execute(t){const e=this.editor.model,n=e.document.selection.getSelectedElement();e.change(e=>{e.setAttribute("alt",t.newValue,n)})}}class _d extends O{static get pluginName(){return"ImageTextAlternativeEditing"}init(){this.editor.commands.add("imageTextAlternative",new wd(this.editor))}}t(54);class kd extends ${constructor(e,t){super(e);var e="ck-labeled-field-view-"+qt(),n="ck-labeled-field-view-status-"+qt();this.fieldView=t(this,e,n),this.set("label"),this.set("isEnabled",!0),this.set("errorText",null),this.set("infoText",null),this.set("class"),this.labelView=this._createLabelView(e),this.statusView=this._createStatusView(n),this.bind("_statusText").to(this,"errorText",this,"infoText",(e,t)=>e||t);const r=this.bindTemplate;this.setTemplate({tag:"div",attributes:{class:["ck","ck-labeled-field-view",r.to("class"),r.if("isEnabled","ck-disabled",e=>!e)]},children:[this.labelView,this.fieldView,this.statusView]})}_createLabelView(e){const t=new Js(this.locale);return t.for=e,t.bind("text").to(this,"label"),t}_createStatusView(e){const t=new $(this.locale),n=this.bindTemplate;return t.setTemplate({tag:"div",attributes:{class:["ck","ck-labeled-field-view__status",n.if("errorText","ck-labeled-field-view__status_error"),n.if("_statusText","ck-hidden",e=>!e)],id:e,role:n.if("errorText","alert")},children:[{text:n.to("_statusText")}]}),t}focus(){this.fieldView.focus()}}t(56);class xd extends ${constructor(e){super(e),this.set("value"),this.set("id"),this.set("placeholder"),this.set("isReadOnly",!1),this.set("hasError",!1),this.set("ariaDescribedById");const t=this.bindTemplate;this.setTemplate({tag:"input",attributes:{type:"text",class:["ck","ck-input","ck-input-text",t.if("hasError","ck-error")],id:t.to("id"),placeholder:t.to("placeholder"),readonly:t.to("isReadOnly"),"aria-invalid":t.if("hasError",!0),"aria-describedby":t.to("ariaDescribedById")},on:{input:t.to("input")}})}render(){super.render();const r=e=>{this.element.value=e||0===e?e:""};r(this.value),this.on("change:value",(e,t,n)=>{r(n)})}select(){this.element.select()}focus(){this.element.focus()}}function Cd(e,t,n){const r=new xd(e.locale);return r.set({id:t,ariaDescribedById:n}),r.bind("isReadOnly").to(e,"isEnabled",e=>!e),r.bind("hasError").to(e,"errorText",e=>!!e),r.on("input",()=>{e.errorText=null}),r}function Sd({view:n}){n.listenTo(n.element,"submit",(e,t)=>{t.preventDefault(),n.fire("submit")},{useCapture:!0})}var Td='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.972 16.615a.997.997 0 0 1-.744-.292l-4.596-4.596a1 1 0 1 1 1.414-1.414l3.926 3.926 9.937-9.937a1 1 0 0 1 1.414 1.415L7.717 16.323a.997.997 0 0 1-.745.292z"/></svg>',$d='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.591 10.177l4.243 4.242a1 1 0 0 1-1.415 1.415l-4.242-4.243-4.243 4.243a1 1 0 0 1-1.414-1.415l4.243-4.242L4.52 5.934A1 1 0 0 1 5.934 4.52l4.243 4.243 4.242-4.243a1 1 0 1 1 1.415 1.414l-4.243 4.243z"/></svg>';t(58),t(7);class Ed extends ${constructor(e){super(e);const t=this.locale.t;this.focusTracker=new Cs,this.keystrokes=new vs,this.labeledInput=this._createLabeledInputView(),this.saveButtonView=this._createButton(t("Save"),Td,"ck-button-save"),this.saveButtonView.type="submit",this.cancelButtonView=this._createButton(t("Cancel"),$d,"ck-button-cancel","cancel"),this._focusables=new Ms,this._focusCycler=new il({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"form",attributes:{class:["ck","ck-text-alternative-form","ck-responsive-form"],tabindex:"-1"},children:[this.labeledInput,this.saveButtonView,this.cancelButtonView]})}render(){super.render(),this.keystrokes.listenTo(this.element),Sd({view:this}),[this.labeledInput,this.saveButtonView,this.cancelButtonView].forEach(e=>{this._focusables.add(e),this.focusTracker.add(e.element)})}_createButton(e,t,n,r){const i=new A(this.locale);return i.set({label:e,icon:t,tooltip:!0}),i.extendTemplate({attributes:{class:n}}),r&&i.delegate("execute").to(this,r),i}_createLabeledInputView(){const e=this.locale.t,t=new kd(this.locale,Cd);return t.label=e("Text alternative"),t.fieldView.placeholder=e("Text alternative"),t}}t(61),t(63);const Ad=tl("px");class Od extends O{static get pluginName(){return"ContextualBalloon"}constructor(e){super(e),this.positionLimiter=()=>{const e=this.editor.editing.view,t=e.document.selection.editableElement;return t?e.domConverter.mapViewToDom(t.root):null},this.set("visibleView",null),this.view=new D(e.locale),e.ui.view.body.add(this.view),e.ui.focusTracker.add(this.view.element),this._viewToStack=new Map,this._idToStack=new Map,this.set("_numberOfStacks",0),this.set("_singleViewMode",!1),this._rotatorView=this._createRotatorView(),this._fakePanelsView=this._createFakePanelsView()}hasView(e){return Array.from(this._viewToStack.keys()).includes(e)}add(e){if(this.hasView(e.view))throw new h.a("contextualballoon-add-view-exist",[this,e]);var t=e.stackId||"main";if(this._idToStack.has(t)){const n=this._idToStack.get(t);e.singleViewMode&&this.showStack(t),n.set(e.view,e),this._viewToStack.set(e.view,n),n===this._visibleStack&&this._showView(e)}else this._idToStack.set(t,new Map([[e.view,e]])),this._viewToStack.set(e.view,this._idToStack.get(t)),this._numberOfStacks=this._idToStack.size,this._visibleStack&&!e.singleViewMode||this.showStack(t)}remove(e){if(!this.hasView(e))throw new h.a("contextualballoon-remove-view-not-exist",[this,e]);const t=this._viewToStack.get(e);this._singleViewMode&&this.visibleView===e&&(this._singleViewMode=!1),this.visibleView===e&&(1===t.size?1<this._idToStack.size?this._showNextStack():(this.view.hide(),this.visibleView=null,this._rotatorView.hideView()):this._showView(Array.from(t.values())[t.size-2])),1===t.size?(this._idToStack.delete(this._getStackId(t)),this._numberOfStacks=this._idToStack.size):t.delete(e),this._viewToStack.delete(e)}updatePosition(e){e&&(this._visibleStack.get(this.visibleView).position=e),this.view.pin(this._getBalloonPosition()),this._fakePanelsView.updatePosition()}showStack(e){this.visibleStack=e;const t=this._idToStack.get(e);if(!t)throw new h.a("contextualballoon-showstack-stack-not-exist",this);this._visibleStack!==t&&this._showView(Array.from(t.values()).pop())}get _visibleStack(){return this._viewToStack.get(this.visibleView)}_getStackId(t){return Array.from(this._idToStack.entries()).find(e=>e[1]===t)[0]}_showNextStack(){const e=Array.from(this._idToStack.values());let t=e.indexOf(this._visibleStack)+1;e[t]||(t=0),this.showStack(this._getStackId(e[t]))}_showPrevStack(){const e=Array.from(this._idToStack.values());let t=e.indexOf(this._visibleStack)-1;e[t]||(t=e.length-1),this.showStack(this._getStackId(e[t]))}_createRotatorView(){const e=new Md(this.editor.locale),r=this.editor.locale.t;return this.view.content.add(e),e.bind("isNavigationVisible").to(this,"_numberOfStacks",this,"_singleViewMode",(e,t)=>!t&&1<e),e.on("change:isNavigationVisible",()=>this.updatePosition(),{priority:"low"}),e.bind("counter").to(this,"visibleView",this,"_numberOfStacks",(e,t)=>{var n;return t<2?"":(n=Array.from(this._idToStack.values()).indexOf(this._visibleStack)+1,r("%0 of %1",[n,t]))}),e.buttonNextView.on("execute",()=>{e.focusTracker.isFocused&&this.editor.editing.view.focus(),this._showNextStack()}),e.buttonPrevView.on("execute",()=>{e.focusTracker.isFocused&&this.editor.editing.view.focus(),this._showPrevStack()}),e}_createFakePanelsView(){const e=new Pd(this.editor.locale,this.view);return e.bind("numberOfPanels").to(this,"_numberOfStacks",this,"_singleViewMode",(e,t)=>!t&&2<=e?Math.min(e-1,2):0),e.listenTo(this.view,"change:top",()=>e.updatePosition()),e.listenTo(this.view,"change:left",()=>e.updatePosition()),this.editor.ui.view.body.add(e),e}_showView({view:e,balloonClassName:t="",withArrow:n=!0,singleViewMode:r=!1}){this.view.class=t,this.view.withArrow=n,this._rotatorView.showView(e),this.visibleView=e,this.view.pin(this._getBalloonPosition()),this._fakePanelsView.updatePosition(),r&&(this._singleViewMode=!0)}_getBalloonPosition(){let e=Array.from(this._visibleStack.values()).pop().position;return e=e&&!e.limiter?Object.assign({},e,{limiter:this.positionLimiter}):e}}class Md extends ${constructor(e){super(e);const t=e.t,n=this.bindTemplate;this.set("isNavigationVisible",!0),this.focusTracker=new Cs,this.buttonPrevView=this._createButtonView(t("Previous"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.463 5.187a.888.888 0 1 1 1.254 1.255L9.16 10l3.557 3.557a.888.888 0 1 1-1.254 1.255L7.26 10.61a.888.888 0 0 1 .16-1.382l4.043-4.042z"/></svg>'),this.buttonNextView=this._createButtonView(t("Next"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M8.537 14.813a.888.888 0 1 1-1.254-1.255L10.84 10 7.283 6.442a.888.888 0 1 1 1.254-1.255L12.74 9.39a.888.888 0 0 1-.16 1.382l-4.043 4.042z"/></svg>'),this.content=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-balloon-rotator"],"z-index":"-1"},children:[{tag:"div",attributes:{class:["ck-balloon-rotator__navigation",n.to("isNavigationVisible",e=>e?"":"ck-hidden")]},children:[this.buttonPrevView,{tag:"span",attributes:{class:["ck-balloon-rotator__counter"]},children:[{text:n.to("counter")}]},this.buttonNextView]},{tag:"div",attributes:{class:"ck-balloon-rotator__content"},children:this.content}]})}render(){super.render(),this.focusTracker.add(this.element)}showView(e){this.hideView(),this.content.add(e)}hideView(){this.content.clear()}_createButtonView(e,t){const n=new A(this.locale);return n.set({label:e,icon:t,tooltip:!0}),n}}class Pd extends ${constructor(e,t){super(e);const n=this.bindTemplate;this.set("top",0),this.set("left",0),this.set("height",0),this.set("width",0),this.set("numberOfPanels",0),this.content=this.createCollection(),this._balloonPanelView=t,this.setTemplate({tag:"div",attributes:{class:["ck-fake-panel",n.to("numberOfPanels",e=>e?"":"ck-hidden")],style:{top:n.to("top",Ad),left:n.to("left",Ad),width:n.to("width",Ad),height:n.to("height",Ad)}},children:this.content}),this.on("change:numberOfPanels",(e,t,n,r)=>{r<n?this._addPanels(n-r):this._removePanels(r-n),this.updatePosition()})}_addPanels(e){for(;e--;){const e=new $;e.setTemplate({tag:"div"}),this.content.add(e),this.registerChild(e)}}_removePanels(e){for(;e--;){const e=this.content.last;this.content.remove(e),this.deregisterChild(e),e.destroy()}}updatePosition(){var e,t,n,r;this.numberOfPanels&&({top:e,left:t}=this._balloonPanelView,{width:n,height:r}=new v(this._balloonPanelView.element),Object.assign(this,{top:e,left:t,width:n,height:r}))}}function Dd(e){const t=e.editing.view,n=D.defaultPositions;return{target:t.domConverter.viewToDom(t.document.selection.getSelectedElement()),positions:[n.northArrowSouth,n.northArrowSouthWest,n.northArrowSouthEast,n.southArrowNorth,n.southArrowNorthWest,n.southArrowNorthEast]}}class Rd extends O{static get requires(){return[Od]}static get pluginName(){return"ImageTextAlternativeUI"}init(){this._createButton(),this._createForm()}destroy(){super.destroy(),this._form.destroy()}_createButton(){const r=this.editor,i=r.t;r.ui.componentFactory.add("imageTextAlternative",e=>{const t=r.commands.get("imageTextAlternative"),n=new A(e);return n.set({label:i("Change image text alternative"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M5.085 6.22L2.943 4.078a.75.75 0 1 1 1.06-1.06l2.592 2.59A11.094 11.094 0 0 1 10 5.068c4.738 0 8.578 3.101 8.578 5.083 0 1.197-1.401 2.803-3.555 3.887l1.714 1.713a.75.75 0 0 1-.09 1.138.488.488 0 0 1-.15.084.75.75 0 0 1-.821-.16L6.17 7.304c-.258.11-.51.233-.757.365l6.239 6.24-.006.005.78.78c-.388.094-.78.166-1.174.215l-1.11-1.11h.011L4.55 8.197a7.2 7.2 0 0 0-.665.514l-.112.098 4.897 4.897-.005.006 1.276 1.276a10.164 10.164 0 0 1-1.477-.117l-.479-.479-.009.009-4.863-4.863-.022.031a2.563 2.563 0 0 0-.124.2c-.043.077-.08.158-.108.241a.534.534 0 0 0-.028.133.29.29 0 0 0 .008.072.927.927 0 0 0 .082.226c.067.133.145.26.234.379l3.242 3.365.025.01.59.623c-3.265-.918-5.59-3.155-5.59-4.668 0-1.194 1.448-2.838 3.663-3.93zm7.07.531a4.632 4.632 0 0 1 1.108 5.992l.345.344.046-.018a9.313 9.313 0 0 0 2-1.112c.256-.187.5-.392.727-.613.137-.134.27-.277.392-.431.072-.091.141-.185.203-.286.057-.093.107-.19.148-.292a.72.72 0 0 0 .036-.12.29.29 0 0 0 .008-.072.492.492 0 0 0-.028-.133.999.999 0 0 0-.036-.096 2.165 2.165 0 0 0-.071-.145 2.917 2.917 0 0 0-.125-.2 3.592 3.592 0 0 0-.263-.335 5.444 5.444 0 0 0-.53-.523 7.955 7.955 0 0 0-1.054-.768 9.766 9.766 0 0 0-1.879-.891c-.337-.118-.68-.219-1.027-.301zm-2.85.21l-.069.002a.508.508 0 0 0-.254.097.496.496 0 0 0-.104.679.498.498 0 0 0 .326.199l.045.005c.091.003.181.003.272.012a2.45 2.45 0 0 1 2.017 1.513c.024.061.043.125.069.185a.494.494 0 0 0 .45.287h.008a.496.496 0 0 0 .35-.158.482.482 0 0 0 .13-.335.638.638 0 0 0-.048-.219 3.379 3.379 0 0 0-.36-.723 3.438 3.438 0 0 0-2.791-1.543l-.028-.001h-.013z"/></svg>',tooltip:!0}),n.bind("isEnabled").to(t,"isEnabled"),this.listenTo(n,"execute",()=>{this._showForm()}),n})}_createForm(){const n=this.editor,r=n.editing.view.document;this._balloon=this.editor.plugins.get("ContextualBalloon"),this._form=new Ed(n.locale),this._form.render(),this.listenTo(this._form,"submit",()=>{n.execute("imageTextAlternative",{newValue:this._form.labeledInput.fieldView.element.value}),this._hideForm(!0)}),this.listenTo(this._form,"cancel",()=>{this._hideForm(!0)}),this._form.keystrokes.set("Esc",(e,t)=>{this._hideForm(!0),t()}),this.listenTo(n.ui,"update",()=>{if(bu(r.selection)){if(this._isVisible){var e=n;const t=e.plugins.get("ContextualBalloon");bu(e.editing.view.document.selection)&&(e=Dd(e),t.updatePosition(e))}}else this._hideForm(!0)}),kl({emitter:this._form,activator:()=>this._isVisible,contextElements:[this._balloon.view.element],callback:()=>this._hideForm()})}_showForm(){if(!this._isVisible){const e=this.editor,t=e.commands.get("imageTextAlternative"),n=this._form.labeledInput;this._isInBalloon||this._balloon.add({view:this._form,position:Dd(e)}),n.fieldView.value=n.fieldView.element.value=t.value||"",this._form.labeledInput.fieldView.select()}}_hideForm(e){this._isInBalloon&&(this._form.focusTracker.isFocused&&this._form.saveButtonView.focus(),this._balloon.remove(this._form),e&&this.editor.editing.view.focus())}get _isVisible(){return this._balloon.visibleView===this._form}get _isInBalloon(){return this._balloon.hasView(this._form)}}class Id extends O{static get requires(){return[_d,Rd]}static get pluginName(){return"ImageTextAlternative"}}t(65);class Nd extends O{static get requires(){return[Su,yd,Id]}static get pluginName(){return"Image"}}class jd extends ${constructor(e){super(e),this.buttonView=new A(e),this._fileInputView=new Ld(e),this._fileInputView.bind("acceptedType").to(this),this._fileInputView.bind("allowMultipleFiles").to(this),this._fileInputView.delegate("done").to(this),this.setTemplate({tag:"span",attributes:{class:"ck-file-dialog-button"},children:[this.buttonView,this._fileInputView]}),this.buttonView.on("execute",()=>{this._fileInputView.open()})}focus(){this.buttonView.focus()}}class Ld extends ${constructor(e){super(e),this.set("acceptedType"),this.set("allowMultipleFiles",!1);const t=this.bindTemplate;this.setTemplate({tag:"input",attributes:{class:["ck-hidden"],type:"file",tabindex:"-1",accept:t.to("acceptedType"),multiple:t.to("allowMultipleFiles")},on:{change:t.to(()=>{this.element&&this.element.files&&this.element.files.length&&this.fire("done",this.element.files),this.element.value=""})}})}open(){this.element.click()}}function Vd(e){const t=e.map(e=>e.replace("+","\\+"));return new RegExp(`^image\\/(${t.join("|")})$`)}class Fd extends O{static get pluginName(){return"ImageUploadUI"}init(){const o=this.editor,a=o.t;o.ui.componentFactory.add("imageUpload",e=>{const t=new jd(e),n=o.commands.get("imageUpload"),r=o.config.get("image.upload.types"),i=Vd(r);return t.set({acceptedType:r.map(e=>"image/"+e).join(","),allowMultipleFiles:!0}),t.buttonView.set({label:a("Insert image"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.91 10.54c.26-.23.64-.21.88.03l3.36 3.14 2.23-2.06a.64.64 0 0 1 .87 0l2.52 2.97V4.5H3.2v10.12l3.71-4.08zm10.27-7.51c.6 0 1.09.47 1.09 1.05v11.84c0 .59-.49 1.06-1.09 1.06H2.79c-.6 0-1.09-.47-1.09-1.06V4.08c0-.58.49-1.05 1.1-1.05h14.38zm-5.22 5.56a1.96 1.96 0 1 1 3.4-1.96 1.96 1.96 0 0 1-3.4 1.96z"/></svg>',tooltip:!0}),t.buttonView.bind("isEnabled").to(n),t.on("done",(e,t)=>{t=Array.from(t).filter(e=>i.test(e.type));t.length&&o.execute("imageUpload",{file:t})}),t})}}t(67),t(69),t(71);class zd extends O{constructor(e){super(e),this.placeholder="data:image/svg+xml;utf8,"+encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 700 250"><rect rx="4"/></svg>')}init(){this.editor.editing.downcastDispatcher.on("attribute:uploadStatus:image",(...e)=>this.uploadStatusChange(...e))}uploadStatusChange(e,t,n){const r=this.editor,i=t.item,o=i.getAttribute("uploadId");if(n.consumable.consume(t.item,e.name)){const d=r.plugins.get(Dc),h=o?t.attributeNewValue:null,f=this.placeholder,p=r.editing.mapper.toViewElement(i),m=n.writer;if("reading"==h)Bd(p,m),Hd(f,p,m);else{if("uploading"==h){const e=d.loaders.get(o);if(Bd(p,m),e){Ud(p,m);{t=p;n=m;var a=e;var s=r.editing.view;c=(l=n).createUIElement("div",{class:"ck-progress-bar"}),l.setCustomProperty("progressBar",!0,c);const g=c;n.insert(n.createPositionAt(t,"end"),g),a.on("change:uploadedPercent",(e,t,n)=>{s.change(e=>{e.setStyle("width",n+"%",g)})})}return void(l=p,c=m,n=e,n.data&&(l=ku(l),c.setAttribute("src",n.data,l)))}else return void Hd(f,p,m)}var l,c;if("complete"==h&&d.loaders.get(o)){e=p;t=m;var u=r.editing.view;const v=t.createUIElement("div",{class:"ck-image-upload-complete-icon"});t.insert(t.createPositionAt(e,"end"),v),setTimeout(()=>{u.change(e=>e.remove(e.createRangeOn(v)))},3e3)}qd(p,m,"progressBar"),Ud(p,m),a=p,m.removeClass("ck-appear",a)}}}}function Bd(e,t){e.hasClass("ck-appear")||t.addClass("ck-appear",e)}function Hd(e,t,n){t.hasClass("ck-image-upload-placeholder")||n.addClass("ck-image-upload-placeholder",t);const r=ku(t);r.getAttribute("src")!==e&&n.setAttribute("src",e,r),Wd(t,"placeholder")||n.insert(n.createPositionAfter(r),(t=(e=n).createUIElement("div",{class:"ck-upload-placeholder-loader"}),e.setCustomProperty("placeholder",!0,t),t))}function Ud(e,t){e.hasClass("ck-image-upload-placeholder")&&t.removeClass("ck-image-upload-placeholder",e),qd(e,t,"placeholder")}function Wd(e,t){for(const n of e.getChildren())if(n.getCustomProperty(t))return n}function qd(e,t,n){e=Wd(e,n);e&&t.remove(t.createRangeOn(e))}class Yd{constructor(e){this.document=e}createDocumentFragment(e){return new Xr(this.document,e)}createElement(e,t,n){return new ir(this.document,e,t,n)}createText(e){return new s(this.document,e)}clone(e,t=!1){return e._clone(t)}appendChild(e,t){return t._appendChild(e)}insertChild(e,t,n){return n._insertChild(e,t)}removeChildren(e,t,n){return n._removeChildren(e,t)}remove(e){const t=e.parent;return t?this.removeChildren(t.getChildIndex(e),1,t):[]}replace(e,t){const n=e.parent;return!!n&&(e=n.getChildIndex(e),this.removeChildren(e,1,n),this.insertChild(e,t,n),!0)}unwrapElement(e){const t=e.parent;var n;t&&(n=t.getChildIndex(e),this.remove(e),this.insertChild(n,e.getChildren(),t))}rename(e,t){e=new ir(this.document,e,t.getAttributes(),t.getChildren());return this.replace(t,e)?e:null}setAttribute(e,t,n){n._setAttribute(e,t)}removeAttribute(e,t){t._removeAttribute(e)}addClass(e,t){t._addClass(e)}removeClass(e,t){t._removeClass(e)}setStyle(e,t,n){(n=Z(e)&&void 0===n?t:n)._setStyle(e,t)}removeStyle(e,t){t._removeStyle(e)}setCustomProperty(e,t,n){n._setCustomProperty(e,t)}removeCustomProperty(e,t){return t._removeCustomProperty(e)}createPositionAt(e,t){return f._createAt(e,t)}createPositionAfter(e){return f._createAfter(e)}createPositionBefore(e){return f._createBefore(e)}createRange(e,t){return new m(e,t)}createRangeOn(e){return m._createOn(e)}createRangeIn(e){return m._createIn(e)}createSelection(e,t,n){return new Cr(e,t,n)}}class Gd extends M{refresh(){var e=this.editor.model.document.selection.getSelectedElement(),e=e&&"image"===e.name||!1;this.isEnabled=_u(this.editor.model)||e}execute(a){const e=this.editor,s=e.model,l=e.plugins.get(Dc);s.change(e=>{var t=Array.isArray(a.file)?a.file:[a.file];for(const a of t){n=void 0;r=void 0;i=void 0;o=void 0;i=void 0;var n=e;var r=s;var i=l;var o=a;i=i.createLoader(o);i&&wu(n,r,{uploadId:i.id})}})}}class Kd extends O{static get requires(){return[Dc,nd,Nl]}static get pluginName(){return"ImageUploadEditing"}constructor(e){super(e),e.config.define("image",{upload:{types:["jpeg","png","gif","bmp","webp","tiff"]}})}init(){const o=this.editor,i=o.model.document,e=o.model.schema,t=o.conversion,a=o.plugins.get(Dc),s=Vd(o.config.get("image.upload.types"));e.extend("image",{allowAttributes:["uploadId","uploadStatus"]}),o.commands.add("imageUpload",new Gd(o)),t.for("upcast").attributeToAttribute({view:{name:"img",key:"uploadId"},model:"uploadId"}),this.listenTo(o.editing.view.document,"clipboardInput",(t,e)=>{if(n=e.dataTransfer,!Array.from(n.types).includes("text/html")||""===n.getData("text/html")){var n;const r=Array.from(e.dataTransfer.files).filter(e=>!!e&&s.test(e.type)),i=e.targetRanges.map(e=>o.editing.mapper.toModelRange(e));o.model.change(e=>{e.setSelection(i),r.length&&(t.stop(),o.model.enqueueChange("default",()=>{o.execute("imageUpload",{file:r})}))})}}),this.listenTo(o.plugins.get(Nl),"inputTransformation",(e,t)=>{t=Array.from(o.editing.view.createRangeIn(t.content)).filter(e=>{return!(!(t=e.item).is("element","img")||!t.getAttribute("src"))&&(t.getAttribute("src").match(/^data:image\/\w+;base64,/g)||t.getAttribute("src").match(/^blob:/g))&&!e.item.getAttribute("uploadProcessed");var t}).map(e=>{return{promise:(t=e.item,new Promise((a,e)=>{const s=t.getAttribute("src");fetch(s).then(e=>e.blob()).then(e=>{i=e,o=s;const t=i.type||(o.match(/data:(image\/\w+);base64/)?o.match(/data:(image\/\w+);base64/)[1].toLowerCase():"image/jpeg"),n=t.replace("image/",""),r=new File([e],"image."+n,{type:t});var i,o;a(r)}).catch(e)})),imageElement:e.item};var t});if(t.length){const n=new Yd(o.editing.view.document);for(const o of t){n.setAttribute("uploadProcessed",!0,o.imageElement);const e=a.createLoader(o.promise);e&&(n.setAttribute("src","",o.imageElement),n.setAttribute("uploadId",e.id,o.imageElement))}}}),o.editing.view.document.on("dragover",(e,t)=>{t.preventDefault()}),i.on("change",()=>{const e=i.differ.getChanges({includeChangesInGraveyard:!0});for(const i of e)if("insert"==i.type&&"$text"!=i.name){const e=i.position.nodeAfter,r="$graveyard"==i.position.root.rootName;for(const i of(t=o,n=e,Array.from(t.model.createRangeOn(n)).filter(e=>e.item.is("element","image")).map(e=>e.item))){const o=i.getAttribute("uploadId");if(o){const e=a.loaders.get(o);e&&(r?e.abort():"idle"==e.status&&this._readAndUpload(e,i))}}}var t,n})}_readAndUpload(n,r){const i=this.editor,o=i.model,t=i.locale.t,e=i.plugins.get(Dc),a=i.plugins.get(nd);return o.enqueueChange("transparent",e=>{e.setAttribute("uploadStatus","reading",r)}),n.read().then(()=>{var e=n.upload();if(Rr){const n=ku(i.editing.mapper.toViewElement(r));i.editing.view.once("render",()=>{if(n.parent){const t=i.editing.view.domConverter.mapViewToDom(n.parent);var e;t&&(e=t.style.display,t.style.display="none",t._ckHack=t.offsetHeight,t.style.display=e)}})}return o.enqueueChange("transparent",e=>{e.setAttribute("uploadStatus","uploading",r)}),e}).then(t=>{o.enqueueChange("transparent",e=>{e.setAttributes({uploadStatus:"complete",src:t.default},r),this._parseAndSetSrcsetAttributeOnImage(t,r,e)}),s()}).catch(e=>{if("error"!==n.status&&"aborted"!==n.status)throw e;"error"==n.status&&e&&a.showWarning(e,{title:t("Upload failed"),namespace:"upload"}),s(),o.enqueueChange("transparent",e=>{e.remove(r)})});function s(){o.enqueueChange("transparent",e=>{e.removeAttribute("uploadId",r),e.removeAttribute("uploadStatus",r)}),e.destroyLoader(n)}}_parseAndSetSrcsetAttributeOnImage(t,e,n){let r=0;var i=Object.keys(t).filter(e=>{e=parseInt(e,10);if(!isNaN(e))return r=Math.max(r,e),!0}).map(e=>t[e]+` ${e}w`).join(", ");""!=i&&n.setAttribute("srcset",{data:i,width:r},e)}}class Xd extends O{static get pluginName(){return"ImageUpload"}static get requires(){return[Kd,Fd,zd]}}class Jd extends M{refresh(){const e=this.editor.model,t=jc(e.document.selection.getSelectedBlocks());this.value=!!t&&t.is("element","paragraph"),this.isEnabled=!!t&&Qd(t,e.schema)}execute(n={}){const r=this.editor.model,i=r.document;r.change(e=>{var t=(n.selection||i.selection).getSelectedBlocks();for(const n of t)!n.is("element","paragraph")&&Qd(n,r.schema)&&e.rename(n,"paragraph")})}}function Qd(e,t){return t.checkChild(e.parent,"paragraph")&&!t.isObject(e)}class Zd extends M{execute(e){const r=this.editor.model;let i=e.position;r.change(e=>{var t=e.createElement("paragraph");if(!r.schema.checkChild(i.parent,t)){var n=r.schema.findAllowedParent(i,t);if(!n)return;i=e.split(i,n).position}r.insertContent(t,i),e.setSelection(t,"in")})}}class eh extends O{static get pluginName(){return"Paragraph"}init(){const e=this.editor,t=e.model;e.commands.add("paragraph",new Jd(e)),e.commands.add("insertParagraph",new Zd(e)),t.schema.register("paragraph",{inheritAllFrom:"$block"}),e.conversion.elementToElement({model:"paragraph",view:"p"}),e.conversion.for("upcast").elementToElement({model:(e,{writer:t})=>!eh.paragraphLikeElements.has(e.name)||e.isEmpty?null:t.createElement("paragraph"),view:/.+/,converterPriority:"low"})}}eh.paragraphLikeElements=new Set(["blockquote","dd","div","dt","h1","h2","h3","h4","h5","h6","li","p","td","th"]);class th extends M{constructor(e,t){super(e),this.modelElements=t}refresh(){const t=jc(this.editor.model.document.selection.getSelectedBlocks());this.value=!!t&&this.modelElements.includes(t.name)&&t.name,this.isEnabled=!!t&&this.modelElements.some(e=>nh(t,e,this.editor.model.schema))}execute(e){const n=this.editor.model,r=n.document,i=e.value;n.change(e=>{var t=Array.from(r.selection.getSelectedBlocks()).filter(e=>nh(e,i,n.schema));for(const n of t)n.is("element",i)||e.rename(n,i)})}}function nh(e,t,n){return n.checkChild(e.parent,t)&&!n.isObject(e)}class rh extends O{static get pluginName(){return"HeadingEditing"}constructor(e){super(e),e.config.define("heading",{options:[{model:"paragraph",title:"Paragraph",class:"ck-heading_paragraph"},{model:"heading1",view:"h2",title:"Heading 1",class:"ck-heading_heading1"},{model:"heading2",view:"h3",title:"Heading 2",class:"ck-heading_heading2"},{model:"heading3",view:"h4",title:"Heading 3",class:"ck-heading_heading3"}]})}static get requires(){return[eh]}init(){const e=this.editor,t=e.config.get("heading.options"),n=[];for(const r of t)"paragraph"!==r.model&&(e.model.schema.register(r.model,{inheritAllFrom:"$block"}),e.conversion.elementToElement(r),n.push(r.model));this._addDefaultH1Conversion(e),e.commands.add("heading",new th(e,n))}afterInit(){const r=this.editor,e=r.commands.get("enter"),i=r.config.get("heading.options");e&&this.listenTo(e,"afterExecute",(e,t)=>{const n=r.model.document.selection.getFirstPosition().parent;i.some(e=>n.is("element",e.model))&&!n.is("element","paragraph")&&0===n.childCount&&t.writer.rename(n,"paragraph")})}_addDefaultH1Conversion(e){e.conversion.for("upcast").elementToElement({model:"heading1",view:"h1",converterPriority:Yt.get("low")+1})}}class ih{constructor(e,t){t&&lr(this,t),e&&this.set(e)}}a(ih,l),t(12);class oh extends O{init(){const s=this.editor,e=s.t,l=function(e){const t=e.t,n={Paragraph:t("Paragraph"),"Heading 1":t("Heading 1"),"Heading 2":t("Heading 2"),"Heading 3":t("Heading 3"),"Heading 4":t("Heading 4"),"Heading 5":t("Heading 5"),"Heading 6":t("Heading 6")};return e.config.get("heading.options").map(e=>{var t=n[e.title];return t&&t!=e.title&&(e.title=t),e})}(s),c=e("Choose heading"),u=e("Heading");s.ui.componentFactory.add("heading",e=>{const n={},t=new rn,r=s.commands.get("heading"),i=s.commands.get("paragraph"),o=[r];for(const s of l){const e={type:"button",model:new ih({label:s.title,class:s.class,withText:!0})};"paragraph"===s.model?(e.model.bind("isOn").to(i,"value"),e.model.set("commandName","paragraph"),o.push(i)):(e.model.bind("isOn").to(r,"value",e=>e===s.model),e.model.set({commandName:"heading",commandValue:s.model})),t.add(e),n[s.model]=s.title}const a=xl(e);return Cl(a,t),a.buttonView.set({isOn:!1,withText:!0,tooltip:u}),a.extendTemplate({attributes:{class:["ck-heading-dropdown"]}}),a.bind("isEnabled").toMany(o,"isEnabled",(...e)=>e.some(e=>e)),a.buttonView.bind("label").to(r,"value",i,"value",(e,t)=>{e=e||t&&"paragraph";return n[e]||c}),this.listenTo(a,"execute",e=>{s.execute(e.source.commandName,e.source.commandValue?{value:e.source.commandValue}:void 0),s.editing.view.focus()}),a})}}function ah(e){for(const t of e.getChildren())if(t&&t.is("element","caption"))return t;return null}function sh(e){const t=e.parent;return"figcaption"==e.name&&t&&"figure"==t.name&&t.hasClass("image")?{name:!0}:null}class lh extends O{static get pluginName(){return"ImageCaptionEditing"}init(){const e=this.editor,t=e.editing.view,n=e.model.schema,r=e.data,i=e.editing,o=e.t;var a,s;n.register("caption",{allowIn:"image",allowContentOf:"$block",isLimit:!0}),e.model.document.registerPostFixer(e=>this._insertMissingModelCaptionElement(e)),e.conversion.for("upcast").elementToElement({view:sh,model:"caption"}),r.downcastDispatcher.on("insert:caption",ch(e=>e.createContainerElement("figcaption"),!1)),a=t,s=o("Enter image caption"),i.downcastDispatcher.on("insert:caption",ch(e=>{var t=e.createEditableElement("figcaption");return e.setCustomProperty("imageCaption",!0,t),$s({view:a,element:t,text:s}),pu(t,e)})),i.downcastDispatcher.on("insert",this._fixCaptionVisibility(e=>e.item),{priority:"high"}),i.downcastDispatcher.on("remove",this._fixCaptionVisibility(e=>e.position.parent),{priority:"high"}),t.document.registerPostFixer(e=>this._updateCaptionVisibility(e))}_updateCaptionVisibility(e){const t=this.editor.editing.mapper,n=this._lastSelectedCaption;let r;const i=this.editor.model.document.selection,o=i.getSelectedElement();if(o&&o.is("element","image")){const e=ah(o);r=t.toViewElement(e)}var a=uh(i.getFirstPosition().parent);if(r=a?t.toViewElement(a):r)return n?n!==r&&(dh(n,e),this._lastSelectedCaption=r):this._lastSelectedCaption=r,hh(r,e);if(n){const t=dh(n,e);return this._lastSelectedCaption=null,t}return!1}_fixCaptionVisibility(a){return(e,t,n)=>{const r=uh(a(t)),i=this.editor.editing.mapper,o=n.writer;if(r){const a=i.toViewElement(r);a&&(r.childCount?o.removeClass("ck-hidden",a):o.addClass("ck-hidden",a))}}}_insertMissingModelCaptionElement(e){const t=this.editor.model,n=t.document.differ.getChanges(),r=[];for(const e of n)if("insert"==e.type&&"$text"!=e.name){const n=e.position.nodeAfter;if(n.is("element","image")&&!ah(n)&&r.push(n),!n.is("element","image")&&n.childCount)for(const e of t.createRangeIn(n).getItems())e.is("element","image")&&!ah(e)&&r.push(e)}for(const t of r)e.appendElement("caption",t);return!!r.length}}function ch(a,s=!0){return(e,t,n)=>{var r=t.item;if((r.childCount||s)&&yu(r.parent)&&n.consumable.consume(t.item,"insert")){const s=n.mapper.toViewElement(t.range.start.parent),e=a(n.writer),o=n.writer;r.childCount||o.addClass("ck-hidden",e);var r=e,t=t.item,i=s;i=n.writer.createPositionAt(i,"end"),n.writer.insert(i,r),n.mapper.bindElements(t,r)}}}function uh(e){e=e.getAncestors({includeSelf:!0}).find(e=>"caption"==e.name);return e&&e.parent&&"image"==e.parent.name?e:null}function dh(e,t){return!e.childCount&&!e.hasClass("ck-hidden")&&(t.addClass("ck-hidden",e),!0)}function hh(e,t){return!!e.hasClass("ck-hidden")&&(t.removeClass("ck-hidden",e),!0)}t(74);class fh extends M{constructor(e,t){super(e),this.defaultStyle=!1,this.styles=t.reduce((e,t)=>((e[t.name]=t).isDefault&&(this.defaultStyle=t.name),e),{})}refresh(){const e=this.editor.model.document.selection.getSelectedElement();var t;this.isEnabled=yu(e),e?e.hasAttribute("imageStyle")?(t=e.getAttribute("imageStyle"),this.value=!!this.styles[t]&&t):this.value=this.defaultStyle:this.value=!1}execute(e){const t=e.value,n=this.editor.model,r=n.document.selection.getSelectedElement();n.change(e=>{this.styles[t].isDefault?e.removeAttribute("imageStyle",r):e.setAttribute("imageStyle",t,r)})}}function ph(e,t){for(const n of t)if(n.name===e)return n}kt='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 4.5V3h16v1.5zm2.5 3V12h11V7.5h-11zM4.061 6H15.94c.586 0 1.061.407 1.061.91v5.68c0 .503-.475.91-1.061.91H4.06c-.585 0-1.06-.407-1.06-.91V6.91C3 6.406 3.475 6 4.061 6zM2 16.5V15h16v1.5z"/></svg>',r='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg" clip-rule="evenodd" stroke-linejoin="round" stroke-miterlimit="1.414"><path d="M18 4.5V3H2v1.5h16zm0 3V6h-5.674v1.5H18zm0 3V9h-5.674v1.5H18zm0 3V12h-5.674v1.5H18zm-8.5-6V12h-6V7.5h6zm.818-1.5H2.682C2.305 6 2 6.407 2 6.91v5.68c0 .503.305.91.682.91h7.636c.377 0 .682-.407.682-.91V6.91c0-.503-.305-.91-.682-.91zM18 16.5V15H2v1.5h16z"/></svg>',e='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 4.5V3h16v1.5zm4.5 3V12h7V7.5h-7zM5.758 6h8.484c.419 0 .758.407.758.91v5.681c0 .502-.34.909-.758.909H5.758c-.419 0-.758-.407-.758-.91V6.91c0-.503.34-.91.758-.91zM2 16.5V15h16v1.5z"/></svg>',pt='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 4.5V3h16v1.5zm0 3V6h5.674v1.5zm0 3V9h5.674v1.5zm0 3V12h5.674v1.5zm8.5-6V12h6V7.5h-6zM9.682 6h7.636c.377 0 .682.407.682.91v5.68c0 .503-.305.91-.682.91H9.682c-.377 0-.682-.407-.682-.91V6.91c0-.503.305-.91.682-.91zM2 16.5V15h16v1.5z"/></svg>';const mh={full:{name:"full",title:"Full size image",icon:kt,isDefault:!0},side:{name:"side",title:"Side image",icon:pt,className:"image-style-side"},alignLeft:{name:"alignLeft",title:"Left aligned image",icon:r,className:"image-style-align-left"},alignCenter:{name:"alignCenter",title:"Centered image",icon:e,className:"image-style-align-center"},alignRight:{name:"alignRight",title:"Right aligned image",icon:pt,className:"image-style-align-right"}},gh={full:kt,left:r,right:pt,center:e};function vh(e=[]){return e.map(bh)}function bh(e){if("string"==typeof e){var t=e;e=mh[t]?Object.assign({},mh[t]):(Object(h.c)("image-style-not-found",{name:t}),{name:t})}else if(mh[e.name]){const n=mh[e.name],r=Object.assign({},e);for(const i in n)Object.prototype.hasOwnProperty.call(e,i)||(r[i]=n[i]);e=r}return"string"==typeof e.icon&&gh[e.icon]&&(e.icon=gh[e.icon]),e}class yh extends O{static get pluginName(){return"ImageStyleEditing"}init(){const e=this.editor,t=e.model.schema,n=e.data,r=e.editing;e.config.define("image.styles",["full","side"]);var s,i=vh(e.config.get("image.styles")),o=(t.extend("image",{allowAttributes:"imageStyle"}),s=i,(e,t,n)=>{if(n.consumable.consume(t.item,e.name)){const r=ph(t.attributeNewValue,s),i=ph(t.attributeOldValue,s),o=n.mapper.toViewElement(t.item),a=n.writer;i&&a.removeClass(i.className,o),r&&a.addClass(r.className,o)}});r.downcastDispatcher.on("attribute:imageStyle:image",o),n.downcastDispatcher.on("attribute:imageStyle:image",o),n.upcastDispatcher.on("element:figure",function(){const o=i.filter(e=>!e.isDefault);return(e,t,n)=>{if(t.modelRange){var r=t.viewItem,i=jc(t.modelRange.getItems());if(n.schema.checkAttribute(i,"imageStyle"))for(const e of o)n.consumable.consume(r,{classes:e.className})&&n.writer.setAttribute("imageStyle",e.name,i)}}}(),{priority:"low"}),e.commands.add("imageStyle",new fh(e,i))}}t(76);class wh extends O{static get pluginName(){return"ImageStyleUI"}get localizedDefaultStylesTitles(){const e=this.editor.t;return{"Full size image":e("Full size image"),"Side image":e("Side image"),"Left aligned image":e("Left aligned image"),"Centered image":e("Centered image"),"Right aligned image":e("Right aligned image")}}init(){for(const e of function(e,t){for(const n of e)t[n.title]&&(n.title=t[n.title]);return e}(vh(this.editor.config.get("image.styles")),this.localizedDefaultStylesTitles))this._createButton(e)}_createButton(r){const i=this.editor,e="imageStyle:"+r.name;i.ui.componentFactory.add(e,e=>{const t=i.commands.get("imageStyle"),n=new A(e);return n.set({label:r.title,icon:r.icon,tooltip:!0,isToggleable:!0}),n.bind("isEnabled").to(t,"isEnabled"),n.bind("isOn").to(t,"value",e=>e===r.name),this.listenTo(n,"execute",()=>{i.execute("imageStyle",{value:r.name}),i.editing.view.focus()}),n})}}class _h extends O{static get requires(){return[Od]}static get pluginName(){return"WidgetToolbarRepository"}init(){const n=this.editor;var e;n.plugins.has("BalloonToolbar")&&(e=n.plugins.get("BalloonToolbar"),this.listenTo(e,"show",e=>{var t;(t=n.editing.view.document.selection.getSelectedElement())&&du(t)&&e.stop()},{priority:"high"})),this._toolbarDefinitions=new Map,this._balloon=this.editor.plugins.get("ContextualBalloon"),this.on("change:isEnabled",()=>{this._updateToolbarsVisibility()}),this.listenTo(n.ui,"update",()=>{this._updateToolbarsVisibility()}),this.listenTo(n.ui.focusTracker,"change:isFocused",()=>{this._updateToolbarsVisibility()},{priority:"low"})}destroy(){super.destroy();for(const e of this._toolbarDefinitions.values())e.view.destroy()}register(e,{ariaLabel:t,items:n,getRelatedElement:r,balloonClassName:i="ck-toolbar-container"}){if(n.length){const o=this.editor,a=o.t,s=new Sl(o.locale);if(s.ariaLabel=t||a("Widget toolbar"),this._toolbarDefinitions.has(e))throw new h.a("widget-toolbar-duplicated",this,{toolbarId:e});s.fillFromConfig(n,o.ui.componentFactory),this._toolbarDefinitions.set(e,{view:s,getRelatedElement:r,balloonClassName:i})}else Object(h.c)("widget-toolbar-no-items",{toolbarId:e})}_updateToolbarsVisibility(){let e=0,t=null,n=null;for(const i of this._toolbarDefinitions.values()){const o=i.getRelatedElement(this.editor.editing.view.document.selection);var r;this.isEnabled&&o?this.editor.ui.focusTracker.isFocused?(r=o.getAncestors().length)>e&&(e=r,t=o,n=i):this._isToolbarVisible(i)&&this._hideToolbar(i):this._isToolbarInBalloon(i)&&this._hideToolbar(i)}n&&this._showToolbar(n,t)}_hideToolbar(e){this._balloon.remove(e.view),this.stopListening(this._balloon,"change:visibleView")}_showToolbar(e,t){this._isToolbarVisible(e)?kh(this.editor,t):this._isToolbarInBalloon(e)||(this._balloon.add({view:e.view,position:xh(this.editor,t),balloonClassName:e.balloonClassName}),this.listenTo(this._balloon,"change:visibleView",()=>{for(const t of this._toolbarDefinitions.values()){var e;this._isToolbarVisible(t)&&(e=t.getRelatedElement(this.editor.editing.view.document.selection),kh(this.editor,e))}}))}_isToolbarVisible(e){return this._balloon.visibleView===e.view}_isToolbarInBalloon(e){return this._balloon.hasView(e.view)}}function kh(e,t){const n=e.plugins.get("ContextualBalloon"),r=xh(e,t);n.updatePosition(r)}function xh(e,t){const n=e.editing.view,r=D.defaultPositions;return{target:n.domConverter.mapViewToDom(t),positions:[r.northArrowSouth,r.northArrowSouthWest,r.northArrowSouthEast,r.southArrowNorth,r.southArrowNorthWest,r.southArrowNorthEast,gu]}}class Ch extends M{constructor(e){super(e),this._childCommands=[]}refresh(){}execute(...e){return this._getFirstEnabledCommand().execute(e)}registerChildCommand(e){this._childCommands.push(e),e.on("change:isEnabled",()=>this._checkEnabled()),this._checkEnabled()}_checkEnabled(){this.isEnabled=!!this._getFirstEnabledCommand()}_getFirstEnabledCommand(){return this._childCommands.find(e=>e.isEnabled)}}class Sh extends O{static get pluginName(){return"IndentEditing"}init(){const e=this.editor;e.commands.add("indent",new Ch(e)),e.commands.add("outdent",new Ch(e))}}var Th='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm5 6c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM2.75 16.5h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 1 0 0 1.5zM1.632 6.95L5.02 9.358a.4.4 0 0 1-.013.661l-3.39 2.207A.4.4 0 0 1 1 11.892V7.275a.4.4 0 0 1 .632-.326z"/></svg>',$h='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm5 6c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM2.75 16.5h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 1 0 0 1.5zm1.618-9.55L.98 9.358a.4.4 0 0 0 .013.661l3.39 2.207A.4.4 0 0 0 5 11.892V7.275a.4.4 0 0 0-.632-.326z"/></svg>';class Eh extends O{static get pluginName(){return"IndentUI"}init(){const e=this.editor,t=e.locale,n=e.t,r="ltr"==t.uiLanguageDirection?Th:$h,i="ltr"==t.uiLanguageDirection?$h:Th;this._defineButton("indent",n("Increase indent"),r),this._defineButton("outdent",n("Decrease indent"),i)}_defineButton(r,i,o){const a=this.editor;a.ui.componentFactory.add(r,e=>{const t=a.commands.get(r),n=new A(e);return n.set({label:i,icon:o,tooltip:!0}),n.bind("isOn","isEnabled").to(t,"value","isEnabled"),this.listenTo(n,"execute",()=>{a.execute(r),a.editing.view.focus()}),n})}}class Ah extends Yi{constructor(e){super(e),this.domEventType="click"}onDomEvent(e){this.fire(e.type,e)}}t(78);class Oh extends ${constructor(e,t,n){super(e);const r=e.t,i=(this.focusTracker=new Cs,this.keystrokes=new vs,this.urlInputView=this._createUrlInput(n),this.saveButtonView=this._createButton(r("Save"),Td,"ck-button-save"),this.saveButtonView.type="submit",this.cancelButtonView=this._createButton(r("Cancel"),$d,"ck-button-cancel","cancel"),this._manualDecoratorSwitches=this._createManualDecoratorSwitches(t),this.children=this._createFormChildren(t.manualDecorators),this._focusables=new Ms,this._focusCycler=new il({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),["ck","ck-link-form","ck-responsive-form"]);t.manualDecorators.length&&i.push("ck-link-form_layout-vertical","ck-vertical-form"),this.setTemplate({tag:"form",attributes:{class:i,tabindex:"-1"},children:this.children})}getDecoratorSwitchesState(){return Array.from(this._manualDecoratorSwitches).reduce((e,t)=>(e[t.name]=t.isOn,e),{})}render(){super.render(),Sd({view:this}),[this.urlInputView,...this._manualDecoratorSwitches,this.saveButtonView,this.cancelButtonView].forEach(e=>{this._focusables.add(e),this.focusTracker.add(e.element)}),this.keystrokes.listenTo(this.element)}focus(){this._focusCycler.focusFirst()}_createUrlInput(e="https://"){const t=this.locale.t,n=new kd(this.locale,Cd);return n.label=t("Link URL"),n.fieldView.placeholder=e+"example.com",n}_createButton(e,t,n,r){const i=new A(this.locale);return i.set({label:e,icon:t,tooltip:!0}),i.extendTemplate({attributes:{class:n}}),r&&i.delegate("execute").to(this,r),i}_createManualDecoratorSwitches(e){const t=this.createCollection();for(const n of e.manualDecorators){const r=new _l(this.locale);r.set({name:n.id,label:n.label,withText:!0}),r.bind("isOn").toMany([n,e],"value",(e,t)=>void 0===t&&void 0===e?n.defaultValue:e),r.on("execute",()=>{n.set("value",!r.isOn)}),t.add(r)}return t}_createFormChildren(e){const t=this.createCollection();if(t.add(this.urlInputView),e.length){const e=new $;e.setTemplate({tag:"ul",children:this._manualDecoratorSwitches.map(e=>({tag:"li",children:[e],attributes:{class:["ck","ck-list__item"]}})),attributes:{class:["ck","ck-reset","ck-list"]}}),t.add(e)}return t.add(this.saveButtonView),t.add(this.cancelButtonView),t}}t(80);class Mh extends ${constructor(e){super(e);const t=e.t;this.focusTracker=new Cs,this.keystrokes=new vs,this.previewButtonView=this._createPreviewButton(),this.unlinkButtonView=this._createButton(t("Unlink"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.077 15l.991-1.416a.75.75 0 1 1 1.229.86l-1.148 1.64a.748.748 0 0 1-.217.206 5.251 5.251 0 0 1-8.503-5.955.741.741 0 0 1 .12-.274l1.147-1.639a.75.75 0 1 1 1.228.86L4.933 10.7l.006.003a3.75 3.75 0 0 0 6.132 4.294l.006.004zm5.494-5.335a.748.748 0 0 1-.12.274l-1.147 1.639a.75.75 0 1 1-1.228-.86l.86-1.23a3.75 3.75 0 0 0-6.144-4.301l-.86 1.229a.75.75 0 0 1-1.229-.86l1.148-1.64a.748.748 0 0 1 .217-.206 5.251 5.251 0 0 1 8.503 5.955zm-4.563-2.532a.75.75 0 0 1 .184 1.045l-3.155 4.505a.75.75 0 1 1-1.229-.86l3.155-4.506a.75.75 0 0 1 1.045-.184zm4.919 10.562l-1.414 1.414a.75.75 0 1 1-1.06-1.06l1.414-1.415-1.415-1.414a.75.75 0 0 1 1.061-1.06l1.414 1.414 1.414-1.415a.75.75 0 0 1 1.061 1.061l-1.414 1.414 1.414 1.415a.75.75 0 0 1-1.06 1.06l-1.415-1.414z"/></svg>',"unlink"),this.editButtonView=this._createButton(t("Edit link"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7.3 17.37l-.061.088a1.518 1.518 0 0 1-.934.535l-4.178.663-.806-4.153a1.495 1.495 0 0 1 .187-1.058l.056-.086L8.77 2.639c.958-1.351 2.803-1.076 4.296-.03 1.497 1.047 2.387 2.693 1.433 4.055L7.3 17.37zM9.14 4.728l-5.545 8.346 3.277 2.294 5.544-8.346L9.14 4.728zM6.07 16.512l-3.276-2.295.53 2.73 2.746-.435zM9.994 3.506L13.271 5.8c.316-.452-.16-1.333-1.065-1.966-.905-.634-1.895-.78-2.212-.328zM8 18.5L9.375 17H19v1.5H8z"/></svg>',"edit"),this.set("href"),this._focusables=new Ms,this._focusCycler=new il({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-link-actions","ck-responsive-form"],tabindex:"-1"},children:[this.previewButtonView,this.editButtonView,this.unlinkButtonView]})}render(){super.render(),[this.previewButtonView,this.editButtonView,this.unlinkButtonView].forEach(e=>{this._focusables.add(e),this.focusTracker.add(e.element)}),this.keystrokes.listenTo(this.element)}focus(){this._focusCycler.focusFirst()}_createButton(e,t,n){const r=new A(this.locale);return r.set({label:e,icon:t,tooltip:!0}),r.delegate("execute").to(this,n),r}_createPreviewButton(){const e=new A(this.locale),t=this.bindTemplate,n=this.t;return e.set({withText:!0,tooltip:n("Open link in new tab")}),e.extendTemplate({attributes:{class:["ck","ck-link-actions__preview"],href:t.to("href",e=>e&&qu(e)),target:"_blank",rel:"noopener noreferrer"}}),e.bind("label").to(this,"href",e=>e||n("This link has no URL")),e.bind("isEnabled").to(this,"href",e=>!!e),e.template.tag="a",e.template.eventListeners={},e}}class Ph extends O{static get requires(){return[Od]}static get pluginName(){return"LinkUI"}init(){const e=this.editor;e.editing.view.addObserver(Ah),this.actionsView=this._createActionsView(),this.formView=this._createFormView(),this._balloon=e.plugins.get(Od),this._createToolbarLinkButton(),this._enableUserBalloonInteractions(),e.conversion.for("editingDowncast").markerToHighlight({model:"link-ui",view:{classes:["ck-fake-link-selection"]}}),e.conversion.for("editingDowncast").markerToElement({model:"link-ui",view:{name:"span",classes:["ck-fake-link-selection","ck-fake-link-selection_collapsed"]}})}destroy(){super.destroy(),this.formView.destroy()}_createActionsView(){const e=this.editor,t=new Mh(e.locale),n=e.commands.get("link"),r=e.commands.get("unlink");return t.bind("href").to(n,"value"),t.editButtonView.bind("isEnabled").to(n),t.unlinkButtonView.bind("isEnabled").to(r),this.listenTo(t,"edit",()=>{this._addFormView()}),this.listenTo(t,"unlink",()=>{e.execute("unlink"),this._hideUI()}),t.keystrokes.set("Esc",(e,t)=>{this._hideUI(),t()}),t.keystrokes.set("Ctrl+K",(e,t)=>{this._addFormView(),t()}),t}_createFormView(){const t=this.editor,e=t.commands.get("link"),n=t.config.get("link.defaultProtocol"),r=new Oh(t.locale,e,n);return r.urlInputView.fieldView.bind("value").to(e,"value"),r.urlInputView.bind("isReadOnly").to(e,"isEnabled",e=>!e),r.saveButtonView.bind("isEnabled").to(e),this.listenTo(r,"submit",()=>{var e=r.urlInputView.fieldView.element["value"],e=Gu(e,n);t.execute("link",e,r.getDecoratorSwitchesState()),this._closeFormView()}),this.listenTo(r,"cancel",()=>{this._closeFormView()}),r.keystrokes.set("Esc",(e,t)=>{this._closeFormView(),t()}),r}_createToolbarLinkButton(){const e=this.editor,n=e.commands.get("link"),r=e.t;e.keystrokes.set("Ctrl+K",(e,t)=>{t(),n.isEnabled&&this._showUI(!0)}),e.ui.componentFactory.add("link",e=>{const t=new A(e);return t.isEnabled=!0,t.label=r("Link"),t.icon='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.077 15l.991-1.416a.75.75 0 1 1 1.229.86l-1.148 1.64a.748.748 0 0 1-.217.206 5.251 5.251 0 0 1-8.503-5.955.741.741 0 0 1 .12-.274l1.147-1.639a.75.75 0 1 1 1.228.86L4.933 10.7l.006.003a3.75 3.75 0 0 0 6.132 4.294l.006.004zm5.494-5.335a.748.748 0 0 1-.12.274l-1.147 1.639a.75.75 0 1 1-1.228-.86l.86-1.23a3.75 3.75 0 0 0-6.144-4.301l-.86 1.229a.75.75 0 0 1-1.229-.86l1.148-1.64a.748.748 0 0 1 .217-.206 5.251 5.251 0 0 1 8.503 5.955zm-4.563-2.532a.75.75 0 0 1 .184 1.045l-3.155 4.505a.75.75 0 1 1-1.229-.86l3.155-4.506a.75.75 0 0 1 1.045-.184z"/></svg>',t.keystroke="Ctrl+K",t.tooltip=!0,t.isToggleable=!0,t.bind("isEnabled").to(n,"isEnabled"),t.bind("isOn").to(n,"value",e=>!!e),this.listenTo(t,"execute",()=>this._showUI(!0)),t})}_enableUserBalloonInteractions(){var e=this.editor.editing.view.document;this.listenTo(e,"click",()=>{this._getSelectedLinkElement()&&this._showUI()}),this.editor.keystrokes.set("Tab",(e,t)=>{this._areActionsVisible&&!this.actionsView.focusTracker.isFocused&&(this.actionsView.focus(),t())},{priority:"high"}),this.editor.keystrokes.set("Esc",(e,t)=>{this._isUIVisible&&(this._hideUI(),t())}),kl({emitter:this.formView,activator:()=>this._isUIInPanel,contextElements:[this._balloon.view.element],callback:()=>this._hideUI()})}_addActionsView(){this._areActionsInPanel||this._balloon.add({view:this.actionsView,position:this._getBalloonPositionData()})}_addFormView(){var e;this._isFormInPanel||(e=this.editor.commands.get("link"),this._balloon.add({view:this.formView,position:this._getBalloonPositionData()}),this._balloon.visibleView===this.formView&&this.formView.urlInputView.fieldView.select(),this.formView.urlInputView.fieldView.element.value=e.value||"")}_closeFormView(){const e=this.editor.commands.get("link");e.restoreManualDecoratorStates(),void 0!==e.value?this._removeFormView():this._hideUI()}_removeFormView(){this._isFormInPanel&&(this.formView.saveButtonView.focus(),this._balloon.remove(this.formView),this.editor.editing.view.focus(),this._hideFakeVisualSelection())}_showUI(e=!1){this._getSelectedLinkElement()?(this._areActionsVisible?this._addFormView():this._addActionsView(),e&&this._balloon.showStack("main")):(this._showFakeVisualSelection(),this._addActionsView(),e&&this._balloon.showStack("main"),this._addFormView()),this._startUpdatingUI()}_hideUI(){if(this._isUIInPanel){const e=this.editor;this.stopListening(e.ui,"update"),this.stopListening(this._balloon,"change:visibleView"),e.editing.view.focus(),this._removeFormView(),this._balloon.remove(this.actionsView),this._hideFakeVisualSelection()}}_startUpdatingUI(){const e=this.editor,t=e.editing.view.document;let n=this._getSelectedLinkElement(),r=o();var i=()=>{var e=this._getSelectedLinkElement(),t=o();n&&!e||!n&&t!==r?this._hideUI():this._isUIVisible&&this._balloon.updatePosition(this._getBalloonPositionData()),n=e,r=t};function o(){return t.selection.focus.getAncestors().reverse().find(e=>e.is("element"))}this.listenTo(e.ui,"update",i),this.listenTo(this._balloon,"change:visibleView",i)}get _isFormInPanel(){return this._balloon.hasView(this.formView)}get _areActionsInPanel(){return this._balloon.hasView(this.actionsView)}get _areActionsVisible(){return this._balloon.visibleView===this.actionsView}get _isUIInPanel(){return this._isFormInPanel||this._areActionsInPanel}get _isUIVisible(){return this._balloon.visibleView==this.formView||this._areActionsVisible}_getBalloonPositionData(){const e=this.editor.editing.view,t=this.editor.model,n=e.document;let r=null;if(t.markers.has("link-ui")){const t=Array.from(this.editor.editing.mapper.markerNameToElements("link-ui")),n=e.createRange(e.createPositionBefore(t[0]),e.createPositionAfter(t[t.length-1]));r=e.domConverter.viewRangeToDom(n)}else{const t=this._getSelectedLinkElement(),i=n.selection.getFirstRange();r=t?e.domConverter.mapViewToDom(t):e.domConverter.viewRangeToDom(i)}return{target:r}}_getSelectedLinkElement(){const e=this.editor.editing.view,t=e.document.selection;var n,r,i;return t.isCollapsed?Dh(t.getFirstPosition()):(r=Dh((n=t.getFirstRange().getTrimmed()).start),i=Dh(n.end),r&&r==i&&e.createRangeIn(r).getTrimmed().isEqual(n)?r:null)}_showFakeVisualSelection(){const r=this.editor.model;r.change(e=>{var t,n=r.document.selection.getFirstRange();r.markers.has("link-ui")?e.updateMarker("link-ui",{range:n}):n.start.isAtEnd?(t=function e(t,n,r){var i=[t.start.path[0]+1,0],i=r.createPositionFromPath(t.start.root,i,"toNext"),o=r.createRange(i,t.end);return o.start.path[0]>t.end.path[0]?r.createRange(n):i.isAtStart&&i.isAtEnd?e(o,n,r):o}(n,r.document.selection.focus,e),e.addMarker("link-ui",{usingOperation:!1,affectsData:!1,range:t})):e.addMarker("link-ui",{usingOperation:!1,affectsData:!1,range:n})})}_hideFakeVisualSelection(){const e=this.editor.model;e.markers.has("link-ui")&&e.change(e=>{e.removeMarker("link-ui")})}}function Dh(e){return e.getAncestors().find(e=>{return(e=e).is("attributeElement")&&!!e.getCustomProperty("link")})}function Rh(e,n){let r=e.start;return{text:Array.from(e.getItems()).reduce((e,t)=>t.is("$text")||t.is("$textProxy")?e+t.data:(r=n.createPositionAfter(t),""),""),range:n.createRange(r,e.end)}}class Ih{constructor(e,t){this.model=e,this.testCallback=t,this.hasMatch=!1,this.set("isEnabled",!0),this.on("change:isEnabled",()=>{this.isEnabled?this._startListening():(this.stopListening(e.document.selection),this.stopListening(e.document))}),this._startListening()}_startListening(){const n=this.model.document;this.listenTo(n.selection,"change:range",(e,{directChange:t})=>{t&&(n.selection.isCollapsed?this._evaluateTextBeforeSelection("selection"):this.hasMatch&&(this.fire("unmatched"),this.hasMatch=!1))}),this.listenTo(n,"change:data",(e,t)=>{"transparent"!=t.type&&this._evaluateTextBeforeSelection("data",{batch:t})})}_evaluateTextBeforeSelection(e,t={}){const n=this.model,r=n.document.selection,i=n.createRange(n.createPositionAt(r.focus.parent,0),r.focus),{text:o,range:a}=Rh(i,n),s=this.testCallback(o);if(!s&&this.hasMatch&&this.fire("unmatched"),this.hasMatch=!!s,s){const n=Object.assign(t,{text:o,range:a});"object"==typeof s&&Object.assign(n,s),this.fire("matched:"+e,n)}}}a(Ih,l);const Nh=new RegExp("(^|\\s)(((?:(?:(?:https?|ftp):)?\\/\\/)(?:\\S+(?::\\S*)?@)?(?:(?![-_])(?:[-\\w\\u00a1-\\uffff]{0,63}[^-_]\\.)+(?:[a-z\\u00a1-\\uffff]{2,}))(?::\\d{2,5})?(?:[/?#]\\S*)?)|((www.|(\\S+@))((?![-_])(?:[-\\w\\u00a1-\\uffff]{0,63}[^-_]\\.))+(?:[a-z\\u00a1-\\uffff]{2,})))$","i");class jh extends O{static get pluginName(){return"AutoLink"}init(){const e=this.editor.model.document.selection;e.on("change:range",()=>{this.isEnabled=!e.anchor.parent.is("element","codeBlock")}),this._enableTypingHandling()}afterInit(){this._enableEnterHandling(),this._enableShiftEnterHandling()}_enableTypingHandling(){const l=this.editor,e=new Ih(l.model,e=>{return 4<e.length&&" "===e[e.length-1]&&" "!==e[e.length-2]&&(e=Lh(e.substr(0,e.length-1)))?{url:e}:void 0}),c=l.plugins.get("Input");e.on("matched:data",(e,t)=>{const{batch:n,range:r,url:i}=t;if(c.isInput(n)){const o=r.end.getShiftedBy(-1),a=o.getShiftedBy(-i.length),s=l.model.createRange(a,o);this._applyAutoLink(i,s)}}),e.bind("isEnabled").to(this)}_enableEnterHandling(){const e=this.editor,t=e.model,n=e.commands.get("enter");n&&n.on("execute",()=>{var e=t.document.selection.getFirstPosition();e.parent.previousSibling&&(e=t.createRangeIn(e.parent.previousSibling),this._checkAndApplyAutoLinkOnRange(e))})}_enableShiftEnterHandling(){const e=this.editor,n=e.model,t=e.commands.get("shiftEnter");t&&t.on("execute",()=>{const e=n.document.selection.getFirstPosition(),t=n.createRange(n.createPositionAt(e.parent,0),e.getShiftedBy(-1));this._checkAndApplyAutoLinkOnRange(t)})}_checkAndApplyAutoLinkOnRange(e){const t=this.editor.model,{text:n,range:r}=Rh(e,t),i=Lh(n);if(i){const e=t.createRange(r.end.getShiftedBy(-i.length),r.end);this._applyAutoLink(i,e)}}_applyAutoLink(n,r){const e=this.editor.model;var t;this.isEnabled&&(t=e).schema.checkAttributeInSelection(t.createSelection(r),"linkHref")&&e.enqueueChange(e=>{var t=this.editor.config.get("link.defaultProtocol"),t=Gu(n,t);e.setAttribute("linkHref",t,r)})}}function Lh(e){e=Nh.exec(e);return e?e[2]:null}class Vh extends M{constructor(e,t){super(e),this.type=t}refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(){const t=this.editor.model,e=t.document,o=Array.from(e.selection.getSelectedBlocks()).filter(e=>zh(e,t.schema)),n=!0===this.value;t.change(r=>{if(n){let e=o[o.length-1].nextSibling,t=Number.POSITIVE_INFINITY,n=[];for(;e&&"listItem"==e.name&&0!==e.getAttribute("listIndent");){const r=e.getAttribute("listIndent"),o=r-(t=r<t?r:t);n.push({element:e,listIndent:o}),e=e.nextSibling}for(const i of n=n.reverse())r.setAttribute("listIndent",i.listIndent,i.element)}if(!n){let e=Number.POSITIVE_INFINITY;for(const t of o)t.is("element","listItem")&&t.getAttribute("listIndent")<e&&(e=t.getAttribute("listIndent"));e=0===e?1:e,Fh(o,!0,e),Fh(o,!1,e)}for(const e of o.reverse())n&&"listItem"==e.name?r.rename(e,"paragraph"):n||"listItem"==e.name?n||"listItem"!=e.name||e.getAttribute("listType")==this.type||r.setAttribute("listType",this.type,e):(r.setAttributes({listType:this.type,listIndent:0},e),r.rename(e,"listItem"));this.fire("_executeCleanup",o)})}_getValue(){const e=jc(this.editor.model.document.selection.getSelectedBlocks());return!!e&&e.is("element","listItem")&&e.getAttribute("listType")==this.type}_checkEnabled(){if(this.value)return!0;const e=this.editor.model.document.selection,t=this.editor.model.schema,n=jc(e.getSelectedBlocks());return!!n&&zh(n,t)}}function Fh(n,r,i){const o=r?n[0]:n[n.length-1];if(o.is("element","listItem")){let e=o[r?"previousSibling":"nextSibling"],t=o.getAttribute("listIndent");for(;e&&e.is("element","listItem")&&e.getAttribute("listIndent")>=i;)t>e.getAttribute("listIndent")&&(t=e.getAttribute("listIndent")),e.getAttribute("listIndent")==t&&n[r?"unshift":"push"](e),e=e[r?"previousSibling":"nextSibling"]}}function zh(e,t){return t.checkChild(e.parent,"listItem")&&!t.isObject(e)}class Bh extends M{constructor(e,t){super(e),this._indentBy="forward"==t?1:-1}refresh(){this.isEnabled=this._checkEnabled()}execute(){const e=this.editor.model,t=e.document;let r=Array.from(t.selection.getSelectedBlocks());e.change(e=>{const t=r[r.length-1];let n=t.nextSibling;for(;n&&"listItem"==n.name&&n.getAttribute("listIndent")>t.getAttribute("listIndent");)r.push(n),n=n.nextSibling;for(const t of r=this._indentBy<0?r.reverse():r){const r=t.getAttribute("listIndent")+this._indentBy;r<0?e.rename(t,"paragraph"):e.setAttribute("listIndent",r,t)}this.fire("_executeCleanup",r)})}_checkEnabled(){const t=jc(this.editor.model.document.selection.getSelectedBlocks());if(!t||!t.is("element","listItem"))return!1;if(0<this._indentBy){var n=t.getAttribute("listIndent"),r=t.getAttribute("listType");let e=t.previousSibling;for(;e&&e.is("element","listItem")&&e.getAttribute("listIndent")>=n;){if(e.getAttribute("listIndent")==n)return e.getAttribute("listType")==r;e=e.previousSibling}return!1}return!0}}function Hh(t,n,r,e){const i=n.parent,o=r.mapper,a=r.writer;let s=o.toViewPosition(e.createPositionBefore(t));const l=qh(t.previousSibling,{sameIndent:!0,smallerIndent:!0,listIndent:t.getAttribute("listIndent")}),c=t.previousSibling;if(l&&l.getAttribute("listIndent")==t.getAttribute("listIndent")){const t=o.toViewElement(l);s=a.breakContainer(a.createPositionAfter(t))}else if(c&&"listItem"==c.name){s=o.toViewPosition(e.createPositionAt(c,"end"));const t=o.findMappedViewAncestor(s),n=function(){for(const e of t.getChildren())if("ul"==e.name||"ol"==e.name)return e;return null}();s=n?a.createPositionBefore(n):a.createPositionAt(t,"end")}else s=o.toViewPosition(e.createPositionBefore(t));if(s=Wh(s),a.insert(s,i),c&&"listItem"==c.name){const t=o.toViewElement(c),r=a.createRange(a.createPositionAt(t,0),s).getWalker({ignoreElementEnd:!0});for(const t of r)if(t.item.is("element","li")){const e=a.breakContainer(a.createPositionBefore(t.item)),i=t.item.parent,o=a.createPositionAt(n,"end");Uh(a,o.nodeBefore,o.nodeAfter),a.move(a.createRangeOn(i),o),r.position=e}}else{const r=i.nextSibling;if(r&&(r.is("element","ul")||r.is("element","ol"))){let e=null;for(const n of r.getChildren()){const r=o.toModelElement(n);if(!(r&&r.getAttribute("listIndent")>t.getAttribute("listIndent")))break;e=n}e&&(a.breakContainer(a.createPositionAfter(e)),a.move(a.createRangeOn(e.parent),a.createPositionAt(n,"end")))}}Uh(a,i,i.nextSibling),Uh(a,i.previousSibling,i)}function Uh(e,t,n){return!t||!n||"ul"!=t.name&&"ol"!=t.name||t.name!=n.name||t.getAttribute("class")!==n.getAttribute("class")?null:e.mergeContainers(e.createPositionAfter(t))}function Wh(e){return e.getLastMatchingPosition(e=>e.item.is("uiElement"))}function qh(e,t){var n=!!t.sameIndent,r=!!t.smallerIndent,i=t.listIndent;let o=e;for(;o&&"listItem"==o.name;){const e=o.getAttribute("listIndent");if(n&&i==e||r&&i>e)return o;o="forward"===t.direction?o.nextSibling:o.previousSibling}return null}function Yh(r,i,o,a){r.ui.componentFactory.add(i,e=>{const t=r.commands.get(i),n=new A(e);return n.set({label:o,icon:a,tooltip:!0,isToggleable:!0}),n.bind("isOn","isEnabled").to(t,"value","isEnabled"),n.on("execute",()=>{r.execute(i),r.editing.view.focus()}),n})}function Gh(){var e=!this.isEmpty&&("ul"==this.getChild(0).name||"ol"==this.getChild(0).name);return this.isEmpty||e?0:sr.call(this)}function Kh(i){return(e,t,n)=>{const r=n.consumable;r.test(t.item,"insert")&&r.test(t.item,"attribute:listType")&&r.test(t.item,"attribute:listIndent")&&(r.consume(t.item,"insert"),r.consume(t.item,"attribute:listType"),r.consume(t.item,"attribute:listIndent"),Hh(t=t.item,function(e,t){const n=t.mapper,r=t.writer,i="numbered"==e.getAttribute("listType")?"ol":"ul",o=function(){const e=r.createContainerElement("li");return e.getFillerOffset=Gh,e}(),a=r.createContainerElement(i,null);return r.insert(r.createPositionAt(a,0),o),n.bindElements(e,o),o}(t,n),n,i))}}function Xh(e,t,n){if(n.consumable.consume(t.item,"attribute:listType")){const r=n.mapper.toViewElement(t.item),i=n.writer;i.breakContainer(i.createPositionBefore(r)),i.breakContainer(i.createPositionAfter(r));n=r.parent,t="numbered"==t.attributeNewValue?"ol":"ul";i.rename(t,n)}}function Jh(e,t,n){var r=n.mapper.toViewElement(t.item).parent,i=n.writer;Uh(i,r,r.nextSibling),Uh(i,r.previousSibling,r);for(const e of t.item.getChildren())n.consumable.consume(e,"insert")}function Qh(e,n,r){if("listItem"!=n.item.name){let t=r.mapper.toViewPosition(n.range.start);const i=r.writer,o=[];for(;("ul"==t.parent.name||"ol"==t.parent.name)&&"li"==(t=i.breakContainer(t)).parent.name;){const n=t,r=i.createPositionAt(t.parent,"end");if(!n.isEqual(r)){const e=i.remove(i.createRange(n,r));o.push(e)}t=i.createPositionAfter(t.parent)}if(0<o.length){for(let e=0;e<o.length;e++){const r=t.nodeBefore;if(t=i.insert(t,o[e]).end,0<e){const n=Uh(i,r,r.nextSibling);n&&n.parent==r&&t.offset--}}Uh(i,t.nodeBefore,t.nodeAfter)}}}function Zh(e,t,n){var t=n.mapper.toViewPosition(t.position),r=t.nodeBefore,t=t.nodeAfter;Uh(n.writer,r,t)}function ef(e,t,n){if(n.consumable.consume(t.viewItem,{name:!0})){const e=n.writer,i=e.createElement("listItem"),o=function(e){let t=0,n=e.parent;for(;n;){if(n.is("element","li"))t++;else{const e=n.previousSibling;e&&e.is("element","li")&&t++}n=n.parent}return t}(t.viewItem);e.setAttribute("listIndent",o,i);var r=t.viewItem.parent&&"ol"==t.viewItem.parent.name?"numbered":"bulleted";e.setAttribute("listType",r,i),n.safeInsert(i,t.modelCursor)&&(r=function(e,t,n){const{writer:r,schema:i}=n;let o=r.createPositionAfter(e);for(const a of t)if("ul"==a.name||"ol"==a.name)o=n.convertItem(a,o).modelCursor;else{const t=n.convertItem(a,r.createPositionAt(e,"end")),s=t.modelRange.start.nodeAfter;s&&s.is("element")&&!i.checkChild(e,s.name)&&(e=t.modelCursor.parent.is("element","listItem")?t.modelCursor.parent:function(e){const t=new Ao({startPosition:e});let n;for(;n=t.next(),!n.value.item.is("element","listItem"););return n.value.item}(t.modelCursor),o=r.createPositionAfter(e))}return o}(i,t.viewItem.getChildren(),n),t.modelRange=e.createRange(t.modelCursor,r),n.updateConversionResult(i,t))}}function tf(e,t,n){if(n.consumable.test(t.viewItem,{name:!0})){const e=Array.from(t.viewItem.getChildren());for(const t of e)t.is("element","li")||sf(t)||t._remove()}}function nf(n,r,e){if(e.consumable.test(r.viewItem,{name:!0})&&0!==r.viewItem.childCount){const n=[...r.viewItem.getChildren()];let e=!1,t=!0;for(const r of n)e&&!sf(r)&&r._remove(),r.is("$text")?(t&&(r._data=r.data.replace(/^\s+/,"")),r.nextSibling&&!sf(r.nextSibling)||(r._data=r.data.replace(/\s+$/,""))):sf(r)&&(e=!0),t=!1}}function rf(o){return(e,t)=>{if(!t.isPhantom){const n=t.modelPosition.nodeBefore;if(n&&n.is("element","listItem")){const e=t.mapper.toViewElement(n),r=e.getAncestors().find(sf),i=o.createPositionAt(e,0).getWalker();for(const o of i){if("elementStart"==o.type&&o.item.is("element","li")){t.viewPosition=o.previousPosition;break}if("elementEnd"==o.type&&o.item==r){t.viewPosition=o.nextPosition;break}}}}}}function of(t,[e,n]){let r,i=e.is("documentFragment")?e.getChild(0):e;if(r=n?this.createSelection(n):this.document.selection,i&&i.is("element","listItem")){const t=r.getFirstPosition();let e=null;if(t.parent.is("element","listItem")?e=t.parent:t.nodeBefore&&t.nodeBefore.is("element","listItem")&&(e=t.nodeBefore),e){const t=e.getAttribute("listIndent");if(0<t)for(;i&&i.is("element","listItem");)i._setAttribute("listIndent",i.getAttribute("listIndent")+t),i=i.nextSibling}}}function af(e,t,n,r,i,o){const a=qh(t.nodeBefore,{sameIndent:!0,smallerIndent:!0,listIndent:e,foo:"b"}),s=i.mapper,l=i.writer,c=a?a.getAttribute("listIndent"):null;let u;if(a)if(c==e){const e=s.toViewElement(a).parent;u=l.createPositionAfter(e)}else{const e=o.createPositionAt(a,"end");u=s.toViewPosition(e)}else u=n;u=Wh(u);for(const e of[...r.getChildren()])sf(e)&&(u=l.move(l.createRangeOn(e),u).end,Uh(l,e,e.nextSibling),Uh(l,e.previousSibling,e))}function sf(e){return e.is("element","ol")||e.is("element","ul")}class lf extends O{static get pluginName(){return"ListEditing"}static get requires(){return[eh]}init(){const d=this.editor,e=(d.model.schema.register("listItem",{inheritAllFrom:"$block",allowAttributes:["listType","listIndent"]}),d.data),t=d.editing;d.model.document.registerPostFixer(e=>{{var i=d.model,o=e;const c=i.document.differ.getChanges(),u=new Map;let r=!1;for(const u of c)if("insert"==u.type&&"listItem"==u.name)t(u.position);else if("insert"==u.type&&"listItem"!=u.name){if("$text"!=u.name){const c=u.position.nodeAfter;c.hasAttribute("listIndent")&&(o.removeAttribute("listIndent",c),r=!0),c.hasAttribute("listType")&&(o.removeAttribute("listType",c),r=!0),c.hasAttribute("listStyle")&&(o.removeAttribute("listStyle",c),r=!0);for(const o of Array.from(i.createRangeIn(c)).filter(e=>e.item.is("element","listItem")))t(o.previousPosition)}t(u.position.getShiftedBy(u.length))}else"remove"==u.type&&"listItem"==u.name?t(u.position):("attribute"==u.type&&"listIndent"==u.attributeKey||"attribute"==u.type&&"listType"==u.attributeKey)&&t(u.range.start);for(const i of u.values()){{a=void 0;s=void 0;var a=i;let t=0,n=null;for(;a&&a.is("element","listItem");){var s=a.getAttribute("listIndent");if(s>t){let e;e=null===n?(n=s-t,t):(n>s&&(n=s),s-n),o.setAttribute("listIndent",e,a),r=!0}else n=null,t=a.getAttribute("listIndent")+1;a=a.nextSibling}}{n=void 0;l=void 0;var n=i;let t=[],e=null;for(;n&&n.is("element","listItem");){var l=n.getAttribute("listIndent");if(e&&e.getAttribute("listIndent")>l&&(t=t.slice(0,l+1)),0!=l)if(t[l]){const e=t[l];n.getAttribute("listType")!=e&&(o.setAttribute("listType",e,n),r=!0)}else t[l]=n.getAttribute("listType");n=(e=n).nextSibling}}}return r;function t(e){const n=e.nodeBefore;if(n&&n.is("element","listItem")){let t=n;if(!u.has(t)){for(let e=t.previousSibling;e&&e.is("element","listItem");e=t.previousSibling)if(t=e,u.has(t))return;u.set(n,t)}}else{const n=e.nodeAfter;n&&n.is("element","listItem")&&u.set(n,n)}}}}),t.mapper.registerViewToModelLength("li",cf),e.mapper.registerViewToModelLength("li",cf),t.mapper.on("modelToViewPosition",rf(t.view)),t.mapper.on("viewToModelPosition",(l=d.model,(n,r)=>{const i=r.viewPosition,o=i.parent,a=r.mapper;if("ul"==o.name||"ol"==o.name){if(i.isAtEnd){const n=a.toModelElement(i.nodeBefore),o=a.getModelLength(i.nodeBefore);r.modelPosition=l.createPositionBefore(n).getShiftedBy(o)}else{const n=a.toModelElement(i.nodeAfter);r.modelPosition=l.createPositionBefore(n)}n.stop()}else if("li"==o.name&&i.nodeBefore&&("ul"==i.nodeBefore.name||"ol"==i.nodeBefore.name)){var s=a.toModelElement(o);let e=1,t=i.nodeBefore;for(;t&&sf(t);)e+=a.getModelLength(t),t=t.previousSibling;r.modelPosition=l.createPositionBefore(s).getShiftedBy(e),n.stop()}})),e.mapper.on("modelToViewPosition",rf(t.view)),d.conversion.for("editingDowncast").add(e=>{var l,s;e.on("insert",Qh,{priority:"high"}),e.on("insert:listItem",Kh(d.model)),e.on("attribute:listType:listItem",Xh,{priority:"high"}),e.on("attribute:listType:listItem",Jh,{priority:"low"}),e.on("attribute:listIndent:listItem",(s=d.model,(e,t,n)=>{if(n.consumable.consume(t.item,"attribute:listIndent")){const o=n.mapper.toViewElement(t.item),a=n.writer;a.breakContainer(a.createPositionBefore(o)),a.breakContainer(a.createPositionAfter(o));var r=o.parent,i=r.previousSibling,r=a.createRangeOn(r);a.remove(r),i&&i.nextSibling&&Uh(a,i,i.nextSibling),af(t.attributeOldValue+1,t.range.start,r.start,o,n,s),Hh(t.item,o,n,s);for(const s of t.item.getChildren())n.consumable.consume(s,"insert")}})),e.on("remove:listItem",(l=d.model,(e,t,n)=>{const r=n.mapper.toViewPosition(t.position).getLastMatchingPosition(e=>!e.item.is("element","li")).nodeAfter,i=n.writer;i.breakContainer(i.createPositionBefore(r)),i.breakContainer(i.createPositionAfter(r));var o=r.parent,a=o.previousSibling,o=i.createRangeOn(o),s=i.remove(o);a&&a.nextSibling&&Uh(i,a,a.nextSibling),af(n.mapper.toModelElement(r).getAttribute("listIndent")+1,t.position,o.start,r,n,l);for(const l of i.createRangeIn(s).getItems())n.mapper.unbindViewElement(l);e.stop()})),e.on("remove",Zh,{priority:"low"})}),d.conversion.for("dataDowncast").add(e=>{e.on("insert",Qh,{priority:"high"}),e.on("insert:listItem",Kh(d.model))}),d.conversion.for("upcast").add(e=>{e.on("element:ul",tf,{priority:"high"}),e.on("element:ol",tf,{priority:"high"}),e.on("element:li",nf,{priority:"high"}),e.on("element:li",ef)}),d.model.on("insertContent",of,{priority:"high"}),d.commands.add("numberedList",new Vh(d,"numbered")),d.commands.add("bulletedList",new Vh(d,"bulleted")),d.commands.add("indentList",new Bh(d,"forward")),d.commands.add("outdentList",new Bh(d,"backward"));var l,n=t.view.document,n=(this.listenTo(n,"enter",(e,t)=>{const n=this.editor.model.document,r=n.selection.getLastPosition().parent;n.selection.isCollapsed&&"listItem"==r.name&&r.isEmpty&&(this.editor.execute("outdentList"),t.preventDefault(),e.stop())}),this.listenTo(n,"delete",(e,t)=>{if("backward"===t.direction){const r=this.editor.model.document.selection;var n;!r.isCollapsed||!(n=r.getFirstPosition()).isAtStart||"listItem"!==(n=n.parent).name||n.previousSibling&&"listItem"===n.previousSibling.name||(this.editor.execute("outdentList"),t.preventDefault(),e.stop())}},{priority:"high"}),n=>(e,t)=>{this.editor.commands.get(n).isEnabled&&(this.editor.execute(n),t())});d.keystrokes.set("Tab",n("indentList")),d.keystrokes.set("Shift+Tab",n("outdentList"))}afterInit(){const e=this.editor.commands,t=e.get("indent"),n=e.get("outdent");t&&t.registerChildCommand(e.get("indentList")),n&&n.registerChildCommand(e.get("outdentList"))}}function cf(e){let t=1;for(const n of e.getChildren())if("ul"==n.name||"ol"==n.name)for(const e of n.getChildren())t+=cf(e);return t}class uf extends O{init(){const e=this.editor.t;Yh(this.editor,"numberedList",e("Numbered List"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 5.75c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM3.5 3v5H2V3.7H1v-1h2.5V3zM.343 17.857l2.59-3.257H2.92a.6.6 0 1 0-1.04 0H.302a2 2 0 1 1 3.995 0h-.001c-.048.405-.16.734-.333.988-.175.254-.59.692-1.244 1.312H4.3v1h-4l.043-.043zM7 14.75a.75.75 0 0 1 .75-.75h9.5a.75.75 0 1 1 0 1.5h-9.5a.75.75 0 0 1-.75-.75z"/></svg>'),Yh(this.editor,"bulletedList",e("Bulleted List"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 5.75c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zm-6 0C1 4.784 1.777 4 2.75 4c.966 0 1.75.777 1.75 1.75 0 .966-.777 1.75-1.75 1.75C1.784 7.5 1 6.723 1 5.75zm6 9c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zm-6 0c0-.966.777-1.75 1.75-1.75.966 0 1.75.777 1.75 1.75 0 .966-.777 1.75-1.75 1.75-.966 0-1.75-.777-1.75-1.75z"/></svg>')}}function df(s,l){return e=>{e.on("attribute:url:media",t)};function t(e,t,n){if(n.consumable.consume(t.item,e.name)){const r=t.attributeNewValue,i=n.writer,o=n.mapper.toViewElement(t.item),a=[...o.getChildren()].find(e=>e.getCustomProperty("media-content"));i.remove(a);e=s.getMediaViewElement(i,r,l);i.insert(i.createPositionAt(o,0),e)}}}function hf(e,t,n,r){var i=e.createContainerElement("figure",{class:"media"});return e.insert(e.createPositionAt(i,0),t.getMediaViewElement(e,n,r)),i}function ff(e){const t=e.getSelectedElement();return t&&t.is("element","media")?t:null}function pf(n,r,i){n.change(e=>{var t=e.createElement("media",{url:r});n.insertContent(t,i),e.setSelection(t,"on")})}class mf extends M{refresh(){const e=this.editor.model,t=e.document.selection,n=e.schema,r=mu(t,e),i=ff(t);let o=r.parent;o.isEmpty&&!e.schema.isLimit(o)&&(o=o.parent),this.value=i?i.getAttribute("url"):null,this.isEnabled=n.checkChild(o,"media")}execute(t){const e=this.editor.model,n=e.document.selection,r=ff(n);if(r)e.change(e=>{e.setAttribute("url",t,r)});else{const r=mu(n,e);pf(e,t,r)}}}class gf{constructor(e,t){const n=t.providers,r=t.extraProviders||[],i=new Set(t.removeProviders),o=n.concat(r).filter(e=>{var t=e.name;return t?!i.has(t):(Object(h.c)("media-embed-no-provider-name",{provider:e}),!1)});this.locale=e,this.providerDefinitions=o}hasMedia(e){return!!this._getMedia(e)}getMediaViewElement(e,t,n){return this._getMedia(t).getViewElement(e,n)}_getMedia(t){if(!t)return new vf(this.locale);t=t.trim();for(const i of this.providerDefinitions){var n=i.html;let e=i.url;for(const o of e=Array.isArray(e)?e:[e]){var r=this._getUrlMatches(t,o);if(r)return new vf(this.locale,t,r,n)}}return null}_getUrlMatches(e,t){let n=e.match(t);if(n)return n;let r=e.replace(/^https?:\/\//,"");return(n=r.match(t))||(r=r.replace(/^www\./,""),(n=r.match(t))||null)}}class vf{constructor(e,t,n,r){this.url=this._getValidUrl(t),this._t=e.t,this._match=n,this._previewRenderer=r}getViewElement(e,t){const n={};let r;if(t.renderForEditingView||t.renderMediaPreview&&this.url&&this._previewRenderer){this.url&&(n["data-oembed-url"]=this.url),t.renderForEditingView&&(n.class="ck-media__wrapper");const i=this._getPreviewHtml(t);r=e.createRawElement("div",n,function(e){e.innerHTML=i})}else this.url&&(n.url=this.url),r=e.createEmptyElement("oembed",n);return e.setCustomProperty("media-content",!0,r),r}_getPreviewHtml(e){return this._previewRenderer?this._previewRenderer(this._match):this.url&&e.renderForEditingView?this._getPlaceholderHtml():""}_getPlaceholderHtml(){const e=new ml,t=new pl;return e.text=this._t("Open media in new tab"),t.content='<svg viewBox="0 0 64 42" xmlns="http://www.w3.org/2000/svg"><path d="M47.426 17V3.713L63.102 0v19.389h-.001l.001.272c0 1.595-2.032 3.43-4.538 4.098-2.506.668-4.538-.083-4.538-1.678 0-1.594 2.032-3.43 4.538-4.098.914-.244 2.032-.565 2.888-.603V4.516L49.076 7.447v9.556A1.014 1.014 0 0 0 49 17h-1.574zM29.5 17h-8.343a7.073 7.073 0 1 0-4.657 4.06v3.781H3.3a2.803 2.803 0 0 1-2.8-2.804V8.63a2.803 2.803 0 0 1 2.8-2.805h4.082L8.58 2.768A1.994 1.994 0 0 1 10.435 1.5h8.985c.773 0 1.477.448 1.805 1.149l1.488 3.177H26.7c1.546 0 2.8 1.256 2.8 2.805V17zm-11.637 0H17.5a1 1 0 0 0-1 1v.05A4.244 4.244 0 1 1 17.863 17zm29.684 2c.97 0 .953-.048.953.889v20.743c0 .953.016.905-.953.905H19.453c-.97 0-.953.048-.953-.905V19.89c0-.937-.016-.889.97-.889h28.077zm-4.701 19.338V22.183H24.154v16.155h18.692zM20.6 21.375v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616V37.53H20.6zm24.233-16.155v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615V37.53h-1.615zM29.485 25.283a.4.4 0 0 1 .593-.35l9.05 4.977a.4.4 0 0 1 0 .701l-9.05 4.978a.4.4 0 0 1-.593-.35v-9.956z"/></svg>',t.viewBox="0 0 64 42",new Ps({tag:"div",attributes:{class:"ck ck-reset_all ck-media__placeholder"},children:[{tag:"div",attributes:{class:"ck-media__placeholder__icon"},children:[t]},{tag:"a",attributes:{class:"ck-media__placeholder__url",target:"_blank",rel:"noopener noreferrer",href:this.url},children:[{tag:"span",attributes:{class:"ck-media__placeholder__url__text"},children:[this.url]},e]}]}).render().outerHTML}_getValidUrl(e){return e?e.match(/^https?/)?e:"https://"+e:null}}t(82);class bf extends O{static get pluginName(){return"MediaEmbedEditing"}constructor(e){super(e),e.config.define("mediaEmbed",{providers:[{name:"dailymotion",url:/^dailymotion\.com\/video\/(\w+)/,html:e=>`<div style="position: relative; padding-bottom: 100%; height: 0; "><iframe src="https://www.dailymotion.com/embed/video/${e[1]}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" width="480" height="270" allowfullscreen allow="autoplay"></iframe></div>`},{name:"spotify",url:[/^open\.spotify\.com\/(artist\/\w+)/,/^open\.spotify\.com\/(album\/\w+)/,/^open\.spotify\.com\/(track\/\w+)/],html:e=>`<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 126%;"><iframe src="https://open.spotify.com/embed/${e[1]}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" allowtransparency="true" allow="encrypted-media"></iframe></div>`},{name:"youtube",url:[/^(?:m\.)?youtube\.com\/watch\?v=([\w-]+)/,/^(?:m\.)?youtube\.com\/v\/([\w-]+)/,/^youtube\.com\/embed\/([\w-]+)/,/^youtu\.be\/([\w-]+)/],html:e=>`<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 56.2493%;"><iframe src="https://www.youtube.com/embed/${e[1]}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div>`},{name:"vimeo",url:[/^vimeo\.com\/(\d+)/,/^vimeo\.com\/[^/]+\/[^/]+\/video\/(\d+)/,/^vimeo\.com\/album\/[^/]+\/video\/(\d+)/,/^vimeo\.com\/channels\/[^/]+\/(\d+)/,/^vimeo\.com\/groups\/[^/]+\/videos\/(\d+)/,/^vimeo\.com\/ondemand\/[^/]+\/(\d+)/,/^player\.vimeo\.com\/video\/(\d+)/],html:e=>`<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 56.2493%;"><iframe src="https://player.vimeo.com/video/${e[1]}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe></div>`},{name:"instagram",url:/^instagram\.com\/p\/(\w+)/},{name:"twitter",url:/^twitter\.com/},{name:"googleMaps",url:/^google\.com\/maps/},{name:"flickr",url:/^flickr\.com/},{name:"facebook",url:/^facebook\.com/}]}),this.registry=new gf(e.locale,e.config.get("mediaEmbed"))}init(){const e=this.editor,t=e.model.schema,r=e.t,n=e.conversion,i=e.config.get("mediaEmbed.previewsInData"),o=this.registry;e.commands.add("mediaEmbed",new mf(e)),t.register("media",{isObject:!0,isBlock:!0,allowWhere:"$block",allowAttributes:["url"]}),n.for("dataDowncast").elementToElement({model:"media",view:(e,{writer:t})=>{e=e.getAttribute("url");return hf(t,o,e,{renderMediaPreview:e&&i})}}),n.for("dataDowncast").add(df(o,{renderMediaPreview:i})),n.for("editingDowncast").elementToElement({model:"media",view:(e,{writer:t})=>{var n,e=e.getAttribute("url");return e=hf(t,o,e,{renderForEditingView:!0}),t=t,n=r("media widget"),t.setCustomProperty("media",!0,e),hu(e,t,{label:n})}}),n.for("editingDowncast").add(df(o,{renderForEditingView:!0})),n.for("upcast").elementToElement({view:{name:"oembed",attributes:{url:!0}},model:(e,{writer:t})=>{e=e.getAttribute("url");if(o.hasMedia(e))return t.createElement("media",{url:e})}}).elementToElement({view:{name:"div",attributes:{"data-oembed-url":!0}},model:(e,{writer:t})=>{e=e.getAttribute("data-oembed-url");if(o.hasMedia(e))return t.createElement("media",{url:e})}})}}const yf=/^(?:http(s)?:\/\/)?[\w.-]+(?:\.[\w.-]+)+[\w\-._~:/?#[\]@!$&'()*+,;=%]+$/;class wf extends O{static get requires(){return[Nl,Ac]}static get pluginName(){return"AutoMediaEmbed"}constructor(e){super(e),this._timeoutId=null,this._positionToInsert=null}init(){const e=this.editor,r=e.model.document;this.listenTo(e.plugins.get(Nl),"inputTransformation",()=>{const e=r.selection.getFirstRange(),t=os.fromPosition(e.start),n=(t.stickiness="toPrevious",os.fromPosition(e.end));n.stickiness="toNext",r.once("change:data",()=>{this._embedMediaBetweenPositions(t,n),t.detach(),n.detach()},{priority:"high"})}),e.commands.get("undo").on("execute",()=>{this._timeoutId&&(u.window.clearTimeout(this._timeoutId),this._positionToInsert.detach(),this._timeoutId=null,this._positionToInsert=null)},{priority:"high"})}_embedMediaBetweenPositions(e,t){const n=this.editor,r=n.plugins.get(bf).registry,i=new Ho(e,t),o=i.getWalker({ignoreElementEnd:!0});let a="";for(const e of o)e.item.is("$textProxy")&&(a+=e.item.data);(a=a.trim()).match(yf)&&r.hasMedia(a)&&n.commands.get("mediaEmbed").isEnabled?(this._positionToInsert=os.fromPosition(e),this._timeoutId=u.window.setTimeout(()=>{n.model.change(e=>{let t;this._timeoutId=null,e.remove(i),i.detach(),"$graveyard"!==this._positionToInsert.root.rootName&&(t=this._positionToInsert),pf(n.model,a,t),this._positionToInsert.detach(),this._positionToInsert=null})},100)):i.detach()}}t(84);class _f extends ${constructor(e,t){super(t);const n=t.t;this.focusTracker=new Cs,this.keystrokes=new vs,this.set("mediaURLInputValue",""),this.urlInputView=this._createUrlInput(),this.saveButtonView=this._createButton(n("Save"),Td,"ck-button-save"),this.saveButtonView.type="submit",this.saveButtonView.bind("isEnabled").to(this,"mediaURLInputValue",e=>!!e),this.cancelButtonView=this._createButton(n("Cancel"),$d,"ck-button-cancel","cancel"),this._focusables=new Ms,this._focusCycler=new il({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this._validators=e,this.setTemplate({tag:"form",attributes:{class:["ck","ck-media-form","ck-responsive-form"],tabindex:"-1"},children:[this.urlInputView,this.saveButtonView,this.cancelButtonView]})}render(){super.render(),Sd({view:this}),[this.urlInputView,this.saveButtonView,this.cancelButtonView].forEach(e=>{this._focusables.add(e),this.focusTracker.add(e.element)}),this.keystrokes.listenTo(this.element);var e=e=>e.stopPropagation();this.keystrokes.set("arrowright",e),this.keystrokes.set("arrowleft",e),this.keystrokes.set("arrowup",e),this.keystrokes.set("arrowdown",e),this.listenTo(this.urlInputView.element,"selectstart",(e,t)=>{t.stopPropagation()},{priority:"high"})}focus(){this._focusCycler.focusFirst()}get url(){return this.urlInputView.fieldView.element.value.trim()}set url(e){this.urlInputView.fieldView.element.value=e.trim()}isValid(){this.resetFormStatus();for(const t of this._validators){var e=t(this);if(e)return this.urlInputView.errorText=e,!1}return!0}resetFormStatus(){this.urlInputView.errorText=null,this.urlInputView.infoText=this._urlInputViewInfoDefault}_createUrlInput(){const e=this.locale.t,t=new kd(this.locale,Cd),n=t.fieldView;return this._urlInputViewInfoDefault=e("Paste the media URL in the input."),this._urlInputViewInfoTip=e("Tip: Paste the URL into the content to embed faster."),t.label=e("Media URL"),t.infoText=this._urlInputViewInfoDefault,n.placeholder="https://example.com",n.on("input",()=>{t.infoText=n.element.value?this._urlInputViewInfoTip:this._urlInputViewInfoDefault,this.mediaURLInputValue=n.element.value.trim()}),t}_createButton(e,t,n,r){const i=new A(this.locale);return i.set({label:e,icon:t,tooltip:!0}),i.extendTemplate({attributes:{class:n}}),r&&i.delegate("execute").to(this,r),i}}class kf extends O{static get requires(){return[bf]}static get pluginName(){return"MediaEmbedUI"}init(){const i=this.editor,o=i.commands.get("mediaEmbed"),a=i.plugins.get(bf).registry;i.ui.componentFactory.add("mediaEmbed",e=>{var t,n,e=xl(e),r=new _f((t=i.t,n=a,[e=>{if(!e.url.length)return t("The URL must not be empty.")},e=>{if(!n.hasMedia(e.url))return t("This media URL is not supported.")}]),i.locale);return this._setUpDropdown(e,r,o,i),this._setUpForm(e,r,o),e})}_setUpDropdown(e,t,n){const r=this.editor,i=r.t,o=e.buttonView;function a(){r.editing.view.focus(),e.isOpen=!1}e.bind("isEnabled").to(n),e.panelView.children.add(t),o.set({label:i("Insert media"),icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M18.68 3.03c.6 0 .59-.03.59.55v12.84c0 .59.01.56-.59.56H1.29c-.6 0-.59.03-.59-.56V3.58c0-.58-.01-.55.6-.55h17.38zM15.77 15V5H4.2v10h11.57zM2 4v1h1V4H2zm0 2v1h1V6H2zm0 2v1h1V8H2zm0 2v1h1v-1H2zm0 2v1h1v-1H2zm0 2v1h1v-1H2zM17 4v1h1V4h-1zm0 2v1h1V6h-1zm0 2v1h1V8h-1zm0 2v1h1v-1h-1zm0 2v1h1v-1h-1zm0 2v1h1v-1h-1zM7.5 7.177a.4.4 0 0 1 .593-.351l5.133 2.824a.4.4 0 0 1 0 .7l-5.133 2.824a.4.4 0 0 1-.593-.35V7.176v.001z"/></svg>',tooltip:!0}),o.on("open",()=>{t.url=n.value||"",t.urlInputView.fieldView.select(),t.focus()},{priority:"low"}),e.on("submit",()=>{t.isValid()&&(r.execute("mediaEmbed",t.url),a())}),e.on("change:isOpen",()=>t.resetFormStatus()),e.on("cancel",()=>a())}_setUpForm(e,t,n){t.delegate("submit","cancel").to(e),t.urlInputView.bind("value").to(n,"value"),t.urlInputView.bind("isReadOnly").to(n,"isEnabled",e=>!e)}}function xf(e,o){if(e.childCount){const a=new Yd(e.document),s=function(e,t){const n=t.createRangeIn(e),r=new mn({name:/^p|h\d+$/,styles:{"mso-list":/.*/}}),i=[];for(const e of n)if("elementStart"===e.type&&r.match(e.item)){const t=function(e){const t={},n=e.getStyle("mso-list");if(n){const e=n.match(/(^|\s+)l(\d+)/i),r=n.match(/\s*lfo(\d+)/i),i=n.match(/\s*level(\d+)/i);e&&r&&i&&(t.id=e[2],t.order=r[1],t.indent=i[1])}return t}(e.item);i.push({element:e.item,id:t.id,order:t.order,indent:t.indent})}return i}(e,a);if(s.length){let r=null,i=1;s.forEach((e,t)=>{var n=!(n=s[t-1])||(n.id!==e.id||(!(n=e.element.previousSibling)||!((n=n).is("element","ol")||n.is("element","ul")))),t=n?null:s[t-1],t=t?e.indent-t.indent:e.indent-1;if(n&&(r=null,i=1),!r||0!=t){const s=function(e,t){const n=new RegExp(`@list l${e.id}:level${e.indent}\\s*({[^}]*)`,"gi"),r=n.exec(t);let i="decimal";if(r&&r[1]){const e=/mso-level-number-format:([^;]*);/gi.exec(r[1]);e&&e[1]&&(i=e[1].trim())}return{type:"bullet"!==i&&"image"!==i?"ol":"ul",style:i}}(e,o);if(r){if(e.indent>i){const e=r.getChild(r.childCount-1),o=e.getChild(e.childCount-1);r=Cf(s,o,a),i+=1}else if(e.indent<i){const o=i-e.indent;r=function(e,t){var n=e.getAncestors({parentFirst:!0});let r=null,i=0;for(const e of n)if("ul"!==e.name&&"ol"!==e.name||i++,i===t){r=e;break}return r}(r,o),i=parseInt(e.indent)}}else r=Cf(s,e.element,a);e.indent<=i&&(r.is("element",s.type)||(r=a.rename(s.type,r)))}n=function(e,t){{var n=e,r=t;const i=new mn({name:"span",styles:{"mso-list":"Ignore"}}),o=r.createRangeIn(n);for(const n of o)"elementStart"===n.type&&i.match(n.item)&&r.remove(n.item)}return t.rename("li",e)}(e.element,a);a.appendChild(n,r)})}}}function Cf(e,t,n){const r=t.parent,i=n.createElement(e.type),o=r.getChildIndex(t)+1;return n.insertChild(o,i,r),i}t(86);const Sf=/id=("|')docs-internal-guid-[-0-9a-f]+("|')/i;class Tf{constructor(e){this.document=e}isActive(e){return Sf.test(e)}execute(e){var t,n=new Yd(this.document),r=e.content,i=n;for(const s of r.getChildren())s.is("element","b")&&"normal"===s.getStyle("font-weight")&&(t=r.getChildIndex(s),i.remove(s),i.insertChild(t,s.getChildren(),r));var o=e.content,a=n;for(const l of a.createRangeIn(o)){const o=l.item;if(o.is("element","li")){const c=o.getChild(0);c&&c.is("element","p")&&a.unwrapElement(c)}}}}function $f(e){return e.replace(/<span(?: class="Apple-converted-space"|)>(\s+)<\/span>/g,(e,t)=>1===t.length?" ":Array(t.length+1).join(" ").substr(0,t.length))}const Ef=/<meta\s*name="?generator"?\s*content="?microsoft\s*word\s*\d+"?\/?>/i,Af=/xmlns:o="urn:schemas-microsoft-com/i;class Of{constructor(e){this.document=e}isActive(e){return Ef.test(e)||Af.test(e)}execute(e){var{body:t,stylesString:n}=function(e,t){const n=new DOMParser,r=$f($f(function(e){const t=e.match(/<\/body>(.*?)(<\/html>|$)/);t&&t[1]&&(e=e.slice(0,t.index)+e.slice(t.index).replace(t[1],""));return e}(e=e.replace(/<!--\[if gte vml 1]>/g,"")))).replace(/(<span\s+style=['"]mso-spacerun:yes['"]>[\s]*?)[\r\n]+(\s*<\/span>)/g,"$1$2").replace(/<span\s+style=['"]mso-spacerun:yes['"]><\/span>/g,"").replace(/ <\//g,"</").replace(/ <o:p><\/o:p>/g,"<o:p></o:p>").replace(/<o:p>(&nbsp;|\u00A0)<\/o:p>/g,"").replace(/>(\s*[\r\n]\s*)</g,"><"),i=n.parseFromString(r,"text/html");i.querySelectorAll("span[style*=spacerun]").forEach(e=>{var t=e.innerText.length||0;e.innerHTML=Array(t+1).join(" ").substr(0,t)});var e=i.body.innerHTML,t=function(e,t){const n=new Tr(t),r=new Ti(n,{blockFillerMode:"nbsp"}),i=e.createDocumentFragment(),o=e.body.childNodes;for(;0<o.length;)i.appendChild(o[0]);return r.domToView(i)}(i,t),o=function(e){const t=[],n=[],r=Array.from(e.getElementsByTagName("style"));for(const e of r)e.sheet&&e.sheet.cssRules&&e.sheet.cssRules.length&&(t.push(e.sheet),n.push(e.innerHTML));return{styles:t,stylesString:n.join(" ")}}(i);return{body:t,bodyString:e,styles:o.styles,stylesString:o.stylesString}}(e.dataTransfer.getData("text/html"),this.document.stylesProcessor),n=(xf(t,n),t),r=e.dataTransfer.getData("text/rtf");if(n.childCount){var i=new Yd;{var o=function(e,t){const n=t.createRangeIn(e),r=new mn({name:/v:(.+)/}),i=[];for(const e of n){const t=e.item,n=t.previousSibling&&t.previousSibling.name||null;r.match(t)&&t.getAttribute("o:gfxdata")&&"v:shapetype"!==n&&i.push(e.item.getAttribute("id"))}return i}(n,i);var a=n;var s=i;const p=s.createRangeIn(a),m=new mn({name:"img"}),g=[];for(const a of p)if(m.match(a.item)){const s=a.item,p=s.getAttribute("v:shapes")?s.getAttribute("v:shapes").split(" "):[];(p.length&&p.every(e=>-1<o.indexOf(e))||!s.getAttribute("src"))&&g.push(s)}for(const o of g)s.remove(o)}{var l=n;var c=i;const v=c.createRangeIn(l),b=new mn({name:/v:(.+)/}),y=[];for(const l of v)b.match(l.item)&&y.push(l.item);for(const l of y)c.remove(l)}var u,a=function(e){const t=i.createRangeIn(e),n=new mn({name:"img"}),r=[];for(const e of t)n.match(e.item)&&e.item.getAttribute("src").startsWith("file://")&&r.push(e.item);return r}(n);if(a.length){var d=a,h=function(t){if(!t)return[];const n=/{\\pict[\s\S]+?\\bliptag-?\d+(\\blipupi-?\d+)?({\\\*\\blipuid\s?[\da-fA-F]+)?[\s}]*?/,e=new RegExp("(?:("+n.source+"))([\\da-fA-F\\s]+)\\}","g"),r=t.match(e),i=[];if(r)for(const t of r){let e=!1;t.includes("\\pngblip")?e="image/png":t.includes("\\jpegblip")&&(e="image/jpeg"),e&&i.push({hex:t.replace(n,"").replace(/[^\da-fA-F]/g,""),type:e})}return i}(r),f=i;if(d.length===h.length)for(let e=0;e<d.length;e++){u=`data:${h[e].type};base64,`+(u=h[e].hex,btoa(u.match(/\w{2}/g).map(e=>String.fromCharCode(parseInt(e,16))).join("")));f.setAttribute("src",u,d[e])}}}e.content=t}}function R(e,t,n,r,i=1){i<t?r.setAttribute(e,t,n):r.removeAttribute(e,n)}function Mf(e,t,n={}){n=e.createElement("tableCell",n);return e.insertElement("paragraph",n),e.insert(n,t),n}function Pf(e,t){const n=t.parent.parent,r=parseInt(n.getAttribute("headingColumns")||0),i=e.getCellLocation(t)["column"];return!!r&&i<r}function Df(){return e=>{e.on("element:table",(e,t,n)=>{var r=t.viewItem;if(n.consumable.test(r,{name:!0})){const{rows:i,headingRows:o,headingColumns:a}=function(e){const t={headingRows:0,headingColumns:0},n=[],r=[];let i;for(const o of Array.from(e.getChildren()))if("tbody"===o.name||"thead"===o.name||"tfoot"===o.name){"thead"!==o.name||i||(i=o);const e=Array.from(o.getChildren()).filter(e=>e.is("element","tr"));for(const a of e)if("thead"===a.parent.name&&a.parent===i)t.headingRows++,n.push(a);else{r.push(a);const e=function(e){let t=0,n=0;var r=Array.from(e.getChildren()).filter(e=>"th"===e.name||"td"===e.name);for(;n<r.length&&"th"===r[n].name;){const e=r[n];t+=parseInt(e.getAttribute("colspan")||1),n++}return t}(a);e>t.headingColumns&&(t.headingColumns=e)}}return t.rows=[...n,...r],t}(r),s={},l=(a&&(s.headingColumns=a),o&&(s.headingRows=o),n.writer.createElement("table",s));if(n.safeInsert(l,t.modelCursor)){if(n.consumable.consume(r,{name:!0}),i.forEach(e=>n.convertItem(e,n.writer.createPositionAt(l,"end"))),l.isEmpty){const e=n.writer.createElement("tableRow");n.writer.insert(e,n.writer.createPositionAt(l,"end")),Mf(n.writer,n.writer.createPositionAt(e,"end"))}n.updateConversionResult(l,t)}}})}}class I{constructor(e,t={}){this._table=e,this._startRow=void 0!==t.row?t.row:t.startRow||0,this._endRow=void 0!==t.row?t.row:t.endRow,this._startColumn=void 0!==t.column?t.column:t.startColumn||0,this._endColumn=void 0!==t.column?t.column:t.endColumn,this._includeAllSlots=!!t.includeAllSlots,this._skipRows=new Set,this._row=0,this._column=0,this._cellIndex=0,this._spannedCells=new Map,this._nextCellAtColumn=-1}[Symbol.iterator](){return this}next(){const e=this._table.getChild(this._row);if(!e||this._isOverEndRow())return{done:!0};if(this._isOverEndColumn())return this._advanceToNextRow();let t=null;const n=this._getSpanned();if(n)this._includeAllSlots&&!this._shouldSkipSlot()&&(t=this._formatOutValue(n.cell,n.row,n.column));else{const n=e.getChild(this._cellIndex);if(!n)return this._advanceToNextRow();var r=parseInt(n.getAttribute("colspan")||1),i=parseInt(n.getAttribute("rowspan")||1);(1<r||1<i)&&this._recordSpans(n,i,r),this._shouldSkipSlot()||(t=this._formatOutValue(n)),this._nextCellAtColumn=this._column+r}return this._column++,this._column==this._nextCellAtColumn&&this._cellIndex++,t||this.next()}skipRow(e){this._skipRows.add(e)}_advanceToNextRow(){return this._row++,this._column=0,this._cellIndex=0,this._nextCellAtColumn=-1,this.next()}_isOverEndRow(){return void 0!==this._endRow&&this._row>this._endRow}_isOverEndColumn(){return void 0!==this._endColumn&&this._column>this._endColumn}_formatOutValue(e,t=this._row,n=this._column){return{done:!1,value:new Rf(this,e,t,n)}}_shouldSkipSlot(){var e=this._skipRows.has(this._row),t=this._row<this._startRow,n=this._column<this._startColumn,r=void 0!==this._endColumn&&this._column>this._endColumn;return e||t||n||r}_getSpanned(){const e=this._spannedCells.get(this._row);return e&&e.get(this._column)||null}_recordSpans(e,n,r){var i={cell:e,row:this._row,column:this._column};for(let t=this._row;t<this._row+n;t++)for(let e=this._column;e<this._column+r;e++)t==this._row&&e==this._column||this._markSpannedCell(t,e,i)}_markSpannedCell(e,t,n){this._spannedCells.has(e)||this._spannedCells.set(e,new Map),this._spannedCells.get(e).set(t,n)}}class Rf{constructor(e,t,n,r){this.cell=t,this.row=e._row,this.column=e._column,this.cellAnchorRow=n,this.cellAnchorColumn=r,this._cellIndex=e._cellIndex,this._table=e._table}get isAnchor(){return this.row===this.cellAnchorRow&&this.column===this.cellAnchorColumn}get cellWidth(){return parseInt(this.cell.getAttribute("colspan")||1)}get cellHeight(){return parseInt(this.cell.getAttribute("rowspan")||1)}getPositionBefore(){return this._table.root.document.model.createPositionAt(this._table.getChild(this.row),this._cellIndex)}}function If(f={}){return e=>e.on("insert:table",(t,n,r)=>{const i=n.item;if(r.consumable.consume(i,"insert")){r.consumable.consume(i,"attribute:headingRows:table"),r.consumable.consume(i,"attribute:headingColumns:table");const s=f&&f.asWidget,l=r.writer.createContainerElement("figure",{class:"table"}),c=r.writer.createContainerElement("table");let e;var o;r.writer.insert(r.writer.createPositionAt(l,0),c),s&&(a=l,(o=r.writer).setCustomProperty("table",!0,a),e=hu(a,o,{hasSelectionHandle:!0}));const u=new I(i),d={headingRows:i.getAttribute("headingRows")||0,headingColumns:i.getAttribute("headingColumns")||0},h=new Map;for(const t of u){const{row:n,cell:s}=t,l=i.getChild(n),e=h.get(n)||Vf(c,l,n,d,r);h.set(n,e),r.consumable.consume(s,"insert"),Lf(t,d,r.writer.createPositionAt(e,"end"),r,f)}for(const f of i.getChildren()){const t=f.index;h.has(t)||h.set(t,Vf(c,f,t,d,r))}var a=r.mapper.toViewPosition(n.range.start);r.mapper.bindElements(i,s?e:l),r.writer.insert(a,s?e:l)}})}function Nf(e,t){const n=t["writer"];if(e.parent.is("element","tableCell"))return jf(e)?n.createContainerElement("span",{style:"display:inline-block"}):n.createContainerElement("p")}function jf(e){return 1===e.parent.childCount&&!Hf(e)}function Lf(e,t,n,r,i){i=i&&i.asWidget,t=Ff(e,t),t=i?pu(r.writer.createEditableElement(t),r.writer):r.writer.createContainerElement(t);i&&fu(t,r.writer,(e,t,n)=>n.addClass(Uf(t.classes),e),(e,t,n)=>n.removeClass(Uf(t.classes),e));const o=e.cell,a=o.getChild(0),s=1===o.childCount&&"paragraph"===a.name;if(r.writer.insert(n,t),r.mapper.bindElements(o,t),!i&&!Hf(a)&&s){const e=o.getChild(0);r.consumable.consume(e,"insert"),r.mapper.bindElements(e,t)}}function Vf(e,t,n,r,i){i.consumable.consume(t,"insert");var o,a=t.isEmpty?i.writer.createEmptyElement("tr"):i.writer.createContainerElement("tr"),t=(i.mapper.bindElements(t,a),r.headingRows),r=(r=n<r.headingRows?"thead":"tbody",s=i,zf(r,e=e)||(r=r,e=e,o=(s=s).writer.createContainerElement(r),e=s.writer.createPositionAt(e,"tbody"==r?"end":0),s.writer.insert(e,o),o)),s=i.writer.createPositionAt(r,0<t&&t<=n?n-t:n);return i.writer.insert(s,a),a}function Ff(e,t){var{row:e,column:n}=e,{headingColumns:t,headingRows:r}=t;return r&&e<r||t&&n<t?"th":"td"}function zf(e,t){for(const n of t.getChildren())if(n.name==e)return n}function Bf(e,t,n){e=zf(e,t);e&&0===e.childCount&&n.writer.remove(n.writer.createRangeOn(e))}function Hf(e){return[...e.getAttributeKeys()].length}function Uf(e){return Array.isArray(e)?e:[e]}class Wf extends M{refresh(){const e=this.editor.model,t=e.document.selection,n=e.schema,r=(i=t.getFirstPosition().parent)===i.root?i:i.parent;var i;this.isEnabled=n.checkChild(r,"table")}execute(n={}){const r=this.editor.model,e=r.document.selection,i=this.editor.plugins.get("TableUtils"),o=mu(e,r);r.change(e=>{const t=i.createTable(e,n);r.insertContent(t,o),e.setSelection(e.createPositionAt(t.getNodeByPath([0,0,0]),0))})}}function qf(e){const t=[];for(const n of Qf(e.getRanges())){const e=n.getContainedElement();e&&e.is("element","tableCell")&&t.push(e)}return t}function Yf(e){const t=[];for(const n of e.getRanges()){const e=n.start.findAncestor("tableCell");e&&t.push(e)}return t}function Gf(e){var t=qf(e);return t.length?t:Yf(e)}function Kf(e){return Zf(e.map(e=>e.parent.index))}function Xf(t){var e=t[0].findAncestor("table");return Zf([...new I(e)].filter(e=>t.includes(e.cell)).map(e=>e.column))}function Jf(e,t){if(e.length<2||!function(e){const t=e[0].findAncestor("table"),n=Kf(e),r=parseInt(t.getAttribute("headingRows")||0);var i;if(tp(n,r))return i=parseInt(t.getAttribute("headingColumns")||0),tp(Xf(e),i)}(e))return!1;const n=new Set,r=new Set;let i=0;for(const o of e){const{row:e,column:a}=t.getCellLocation(o),s=parseInt(o.getAttribute("rowspan")||1),l=parseInt(o.getAttribute("colspan")||1);n.add(e),r.add(a),1<s&&n.add(e+s-1),1<l&&r.add(a+l-1),i+=s*l}return function(e,t){e=Array.from(e.values()),t=Array.from(t.values());return(Math.max(...e)-Math.min(...e)+1)*(Math.max(...t)-Math.min(...t)+1)}(n,r)==i}function Qf(e){return Array.from(e).sort(ep)}function Zf(e){e=e.sort((e,t)=>e-t);return{first:e[0],last:e[e.length-1]}}function ep(e,t){const n=e.start,r=t.start;return n.isBefore(r)?-1:1}function tp({first:e,last:t},n){return e<n==t<n}class np extends M{constructor(e,t={}){super(e),this.order=t.order||"below"}refresh(){var e=this.editor.model.document.selection.getFirstPosition().findAncestor("table");this.isEnabled=!!e}execute(){const e=this.editor,t=e.model.document.selection,n=e.plugins.get("TableUtils"),r="above"===this.order,i=Gf(t),o=Kf(i),a=r?o.first:o.last,s=i[0].findAncestor("table");n.insertRows(s,{at:r?a:a+1,copyStructureFromAbove:!r})}}class rp extends M{constructor(e,t={}){super(e),this.order=t.order||"right"}refresh(){var e=this.editor.model.document.selection.getFirstPosition().findAncestor("table");this.isEnabled=!!e}execute(){const e=this.editor,t=e.model.document.selection,n=e.plugins.get("TableUtils"),r="left"===this.order,i=Gf(t),o=Xf(i),a=r?o.first:o.last,s=i[0].findAncestor("table");n.insertColumns(s,{columns:1,at:r?a:a+1})}}class ip extends M{constructor(e,t={}){super(e),this.direction=t.direction||"horizontally"}refresh(){var e=Gf(this.editor.model.document.selection);this.isEnabled=1===e.length}execute(){const e=Gf(this.editor.model.document.selection)[0],t="horizontally"===this.direction,n=this.editor.plugins.get("TableUtils");t?n.splitCellHorizontally(e,2):n.splitCellVertically(e,2)}}function op(e,t,n){const{startRow:r,startColumn:i,endRow:o,endColumn:a}=t,s=n.createElement("table"),l=o-r+1;for(let e=0;e<l;e++)n.insertElement("tableRow",s,"end");const c=[...new I(e,{startRow:r,endRow:o,startColumn:i,endColumn:a,includeAllSlots:!0})];for(const{row:e,column:t,cell:l,isAnchor:p,cellAnchorRow:m,cellAnchorColumn:g}of c){const c=e-r,v=s.getChild(c);if(p){const r=n.cloneElement(l);n.append(r,v),up(r,e,t,o,a,n)}else(m<r||g<i)&&Mf(n,n.createPositionAt(v,"end"))}return t=s,e=e,u=r,d=i,h=n,0<(f=parseInt(e.getAttribute("headingRows")||0))&&R("headingRows",f-u,t,h,0),0<(f=parseInt(e.getAttribute("headingColumns")||0))&&R("headingColumns",f-d,t,h,0),s;var u,d,h,f}function ap(e,t,n=0){const r=[],i=new I(e,{startRow:n,endRow:t-1});for(const e of i){const{row:n,cellHeight:i}=e,o=n+i-1;n<t&&t<=o&&r.push(e)}return r}function sp(e,t,n){const r=e.parent,i=r.parent,o=r.index,a=t-o,s={},l=parseInt(e.getAttribute("rowspan"))-a;1<l&&(s.rowspan=l);var t=parseInt(e.getAttribute("colspan")||1),c=(1<t&&(s.colspan=t),o+a);let u,d=null;for(const t of[...new I(i,{startRow:o,endRow:c,includeAllSlots:!0})]){const{row:r,column:i,cell:o}=t;void 0!==(u=o===e&&void 0===u?i:u)&&u===i&&r===c&&(d=Mf(n,t.getPositionBefore(),s))}return R("rowspan",a,e,n),d}function lp(e,t){const n=[],r=new I(e);for(const e of r){const{column:r,cellWidth:i}=e,o=r+i-1;r<t&&t<=o&&n.push(e)}return n}function cp(e,t,n,r){const i=n-t,o={},a=parseInt(e.getAttribute("colspan"))-i;1<a&&(o.colspan=a);n=parseInt(e.getAttribute("rowspan")||1),1<n&&(o.rowspan=n),t=Mf(r,r.createPositionAfter(e),o);return R("colspan",i,e,r),t}function up(e,t,n,r,i,o){var a=parseInt(e.getAttribute("colspan")||1),s=parseInt(e.getAttribute("rowspan")||1);i<n+a-1&&R("colspan",i-n+1,e,o,1),r<t+s-1&&R("rowspan",r-t+1,e,o,1)}function dp(e,t){const n=t.getColumns(e),r=new Array(n).fill(0);for(const{column:t}of new I(e))r[t]++;var i=r.reduce((e,t,n)=>t?e:[...e,n],[]);if(0<i.length){const n=i[i.length-1];return t.removeColumns(e,{at:n}),1}}function hp(t,e){const n=[];for(let e=0;e<t.childCount;e++)t.getChild(e).isEmpty&&n.push(e);var r;if(0<n.length)return r=n[n.length-1],e.removeRows(t,{at:r}),1}function fp(e,t){dp(e,t)||hp(e,t)}function pp(e,t){const n=Array.from(new I(e,{startColumn:t.firstColumn,endColumn:t.lastColumn,row:t.lastRow}));return n.every(({cellHeight:e})=>1===e)?t.lastRow:(e=n[0].cellHeight-1,t.lastRow+e)}function mp(e,t){const n=Array.from(new I(e,{startRow:t.firstRow,endRow:t.lastRow,column:t.lastColumn}));return n.every(({cellWidth:e})=>1===e)?t.lastColumn:(e=n[0].cellWidth-1,t.lastColumn+e)}class gp extends M{constructor(e,t){super(e),this.direction=t.direction,this.isHorizontal="right"==this.direction||"left"==this.direction}refresh(){var e=this._getMergeableCell();this.value=e,this.isEnabled=!!e}execute(){const e=this.editor.model,l=Yf(e.document.selection)[0],c=this.value,u=this.direction;e.change(e=>{const t="right"==u||"down"==u,n=t?l:c,r=t?c:l,i=r.parent;o=n,a=e,vp(s=r)||(vp(o)&&a.remove(a.createRangeIn(o)),a.move(a.createRangeIn(s),a.createPositionAt(o,"end"))),a.remove(s);var o=this.isHorizontal?"colspan":"rowspan",a=parseInt(l.getAttribute(o)||1),s=parseInt(c.getAttribute(o)||1),o=(e.setAttribute(o,a+s,n),e.setSelection(e.createRangeIn(n)),this.editor.plugins.get("TableUtils"));fp(i.findAncestor("table"),o)})}_getMergeableCell(){const e=Yf(this.editor.model.document.selection)[0];if(e){const r=this.editor.plugins.get("TableUtils"),i=this.isHorizontal?function(e,t,n){const r=e.parent.parent,i="right"==t?e.nextSibling:e.previousSibling,o=0<(r.getAttribute("headingColumns")||0);if(i){const a="right"==t?e:i,s="right"==t?i:e,l=n.getCellLocation(a)["column"],c=n.getCellLocation(s)["column"],u=parseInt(a.getAttribute("colspan")||1),d=Pf(n,a),h=Pf(n,s);return o&&d!=h?void 0:l+u===c?i:void 0}}(e,this.direction,r):function(t,r){const e=t.parent,n=e.parent,i=n.getChildIndex(e);if(!("down"==r&&i===n.childCount-1||"up"==r&&0===i)){var o=parseInt(t.getAttribute("rowspan")||1),a=n.getAttribute("headingRows")||0,o="down"==r&&i+o===a,s="up"==r&&i===a;if(!a||!o&&!s){const l=parseInt(t.getAttribute("rowspan")||1),c="down"==r?i+l:i,u=[...new I(n,{endRow:c})],d=u.find(e=>e.cell===t).column,h=u.find(({row:e,cellHeight:t,column:n})=>n===d&&("down"==r?e===c:c===e+t));return h&&h.cell}}}(e,this.direction);var t,n;if(i)return t=this.isHorizontal?"rowspan":"colspan",n=parseInt(e.getAttribute(t)||1),parseInt(i.getAttribute(t)||1)===n?i:void 0}}}function vp(e){return 1==e.childCount&&e.getChild(0).is("element","paragraph")&&e.getChild(0).isEmpty}class bp extends M{refresh(){const e=Gf(this.editor.model.document.selection),t=e[0];var n,r;t?(n=t.findAncestor("table"),n=this.editor.plugins.get("TableUtils").getRows(n)-1,r=0===(r=Kf(e)).first&&r.last===n,this.isEnabled=!r):this.isEnabled=!1}execute(){const e=this.editor.model,t=Gf(e.document.selection),n=Kf(t),r=t[0],i=r.findAncestor("table"),o=this.editor.plugins.get("TableUtils").getCellLocation(r).column;e.change(e=>{var t=n.last-n.first+1,t=(this.editor.plugins.get("TableUtils").removeRows(i,{at:n.first,rows:t}),function(e,t,n){const r=e.getChild(t)||e.getChild(e.childCount-1);let i=r.getChild(0),o=0;for(const e of r.getChildren()){if(o>n)return i;i=e,o+=parseInt(e.getAttribute("colspan")||1)}return i}(i,n.first,o));e.setSelection(e.createPositionAt(t,0))})}}class yp extends M{refresh(){const e=Gf(this.editor.model.document.selection),t=e[0];var n,r,i;t?(n=t.findAncestor("table"),n=this.editor.plugins.get("TableUtils").getColumns(n),{first:r,last:i}=Xf(e),this.isEnabled=i-r<n-1):this.isEnabled=!1}execute(){const[t,n]=function(e){const t=Gf(e),n=t[0],r=t.pop(),i=[n,r];return n.isBefore(r)?i:i.reverse()}(this.editor.model.document.selection),r=t.parent.parent,e=[...new I(r)],i={first:e.find(e=>e.cell===t).column,last:e.find(e=>e.cell===n).column},o=(a=e,s=t,l=n,c=i,1<parseInt(l.getAttribute("colspan")||1)?l:s.previousSibling||l.nextSibling?l.nextSibling||s.previousSibling:(c.first?a.reverse().find(({column:e})=>e<c.first):a.reverse().find(({column:e})=>c.last<e)).cell);var a,s,l,c;this.editor.model.change(e=>{var t=i.last-i.first+1;this.editor.plugins.get("TableUtils").removeColumns(r,{at:i.first,columns:t}),e.setSelection(e.createPositionAt(o,0))})}}class wp extends M{refresh(){const e=Gf(this.editor.model.document.selection),t=0<e.length;this.isEnabled=t,this.value=t&&e.every(e=>this._isInHeading(e,e.parent.parent))}execute(e={}){if(e.forceValue!==this.value){const t=this.editor.model,n=Gf(t.document.selection),r=n[0].findAncestor("table"),{first:i,last:o}=Kf(n),a=this.value?i:o+1,s=r.getAttribute("headingRows")||0;t.change(e=>{var t;if(a)for({cell:t}of ap(r,a,a>s?s:0))sp(t,a,e);R("headingRows",a,r,e,0)})}}_isInHeading(e,t){t=parseInt(t.getAttribute("headingRows")||0);return!!t&&e.parent.index<t}}class _p extends M{refresh(){const e=Gf(this.editor.model.document.selection),t=this.editor.plugins.get("TableUtils"),n=0<e.length;this.isEnabled=n,this.value=n&&e.every(e=>Pf(t,e))}execute(e={}){if(e.forceValue!==this.value){const t=this.editor.model,n=Gf(t.document.selection),r=n[0].findAncestor("table"),{first:i,last:o}=Xf(n),a=this.value?i:o+1;t.change(e=>{if(a){var t=lp(r,a);for(const{cell:n,column:r}of t)cp(n,r,a,e)}R("headingColumns",a,r,e,0)})}}}class kp extends O{static get pluginName(){return"TableUtils"}init(){this.decorate("insertColumns"),this.decorate("insertRows")}getCellLocation(e){const t=e.parent,n=t.parent,r=n.getChildIndex(t),i=new I(n,{row:r});for(const{cell:t,row:n,column:r}of i)if(t===e)return{row:n,column:r}}createTable(e,t){var n=e.createElement("table");return xp(e,n,0,parseInt(t.rows)||2,parseInt(t.columns)||2),t.headingRows&&R("headingRows",t.headingRows,n,e,0),t.headingColumns&&R("headingColumns",t.headingColumns,n,e,0),n}insertRows(a,e={}){const t=this.editor.model,s=e.at||0,l=e.rows||1,c=void 0!==e.copyStructureFromAbove,u=e.copyStructureFromAbove?s-1:s,d=this.getRows(a),h=this.getColumns(a);t.change(t=>{const n=a.getAttribute("headingRows")||0;if(n>s&&R("headingRows",n+l,a,t,0),c||0!==s&&s!==d){const e=c?Math.max(s,u):s,r=new I(a,{endRow:e}),i=new Array(h).fill(1);for(const{row:a,column:n,cellHeight:d,cellWidth:h,cell:e}of r){const r=a+d-1,o=a<=u&&u<=r;a<s&&s<=r?(t.setAttribute("rowspan",d+l,e),i[n]=-h):c&&o&&(i[n]=h)}for(let e=0;e<l;e++){const n=t.createElement("tableRow");t.insert(n,a,s);for(let e=0;e<i.length;e++){const s=i[e],l=t.createPositionAt(n,"end");0<s&&Mf(t,l,1<s?{colspan:s}:null),e+=Math.abs(s)-1}}}else xp(t,a,s,l,h)})}insertColumns(l,e={}){const t=this.editor.model,c=e.at||0,u=e.columns||1;t.change(e=>{const t=l.getAttribute("headingColumns"),n=(c<t&&e.setAttribute("headingColumns",t+u,l),this.getColumns(l));if(0===c||n===c)for(const t of l.getChildren())Cp(u,e,e.createPositionAt(t,c?"end":0));else{const r=new I(l,{column:c,includeAllSlots:!0});for(const l of r){const{row:t,cell:n,cellAnchorColumn:i,cellAnchorRow:o,cellWidth:a,cellHeight:s}=l;if(i<c){e.setAttribute("colspan",a+u,n);const l=o+s-1;for(let e=t;e<=l;e++)r.skipRow(e)}else Cp(u,e,l.getPositionBefore())}}})}removeRows(p,e){const t=this.editor.model,n=e.rows||1,m=e.at,g=m+n-1;t.change(t=>{const{cellsToMove:n,cellsToTrim:e}=function(e,t,n){const r=new Map,i=[];for(var{row:o,column:a,cellHeight:s,cell:l}of new I(e,{endRow:n})){const e=o+s-1;if(o>=t&&o<=n&&e>n){const e=s-(n-o+1);r.set(a,{cell:l,rowspan:e})}o<t&&e>=t&&(a=e>=n?n-t+1:e-t+1,i.push({cell:l,rowspan:s-a}))}return{cellsToMove:r,cellsToTrim:i}}(p,m,g);if(n.size){var r=p;var i=1+g;var o=n;var a=t;const u=[...new I(r,{includeAllSlots:!0,row:i})],d=r.getChild(i);let e;for(const{column:r,cell:i,isAnchor:h}of u)if(o.has(r)){const{cell:i,rowspan:u}=o.get(r),f=e?a.createPositionAfter(e):a.createPositionAt(d,0);a.move(a.createRangeOn(i),f),R("rowspan",u,i,a),e=i}else h&&(e=i)}for(let e=g;e>=m;e--)t.remove(p.getChild(e));for(const{rowspan:p,cell:n}of e)R("rowspan",p,n,t);var s,l,c;r=p,i=m,s=g,l=t,c=r.getAttribute("headingRows")||0,i<c&&R("headingRows",s<c?c-(s-i+1):i,r,l,0),dp(p,this)||hp(p,this)})}removeColumns(a,e){const t=this.editor.model,s=e.at,n=e.columns||1,l=e.at+n-1;t.change(t=>{var e,n,r,i;e=a,n={first:s,last:l},r=t,(i=e.getAttribute("headingColumns")||0)&&n.first<i&&(n=Math.min(i-1,n.last)-n.first+1,r.setAttribute("headingColumns",i-n,e));for(let e=l;e>=s;e--)for(const{cell:s,column:o,cellWidth:l}of[...new I(a)])o<=e&&1<l&&o+l>e?R("colspan",l-1,s,t):o===e&&t.remove(s);hp(a,this)||dp(a,this)})}splitCellVertically(c,u=2){const e=this.editor.model,d=c.parent.parent,h=parseInt(c.getAttribute("rowspan")||1),f=parseInt(c.getAttribute("colspan")||1);e.change(e=>{if(1<f){const{newCellsSpan:d,updatedSpan:n}=Sp(f,u),r=(R("colspan",n,c,e),{});1<d&&(r.colspan=d),1<h&&(r.rowspan=h),Cp(f>u?u-1:f-1,e,e.createPositionAfter(c),r)}if(f<u){const i=u-f,o=[...new I(d)],a=o.find(({cell:e})=>e===c)["column"],s=o.filter(({cell:e,cellWidth:t,column:n})=>e!==c&&n===a||n<a&&n+t>a);for(const{cell:c,cellWidth:u}of s)e.setAttribute("colspan",u+i,c);const l={};1<h&&(l.rowspan=h),Cp(i,e,e.createPositionAfter(c),l);var t=d.getAttribute("headingColumns")||0;t>a&&R("headingColumns",t+i,d,e)}})}splitCellHorizontally(u,d=2){const e=this.editor.model,t=u.parent,h=t.parent,f=h.getChildIndex(t),p=parseInt(u.getAttribute("rowspan")||1),m=parseInt(u.getAttribute("colspan")||1);e.change(e=>{if(1<p){const r=[...new I(h,{startRow:f,endRow:f+p-1,includeAllSlots:!0})],{newCellsSpan:i,updatedSpan:o}=Sp(p,d),a=(R("rowspan",o,u,e),r.find(({cell:e})=>e===u))["column"],s={};1<i&&(s.rowspan=i),1<m&&(s.colspan=m);for(const u of r){const{column:d,row:l}=u,h=d===a,p=(l+f+o)%i==0;l>=f+o&&h&&p&&Cp(1,e,u.getPositionBefore(),s)}}if(p<d){var t=d-p,n=[...new I(h,{startRow:0,endRow:f})];for(const{cell:d,cellHeight:h,row:p}of n)if(d!==u&&p+h>f){const u=h+t;e.setAttribute("rowspan",u,d)}const c={};1<m&&(c.colspan=m),xp(e,h,f+1,t,1,c);n=h.getAttribute("headingRows")||0;n>f&&R("headingRows",n+t,h,e)}})}getColumns(e){return[...e.getChild(0).getChildren()].reduce((e,t)=>e+parseInt(t.getAttribute("colspan")||1),0)}getRows(e){return e.childCount}}function xp(t,n,r,i,o,a={}){for(let e=0;e<i;e++){const i=t.createElement("tableRow");t.insert(i,n,r),Cp(o,t,t.createPositionAt(i,"end"),a)}}function Cp(t,n,r,i={}){for(let e=0;e<t;e++)Mf(n,r,i)}function Sp(e,t){var n;return e<t?{newCellsSpan:1,updatedSpan:1}:{newCellsSpan:n=Math.floor(e/t),updatedSpan:e-n*t+n}}class Tp extends M{refresh(){var e=qf(this.editor.model.document.selection);this.isEnabled=Jf(e,this.editor.plugins.get(kp))}execute(){const l=this.editor.model,c=this.editor.plugins.get(kp);l.change(e=>{const t=qf(l.document.selection),n=t.shift(),{mergeWidth:r,mergeHeight:i}=function(e,t,n){let r=0,i=0;for(const e of t){const{row:t,column:o}=n.getCellLocation(e);r=Ep(e,o,r,"colspan"),i=Ep(e,t,i,"rowspan")}const{row:o,column:a}=n.getCellLocation(e);return{mergeWidth:r-a,mergeHeight:i-o}}(n,t,c);R("colspan",r,n,e),R("rowspan",i,n,e);for(const l of t)o=l,a=n,s=e,$p(o)||($p(a)&&s.remove(s.createRangeIn(a)),s.move(s.createRangeIn(o),s.createPositionAt(a,"end"))),s.remove(o);var o,a,s;fp(n.findAncestor("table"),c),e.setSelection(n,"in")})}}function $p(e){return 1==e.childCount&&e.getChild(0).is("element","paragraph")&&e.getChild(0).isEmpty}function Ep(e,t,n,r){e=parseInt(e.getAttribute(r)||1);return Math.max(n,t+e)}class Ap extends M{refresh(){var e=Gf(this.editor.model.document.selection);this.isEnabled=0<e.length}execute(){const t=this.editor.model,e=Gf(t.document.selection),n=Kf(e),r=e[0].findAncestor("table"),i=[];for(let e=n.first;e<=n.last;e++)for(const n of r.getChild(e).getChildren())i.push(t.createRangeOn(n));t.change(e=>{e.setSelection(i)})}}class Op extends M{refresh(){var e=Gf(this.editor.model.document.selection);this.isEnabled=0<e.length}execute(){const e=this.editor.model,t=Gf(e.document.selection),n=t[0],r=t.pop(),i=n.findAncestor("table"),o=this.editor.plugins.get("TableUtils"),a=o.getCellLocation(n),s=o.getCellLocation(r),l=Math.min(a.column,s.column),c=Math.max(a.column,s.column),u=[];for(const t of new I(i,{startColumn:l,endColumn:c}))u.push(e.createRangeOn(t.cell));e.change(e=>{e.setSelection(u)})}}function Mp(s){s.document.registerPostFixer(e=>{{var n=e,r=s,i,o,e=r.document.differ.getChanges();let t=!1;const a=new Set;for(const r of e){let e;"table"==r.name&&"insert"==r.type&&(e=r.position.nodeAfter),"tableRow"!=r.name&&"tableCell"!=r.name||(e=r.position.findAncestor("table")),i=r,o=void 0,o="attribute"===i.type,i=i.attributeKey,(e=!o||"headingRows"!==i&&"colspan"!==i&&"rowspan"!==i?e:r.range.start.findAncestor("table"))&&!a.has(e)&&(t=function(e,t){let n=!1;var r=function(e){const t=parseInt(e.getAttribute("headingRows")||0),n=e.childCount,r=[];for(var{row:i,cell:o,cellHeight:a}of new I(e))if(!(a<2)){const e=i<t?t:n;if(i+a>e){const t=e-i;r.push({cell:o,rowspan:t})}}return r}(e);if(r.length){n=!0;for(const e of r)R("rowspan",e.rowspan,e.cell,t,1)}return n}(e,n)||t,t=function(t,n){let e=!1;const r=function(e){const t=new Array(e.childCount).fill(0);for(var{row:n}of new I(e,{includeAllSlots:!0}))t[n]++;return t}(t),i=[];for(const[t,n]of r.entries())n||i.push(t);if(i.length){e=!0;for(const e of i.reverse())n.remove(t.getChild(e)),r.splice(e,1)}const o=r[0];if(!r.every(e=>e===o)){const i=r.reduce((e,t)=>e<t?t:e,0);for(const[o,a]of r.entries()){const r=i-a;if(r){for(let e=0;e<r;e++)Mf(n,n.createPositionAt(t.getChild(o),"end"));e=!0}}}return e}(e,n)||t,a.add(e))}return t}})}function Pp(o){o.document.registerPostFixer(t=>{{var n=t,r=o,i,t=r.document.differ.getChanges();let e=!1;for(const r of t)"insert"==r.type&&"table"==r.name&&(e=function(e,t){let n=!1;for(const r of e.getChildren())n=Dp(r,t)||n;return n}(r.position.nodeAfter,n)||e),"insert"==r.type&&"tableRow"==r.name&&(e=Dp(r.position.nodeAfter,n)||e),"insert"==r.type&&"tableCell"==r.name&&(e=Rp(r.position.nodeAfter,n)||e),i=r,i.position&&i.position.parent.is("element","tableCell")&&("insert"==i.type&&"$text"==i.name||"remove"==i.type)&&(e=Rp(r.position.parent,n)||e);return e}})}function Dp(e,t){let n=!1;for(const r of e.getChildren())n=Rp(r,t)||n;return n}function Rp(e,t){if(0==e.childCount)return t.insertElement("paragraph",e),!0;var n=Array.from(e.getChildren()).filter(e=>e.is("$text"));for(const e of n)t.wrap(t.createRangeOn(e),"paragraph");return!!n.length}function Ip(i,o){i.document.registerPostFixer(()=>{{var e=i.document.differ,r=o;const t=new Set;for(const r of e.getChanges()){const e=("attribute"==r.type?r.range.start:r.position).parent;e.is("element","tableCell")&&t.add(e)}for(const n of t.values())for(const t of[...n.getChildren()].filter(e=>{{var t=r;if(!e.is("element","paragraph"))return!1;const n=t.toViewElement(e);return!!n&&jf(e)!==n.is("element","span")}}))e.refreshItem(t);return!1}})}function Np(r){r.document.registerPostFixer(()=>{{var e=r;const t=e.document.differ,n=new Set;for(const e of t.getChanges())if("attribute"==e.type){const t=e.range.start.nodeAfter;t&&t.is("element","table")&&"headingRows"==e.attributeKey&&n.add(t)}if(n.size){for(const e of n.values())t.refreshItem(e);return!0}return!1}})}t(88);class jp extends O{static get pluginName(){return"TableEditing"}init(){const e=this.editor,t=e.model,n=t.schema,r=e.conversion;n.register("table",{allowWhere:"$block",allowAttributes:["headingRows","headingColumns"],isObject:!0,isBlock:!0}),n.register("tableRow",{allowIn:"table",isLimit:!0}),n.register("tableCell",{allowIn:"tableRow",allowAttributes:["colspan","rowspan"],isLimit:!0,isSelectable:!0}),n.extend("$block",{allowIn:"tableCell"}),n.addChildCheck((e,t)=>{if("table"==t.name&&Array.from(e.getNames()).includes("table"))return!1}),r.for("upcast").add(Df()),r.for("editingDowncast").add(If({asWidget:!0})),r.for("dataDowncast").add(If()),r.for("upcast").elementToElement({model:"tableRow",view:"tr"}),r.for("upcast").add(e=>{e.on("element:tr",(e,t)=>{t.viewItem.isEmpty&&0==t.modelCursor.index&&e.stop()},{priority:"high"})}),r.for("editingDowncast").add(e=>e.on("insert:tableRow",(e,t,n)=>{var r=t.item;if(n.consumable.consume(r,"insert")){const i=r.parent,o=function(){for(const e of n.mapper.toViewElement(i).getChildren())if("table"===e.name)return e}(),a=i.getChildIndex(r),s=new I(i,{row:a}),l={headingRows:i.getAttribute("headingRows")||0,headingColumns:i.getAttribute("headingColumns")||0},c=new Map;for(const e of s){const t=c.get(a)||Vf(o,r,a,l,n);c.set(a,t),n.consumable.consume(e.cell,"insert"),Lf(e,l,n.writer.createPositionAt(t,"end"),n,{asWidget:!0})}}})),r.for("editingDowncast").add(e=>e.on("remove:tableRow",(e,t,n)=>{e.stop();const r=n.writer,i=n.mapper,o=i.toViewPosition(t.position).getLastMatchingPosition(e=>!e.item.is("element","tr")).nodeAfter,a=o.parent.parent,s=r.createRangeOn(o),l=r.remove(s);for(const e of r.createRangeIn(l).getItems())i.unbindViewElement(e);Bf("thead",a,n),Bf("tbody",a,n)},{priority:"higher"})),r.for("upcast").elementToElement({model:"tableCell",view:"td"}),r.for("upcast").elementToElement({model:"tableCell",view:"th"}),r.for("editingDowncast").add(e=>e.on("insert:tableCell",(e,t,n)=>{var r=t.item;if(n.consumable.consume(r,"insert")){const i=r.parent,o=i.parent,a=o.getChildIndex(i),s=new I(o,{row:a}),l={headingRows:o.getAttribute("headingRows")||0,headingColumns:o.getAttribute("headingColumns")||0};for(const e of s)if(e.cell===r){const t=n.mapper.toViewElement(i);return void Lf(e,l,n.writer.createPositionAt(t,i.getChildIndex(r)),n,{asWidget:!0})}}})),e.conversion.for("editingDowncast").elementToElement({model:"paragraph",view:Nf,converterPriority:"high"}),r.attributeToAttribute({model:"colspan",view:"colspan"}),r.attributeToAttribute({model:"rowspan",view:"rowspan"}),r.for("editingDowncast").add(e=>e.on("attribute:headingColumns:table",(e,t,n)=>{const r=t.item;if(n.consumable.consume(t.item,e.name)){var i={headingRows:r.getAttribute("headingRows")||0,headingColumns:r.getAttribute("headingColumns")||0},e=t.attributeOldValue,t=t.attributeNewValue,t=(t<e?e:t)-1;for(const e of new I(r,{endColumn:t})){o=void 0;a=void 0;s=void 0;l=void 0;o=void 0;a=void 0;a=void 0;l=void 0;o=void 0;var o=e;var a=i;var s=n;var l=o["cell"],o=Ff(o,a),a=s.mapper.toViewElement(l);if(a&&a.name!==o){a=l,l=o,o=s;const c=o.writer,u=o.mapper.toViewElement(a),d=pu(c.createEditableElement(l,u.getAttributes()),c);fu(d,c,(e,t,n)=>n.addClass(Uf(t.classes),e),(e,t,n)=>n.removeClass(Uf(t.classes),e)),c.insert(c.createPositionAfter(u),d),c.move(c.createRangeIn(u),c.createPositionAt(d,0)),c.remove(c.createRangeOn(u)),o.mapper.unbindViewElement(u),o.mapper.bindElements(a,d)}}}})),e.commands.add("insertTable",new Wf(e)),e.commands.add("insertTableRowAbove",new np(e,{order:"above"})),e.commands.add("insertTableRowBelow",new np(e,{order:"below"})),e.commands.add("insertTableColumnLeft",new rp(e,{order:"left"})),e.commands.add("insertTableColumnRight",new rp(e,{order:"right"})),e.commands.add("removeTableRow",new bp(e)),e.commands.add("removeTableColumn",new yp(e)),e.commands.add("splitTableCellVertically",new ip(e,{direction:"vertically"})),e.commands.add("splitTableCellHorizontally",new ip(e,{direction:"horizontally"})),e.commands.add("mergeTableCells",new Tp(e)),e.commands.add("mergeTableCellRight",new gp(e,{direction:"right"})),e.commands.add("mergeTableCellLeft",new gp(e,{direction:"left"})),e.commands.add("mergeTableCellDown",new gp(e,{direction:"down"})),e.commands.add("mergeTableCellUp",new gp(e,{direction:"up"})),e.commands.add("setTableColumnHeader",new _p(e)),e.commands.add("setTableRowHeader",new wp(e)),e.commands.add("selectTableRow",new Ap(e)),e.commands.add("selectTableColumn",new Op(e)),Np(t),Mp(t),Ip(t,e.editing.mapper),Pp(t)}static get requires(){return[kp]}}t(90);class Lp extends ${constructor(e){super(e);const t=this.bindTemplate;this.set("icon"),this.set("isEnabled",!0),this.set("isOn",!1),this.set("isToggleable",!1),this.set("isVisible",!0),this.set("keystroke"),this.set("label"),this.set("tabindex",-1),this.set("tooltip"),this.set("tooltipPosition","s"),this.set("type","button"),this.set("withText",!1),this.children=this.createCollection(),this.actionView=this._createActionView(),this.arrowView=this._createArrowView(),this.keystrokes=new vs,this.focusTracker=new Cs,this.setTemplate({tag:"div",attributes:{class:["ck","ck-splitbutton",t.if("isVisible","ck-hidden",e=>!e),this.arrowView.bindTemplate.if("isOn","ck-splitbutton_open")]},children:this.children})}render(){super.render(),this.children.add(this.actionView),this.children.add(this.arrowView),this.focusTracker.add(this.actionView.element),this.focusTracker.add(this.arrowView.element),this.keystrokes.listenTo(this.element),this.keystrokes.set("arrowright",(e,t)=>{this.focusTracker.focusedElement===this.actionView.element&&(this.arrowView.focus(),t())}),this.keystrokes.set("arrowleft",(e,t)=>{this.focusTracker.focusedElement===this.arrowView.element&&(this.actionView.focus(),t())})}focus(){this.actionView.focus()}_createActionView(){const e=new A;return e.bind("icon","isEnabled","isOn","isToggleable","keystroke","label","tabindex","tooltip","tooltipPosition","type","withText").to(this),e.extendTemplate({attributes:{class:"ck-splitbutton__action"}}),e.delegate("execute").to(this),e}_createArrowView(){const e=new A,t=e.bindTemplate;return e.icon=gl,e.extendTemplate({attributes:{class:"ck-splitbutton__arrow","aria-haspopup":!0,"aria-expanded":t.to("isOn",e=>String(e))}}),e.bind("isEnabled").to(this),e.delegate("execute").to(this,"open"),e}}t(92);class Vp extends ${constructor(e){super(e);const t=this.bindTemplate;this.items=this._createGridCollection(),this.set("rows",0),this.set("columns",0),this.bind("label").to(this,"columns",this,"rows",(e,t)=>t+"  "+e),this.setTemplate({tag:"div",attributes:{class:["ck"]},children:[{tag:"div",attributes:{class:["ck-insert-table-dropdown__grid"]},on:{"mouseover@.ck-insert-table-dropdown-grid-box":t.to("boxover")},children:this.items},{tag:"div",attributes:{class:["ck-insert-table-dropdown__label"]},children:[{text:t.to("label")}]}],on:{mousedown:t.to(e=>{e.preventDefault()}),click:t.to(()=>{this.fire("execute")})}}),this.on("boxover",(e,t)=>{var{row:t,column:n}=t.target.dataset;this.set({rows:parseInt(t),columns:parseInt(n)})}),this.on("change:columns",()=>{this._highlightGridBoxes()}),this.on("change:rows",()=>{this._highlightGridBoxes()})}focus(){}focusLast(){}_highlightGridBoxes(){const n=this.rows,r=this.columns;this.items.map((e,t)=>{t=Math.floor(t/10)<n&&t%10<r;e.set("isOn",t)})}_createGridCollection(){const t=[];for(let e=0;e<100;e++){var n=Math.floor(e/10),r=e%10;t.push(new Fp(this.locale,n+1,1+r))}return this.createCollection(t)}}class Fp extends ${constructor(e,t,n){super(e);const r=this.bindTemplate;this.set("isOn",!1),this.setTemplate({tag:"div",attributes:{class:["ck-insert-table-dropdown-grid-box",r.if("isOn","ck-on")],"data-row":t,"data-column":n}})}}class zp extends O{init(){const i=this.editor,o=this.editor.t,n="ltr"===i.locale.contentLanguageDirection;i.ui.componentFactory.add("insertTable",e=>{const t=i.commands.get("insertTable"),n=xl(e);let r;return n.bind("isEnabled").to(t),n.buttonView.set({icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 6v3h4V6H3zm0 4v3h4v-3H3zm0 4v3h4v-3H3zm5 3h4v-3H8v3zm5 0h4v-3h-4v3zm4-4v-3h-4v3h4zm0-4V6h-4v3h4zm1.5 8a1.5 1.5 0 0 1-1.5 1.5H3A1.5 1.5 0 0 1 1.5 17V4c.222-.863 1.068-1.5 2-1.5h13c.932 0 1.778.637 2 1.5v13zM12 13v-3H8v3h4zm0-4V6H8v3h4z"/></svg>',label:o("Insert table"),tooltip:!0}),n.on("change:isOpen",()=>{r||(r=new Vp(e),n.panelView.children.add(r),r.delegate("execute").to(n),n.buttonView.on("open",()=>{r.rows=0,r.columns=0}),n.on("execute",()=>{i.execute("insertTable",{rows:r.rows,columns:r.columns}),i.editing.view.focus()}))}),n}),i.ui.componentFactory.add("tableColumn",e=>{var t=[{type:"switchbutton",model:{commandName:"setTableColumnHeader",label:o("Header column"),bindIsOn:!0}},{type:"separator"},{type:"button",model:{commandName:n?"insertTableColumnLeft":"insertTableColumnRight",label:o("Insert column left")}},{type:"button",model:{commandName:n?"insertTableColumnRight":"insertTableColumnLeft",label:o("Insert column right")}},{type:"button",model:{commandName:"removeTableColumn",label:o("Delete column")}},{type:"button",model:{commandName:"selectTableColumn",label:o("Select column")}}];return this._prepareDropdown(o("Column"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M18 7v1H2V7h16zm0 5v1H2v-1h16z" opacity=".6"/><path d="M14 1v18a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V1a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1zm-2 1H8v4h4V2zm0 6H8v4h4V8zm0 6H8v4h4v-4z"/></svg>',t,e)}),i.ui.componentFactory.add("tableRow",e=>{var t=[{type:"switchbutton",model:{commandName:"setTableRowHeader",label:o("Header row"),bindIsOn:!0}},{type:"separator"},{type:"button",model:{commandName:"insertTableRowAbove",label:o("Insert row above")}},{type:"button",model:{commandName:"insertTableRowBelow",label:o("Insert row below")}},{type:"button",model:{commandName:"removeTableRow",label:o("Delete row")}},{type:"button",model:{commandName:"selectTableRow",label:o("Select row")}}];return this._prepareDropdown(o("Row"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M7 2h1v16H7V2zm5 0h1v16h-1V2z" opacity=".6"/><path d="M1 6h18a1 1 0 0 1 1 1v6a1 1 0 0 1-1 1H1a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1zm1 2v4h4V8H2zm6 0v4h4V8H8zm6 0v4h4V8h-4z"/></svg>',t,e)}),i.ui.componentFactory.add("mergeTableCells",e=>{var t=[{type:"button",model:{commandName:"mergeTableCellUp",label:o("Merge cell up")}},{type:"button",model:{commandName:n?"mergeTableCellRight":"mergeTableCellLeft",label:o("Merge cell right")}},{type:"button",model:{commandName:"mergeTableCellDown",label:o("Merge cell down")}},{type:"button",model:{commandName:n?"mergeTableCellLeft":"mergeTableCellRight",label:o("Merge cell left")}},{type:"separator"},{type:"button",model:{commandName:"splitTableCellVertically",label:o("Split cell vertically")}},{type:"button",model:{commandName:"splitTableCellHorizontally",label:o("Split cell horizontally")}}];return this._prepareMergeSplitButtonDropdown(o("Merge cells"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M7 2h1v16H7V2zm5 0h1v7h-1V2zm6 5v1H2V7h16zM8 12v1H2v-1h6z" opacity=".6"/><path d="M7 7h12a1 1 0 0 1 1 1v11a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V8a1 1 0 0 1 1-1zm1 2v9h10V9H8z"/></svg>',t,e)})}_prepareDropdown(e,t,n,r){const i=this.editor,o=xl(r),a=this._fillDropdownWithListOptions(o,n);return o.buttonView.set({label:e,icon:t,tooltip:!0}),o.bind("isEnabled").toMany(a,"isEnabled",(...e)=>e.some(e=>e)),this.listenTo(o,"execute",e=>{i.execute(e.source.commandName),i.editing.view.focus()}),o}_prepareMergeSplitButtonDropdown(e,t,n,r){const i=this.editor,o=xl(r,Lp);return this._fillDropdownWithListOptions(o,n),o.buttonView.set({label:e,icon:t,tooltip:!0,isEnabled:!0}),this.listenTo(o.buttonView,"execute",()=>{i.execute("mergeTableCells"),i.editing.view.focus()}),this.listenTo(o,"execute",e=>{i.execute(e.source.commandName),i.editing.view.focus()}),o}_fillDropdownWithListOptions(e,t){var n=this.editor,r=[],i=new rn;for(const e of t){o=void 0;a=void 0;s=void 0;l=void 0;var o=e;var a=n;var s=r;var l=i;const c=o.model=new ih(o.model),{commandName:u,bindIsOn:d}=o.model;if("button"===o.type||"switchbutton"===o.type){const o=a.commands.get(u);s.push(o),c.set({commandName:u}),c.bind("isEnabled").to(o),d&&c.bind("isOn").to(o,"value")}c.set({withText:!0}),l.add(o)}return Cl(e,i,n.ui.componentFactory),r}}t(94);class Bp extends O{static get pluginName(){return"TableSelection"}static get requires(){return[kp]}init(){var e=this.editor.model;this.listenTo(e,"deleteContent",(e,t)=>this._handleDeleteContent(e,t),{priority:"high"}),this._defineSelectionConverter(),this._enablePluginDisabling()}getSelectedTableCells(){var e=qf(this.editor.model.document.selection);return 0==e.length?null:e}getSelectionAsFragment(){const u=this.getSelectedTableCells();return u?this.editor.model.change(e=>{var t=e.createDocumentFragment(),n=this.editor.plugins.get("TableUtils"),{first:r,last:i}=Xf(u),{first:o,last:a}=Kf(u),s=u[0].findAncestor("table");let l=a,c=i;if(Jf(u,n)){const u={firstColumn:r,lastColumn:i,firstRow:o,lastRow:a};l=pp(s,u),c=mp(s,u)}n=op(s,{startRow:o,startColumn:r,endRow:l,endColumn:c},e);return e.insert(n,t,0),t}):null}setCellSelection(e,t){const n=this._getCellsToSelect(e,t);this.editor.model.change(t=>{t.setSelection(n.cells.map(e=>t.createRangeOn(e)),{backward:n.backward})})}getFocusCell(){const e=[...this.editor.model.document.selection.getRanges()].pop().getContainedElement();return e&&e.is("element","tableCell")?e:null}getAnchorCell(){const e=jc(this.editor.model.document.selection.getRanges()).getContainedElement();return e&&e.is("element","tableCell")?e:null}_defineSelectionConverter(){const e=this.editor,s=new Set;e.conversion.for("editingDowncast").add(e=>e.on("selection",(e,t,n)=>{const r=n.writer;var i=r;for(const a of s)i.removeClass("ck-editor__editable_selected",a);s.clear();var o=this.getSelectedTableCells();if(o){for(const e of o){const t=n.mapper.toViewElement(e);r.addClass("ck-editor__editable_selected",t),s.add(t)}o=n.mapper.toViewElement(o[o.length-1]);r.setSelection(o,0)}},{priority:"lowest"}))}_enablePluginDisabling(){const r=this.editor;this.on("change:isEnabled",()=>{if(!this.isEnabled){const n=this.getSelectedTableCells();n&&r.model.change(e=>{var t=e.createPositionAt(n[0],0),t=r.model.schema.getNearestSelectionRange(t);e.setSelection(t)})}})}_handleDeleteContent(e,t){const[n,r]=t,i=this.editor.model,o=!r||"backward"==r.direction,a=qf(n);a.length&&(e.stop(),i.change(e=>{var t=a[o?a.length-1:0],t=(i.change(e=>{for(const t of a)i.deleteContent(e.createSelection(t,"in"))}),i.schema.getNearestSelectionRange(e.createPositionAt(t,0)));n.is("documentSelection")?e.setSelection(t):n.setTo(t)}))}_getCellsToSelect(e,t){const n=this.editor.plugins.get("TableUtils"),r=n.getCellLocation(e),i=n.getCellLocation(t),o=Math.min(r.row,i.row),a=Math.max(r.row,i.row),s=Math.min(r.column,i.column),l=Math.max(r.column,i.column),c=new Array(a-o+1).fill(null).map(()=>[]),u={startRow:o,endRow:a,startColumn:s,endColumn:l};for(const{row:t,cell:n}of new I(e.findAncestor("table"),u))c[t-o].push(n);t=i.row<r.row,e=i.column<r.column;return t&&c.reverse(),e&&c.forEach(e=>e.reverse()),{cells:c.flat(),backward:t||e}}}class Hp extends O{static get pluginName(){return"TableClipboard"}static get requires(){return[Bp,kp]}init(){var e=this.editor,t=e.editing.view.document;this.listenTo(t,"copy",(e,t)=>this._onCopyCut(e,t)),this.listenTo(t,"cut",(e,t)=>this._onCopyCut(e,t)),this.listenTo(e.model,"insertContent",(e,t)=>this._onInsertContent(e,...t),{priority:"high"}),this.decorate("_replaceTableSlotCell")}_onCopyCut(e,t){const n=this.editor.plugins.get(Bp);if(n.getSelectedTableCells()&&("cut"!=e.name||!this.editor.isReadOnly)){t.preventDefault(),e.stop();const r=this.editor.data,i=this.editor.editing.view.document,o=r.toView(n.getSelectionAsFragment());i.fire("clipboardOutput",{dataTransfer:t.dataTransfer,content:o,method:e.name})}}_onInsertContent(e,t,n){if(!n||n.is("documentSelection")){const r=this.editor.model,c=this.editor.plugins.get(kp);let l=function(e,t){if(e.is("documentFragment")||e.is("element")){if(e.is("element","table"))return e;if(1==e.childCount&&e.getChild(0).is("element","table"))return e.getChild(0);const r=t.createRangeIn(e);for(const e of r.getItems()){var n;if(e.is("element","table"))return n=t.createRange(r.start,t.createPositionBefore(e)),t.hasContent(n,{ignoreWhitespaces:!0})||(n=t.createRange(t.createPositionAfter(e),r.end),t.hasContent(n,{ignoreWhitespaces:!0}))?null:e}}return null}(t,r);if(l){const u=Gf(r.document.selection);u.length?(e.stop(),r.change(t=>{const e={width:c.getColumns(l),height:c.getRows(l)},n=function(e,t,n,r){const i=e[0].findAncestor("table"),o=Xf(e),a=Kf(e),s={firstColumn:o.first,lastColumn:o.last,firstRow:a.first,lastRow:a.last},l=1===e.length;{var c,u,d,u,t,h,f,e,r;(l&&(s.lastRow+=t.height-1,s.lastColumn+=t.width-1,t=i,h=s.lastRow+1,c=s.lastColumn+1,u=(d=r).getColumns(t),f=d.getRows(t),u<c&&d.insertColumns(t,{at:u,columns:c-u}),f<h&&d.insertRows(t,{at:f,rows:h-f})),l||!Jf(e,r))?(c=i,u=s,d=n,{firstRow:u,lastRow:t,firstColumn:h,lastColumn:f}=u,r={first:h,last:f},Wp(c,h,e={first:u,last:t},d),Wp(c,f+1,e,d),Up(c,u,r,d),Up(c,t+1,r,d,u)):(s.lastRow=pp(i,s),s.lastColumn=mp(i,s))}return s}(u,e,t,c),r=n.lastRow-n.firstRow+1,i=n.lastColumn-n.firstColumn+1,o={startRow:0,startColumn:0,endRow:Math.min(r,e.height)-1,endColumn:Math.min(i,e.width)-1},a=(l=op(l,o,t),u[0].findAncestor("table")),s=this._replaceSelectedCellsWithPasted(l,e,a,n,t);if(this.editor.plugins.get("TableSelection").isEnabled){const e=Qf(s.map(e=>t.createRangeOn(e)));t.setSelection(e)}else t.setSelection(s[0],0)})):fp(l,c)}}}_replaceSelectedCellsWithPasted(e,t,n,r,i){const{width:o,height:a}=t,s=function(e,t,n){const r=new Array(n).fill(null).map(()=>new Array(t).fill(null));for(const{column:t,row:n,cell:i}of new I(e))r[n][t]=i;return r}(e,o,a),l=[...new I(n,{startRow:r.firstRow,endRow:r.lastRow,startColumn:r.firstColumn,endColumn:r.lastColumn,includeAllSlots:!0})],c=[];let u;for(const e of l){const{row:t,column:n}=e,l=(n===r.firstColumn&&(u=e.getPositionBefore()),t-r.firstRow),d=n-r.firstColumn,h=s[l%a][d%o],f=h?i.cloneElement(h):null,p=this._replaceTableSlotCell(e,f,u,i);p&&(up(p,t,n,r.lastRow,r.lastColumn,i),c.push(p),u=i.createPositionAfter(p))}const d=parseInt(n.getAttribute("headingRows")||0),h=parseInt(n.getAttribute("headingColumns")||0),f=r.firstRow<d&&d<=r.lastRow,p=r.firstColumn<h&&h<=r.lastColumn;if(f){const e=Up(n,d,{first:r.firstColumn,last:r.lastColumn},i,r.firstRow);c.push(...e)}if(p){const e=Wp(n,h,{first:r.firstRow,last:r.lastRow},i);c.push(...e)}return c}_replaceTableSlotCell(e,t,n,r){var{cell:e,isAnchor:i}=e;return i&&r.remove(e),t?(r.insert(t,n),t):null}}function Up(e,t,n,r,i=0){if(!(t<1))return ap(e,t,i).filter(({column:e,cellWidth:t})=>qp(e,t,n)).map(({cell:e})=>sp(e,t,r))}function Wp(e,n,r,i){if(!(n<1))return lp(e,n).filter(({row:e,cellHeight:t})=>qp(e,t,r)).map(({cell:e,column:t})=>cp(e,t,n,i))}function qp(e,t,n){var{first:n,last:r}=n;return n<=e&&e<=r||e<n&&n<=e+t-1}class Yp extends O{static get pluginName(){return"TableKeyboard"}static get requires(){return[Bp]}init(){var e=this.editor.editing.view.document;this.editor.keystrokes.set("Tab",(...e)=>this._handleTabOnSelectedTable(...e),{priority:"low"}),this.editor.keystrokes.set("Tab",this._getTabHandler(!0),{priority:"low"}),this.editor.keystrokes.set("Shift+Tab",this._getTabHandler(!1),{priority:"low"}),this.listenTo(e,"keydown",(...e)=>this._onKeydown(...e),{priority:Yt.get("high")-10})}_handleTabOnSelectedTable(e,t){const n=this.editor,r=n.model.document.selection.getSelectedElement();r&&r.is("element","table")&&(t(),n.model.change(e=>{e.setSelection(e.createRangeIn(r.getChild(0).getChild(0)))}))}_getTabHandler(c){const u=this.editor;return(e,n)=>{let t=Yf(u.model.document.selection)[0];if(t=t||this.editor.plugins.get("TableSelection").getFocusCell()){n();const i=t.parent,o=i.parent,a=o.getChildIndex(i),s=i.getChildIndex(t),l=0===s;if(!c&&l&&0===a)u.model.change(e=>{e.setSelection(e.createRangeOn(o))});else{var n=s===i.childCount-1,r=a===o.childCount-1;if(c&&r&&n&&(u.execute("insertTableRowBelow"),a===o.childCount-1))u.model.change(e=>{e.setSelection(e.createRangeOn(o))});else{let t;if(c&&n){const c=o.getChild(a+1);t=c.getChild(0)}else if(!c&&l){const c=o.getChild(a-1);t=c.getChild(c.childCount-1)}else t=i.getChild(s+(c?1:-1));u.model.change(e=>{e.setSelection(e.createRangeIn(t))})}}}}}_onKeydown(e,t){var n=this.editor,r=t.keyCode;zr(r)&&(r=Br(r,n.locale.contentLanguageDirection),this._handleArrowKeys(r,t.shiftKey)&&(t.preventDefault(),t.stopPropagation(),e.stop()))}_handleArrowKeys(e,t){const n=this.editor.model.document.selection,r=["right","down"].includes(e),i=qf(n);var o;return i.length?(o=t?this.editor.plugins.get("TableSelection").getFocusCell():r?i[i.length-1]:i[0],this._navigateFromCellInDirection(o,e,t),!0):!(!(o=n.focus.findAncestor("tableCell"))||t&&!n.isCollapsed&&n.isBackward==r||!this._isSelectionAtCellEdge(n,o,r)||(this._navigateFromCellInDirection(o,e,t),0))}_isSelectionAtCellEdge(e,t,n){const r=this.editor.model,i=this.editor.model.schema,o=n?e.getLastPosition():e.getFirstPosition();return i.getLimitElement(o).is("element","tableCell")?(e=r.createSelection(o),r.modifySelection(e,{direction:n?"forward":"backward"}),o.isEqual(e.focus)):r.createPositionAt(t,n?"end":0).isTouching(o)}_navigateFromCellInDirection(t,e,n=!1){const r=this.editor.model,i=t.findAncestor("table"),o=[...new I(i,{includeAllSlots:!0})],{row:a,column:s}=o[o.length-1],l=o.find(({cell:e})=>e==t);let{row:c,column:u}=l;switch(e){case"left":u--;break;case"up":c--;break;case"right":u+=l.cellWidth;break;case"down":c+=l.cellHeight}if(c<0||c>a||u<0&&c<=0||u>s&&c>=a)r.change(e=>{e.setSelection(e.createRangeOn(i))});else{u<0?(u=n?0:s,c--):u>s&&(u=n?s:0,c++);const d=o.find(e=>e.row==c&&e.column==u).cell,h=["right","down"].includes(e),f=this.editor.plugins.get("TableSelection");if(n&&f.isEnabled){const e=f.getAnchorCell()||t;f.setCellSelection(e,d)}else{const t=r.createPositionAt(d,h?0:"end");r.change(e=>{e.setSelection(t)})}}}}class Gp extends Yi{constructor(e){super(e),this.domEventType=["mousemove","mouseup","mouseleave"]}onDomEvent(e){this.fire(e.type,e)}}class Kp extends O{static get pluginName(){return"TableMouse"}static get requires(){return[Bp]}init(){this.editor.editing.view.addObserver(Gp),this._enableShiftClickSelection(),this._enableMouseDragSelection()}_enableShiftClickSelection(){const i=this.editor;let o=!1;const a=i.plugins.get(Bp);this.listenTo(i.editing.view.document,"mousedown",(e,t)=>{var n,r;this.isEnabled&&a.isEnabled&&t.domEvent.shiftKey&&(n=a.getAnchorCell()||Yf(i.model.document.selection)[0])&&(r=this._getModelTableCellFromDomEvent(t))&&Xp(n,r)&&(o=!0,a.setCellSelection(n,r),t.preventDefault())}),this.listenTo(i.editing.view.document,"mouseup",()=>{o=!1}),this.listenTo(i.editing.view.document,"selectionChange",e=>{o&&e.stop()},{priority:"highest"})}_enableMouseDragSelection(){const e=this.editor;let r,i,o=!1,a=!1;const s=e.plugins.get(Bp);this.listenTo(e.editing.view.document,"mousedown",(e,t)=>{this.isEnabled&&s.isEnabled&&(t.domEvent.shiftKey||t.domEvent.ctrlKey||t.domEvent.altKey||(r=this._getModelTableCellFromDomEvent(t)))}),this.listenTo(e.editing.view.document,"mousemove",(e,t)=>{var n;t.domEvent.buttons&&r&&((n=this._getModelTableCellFromDomEvent(t))&&Xp(r,n)&&(i=n,o||i==r||(o=!0)),o&&(a=!0,s.setCellSelection(r,i),t.preventDefault()))}),this.listenTo(e.editing.view.document,"mouseup",()=>{o=!1,a=!1,r=null,i=null}),this.listenTo(e.editing.view.document,"selectionChange",e=>{a&&e.stop()},{priority:"highest"})}_getModelTableCellFromDomEvent(e){e=e.target,e=this.editor.editing.view.createPositionAt(e,0);return this.editor.editing.mapper.toModelPosition(e).parent.findAncestor("tableCell",{includeSelf:!0})}}function Xp(e,t){return e.parent.parent==t.parent.parent}function Jp(e){e=e.getSelectedElement();return e&&Zp(e)?e:null}function Qp(t){var e=function(){let e=t.getFirstPosition().parent;for(;e;){if("table"===e.name)return e;e=e.parent}}();return e&&Zp(e.parent)?e.parent:null}function Zp(e){return e.getCustomProperty("table")&&du(e)}t(96);var em=/[\\^$.*+?()[\]{}|]/g,tm=RegExp(em.source);const nm={copyright:{from:"(c)",to:""},registeredTrademark:{from:"(r)",to:""},trademark:{from:"(tm)",to:""},oneHalf:{from:"1/2",to:""},oneThird:{from:"1/3",to:""},twoThirds:{from:"2/3",to:""},oneForth:{from:"1/4",to:""},threeQuarters:{from:"3/4",to:""},lessThanOrEqual:{from:"<=",to:""},greaterThanOrEqual:{from:">=",to:""},notEqual:{from:"!=",to:""},arrowLeft:{from:"<-",to:""},arrowRight:{from:"->",to:""},horizontalEllipsis:{from:"...",to:""},enDash:{from:/(^| )(--)( )$/,to:[null,"",null]},emDash:{from:/(^| )(---)( )$/,to:[null,"",null]},quotesPrimary:{from:am('"'),to:[null,"",null,""]},quotesSecondary:{from:am("'"),to:[null,"",null,""]},quotesPrimaryEnGb:{from:am("'"),to:[null,"",null,""]},quotesSecondaryEnGb:{from:am('"'),to:[null,"",null,""]},quotesPrimaryPl:{from:am('"'),to:[null,"",null,""]},quotesSecondaryPl:{from:am("'"),to:[null,"",null,""]}},rm={symbols:["copyright","registeredTrademark","trademark"],mathematical:["oneHalf","oneThird","twoThirds","oneForth","threeQuarters","lessThanOrEqual","greaterThanOrEqual","notEqual","arrowLeft","arrowRight"],typography:["horizontalEllipsis","enDash","emDash"],quotes:["quotesPrimary","quotesSecondary"]},im=["symbols","mathematical","typography","quotes"];function om(e){return"string"==typeof e?new RegExp(`(${t=e,(t=jn(t))&&tm.test(t)?t.replace(em,"\\$&"):t})$`):e;var t}function am(e){return new RegExp(`(^|\\s)(${e})([^${e}]*)(${e})$`)}class sm extends Ol{}sm.builtinPlugins=[class extends O{static get requires(){return[Nl,Bl,Ql,ql,hc,Ac]}static get pluginName(){return"Essentials"}},Ic,class extends O{static get pluginName(){return"Autoformat"}afterInit(){this._addListAutoformats(),this._addBasicStylesAutoformats(),this._addHeadingAutoformats(),this._addBlockQuoteAutoformats(),this._addCodeBlockAutoformats()}_addListAutoformats(){const e=this.editor.commands;e.get("bulletedList")&&Lc(this.editor,this,/^[*-]\s$/,"bulletedList"),e.get("numberedList")&&Lc(this.editor,this,/^1[.|)]\s$/,"numberedList")}_addBasicStylesAutoformats(){const e=this.editor.commands;if(e.get("bold")){const e=zc(this.editor,"bold");Vc(this.editor,this,/(\*\*)([^*]+)(\*\*)$/g,e),Vc(this.editor,this,/(__)([^_]+)(__)$/g,e)}if(e.get("italic")){const e=zc(this.editor,"italic");Vc(this.editor,this,/(?:^|[^*])(\*)([^*_]+)(\*)$/g,e),Vc(this.editor,this,/(?:^|[^_])(_)([^_]+)(_)$/g,e)}if(e.get("code")){const e=zc(this.editor,"code");Vc(this.editor,this,/(`)([^`]+)(`)$/g,e)}if(e.get("strikethrough")){const e=zc(this.editor,"strikethrough");Vc(this.editor,this,/(~~)([^~]+)(~~)$/g,e)}}_addHeadingAutoformats(){const n=this.editor.commands.get("heading");n&&n.modelElements.filter(e=>e.match(/^heading[1-6]$/)).forEach(e=>{var t=e[7],t=new RegExp(`^(#{${t}})\\s$`);Lc(this.editor,this,t,()=>{if(!n.isEnabled||n.value===e)return!1;this.editor.execute("heading",{value:e})})})}_addBlockQuoteAutoformats(){this.editor.commands.get("blockQuote")&&Lc(this.editor,this,/^>\s$/,"blockQuote")}_addCodeBlockAutoformats(){this.editor.commands.get("codeBlock")&&Lc(this.editor,this,/^```$/,"codeBlock")}},class extends O{static get requires(){return[Hc,Uc]}static get pluginName(){return"Bold"}},class extends O{static get requires(){return[Wc,qc]}static get pluginName(){return"Italic"}},class extends O{static get requires(){return[Jc,Qc]}static get pluginName(){return"BlockQuote"}},class extends O{static get pluginName(){return"CKFinder"}static get requires(){return[od,Zc,Ic]}},class extends O{static get requires(){return[dd,Nd,Xd]}static get pluginName(){return"EasyImage"}},class extends O{static get requires(){return[rh,oh]}static get pluginName(){return"Heading"}},Nd,class extends O{static get requires(){return[lh]}static get pluginName(){return"ImageCaption"}},class extends O{static get requires(){return[yh,wh]}static get pluginName(){return"ImageStyle"}},class extends O{static get requires(){return[_h]}static get pluginName(){return"ImageToolbar"}afterInit(){const e=this.editor,t=e.t;e.plugins.get(_h).register("image",{ariaLabel:t("Image toolbar"),items:e.config.get("image.toolbar")||[],getRelatedElement:bu})}},Xd,class extends O{static get pluginName(){return"Indent"}static get requires(){return[Sh,Eh]}},class extends O{static get requires(){return[Zu,Ph,jh]}static get pluginName(){return"Link"}},class extends O{static get requires(){return[lf,uf]}static get pluginName(){return"List"}},class extends O{static get requires(){return[bf,kf,wf,yd]}static get pluginName(){return"MediaEmbed"}},eh,class extends O{static get pluginName(){return"PasteFromOffice"}static get requires(){return[Nl]}init(){const e=this.editor,t=e.editing.view.document,i=[];i.push(new Of(t)),i.push(new Tf(t)),e.plugins.get("Clipboard").on("inputTransformation",(e,t)=>{if(!t.isTransformedWithPasteFromOffice){const n=t.dataTransfer.getData("text/html"),r=i.find(e=>e.isActive(n));r&&(r.execute(t),t.isTransformedWithPasteFromOffice=!0)}},{priority:"high"})}},class extends O{static get requires(){return[jp,zp,Bp,Kp,Yp,Hp,yd]}static get pluginName(){return"Table"}},class extends O{static get requires(){return[_h]}static get pluginName(){return"TableToolbar"}afterInit(){const e=this.editor,t=e.t,n=e.plugins.get(_h),r=e.config.get("table.contentToolbar"),i=e.config.get("table.tableToolbar");r&&n.register("tableContent",{ariaLabel:t("Table toolbar"),items:r,getRelatedElement:Qp}),i&&n.register("table",{ariaLabel:t("Table toolbar"),items:i,getRelatedElement:Jp})}},class extends O{static get pluginName(){return"TextTransformation"}constructor(e){super(e),e.config.define("typing",{transformations:{include:im}})}init(){const e=this.editor.model.document.selection;e.on("change:range",()=>{this.isEnabled=!e.anchor.parent.is("element","codeBlock")}),this._enableTransformationWatchers()}_enableTransformationWatchers(){const e=this.editor,d=e.model,i=e.plugins.get("Input"),n=function(e){const t=e.extra||[],n=e.remove||[],r=e=>!n.includes(e);return function(e){const t=new Set;for(const n of e)if(rm[n])for(const e of rm[n])t.add(e);else t.add(n);return Array.from(t)}(e.include.concat(t).filter(r)).filter(r).map(e=>nm[e]||e).map(e=>({from:om(e.from),to:function(e){return"string"==typeof e?()=>[e]:e instanceof Array?()=>e:e}(e.to)}))}(e.config.get("typing.transformations")),t=new Ih(e.model,e=>{for(const t of n)if(t.from.test(e))return{normalizedTransformation:t}});t.on("matched:data",(e,t)=>{if(i.isInput(t.batch)){const{from:n,to:r}=t.normalizedTransformation,l=n.exec(t.text),c=r(l.slice(1)),u=t.range;let s=l.index;d.enqueueChange(t=>{for(let e=1;e<l.length;e++){var n=l[e],r=c[e-1];if(null==r)s+=n.length;else{const i=u.start.getShiftedBy(s),o=d.createRange(i,i.getShiftedBy(n.length)),a=((n=i).textNode||n.nodeAfter).getAttributes();d.insertContent(t.createText(r,a),o),s+=r.length}}})}}),t.bind("isEnabled").to(this)}}],sm.defaultConfig={toolbar:{items:["heading","|","bold","italic","link","bulletedList","numberedList","|","indent","outdent","|","imageUpload","blockQuote","insertTable","mediaEmbed","undo","redo"]},image:{toolbar:["imageStyle:full","imageStyle:side","|","imageTextAlternative"]},table:{contentToolbar:["tableColumn","tableRow","mergeTableCells"]},language:"en"}}],r={},i.m=n,i.c=r,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)i.d(n,r,function(e){return t[e]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=98).default;function i(e){var t;return(r[e]||(t=r[e]={i:e,l:!1,exports:{}},n[e].call(t.exports,t,t.exports,i),t.l=!0,t)).exports}var n,r}),!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.contentful=t():e.contentful=t()}(window,function(){return n={"../node_modules/axios/index.js":function(e,t,n){e.exports=n("../node_modules/axios/lib/axios.js")},"../node_modules/axios/lib/adapters/xhr.js":function(e,t,n){"use strict";var h=n("../node_modules/axios/lib/utils.js"),f=n("../node_modules/axios/lib/core/settle.js"),p=n("../node_modules/axios/lib/helpers/cookies.js"),m=n("../node_modules/axios/lib/helpers/buildURL.js"),g=n("../node_modules/axios/lib/core/buildFullPath.js"),v=n("../node_modules/axios/lib/helpers/parseHeaders.js"),b=n("../node_modules/axios/lib/helpers/isURLSameOrigin.js"),y=n("../node_modules/axios/lib/defaults/transitional.js"),w=n("../node_modules/axios/lib/core/AxiosError.js"),_=n("../node_modules/axios/lib/cancel/CanceledError.js"),k=n("../node_modules/axios/lib/helpers/parseProtocol.js");e.exports=function(d){return new Promise(function(t,n){var e,r=d.data,i=d.headers,o=d.responseType;function a(){d.cancelToken&&d.cancelToken.unsubscribe(e),d.signal&&d.signal.removeEventListener("abort",e)}h.isFormData(r)&&h.isStandardBrowserEnv()&&delete i["Content-Type"];var s=new XMLHttpRequest,l=(d.auth&&(l=d.auth.username||"",u=d.auth.password?unescape(encodeURIComponent(d.auth.password)):"",i.Authorization="Basic "+btoa(l+":"+u)),g(d.baseURL,d.url));function c(){var e;s&&(e="getAllResponseHeaders"in s?v(s.getAllResponseHeaders()):null,e={data:o&&"text"!==o&&"json"!==o?s.response:s.responseText,status:s.status,statusText:s.statusText,headers:e,config:d,request:s},f(function(e){t(e),a()},function(e){n(e),a()},e),s=null)}s.open(d.method.toUpperCase(),m(l,d.params,d.paramsSerializer),!0),s.timeout=d.timeout,"onloadend"in s?s.onloadend=c:s.onreadystatechange=function(){s&&4===s.readyState&&(0!==s.status||s.responseURL&&0===s.responseURL.indexOf("file:"))&&setTimeout(c)},s.onabort=function(){s&&(n(new w("Request aborted",w.ECONNABORTED,d,s)),s=null)},s.onerror=function(){n(new w("Network Error",w.ERR_NETWORK,d,s,s)),s=null},s.ontimeout=function(){var e=d.timeout?"timeout of "+d.timeout+"ms exceeded":"timeout exceeded",t=d.transitional||y;d.timeoutErrorMessage&&(e=d.timeoutErrorMessage),n(new w(e,t.clarifyTimeoutError?w.ETIMEDOUT:w.ECONNABORTED,d,s)),s=null},h.isStandardBrowserEnv()&&(u=(d.withCredentials||b(l))&&d.xsrfCookieName?p.read(d.xsrfCookieName):void 0)&&(i[d.xsrfHeaderName]=u),"setRequestHeader"in s&&h.forEach(i,function(e,t){void 0===r&&"content-type"===t.toLowerCase()?delete i[t]:s.setRequestHeader(t,e)}),h.isUndefined(d.withCredentials)||(s.withCredentials=!!d.withCredentials),o&&"json"!==o&&(s.responseType=d.responseType),"function"==typeof d.onDownloadProgress&&s.addEventListener("progress",d.onDownloadProgress),"function"==typeof d.onUploadProgress&&s.upload&&s.upload.addEventListener("progress",d.onUploadProgress),(d.cancelToken||d.signal)&&(e=function(e){s&&(n(!e||e.type?new _:e),s.abort(),s=null)},d.cancelToken&&d.cancelToken.subscribe(e),d.signal&&(d.signal.aborted?e():d.signal.addEventListener("abort",e)));var r=r||null,u=k(l);u&&-1===["http","https","file"].indexOf(u)?n(new w("Unsupported protocol "+u+":",w.ERR_BAD_REQUEST,d)):s.send(r)})}},"../node_modules/axios/lib/axios.js":function(e,t,n){"use strict";var i=n("../node_modules/axios/lib/utils.js"),o=n("../node_modules/axios/lib/helpers/bind.js"),a=n("../node_modules/axios/lib/core/Axios.js"),s=n("../node_modules/axios/lib/core/mergeConfig.js");var r=function t(n){var e=new a(n),r=o(a.prototype.request,e);return i.extend(r,a.prototype,e),i.extend(r,e),r.create=function(e){return t(s(n,e))},r}(n("../node_modules/axios/lib/defaults/index.js"));r.Axios=a,r.CanceledError=n("../node_modules/axios/lib/cancel/CanceledError.js"),r.CancelToken=n("../node_modules/axios/lib/cancel/CancelToken.js"),r.isCancel=n("../node_modules/axios/lib/cancel/isCancel.js"),r.VERSION=n("../node_modules/axios/lib/env/data.js").version,r.toFormData=n("../node_modules/axios/lib/helpers/toFormData.js"),r.AxiosError=n("../node_modules/axios/lib/core/AxiosError.js"),r.Cancel=r.CanceledError,r.all=function(e){return Promise.all(e)},r.spread=n("../node_modules/axios/lib/helpers/spread.js"),r.isAxiosError=n("../node_modules/axios/lib/helpers/isAxiosError.js"),e.exports=r,e.exports.default=r},"../node_modules/axios/lib/cancel/CancelToken.js":function(e,t,n){"use strict";var i=n("../node_modules/axios/lib/cancel/CanceledError.js");function r(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");this.promise=new Promise(function(e){t=e});var t,r=this;this.promise.then(function(e){if(r._listeners){for(var t=r._listeners.length,n=0;n<t;n++)r._listeners[n](e);r._listeners=null}}),this.promise.then=function(e){var t,e=new Promise(function(e){r.subscribe(e),t=e}).then(e);return e.cancel=function(){r.unsubscribe(t)},e},e(function(e){r.reason||(r.reason=new i(e),t(r.reason))})}r.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},r.prototype.subscribe=function(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]},r.prototype.unsubscribe=function(e){!this._listeners||-1!==(e=this._listeners.indexOf(e))&&this._listeners.splice(e,1)},r.source=function(){var t;return{token:new r(function(e){t=e}),cancel:t}},e.exports=r},"../node_modules/axios/lib/cancel/CanceledError.js":function(e,t,n){"use strict";var r=n("../node_modules/axios/lib/core/AxiosError.js");function i(e){r.call(this,null==e?"canceled":e,r.ERR_CANCELED),this.name="CanceledError"}n("../node_modules/axios/lib/utils.js").inherits(i,r,{__CANCEL__:!0}),e.exports=i},"../node_modules/axios/lib/cancel/isCancel.js":function(e,t,n){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},"../node_modules/axios/lib/core/Axios.js":function(e,t,n){"use strict";var r=n("../node_modules/axios/lib/utils.js"),i=n("../node_modules/axios/lib/helpers/buildURL.js"),o=n("../node_modules/axios/lib/core/InterceptorManager.js"),u=n("../node_modules/axios/lib/core/dispatchRequest.js"),d=n("../node_modules/axios/lib/core/mergeConfig.js"),a=n("../node_modules/axios/lib/core/buildFullPath.js"),h=n("../node_modules/axios/lib/helpers/validator.js"),f=h.validators;function s(e){this.defaults=e,this.interceptors={request:new o,response:new o}}s.prototype.request=function(e,t){"string"==typeof e?(t=t||{}).url=e:t=e||{},(t=d(this.defaults,t)).method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var n,e=t.transitional,r=(void 0!==e&&h.assertOptions(e,{silentJSONParsing:f.transitional(f.boolean),forcedJSONParsing:f.transitional(f.boolean),clarifyTimeoutError:f.transitional(f.boolean)},!1),[]),i=!0,o=(this.interceptors.request.forEach(function(e){"function"==typeof e.runWhen&&!1===e.runWhen(t)||(i=i&&e.synchronous,r.unshift(e.fulfilled,e.rejected))}),[]);if(this.interceptors.response.forEach(function(e){o.push(e.fulfilled,e.rejected)}),i){for(var a=t;r.length;){var s=r.shift(),l=r.shift();try{a=s(a)}catch(e){l(e);break}}try{n=u(a)}catch(e){return Promise.reject(e)}for(;o.length;)n=n.then(o.shift(),o.shift())}else{var c=[u,void 0];for(Array.prototype.unshift.apply(c,r),c=c.concat(o),n=Promise.resolve(t);c.length;)n=n.then(c.shift(),c.shift())}return n},s.prototype.getUri=function(e){e=d(this.defaults,e);var t=a(e.baseURL,e.url);return i(t,e.params,e.paramsSerializer)},r.forEach(["delete","get","head","options"],function(n){s.prototype[n]=function(e,t){return this.request(d(t||{},{method:n,url:e,data:(t||{}).data}))}}),r.forEach(["post","put","patch"],function(i){function e(r){return function(e,t,n){return this.request(d(n||{},{method:i,headers:r?{"Content-Type":"multipart/form-data"}:{},url:e,data:t}))}}s.prototype[i]=e(),s.prototype[i+"Form"]=e(!0)}),e.exports=s},"../node_modules/axios/lib/core/AxiosError.js":function(e,t,n){"use strict";var s=n("../node_modules/axios/lib/utils.js");function l(e,t,n,r,i){Error.call(this),this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i)}s.inherits(l,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var c=l.prototype,r={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED"].forEach(function(e){r[e]={value:e}}),Object.defineProperties(l,r),Object.defineProperty(c,"isAxiosError",{value:!0}),l.from=function(e,t,n,r,i,o){var a=Object.create(c);return s.toFlatObject(e,a,function(e){return e!==Error.prototype}),l.call(a,e.message,t,n,r,i),a.name=e.name,o&&Object.assign(a,o),a},e.exports=l},"../node_modules/axios/lib/core/InterceptorManager.js":function(e,t,n){"use strict";var r=n("../node_modules/axios/lib/utils.js");function i(){this.handlers=[]}i.prototype.use=function(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1},i.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},i.prototype.forEach=function(t){r.forEach(this.handlers,function(e){null!==e&&t(e)})},e.exports=i},"../node_modules/axios/lib/core/buildFullPath.js":function(e,t,n){"use strict";var r=n("../node_modules/axios/lib/helpers/isAbsoluteURL.js"),i=n("../node_modules/axios/lib/helpers/combineURLs.js");e.exports=function(e,t){return e&&!r(t)?i(e,t):t}},"../node_modules/axios/lib/core/dispatchRequest.js":function(e,t,n){"use strict";var r=n("../node_modules/axios/lib/utils.js"),i=n("../node_modules/axios/lib/core/transformData.js"),o=n("../node_modules/axios/lib/cancel/isCancel.js"),a=n("../node_modules/axios/lib/defaults/index.js"),s=n("../node_modules/axios/lib/cancel/CanceledError.js");function l(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new s}e.exports=function(t){return l(t),t.headers=t.headers||{},t.data=i.call(t,t.data,t.headers,t.transformRequest),t.headers=r.merge(t.headers.common||{},t.headers[t.method]||{},t.headers),r.forEach(["delete","get","head","post","put","patch","common"],function(e){delete t.headers[e]}),(t.adapter||a.adapter)(t).then(function(e){return l(t),e.data=i.call(t,e.data,e.headers,t.transformResponse),e},function(e){return o(e)||(l(t),e&&e.response&&(e.response.data=i.call(t,e.response.data,e.response.headers,t.transformResponse))),Promise.reject(e)})}},"../node_modules/axios/lib/core/mergeConfig.js":function(e,t,n){"use strict";var c=n("../node_modules/axios/lib/utils.js");e.exports=function(t,n){n=n||{};var r={};function i(e,t){return c.isPlainObject(e)&&c.isPlainObject(t)?c.merge(e,t):c.isPlainObject(t)?c.merge({},t):c.isArray(t)?t.slice():t}function o(e){return c.isUndefined(n[e])?c.isUndefined(t[e])?void 0:i(void 0,t[e]):i(t[e],n[e])}function e(e){if(!c.isUndefined(n[e]))return i(void 0,n[e])}function a(e){return c.isUndefined(n[e])?c.isUndefined(t[e])?void 0:i(void 0,t[e]):i(void 0,n[e])}function s(e){return e in n?i(t[e],n[e]):e in t?i(void 0,t[e]):void 0}var l={url:e,method:e,data:e,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:s};return c.forEach(Object.keys(t).concat(Object.keys(n)),function(e){var t=l[e]||o,n=t(e);c.isUndefined(n)&&t!==s||(r[e]=n)}),r}},"../node_modules/axios/lib/core/settle.js":function(e,t,n){"use strict";var i=n("../node_modules/axios/lib/core/AxiosError.js");e.exports=function(e,t,n){var r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(new i("Request failed with status code "+n.status,[i.ERR_BAD_REQUEST,i.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}},"../node_modules/axios/lib/core/transformData.js":function(e,t,n){"use strict";var i=n("../node_modules/axios/lib/utils.js"),o=n("../node_modules/axios/lib/defaults/index.js");e.exports=function(t,n,e){var r=this||o;return i.forEach(e,function(e){t=e.call(r,t,n)}),t}},"../node_modules/axios/lib/defaults/index.js":function(u,e,d){"use strict";!function(e){var a=d("../node_modules/axios/lib/utils.js"),s=d("../node_modules/axios/lib/helpers/normalizeHeaderName.js"),r=d("../node_modules/axios/lib/core/AxiosError.js"),t=d("../node_modules/axios/lib/defaults/transitional.js"),l=d("../node_modules/axios/lib/helpers/toFormData.js"),n={"Content-Type":"application/x-www-form-urlencoded"};function c(e,t){!a.isUndefined(e)&&a.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var i,o={transitional:t,adapter:i="undefined"!=typeof XMLHttpRequest||void 0!==e&&"[object process]"===Object.prototype.toString.call(e)?d("../node_modules/axios/lib/adapters/xhr.js"):i,transformRequest:[function(e,t){if(s(t,"Accept"),s(t,"Content-Type"),!(a.isFormData(e)||a.isArrayBuffer(e)||a.isBuffer(e)||a.isStream(e)||a.isFile(e)||a.isBlob(e))){if(a.isArrayBufferView(e))return e.buffer;if(a.isURLSearchParams(e))return c(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString();var n=a.isObject(e),r=t&&t["Content-Type"];if((i=a.isFileList(e))||n&&"multipart/form-data"===r)return o=this.env&&this.env.FormData,l(i?{"files[]":e}:e,o&&new o);if(n||"application/json"===r){c(t,"application/json");var i=e,o=void 0,n=void 0;if(a.isString(i))try{return(o||JSON.parse)(i),a.trim(i)}catch(e){if("SyntaxError"!==e.name)throw e}return(n||JSON.stringify)(i)}}return e}],transformResponse:[function(e){var t=this.transitional||o.transitional,n=t&&t.silentJSONParsing,t=t&&t.forcedJSONParsing,n=!n&&"json"===this.responseType;if(n||t&&a.isString(e)&&e.length)try{return JSON.parse(e)}catch(e){if(n){if("SyntaxError"===e.name)throw r.from(e,r.ERR_BAD_RESPONSE,this,null,this.response);throw e}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:d("../node_modules/axios/lib/helpers/null.js")},validateStatus:function(e){return 200<=e&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};a.forEach(["delete","get","head"],function(e){o.headers[e]={}}),a.forEach(["post","put","patch"],function(e){o.headers[e]=a.merge(n)}),u.exports=o}.call(this,d("../node_modules/process/browser.js"))},"../node_modules/axios/lib/defaults/transitional.js":function(e,t,n){"use strict";e.exports={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1}},"../node_modules/axios/lib/env/data.js":function(e,t){e.exports={version:"0.27.2"}},"../node_modules/axios/lib/helpers/bind.js":function(e,t,n){"use strict";e.exports=function(n,r){return function(){for(var e=new Array(arguments.length),t=0;t<e.length;t++)e[t]=arguments[t];return n.apply(r,e)}}},"../node_modules/axios/lib/helpers/buildURL.js":function(e,t,n){"use strict";var i=n("../node_modules/axios/lib/utils.js");function o(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,n){var r;return!t||(n=n?n(t):i.isURLSearchParams(t)?t.toString():(r=[],i.forEach(t,function(e,t){null!=e&&(i.isArray(e)?t+="[]":e=[e],i.forEach(e,function(e){i.isDate(e)?e=e.toISOString():i.isObject(e)&&(e=JSON.stringify(e)),r.push(o(t)+"="+o(e))}))}),r.join("&")))&&(-1!==(t=e.indexOf("#"))&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+n),e}},"../node_modules/axios/lib/helpers/combineURLs.js":function(e,t,n){"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},"../node_modules/axios/lib/helpers/cookies.js":function(e,t,n){"use strict";var s=n("../node_modules/axios/lib/utils.js");e.exports=s.isStandardBrowserEnv()?{write:function(e,t,n,r,i,o){var a=[];a.push(e+"="+encodeURIComponent(t)),s.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),s.isString(r)&&a.push("path="+r),s.isString(i)&&a.push("domain="+i),!0===o&&a.push("secure"),document.cookie=a.join("; ")},read:function(e){e=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},"../node_modules/axios/lib/helpers/isAbsoluteURL.js":function(e,t,n){"use strict";e.exports=function(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}},"../node_modules/axios/lib/helpers/isAxiosError.js":function(e,t,n){"use strict";var r=n("../node_modules/axios/lib/utils.js");e.exports=function(e){return r.isObject(e)&&!0===e.isAxiosError}},"../node_modules/axios/lib/helpers/isURLSameOrigin.js":function(e,t,n){"use strict";var r,i,o,a=n("../node_modules/axios/lib/utils.js");function s(e){return i&&(o.setAttribute("href",e),e=o.href),o.setAttribute("href",e),{href:o.href,protocol:o.protocol?o.protocol.replace(/:$/,""):"",host:o.host,search:o.search?o.search.replace(/^\?/,""):"",hash:o.hash?o.hash.replace(/^#/,""):"",hostname:o.hostname,port:o.port,pathname:"/"===o.pathname.charAt(0)?o.pathname:"/"+o.pathname}}e.exports=a.isStandardBrowserEnv()?(i=/(msie|trident)/i.test(navigator.userAgent),o=document.createElement("a"),r=s(window.location.href),function(e){e=a.isString(e)?s(e):e;return e.protocol===r.protocol&&e.host===r.host}):function(){return!0}},"../node_modules/axios/lib/helpers/normalizeHeaderName.js":function(e,t,n){"use strict";var i=n("../node_modules/axios/lib/utils.js");e.exports=function(n,r){i.forEach(n,function(e,t){t!==r&&t.toUpperCase()===r.toUpperCase()&&(n[r]=e,delete n[t])})}},"../node_modules/axios/lib/helpers/null.js":function(e,t){e.exports=null},"../node_modules/axios/lib/helpers/parseHeaders.js":function(e,t,n){"use strict";var i=n("../node_modules/axios/lib/utils.js"),o=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,n,r={};return e&&i.forEach(e.split("\n"),function(e){n=e.indexOf(":"),t=i.trim(e.substr(0,n)).toLowerCase(),n=i.trim(e.substr(n+1)),!t||r[t]&&0<=o.indexOf(t)||(r[t]="set-cookie"===t?(r[t]||[]).concat([n]):r[t]?r[t]+", "+n:n)}),r}},"../node_modules/axios/lib/helpers/parseProtocol.js":function(e,t,n){"use strict";e.exports=function(e){e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return e&&e[1]||""}},"../node_modules/axios/lib/helpers/spread.js":function(e,t,n){"use strict";e.exports=function(t){return function(e){return t.apply(null,e)}}},"../node_modules/axios/lib/helpers/toFormData.js":function(e,t,r){"use strict";!function(n){var s=r("../node_modules/axios/lib/utils.js");e.exports=function(e,o){o=o||new FormData;var t=[];function a(e){return null===e?"":s.isDate(e)?e.toISOString():s.isArrayBuffer(e)||s.isTypedArray(e)?"function"==typeof Blob?new Blob([e]):n.from(e):e}return function r(e,i){if(s.isPlainObject(e)||s.isArray(e)){if(-1!==t.indexOf(e))throw Error("Circular reference detected in "+i);t.push(e),s.forEach(e,function(e,t){if(!s.isUndefined(e)){var n=i?i+"."+t:t;if(e&&!i&&"object"==typeof e)if(s.endsWith(t,"{}"))e=JSON.stringify(e);else if(s.endsWith(t,"[]")&&(t=s.toArray(e)))return void t.forEach(function(e){s.isUndefined(e)||o.append(n,a(e))});r(e,n)}}),t.pop()}else o.append(i,a(e))}(e),o}}.call(this,r("../node_modules/node-libs-browser/node_modules/buffer/index.js").Buffer)},"../node_modules/axios/lib/helpers/validator.js":function(e,t,n){"use strict";var a=n("../node_modules/axios/lib/env/data.js").version,l=n("../node_modules/axios/lib/core/AxiosError.js"),r={},s=(["object","boolean","number","function","string","symbol"].forEach(function(t,n){r[t]=function(e){return typeof e===t||"a"+(n<1?"n ":" ")+t}}),{});r.transitional=function(r,i,n){function o(e,t){return"[Axios v"+a+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return function(e,t,n){if(!1===r)throw new l(o(t," has been removed"+(i?" in "+i:"")),l.ERR_DEPRECATED);return i&&!s[t]&&(s[t]=!0,console.warn(o(t," has been deprecated since v"+i+" and will be removed in the near future"))),!r||r(e,t,n)}},e.exports={assertOptions:function(e,t,n){if("object"!=typeof e)throw new l("options must be an object",l.ERR_BAD_OPTION_VALUE);for(var r=Object.keys(e),i=r.length;0<i--;){var o=r[i],a=t[o];if(a){var s=e[o],a=void 0===s||a(s,o,e);if(!0!==a)throw new l("option "+o+" must be "+a,l.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new l("Unknown option "+o,l.ERR_BAD_OPTION)}},validators:r}},"../node_modules/axios/lib/utils.js":function(e,t,n){"use strict";var r,i=n("../node_modules/axios/lib/helpers/bind.js"),o=Object.prototype.toString,a=(r=Object.create(null),function(e){e=o.call(e);return r[e]||(r[e]=e.slice(8,-1).toLowerCase())});function s(t){return t=t.toLowerCase(),function(e){return a(e)===t}}function l(e){return Array.isArray(e)}function c(e){return void 0===e}var u=s("ArrayBuffer");function d(e){return null!==e&&"object"==typeof e}function h(e){return"object"===a(e)&&(null===(e=Object.getPrototypeOf(e))||e===Object.prototype)}var n=s("Date"),f=s("File"),p=s("Blob"),m=s("FileList");function g(e){return"[object Function]"===o.call(e)}var v,b=s("URLSearchParams");function y(e,t){if(null!=e)if(l(e="object"!=typeof e?[e]:e))for(var n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.call(null,e[i],i,e)}v="undefined"!=typeof Uint8Array&&Object.getPrototypeOf(Uint8Array),e.exports={isArray:l,isArrayBuffer:u,isBuffer:function(e){return null!==e&&!c(e)&&null!==e.constructor&&!c(e.constructor)&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){var t="[object FormData]";return e&&("function"==typeof FormData&&e instanceof FormData||o.call(e)===t||g(e.toString)&&e.toString()===t)},isArrayBufferView:function(e){return e="undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&u(e.buffer)},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:d,isPlainObject:h,isUndefined:c,isDate:n,isFile:f,isBlob:p,isFunction:g,isStream:function(e){return d(e)&&g(e.pipe)},isURLSearchParams:b,isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)},forEach:y,merge:function n(){var r={};function e(e,t){h(r[t])&&h(e)?r[t]=n(r[t],e):h(e)?r[t]=n({},e):l(e)?r[t]=e.slice():r[t]=e}for(var t=0,i=arguments.length;t<i;t++)y(arguments[t],e);return r},extend:function(n,e,r){return y(e,function(e,t){n[t]=r&&"function"==typeof e?i(e,r):e}),n},trim:function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")},stripBOM:function(e){return e=65279===e.charCodeAt(0)?e.slice(1):e},inherits:function(e,t,n,r){e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,n&&Object.assign(e.prototype,n)},toFlatObject:function(e,t,n){var r,i,o,a={};t=t||{};do{for(i=(r=Object.getOwnPropertyNames(e)).length;0<i--;)a[o=r[i]]||(t[o]=e[o],a[o]=!0)}while((e=Object.getPrototypeOf(e))&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:a,kindOfTest:s,endsWith:function(e,t,n){return e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length,-1!==(e=e.indexOf(t,n))&&e===n},toArray:function(e){if(!e)return null;var t=e.length;if(c(t))return null;for(var n=new Array(t);0<t--;)n[t]=e[t];return n},isTypedArray:function(e){return v&&e instanceof v},isFileList:m}},"../node_modules/base64-js/index.js":function(e,t,n){"use strict";t.byteLength=function(e){var e=u(e),t=e[0],e=e[1];return 3*(t+e)/4-e},t.toByteArray=function(e){var t,n,r=u(e),i=r[0],r=r[1],o=new c(function(e,t){return 3*(e+t)/4-t}(i,r)),a=0,s=0<r?i-4:i;for(n=0;n<s;n+=4)t=l[e.charCodeAt(n)]<<18|l[e.charCodeAt(n+1)]<<12|l[e.charCodeAt(n+2)]<<6|l[e.charCodeAt(n+3)],o[a++]=t>>16&255,o[a++]=t>>8&255,o[a++]=255&t;2===r&&(t=l[e.charCodeAt(n)]<<2|l[e.charCodeAt(n+1)]>>4,o[a++]=255&t);1===r&&(t=l[e.charCodeAt(n)]<<10|l[e.charCodeAt(n+1)]<<4|l[e.charCodeAt(n+2)]>>2,o[a++]=t>>8&255,o[a++]=255&t);return o},t.fromByteArray=function(e){for(var t,n=e.length,r=n%3,i=[],o=0,a=n-r;o<a;o+=16383)i.push(function(e,t,n){for(var r,i=[],o=t;o<n;o+=3)r=(e[o]<<16&16711680)+(e[o+1]<<8&65280)+(255&e[o+2]),i.push(function(e){return s[e>>18&63]+s[e>>12&63]+s[e>>6&63]+s[63&e]}(r));return i.join("")}(e,o,a<o+16383?a:o+16383));1==r?(t=e[n-1],i.push(s[t>>2]+s[t<<4&63]+"==")):2==r&&(t=(e[n-2]<<8)+e[n-1],i.push(s[t>>10]+s[t>>4&63]+s[t<<2&63]+"="));return i.join("")};for(var s=[],l=[],c="undefined"!=typeof Uint8Array?Uint8Array:Array,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=0,o=r.length;i<o;++i)s[i]=r[i],l[r.charCodeAt(i)]=i;function u(e){var t=e.length;if(0<t%4)throw new Error("Invalid string. Length must be a multiple of 4");e=e.indexOf("="),t=(e=-1===e?t:e)===t?0:4-e%4;return[e,t]}l["-".charCodeAt(0)]=62,l["_".charCodeAt(0)]=63},"../node_modules/call-bind/callBound.js":function(e,t,n){"use strict";var r=n("../node_modules/get-intrinsic/index.js"),i=n("../node_modules/call-bind/index.js"),o=i(r("String.prototype.indexOf"));e.exports=function(e,t){t=r(e,!!t);return"function"==typeof t&&-1<o(e,".prototype.")?i(t):t}},"../node_modules/call-bind/index.js":function(e,t,n){"use strict";var r=n("../node_modules/function-bind/index.js"),n=n("../node_modules/get-intrinsic/index.js"),i=n("%Function.prototype.apply%"),o=n("%Function.prototype.call%"),a=n("%Reflect.apply%",!0)||r.call(o,i),s=n("%Object.getOwnPropertyDescriptor%",!0),l=n("%Object.defineProperty%",!0),c=n("%Math.max%");if(l)try{l({},"a",{value:1})}catch(e){l=null}e.exports=function(e){var t=a(r,o,arguments);return s&&l&&s(t,"length").configurable&&l(t,"length",{value:1+c(0,e.length-(arguments.length-1))}),t};function u(){return a(r,i,arguments)}l?l(e.exports,"apply",{value:u}):e.exports.apply=u},"../node_modules/contentful-resolve-response/dist/esm/index.js":function(e,t,n){"use strict";n.r(t);var r=n("../node_modules/fast-copy/dist/fast-copy.js"),a=n.n(r),o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function s(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function l(e){return e&&e.sys&&"Link"===e.sys.type}function c(e){return e.type+"!"+e.id}function u(e,t,n,r){if(t(e))return n(e);if(e&&"object"===(void 0===e?"undefined":o(e))){for(var i in e)e.hasOwnProperty(i)&&(e[i]=u(e[i],t,n,r));r&&(e=f(e))}return e}var d={},h=function(e,t){var t=t.sys,n=t.linkType,t=t.id,n=c({type:n,id:t});return e.get(n)||d},f=function(e){if(Array.isArray(e))return e.filter(function(e){return e!==d});for(var t in e)e[t]===d&&delete e[t];return e};t.default=function(n,i){var e,t,o;return i=i||{},n.items?(e=a()(n),t=Object.keys(e.includes||{}).reduce(function(e,t){return[].concat(s(e),s(n.includes[t]))},[]),t=[].concat(s(e.items),s(t)),o=new Map(t.map(function(e){return[c(e.sys),e]})),t.forEach(function(e){n=e,t=i.itemEntryPoints;var n,t,r=Array.isArray(t)?Object.keys(n).filter(function(e){return-1!==t.indexOf(e)}).reduce(function(e,t){return e[t]=n[t],e},{}):n;Object.assign(e,u(r,l,function(e){var t=o,n=i.removeUnresolved;return(t=h(t,e))!==d||n?t:e},i.removeUnresolved))}),e.items):[]}},"../node_modules/contentful-sdk-core/dist/index.es-modules.js":function(e,R,I){"use strict";I.r(R),function(l){I.d(R,"createHttpClient",function(){return T}),I.d(R,"createRequestConfig",function(){return a}),I.d(R,"enforceObjPath",function(){return $}),I.d(R,"errorHandler",function(){return D}),I.d(R,"freezeSys",function(){return A}),I.d(R,"getUserAgentHeader",function(){return M}),I.d(R,"toPlainObject",function(){return P});var e=I("../node_modules/fast-copy/dist/fast-copy.js"),u=I.n(e),e=I("../node_modules/qs/lib/index.js"),d=I.n(e),e=I("../node_modules/lodash.isstring/index.js"),c=I.n(e),e=I("../node_modules/p-throttle/index.js"),n=I.n(e),e=I("../node_modules/lodash.isplainobject/index.js"),o=I.n(e);function t(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function h(r){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?t(Object(i),!0).forEach(function(e){var t,n;t=r,n=i[e=e],e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(i)):t(Object(i)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(i,e))})}return r}function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(){s=function(e,t){return new r(e,void 0,t)};var i=RegExp.prototype,o=new WeakMap;function r(e,t,n){t=new RegExp(e,t);return o.set(t,n||o.get(e)),f(t,r.prototype)}function a(n,e){var r=o.get(e);return Object.keys(r).reduce(function(e,t){return e[t]=n[r[t]],e},Object.create(null))}var e=r,t=RegExp;if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");return e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&f(e,t),r.prototype.exec=function(e){e=i.exec.call(this,e);return e&&(e.groups=a(e,this)),e},r.prototype[Symbol.replace]=function(e,t){var n,r;return"string"==typeof t?(n=o.get(this),i[Symbol.replace].call(this,e,t.replace(/\$<([^>]+)>/g,function(e,t){return"$"+n[t]}))):"function"==typeof t?(r=this,i[Symbol.replace].call(this,e,function(){var e=arguments;return"object"!=typeof e[e.length-1]&&(e=[].slice.call(e)).push(a(e,r)),t.apply(this,e)})):i[Symbol.replace].call(this,e,t)},s.apply(this,arguments)}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||m(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){var n;if(e)return"string"==typeof e?r(e,t):"Map"===(n="Object"===(n=Object.prototype.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function g(){return void 0!==l&&!l.browser}function v(){return l.versions&&l.versions.node?"v".concat(l.versions.node):l.version}function b(){}var y=s(/(\d+)(%)/,{value:1});function w(e,t){var t=1<arguments.length&&void 0!==t?t:7,n=t;return y.test(e)&&(e=null==(e=e.match(y))?void 0:e.groups)&&e.value&&(e=parseInt(e.value)/100,n=Math.round(t*e)),Math.min(30,Math.max(1,n))}function _(e,t){return t("info","Throttle request to ".concat(e,"/s")),n()({limit:e,interval:1e3,strict:!1})}var k=function(n){var r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"auto",e=n.defaults.logHandler,i=void 0===e?b:e,o=c()(r)?w(r):w("auto",r),a=_(o,i),s=!1,l=n.interceptors.request.use(function(e){return a(function(){return e})()},function(e){return Promise.reject(e)}),t=n.interceptors.response.use(function(e){var t;return!s&&c()(r)&&("auto"===r||y.test(r))&&e.headers&&e.headers["x-contentful-ratelimit-second-limit"]&&(t=parseInt(e.headers["x-contentful-ratelimit-second-limit"]),(t=w(r,t))!==o&&(l&&n.interceptors.request.eject(l),a=_(o=t,i),l=n.interceptors.request.use(function(e){return a(function(){return e})()},function(e){return Promise.reject(e)})),s=!0),e},function(e){return Promise.reject(e)});return function(){n.interceptors.request.eject(l),n.interceptors.response.eject(t)}},x=function(t){return new Promise(function(e){setTimeout(e,t)})},C=function(e){return Math.pow(Math.SQRT2,e)};var S=/^(?!\w+:\/\/)([^\s:]+\.?[^\s:]+)(?::(\d+))?(?!:)$/;function T(t,n){var e,r,i,o,a,s,l,c=h(h({},{insecure:!1,retryOnError:!0,logHandler:function(e,t){var n;"error"===e&&t?(n=[t.name,t.message].filter(function(e){return e}).join(" - "),console.error("[error] ".concat(n)),console.error(t)):console.log("[".concat(e,"] ").concat(t))},headers:{},httpAgent:!1,httpsAgent:!1,timeout:3e4,throttle:0,proxy:!1,basePath:"",adapter:void 0,maxContentLength:1073741824,maxBodyLength:1073741824}),n);if(c.accessToken)return s=c.insecure?"http":"https",e=c.space?"".concat(c.space,"/"):"",r=c.defaultHostname,i=c.insecure?80:443,c.host&&S.test(c.host)&&(2===(a=c.host.split(":")).length?(r=(o=p(a,2))[0],i=o[1]):r=a[0]),c.basePath&&(c.basePath="/".concat(c.basePath.split("/").filter(Boolean).join("/"))),o=n.baseURL||"".concat(s,"://").concat(r,":").concat(i).concat(c.basePath,"/spaces/").concat(e),c.headers.Authorization||"function"==typeof c.accessToken||(c.headers.Authorization="Bearer "+c.accessToken),g()&&(c.headers["user-agent"]="node.js/"+v(),c.headers["Accept-Encoding"]="gzip"),a={baseURL:o,headers:c.headers,httpAgent:c.httpAgent,httpsAgent:c.httpsAgent,paramsSerializer:d.a.stringify,proxy:c.proxy,timeout:c.timeout,adapter:c.adapter,maxContentLength:c.maxContentLength,maxBodyLength:c.maxBodyLength,logHandler:c.logHandler,responseLogger:c.responseLogger,requestLogger:c.requestLogger,retryOnError:c.retryOnError},(s=t.create(a)).httpClientParams=n,s.cloneWithNewParams=function(e){return T(t,h(h({},u()(n)),e))},c.onBeforeRequest&&s.interceptors.request.use(c.onBeforeRequest),"function"==typeof c.accessToken&&(l=c.accessToken,s.interceptors.request.use(function(t){return l().then(function(e){return t.headers=h(h({},t.headers),{},{Authorization:"Bearer ".concat(e)}),t})})),c.throttle&&k(s,c.throttle),function(a,e){var s=1<arguments.length&&void 0!==e?e:5,e=a.defaults,t=e.responseLogger,l=void 0===t?b:t,n=void 0===(t=e.requestLogger)?b:t;a.interceptors.request.use(function(e){return n(e),e},function(e){return n(e),Promise.reject(e)}),a.interceptors.response.use(function(e){return l(e),e},function(e){var t,n,r,i=e.response,o=e.config;return l(e),o&&a.defaults.retryOnError?(t=o.attempts||1,s<t?(e.attempts=o.attempts,Promise.reject(e)):(n=null,r=C(t),i?500<=i.status&&i.status<600?n="Server ".concat(i.status):429===i.status&&(n="Rate limit",i.headers&&e.response.headers["x-contentful-ratelimit-reset"]&&(r=i.headers["x-contentful-ratelimit-reset"])):n="Connection",n?(r=Math.floor(1e3*r+200*Math.random()+500),a.defaults.logHandler("warning","".concat(n," error occurred. Waiting for ").concat(r," ms before retrying...")),o.attempts=t+1,delete o.httpAgent,delete o.httpsAgent,x(r).then(function(){return a(o)})):Promise.reject(e))):Promise.reject(e)})}(s,c.retryLimit),c.onError&&s.interceptors.response.use(function(e){return e},c.onError),s;throw r=new TypeError("Expected parameter accessToken"),c.logHandler("error",r),r}function a(e){var e=e.query,t={};return delete e.resolveLinks,t.params=u()(e),t}function $(e,t){var n;if(t in e)return!0;throw(n=new Error).name="PropertyMissing",n.message="Required property ".concat(t," missing from:\n\n").concat(JSON.stringify(e),"\n\n"),n}function E(e){var t,n=function(e,t){var n,r,i,o,a="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(a)return r=!(n=!0),{s:function(){a=a.call(e)},n:function(){var e=a.next();return n=e.done,e},e:function(e){r=!0,i=e},f:function(){try{n||null==a.return||a.return()}finally{if(r)throw i}}};if(Array.isArray(e)||(a=m(e))||t&&e&&"number"==typeof e.length)return a&&(e=a),o=0,{s:t=function(){},n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:t};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(Object.getOwnPropertyNames(e));try{for(n.s();!(t=n.n()).done;){var r=e[t.value];r&&"object"===i(r)&&E(r)}}catch(e){n.e(e)}finally{n.f()}Object.freeze(e)}function A(e){return E(e.sys||{}),e}function O(){var e,t=window;return t?(e=t.navigator.userAgent,t=t.navigator.platform,-1!==["Macintosh","MacIntel","MacPPC","Mac68K"].indexOf(t)?"macOS":-1!==["iPhone","iPad","iPod"].indexOf(t)?"iOS":-1!==["Win32","Win64","Windows","WinCE"].indexOf(t)?"Windows":/Android/.test(e)?"Android":/Linux/.test(t)?"Linux":null):null}function M(e,t,n,r){var i,o,a,s=[],t=(t&&s.push("app ".concat(t)),n&&s.push("integration ".concat(n)),r&&s.push("feature "+r),s.push("sdk ".concat(e)),null);try{"undefined"!=typeof window&&"navigator"in window&&"product"in window.navigator&&"ReactNative"===window.navigator.product?(t=O(),s.push("platform ReactNative")):g()?(i=l.platform||"linux",o=l.version||"0.0.0",t=i in(a={android:"Android",aix:"Linux",darwin:"macOS",freebsd:"Linux",linux:"Linux",openbsd:"Linux",sunos:"Linux",win32:"Windows"})?"".concat(a[i]||"Linux","/").concat(o):null,s.push("platform node.js/".concat(v()))):(t=O(),s.push("platform browser"))}catch(e){t=null}return t&&s.push("os ".concat(t)),"".concat(s.filter(function(e){return""!==e}).join("; "),";")}function P(e){return Object.defineProperty(e,"toPlainObject",{enumerable:!1,configurable:!1,writable:!1,value:function(){return u()(this)}})}function D(t){var e,n=t.config,r=t.response;if(n&&n.headers&&n.headers.Authorization&&(i="...".concat(n.headers.Authorization.toString().substr(-5)),n.headers.Authorization="Bearer ".concat(i)),!o()(r)||!o()(n))throw t;var i=null==r?void 0:r.data,t={status:null==r?void 0:r.status,statusText:null==r?void 0:r.statusText,message:"",details:{}},n=(o()(n)&&(t.request={url:n.url,headers:n.headers,method:n.method,payloadData:n.data}),i&&o()(i)&&("requestId"in i&&(t.requestId=i.requestId||"UNKNOWN"),"message"in i&&(t.message=i.message||""),"details"in i&&(t.details=i.details||{}),"sys"in i&&"id"in i.sys&&(e=i.sys.id)),new Error);n.name=e&&"Unknown"!==e?e:"".concat(null==r?void 0:r.status," ").concat(null==r?void 0:r.statusText);try{n.message=JSON.stringify(t,null,"  ")}catch(e){n.message=null!=(i=null==t?void 0:t.message)?i:""}throw n}}.call(this,I("../node_modules/process/browser.js"))},"../node_modules/fast-copy/dist/fast-copy.js":function(e,t,n){!function(l){e.exports=function(){"use strict";var i=Function.prototype.toString,o=Object.create,u=Object.defineProperty,d=Object.getOwnPropertyDescriptor,h=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,a=Object.getPrototypeOf,e=Object.prototype,p=e.hasOwnProperty,m=e.propertyIsEnumerable,g=typeof f==="function",t=typeof WeakMap==="function",n=function(){if(t)return function(){return new WeakMap};var e=function(){function e(){this._keys=[];this._values=[]}e.prototype.has=function(e){return!!~this._keys.indexOf(e)};e.prototype.get=function(e){return this._values[this._keys.indexOf(e)]};e.prototype.set=function(e,t){this._keys.push(e);this._values.push(t)};return e}();return function(){return new e}}(),v=function(e,t){var n=e.__proto__||a(e);if(!n)return o(null);var r=n.constructor;if(r===t.Object)return n===t.Object.prototype?{}:o(n);if(~i.call(r).indexOf("[native code]"))try{return new r}catch(e){}return o(n)},r=function(e,t,n,r){var i=v(e,t);r.set(e,i);for(var o in e)if(p.call(e,o))i[o]=n(e[o],r);if(g){var a=f(e);for(var s=0,l=a.length,c=void 0;s<l;++s){c=a[s];if(m.call(e,c))i[c]=n(e[c],r)}}return i},b=function(e,t,n,r){var i=v(e,t);r.set(e,i);var o=g?h(e).concat(f(e)):h(e);for(var a=0,s=o.length,l=void 0,c=void 0;a<s;++a){l=o[a];if(l!=="callee"&&l!=="caller"){c=d(e,l);if(c){if(!c.get&&!c.set)c.value=n(e[l],r);try{u(i,l,c)}catch(e){i[l]=c.value}}else i[l]=n(e[l],r)}}return i},y=function(e){var t="";if(e.global)t+="g";if(e.ignoreCase)t+="i";if(e.multiline)t+="m";if(e.unicode)t+="u";if(e.sticky)t+="y";return t},w=Array.isArray,_=Object.getPrototypeOf,k=function(){if(typeof globalThis!=="undefined")return globalThis;if(typeof self!=="undefined")return self;if(typeof window!=="undefined")return window;if(typeof l!=="undefined")return l;if(console&&console.error)console.error('Unable to locate global object, returning "this".');return this}();function s(e,t){var s=!!(t&&t.isStrict);var l=t&&t.realm||k;var c=s?b:r;var u=function(e,n){if(!e||typeof e!=="object")return e;if(n.has(e))return n.get(e);var t=e.__proto__||_(e);var r=t&&t.constructor;if(!r||r===l.Object)return c(e,l,u,n);var i;if(w(e)){if(s)return b(e,l,u,n);i=new r;n.set(e,i);for(var o=0,a=e.length;o<a;++o)i[o]=u(e[o],n);return i}if(e instanceof l.Date)return new r(e.getTime());if(e instanceof l.RegExp){i=new r(e.source,e.flags||y(e));i.lastIndex=e.lastIndex;return i}if(l.Map&&e instanceof l.Map){i=new r;n.set(e,i);e.forEach(function(e,t){i.set(t,u(e,n))});return i}if(l.Set&&e instanceof l.Set){i=new r;n.set(e,i);e.forEach(function(e){i.add(u(e,n))});return i}if(l.Blob&&e instanceof l.Blob)return e.slice(0,e.size,e.type);if(l.Buffer&&l.Buffer.isBuffer(e)){i=l.Buffer.allocUnsafe?l.Buffer.allocUnsafe(e.length):new r(e.length);n.set(e,i);e.copy(i);return i}if(l.ArrayBuffer){if(l.ArrayBuffer.isView(e)){i=new r(e.buffer.slice(0));n.set(e,i);return i}if(e instanceof l.ArrayBuffer){i=e.slice(0);n.set(e,i);return i}}if(typeof e.then==="function"||e instanceof Error||l.WeakMap&&e instanceof l.WeakMap||l.WeakSet&&e instanceof l.WeakSet)return e;return c(e,l,u,n)};return u(e,n())}return(s.default=s).strict=function e(t,n){return s(t,{isStrict:true,realm:n?n.realm:void 0})},s}()}.call(this,n("../node_modules/webpack/buildin/global.js"))},"../node_modules/function-bind/implementation.js":function(e,t,n){"use strict";var l=Array.prototype.slice,c=Object.prototype.toString;e.exports=function(t){var n=this;if("function"!=typeof n||"[object Function]"!==c.call(n))throw new TypeError("Function.prototype.bind called on incompatible "+n);for(var r,e,i=l.call(arguments,1),o=Math.max(0,n.length-i.length),a=[],s=0;s<o;s++)a.push("$"+s);return r=Function("binder","return function ("+a.join(",")+"){ return binder.apply(this,arguments); }")(function(){var e;return this instanceof r?(e=n.apply(this,i.concat(l.call(arguments))),Object(e)===e?e:this):n.apply(t,i.concat(l.call(arguments)))}),n.prototype&&((e=function(){}).prototype=n.prototype,r.prototype=new e,e.prototype=null),r}},"../node_modules/function-bind/index.js":function(e,t,n){"use strict";n=n("../node_modules/function-bind/implementation.js");e.exports=Function.prototype.bind||n},"../node_modules/get-intrinsic/index.js":function(e,t,n){"use strict";var r,h=SyntaxError,i=Function,f=TypeError,o=function(e){try{return i('"use strict"; return ('+e+").constructor;")()}catch(e){}},p=Object.getOwnPropertyDescriptor;if(p)try{p({},"")}catch(e){p=null}function a(){throw new f}function m(e){var t,n;return"%AsyncFunction%"===e?t=o("async function () {}"):"%GeneratorFunction%"===e?t=o("function* () {}"):"%AsyncGeneratorFunction%"===e?t=o("async function* () {}"):"%AsyncGenerator%"===e?(n=m("%AsyncGeneratorFunction%"))&&(t=n.prototype):"%AsyncIteratorPrototype%"===e&&(n=m("%AsyncGenerator%"))&&(t=c(n.prototype)),v[e]=t}var s=p?function(){try{return a}catch(e){try{return p(arguments,"callee").get}catch(e){return a}}}():a,l=n("../node_modules/has-symbols/index.js")(),c=Object.getPrototypeOf||function(e){return e.__proto__},g={},u="undefined"==typeof Uint8Array?r:c(Uint8Array),v={"%AggregateError%":"undefined"==typeof AggregateError?r:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?r:ArrayBuffer,"%ArrayIteratorPrototype%":l?c([][Symbol.iterator]()):r,"%AsyncFromSyncIteratorPrototype%":r,"%AsyncFunction%":g,"%AsyncGenerator%":g,"%AsyncGeneratorFunction%":g,"%AsyncIteratorPrototype%":g,"%Atomics%":"undefined"==typeof Atomics?r:Atomics,"%BigInt%":"undefined"==typeof BigInt?r:BigInt,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?r:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined"==typeof Float32Array?r:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?r:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?r:FinalizationRegistry,"%Function%":i,"%GeneratorFunction%":g,"%Int8Array%":"undefined"==typeof Int8Array?r:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?r:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?r:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":l?c(c([][Symbol.iterator]())):r,"%JSON%":"object"==typeof JSON?JSON:r,"%Map%":"undefined"==typeof Map?r:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&l?c((new Map)[Symbol.iterator]()):r,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?r:Promise,"%Proxy%":"undefined"==typeof Proxy?r:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined"==typeof Reflect?r:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?r:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&l?c((new Set)[Symbol.iterator]()):r,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?r:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":l?c(""[Symbol.iterator]()):r,"%Symbol%":l?Symbol:r,"%SyntaxError%":h,"%ThrowTypeError%":s,"%TypedArray%":u,"%TypeError%":f,"%Uint8Array%":"undefined"==typeof Uint8Array?r:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?r:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?r:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?r:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined"==typeof WeakMap?r:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?r:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?r:WeakSet},b={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},l=n("../node_modules/function-bind/index.js"),y=n("../node_modules/has/src/index.js"),w=l.call(Function.call,Array.prototype.concat),_=l.call(Function.apply,Array.prototype.splice),k=l.call(Function.call,String.prototype.replace),x=l.call(Function.call,String.prototype.slice),C=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,S=/\\(\\)?/g;e.exports=function(e,t){if("string"!=typeof e||0===e.length)throw new f("intrinsic name must be a non-empty string");if(1<arguments.length&&"boolean"!=typeof t)throw new f('"allowMissing" argument must be a boolean');var n=function(e){var t=x(e,0,1),n=x(e,-1);if("%"===t&&"%"!==n)throw new h("invalid intrinsic syntax, expected closing `%`");if("%"===n&&"%"!==t)throw new h("invalid intrinsic syntax, expected opening `%`");var i=[];return k(e,C,function(e,t,n,r){i[i.length]=n?k(r,S,"$1"):t||e}),i}(e),r=0<n.length?n[0]:"",i=function(e,t){var n,r=e;if(y(b,r)&&(r="%"+(n=b[r])[0]+"%"),y(v,r)){var i=v[r];if(void 0!==(i=i===g?m(r):i)||t)return{alias:n,name:r,value:i};throw new f("intrinsic "+e+" exists, but is not available. Please file an issue!")}throw new h("intrinsic "+e+" does not exist!")}("%"+r+"%",t),o=(i.name,i.value),a=!1,i=i.alias;i&&(r=i[0],_(n,w([0,1],i)));for(var s=1,l=!0;s<n.length;s+=1){var c=n[s],u=x(c,0,1),d=x(c,-1);if(('"'===u||"'"===u||"`"===u||'"'===d||"'"===d||"`"===d)&&u!==d)throw new h("property names with quotes must have matching quotes");if("constructor"!==c&&l||(a=!0),y(v,u="%"+(r+="."+c)+"%"))o=v[u];else if(null!=o){if(!(c in o)){if(t)return;throw new f("base intrinsic for "+e+" exists, but the property is not available.")}o=p&&s+1>=n.length?(l=!!(d=p(o,c)))&&"get"in d&&!("originalValue"in d.get)?d.get:o[c]:(l=y(o,c),o[c]),l&&!a&&(v[u]=o)}}return o}},"../node_modules/has-symbols/index.js":function(e,t,n){"use strict";var r="undefined"!=typeof Symbol&&Symbol,i=n("../node_modules/has-symbols/shams.js");e.exports=function(){return"function"==typeof r&&("function"==typeof Symbol&&("symbol"==typeof r("foo")&&("symbol"==typeof Symbol("bar")&&i())))}},"../node_modules/has-symbols/shams.js":function(e,t,n){"use strict";e.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"!=typeof Symbol.iterator){var e={},t=Symbol("test"),n=Object(t);if("string"==typeof t)return!1;if("[object Symbol]"!==Object.prototype.toString.call(t))return!1;if("[object Symbol]"!==Object.prototype.toString.call(n))return!1;for(t in e[t]=42,e)return!1;if("function"==typeof Object.keys&&0!==Object.keys(e).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;n=Object.getOwnPropertySymbols(e);if(1!==n.length||n[0]!==t)return!1;if(!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){n=Object.getOwnPropertyDescriptor(e,t);if(42!==n.value||!0!==n.enumerable)return!1}}return!0}},"../node_modules/has/src/index.js":function(e,t,n){"use strict";n=n("../node_modules/function-bind/index.js");e.exports=n.call(Function.call,Object.prototype.hasOwnProperty)},"../node_modules/ieee754/index.js":function(e,t){t.read=function(e,t,n,r,i){var o,a,s=8*i-r-1,l=(1<<s)-1,c=l>>1,u=-7,d=n?i-1:0,h=n?-1:1,i=e[t+d];for(d+=h,o=i&(1<<-u)-1,i>>=-u,u+=s;0<u;o=256*o+e[t+d],d+=h,u-=8);for(a=o&(1<<-u)-1,o>>=-u,u+=r;0<u;a=256*a+e[t+d],d+=h,u-=8);if(0===o)o=1-c;else{if(o===l)return a?NaN:1/0*(i?-1:1);a+=Math.pow(2,r),o-=c}return(i?-1:1)*a*Math.pow(2,o-r)},t.write=function(e,t,n,r,i,o){var a,s,l=8*o-i-1,c=(1<<l)-1,u=c>>1,d=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,h=r?0:o-1,f=r?1:-1,o=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=c):(a=Math.floor(Math.log(t)/Math.LN2),t*(r=Math.pow(2,-a))<1&&(a--,r*=2),2<=(t+=1<=a+u?d/r:d*Math.pow(2,1-u))*r&&(a++,r/=2),c<=a+u?(s=0,a=c):1<=a+u?(s=(t*r-1)*Math.pow(2,i),a+=u):(s=t*Math.pow(2,u-1)*Math.pow(2,i),a=0));8<=i;e[n+h]=255&s,h+=f,s/=256,i-=8);for(a=a<<i|s,l+=i;0<l;e[n+h]=255&a,h+=f,a/=256,l-=8);e[n+h-f]|=128*o}},"../node_modules/isarray/index.js":function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},"../node_modules/json-stringify-safe/stringify.js":function(e,t){function i(r,i){var o=[],a=[];return null==i&&(i=function(e,t){return o[0]===t?"[Circular ~]":"[Circular ~."+a.slice(0,o.indexOf(t)).join(".")+"]"}),function(e,t){var n;return 0<o.length?(~(n=o.indexOf(this))?o.splice(n+1):o.push(this),~n?a.splice(n,1/0,e):a.push(e),~o.indexOf(t)&&(t=i.call(this,e,t))):o.push(t),null==r?t:r.call(this,e,t)}}(t=e.exports=function(e,t,n,r){return JSON.stringify(e,i(t,r),n)}).getSerialize=i},"../node_modules/lodash.isplainobject/index.js":function(e,t){var n,r,i=Function.prototype,o=Object.prototype,a=i.toString,s=o.hasOwnProperty,l=a.call(Object),c=o.toString,u=(n=Object.getPrototypeOf,r=Object,function(e){return n(r(e))});e.exports=function(e){var t;return!(!(t=e)||"object"!=typeof t||"[object Object]"!=c.call(e)||function(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}(e))&&(null===(t=u(e))||"function"==typeof(e=s.call(t,"constructor")&&t.constructor)&&e instanceof e&&a.call(e)==l)}},"../node_modules/lodash.isstring/index.js":function(e,t){var n=Object.prototype.toString,r=Array.isArray;e.exports=function(e){return"string"==typeof e||!r(e)&&(!!(t=e)&&"object"==typeof t)&&"[object String]"==n.call(e);var t}},"../node_modules/node-libs-browser/node_modules/buffer/index.js":function(e,P,D){"use strict";!function(e){var C=D("../node_modules/base64-js/index.js"),o=D("../node_modules/ieee754/index.js"),s=D("../node_modules/isarray/index.js");function n(){return d.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function l(e,t){if(n()<t)throw new RangeError("Invalid typed array length");return d.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=d.prototype:(e=null===e?new d(t):e).length=t,e}function d(e,t,n){if(!(d.TYPED_ARRAY_SUPPORT||this instanceof d))return new d(e,t,n);if("number"!=typeof e)return r(this,e,t,n);if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return a(this,e)}function r(e,t,n,r){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');if("undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer){var i=e,o=t,a=n;if(o.byteLength,a<0||o.byteLength<a)throw new RangeError("'offset' is out of bounds");if(o.byteLength<a+(r||0))throw new RangeError("'length' is out of bounds");return o=void 0===a&&void 0===r?new Uint8Array(o):void 0===r?new Uint8Array(o,a):new Uint8Array(o,a,r),d.TYPED_ARRAY_SUPPORT?(i=o).__proto__=d.prototype:i=c(i,o),i}if("string"!=typeof t){a=e,r=t;if(d.isBuffer(r))return o=0|u(r.length),0!==(a=l(a,o)).length&&r.copy(a,0,0,o),a;if(r){if("undefined"!=typeof ArrayBuffer&&r.buffer instanceof ArrayBuffer||"length"in r)return"number"!=typeof r.length||function(e){return e!=e}(r.length)?l(a,0):c(a,r);if("Buffer"===r.type&&s(r.data))return c(a,r.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}i=e,r=t,e=n;if(d.isEncoding(e="string"==typeof e&&""!==e?e:"utf8"))return t=0|h(r,e),i=(r=(i=l(i,t)).write(r,e))!==t?i.slice(0,r):i;throw new TypeError('"encoding" must be a valid string encoding')}function i(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function a(e,t){if(i(t),e=l(e,t<0?0:0|u(t)),!d.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function c(e,t){var n=t.length<0?0:0|u(t.length);e=l(e,n);for(var r=0;r<n;r+=1)e[r]=255&t[r];return e}function u(e){if(e>=n())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+n().toString(16)+" bytes");return 0|e}function h(e,t){if(d.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;var n=(e="string"!=typeof e?""+e:e).length;if(0===n)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return A(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return O(e).length;default:if(r)return A(e).length;t=(""+t).toLowerCase(),r=!0}}function t(e,t,n){var r,i=!1;if((t=void 0===t||t<0?0:t)>this.length)return"";if((n=void 0===n||n>this.length?this.length:n)<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e=e||"utf8";;)switch(e){case"hex":var o=this,a=t,s=n,l=o.length;(!s||s<0||l<s)&&(s=l);for(var c="",u=a=!a||a<0?0:a;u<s;++u)c+=function(e){return e<16?"0"+e.toString(16):e.toString(16)}(o[u]);return c;case"utf8":case"utf-8":return S(this,t,n);case"ascii":var d=this,l=t,h=n,f="";h=Math.min(d.length,h);for(var p=l;p<h;++p)f+=String.fromCharCode(127&d[p]);return f;case"latin1":case"binary":var m=this,a=t,g=n,v="";g=Math.min(m.length,g);for(var b=a;b<g;++b)v+=String.fromCharCode(m[b]);return v;case"base64":return y=this,r=n,0===(w=t)&&r===y.length?C.fromByteArray(y):C.fromByteArray(y.slice(w,r));case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":for(var y=t,w=n,_=this.slice(y,w),k="",x=0;x<_.length;x+=2)k+=String.fromCharCode(_[x]+256*_[x+1]);return k;default:if(i)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),i=!0}}function f(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function p(e,t,n,r,i){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):2147483647<n?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,(n=(n=isNaN(n)?i?0:e.length-1:n)<0?e.length+n:n)>=e.length){if(i)return-1;n=e.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof t&&(t=d.from(t,r)),d.isBuffer(t))return 0===t.length?-1:m(e,t,n,r,i);if("number"==typeof t)return t&=255,d.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?(i?Uint8Array.prototype.indexOf:Uint8Array.prototype.lastIndexOf).call(e,t,n):m(e,[t],n,r,i);throw new TypeError("val must be string, number or Buffer")}function m(e,t,n,r,i){var o=1,a=e.length,s=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;a/=o=2,s/=2,n/=2}function l(e,t){return 1===o?e[t]:e.readUInt16BE(t*o)}if(i)for(var c=-1,u=n;u<a;u++)if(l(e,u)===l(t,-1===c?0:u-c)){if(u-(c=-1===c?u:c)+1===s)return c*o}else-1!==c&&(u-=u-c),c=-1;else for(u=n=a<n+s?a-s:n;0<=u;u--){for(var d=!0,h=0;h<s;h++)if(l(e,u+h)!==l(t,h)){d=!1;break}if(d)return u}return-1}function g(e,t,n,r){return M(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function v(e,t,n,r){return M(function(e,t){for(var n,r,i=[],o=0;o<e.length&&!((t-=2)<0);++o)r=e.charCodeAt(o),n=r>>8,r=r%256,i.push(r),i.push(n);return i}(t,e.length-n),e,n,r)}function S(e,t,n){n=Math.min(e.length,n);for(var r=[],i=t;i<n;){var o,a,s,l,c=e[i],u=null,d=239<c?4:223<c?3:191<c?2:1;if(i+d<=n)switch(d){case 1:c<128&&(u=c);break;case 2:128==(192&(o=e[i+1]))&&127<(l=(31&c)<<6|63&o)&&(u=l);break;case 3:o=e[i+1],a=e[i+2],128==(192&o)&&128==(192&a)&&2047<(l=(15&c)<<12|(63&o)<<6|63&a)&&(l<55296||57343<l)&&(u=l);break;case 4:o=e[i+1],a=e[i+2],s=e[i+3],128==(192&o)&&128==(192&a)&&128==(192&s)&&65535<(l=(15&c)<<18|(63&o)<<12|(63&a)<<6|63&s)&&l<1114112&&(u=l)}null===u?(u=65533,d=1):65535<u&&(u-=65536,r.push(u>>>10&1023|55296),u=56320|1023&u),r.push(u),i+=d}var h=r,f=h.length;if(f<=b)return String.fromCharCode.apply(String,h);for(var p="",m=0;m<f;)p+=String.fromCharCode.apply(String,h.slice(m,m+=b));return p}P.Buffer=d,P.SlowBuffer=function(e){+e!=e&&(e=0);return d.alloc(+e)},P.INSPECT_MAX_BYTES=50,d.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),P.kMaxLength=n(),d.poolSize=8192,d._augment=function(e){return e.__proto__=d.prototype,e},d.from=function(e,t,n){return r(null,e,t,n)},d.TYPED_ARRAY_SUPPORT&&(d.prototype.__proto__=Uint8Array.prototype,d.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&d[Symbol.species]===d&&Object.defineProperty(d,Symbol.species,{value:null,configurable:!0})),d.alloc=function(e,t,n){return r=null,t=t,n=n,i(e=e),!(e<=0)&&void 0!==t?"string"==typeof n?l(r,e).fill(t,n):l(r,e).fill(t):l(r,e);var r},d.allocUnsafe=function(e){return a(null,e)},d.allocUnsafeSlow=function(e){return a(null,e)},d.isBuffer=function(e){return!(null==e||!e._isBuffer)},d.compare=function(e,t){if(!d.isBuffer(e)||!d.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,r=t.length,i=0,o=Math.min(n,r);i<o;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0},d.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},d.concat=function(e,t){if(!s(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return d.alloc(0);if(void 0===t)for(i=t=0;i<e.length;++i)t+=e[i].length;for(var n=d.allocUnsafe(t),r=0,i=0;i<e.length;++i){var o=e[i];if(!d.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(n,r),r+=o.length}return n},d.byteLength=h,d.prototype._isBuffer=!0,d.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)f(this,t,t+1);return this},d.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)f(this,t,t+3),f(this,t+1,t+2);return this},d.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)f(this,t,t+7),f(this,t+1,t+6),f(this,t+2,t+5),f(this,t+3,t+4);return this},d.prototype.toString=function(){var e=0|this.length;return 0==e?"":0===arguments.length?S(this,0,e):t.apply(this,arguments)},d.prototype.equals=function(e){if(d.isBuffer(e))return this===e||0===d.compare(this,e);throw new TypeError("Argument must be a Buffer")},d.prototype.inspect=function(){var e="",t=P.INSPECT_MAX_BYTES;return 0<this.length&&(e=this.toString("hex",0,t).match(/.{2}/g).join(" "),this.length>t&&(e+=" ... ")),"<Buffer "+e+">"},d.prototype.compare=function(e,t,n,r,i){if(!d.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),(t=void 0===t?0:t)<0||n>e.length||r<0||i>this.length)throw new RangeError("out of range index");if(i<=r&&n<=t)return 0;if(i<=r)return-1;if(n<=t)return 1;if(this===e)return 0;for(var o=(i>>>=0)-(r>>>=0),a=(n>>>=0)-(t>>>=0),s=Math.min(o,a),l=this.slice(r,i),c=e.slice(t,n),u=0;u<s;++u)if(l[u]!==c[u]){o=l[u],a=c[u];break}return o<a?-1:a<o?1:0},d.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},d.prototype.indexOf=function(e,t,n){return p(this,e,t,n,!0)},d.prototype.lastIndexOf=function(e,t,n){return p(this,e,t,n,!1)},d.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-t;if((void 0===n||i<n)&&(n=i),0<e.length&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r=r||"utf8";for(var o,a,s,l=!1;;)switch(r){case"hex":var c=this,u=e,d=t,h=n,f=(d=Number(d)||0,c.length-d);if((!h||f<(h=Number(h)))&&(h=f),(f=u.length)%2!=0)throw new TypeError("Invalid hex string");f/2<h&&(h=f/2);for(var p=0;p<h;++p){var m=parseInt(u.substr(2*p,2),16);if(isNaN(m))return p;c[d+p]=m}return p;case"utf8":case"utf-8":return f=t,s=n,M(A(e,(a=this).length-f),a,f,s);case"ascii":return g(this,e,t,n);case"latin1":case"binary":return g(this,e,t,n);case"base64":return a=this,s=t,o=n,M(O(e),a,s,o);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return v(this,e,t,n);default:if(l)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),l=!0}},d.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var b=4096;function y(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(n<e+t)throw new RangeError("Trying to access beyond buffer length")}function w(e,t,n,r,i,o){if(!d.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(i<t||t<o)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function _(e,t,n,r){t<0&&(t=65535+t+1);for(var i=0,o=Math.min(e.length-n,2);i<o;++i)e[n+i]=(t&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function k(e,t,n,r){t<0&&(t=4294967295+t+1);for(var i=0,o=Math.min(e.length-n,4);i<o;++i)e[n+i]=t>>>8*(r?i:3-i)&255}function x(e,t,n,r){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function T(e,t,n,r,i){return i||x(e,0,n,4),o.write(e,t,n,r,23,4),n+4}function $(e,t,n,r,i){return i||x(e,0,n,8),o.write(e,t,n,r,52,8),n+8}d.prototype.slice=function(e,t){var n=this.length;if((e=~~e)<0?(e+=n)<0&&(e=0):n<e&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):n<t&&(t=n),t<e&&(t=e),d.TYPED_ARRAY_SUPPORT)(i=this.subarray(e,t)).__proto__=d.prototype;else for(var r=t-e,i=new d(r,void 0),o=0;o<r;++o)i[o]=this[o+e];return i},d.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||y(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r},d.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||y(e,t,this.length);for(var r=this[e+--t],i=1;0<t&&(i*=256);)r+=this[e+--t]*i;return r},d.prototype.readUInt8=function(e,t){return t||y(e,1,this.length),this[e]},d.prototype.readUInt16LE=function(e,t){return t||y(e,2,this.length),this[e]|this[e+1]<<8},d.prototype.readUInt16BE=function(e,t){return t||y(e,2,this.length),this[e]<<8|this[e+1]},d.prototype.readUInt32LE=function(e,t){return t||y(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},d.prototype.readUInt32BE=function(e,t){return t||y(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},d.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||y(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return(i*=128)<=r&&(r-=Math.pow(2,8*t)),r},d.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||y(e,t,this.length);for(var r=t,i=1,o=this[e+--r];0<r&&(i*=256);)o+=this[e+--r]*i;return(i*=128)<=o&&(o-=Math.pow(2,8*t)),o},d.prototype.readInt8=function(e,t){return t||y(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},d.prototype.readInt16LE=function(e,t){t||y(e,2,this.length);t=this[e]|this[e+1]<<8;return 32768&t?4294901760|t:t},d.prototype.readInt16BE=function(e,t){t||y(e,2,this.length);t=this[e+1]|this[e]<<8;return 32768&t?4294901760|t:t},d.prototype.readInt32LE=function(e,t){return t||y(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},d.prototype.readInt32BE=function(e,t){return t||y(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},d.prototype.readFloatLE=function(e,t){return t||y(e,4,this.length),o.read(this,e,!0,23,4)},d.prototype.readFloatBE=function(e,t){return t||y(e,4,this.length),o.read(this,e,!1,23,4)},d.prototype.readDoubleLE=function(e,t){return t||y(e,8,this.length),o.read(this,e,!0,52,8)},d.prototype.readDoubleBE=function(e,t){return t||y(e,8,this.length),o.read(this,e,!1,52,8)},d.prototype.writeUIntLE=function(e,t,n,r){e=+e,t|=0,n|=0,r||w(this,e,t,n,Math.pow(2,8*n)-1,0);var i=1,o=0;for(this[t]=255&e;++o<n&&(i*=256);)this[t+o]=e/i&255;return t+n},d.prototype.writeUIntBE=function(e,t,n,r){e=+e,t|=0,n|=0,r||w(this,e,t,n,Math.pow(2,8*n)-1,0);var i=n-1,o=1;for(this[t+i]=255&e;0<=--i&&(o*=256);)this[t+i]=e/o&255;return t+n},d.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||w(this,e,t,1,255,0),d.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},d.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||w(this,e,t,2,65535,0),d.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):_(this,e,t,!0),t+2},d.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||w(this,e,t,2,65535,0),d.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):_(this,e,t,!1),t+2},d.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||w(this,e,t,4,4294967295,0),d.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):k(this,e,t,!0),t+4},d.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||w(this,e,t,4,4294967295,0),d.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):k(this,e,t,!1),t+4},d.prototype.writeIntLE=function(e,t,n,r){e=+e,t|=0,r||w(this,e,t,n,(r=Math.pow(2,8*n-1))-1,-r);var i=0,o=1,a=0;for(this[t]=255&e;++i<n&&(o*=256);)e<0&&0===a&&0!==this[t+i-1]&&(a=1),this[t+i]=(e/o>>0)-a&255;return t+n},d.prototype.writeIntBE=function(e,t,n,r){e=+e,t|=0,r||w(this,e,t,n,(r=Math.pow(2,8*n-1))-1,-r);var i=n-1,o=1,a=0;for(this[t+i]=255&e;0<=--i&&(o*=256);)e<0&&0===a&&0!==this[t+i+1]&&(a=1),this[t+i]=(e/o>>0)-a&255;return t+n},d.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||w(this,e,t,1,127,-128),d.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&(e=e<0?255+e+1:e),t+1},d.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||w(this,e,t,2,32767,-32768),d.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):_(this,e,t,!0),t+2},d.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||w(this,e,t,2,32767,-32768),d.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):_(this,e,t,!1),t+2},d.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||w(this,e,t,4,2147483647,-2147483648),d.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):k(this,e,t,!0),t+4},d.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||w(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),d.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):k(this,e,t,!1),t+4},d.prototype.writeFloatLE=function(e,t,n){return T(this,e,t,!0,n)},d.prototype.writeFloatBE=function(e,t,n){return T(this,e,t,!1,n)},d.prototype.writeDoubleLE=function(e,t,n){return $(this,e,t,!0,n)},d.prototype.writeDoubleBE=function(e,t,n){return $(this,e,t,!1,n)},d.prototype.copy=function(e,t,n,r){if(n=n||0,r||0===r||(r=this.length),t>=e.length&&(t=e.length),(r=0<r&&r<n?n:r)===n)return 0;if(0===e.length||0===this.length)return 0;if((t=t||0)<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length);var i,o=(r=e.length-t<r-n?e.length-t+n:r)-n;if(this===e&&n<t&&t<r)for(i=o-1;0<=i;--i)e[i+t]=this[i+n];else if(o<1e3||!d.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)e[i+t]=this[i+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+o),t);return o},d.prototype.fill=function(e,t,n,r){if("string"==typeof e){var i;if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1!==e.length||(i=e.charCodeAt(0))<256&&(e=i),void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!d.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(!(n<=t))if(t>>>=0,n=void 0===n?this.length:n>>>0,"number"==typeof(e=e||0))for(s=t;s<n;++s)this[s]=e;else for(var o=d.isBuffer(e)?e:A(new d(e,r).toString()),a=o.length,s=0;s<n-t;++s)this[s+t]=o[s%a];return this};var E=/[^+\/0-9A-Za-z-_]/g;function A(e,t){t=t||1/0;for(var n,r=e.length,i=null,o=[],a=0;a<r;++a){if(55295<(n=e.charCodeAt(a))&&n<57344){if(!i){if(56319<n){-1<(t-=3)&&o.push(239,191,189);continue}if(a+1===r){-1<(t-=3)&&o.push(239,191,189);continue}i=n;continue}if(n<56320){-1<(t-=3)&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&-1<(t-=3)&&o.push(239,191,189);if(i=null,n<128){if(--t<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function O(e){return C.toByteArray(function(e){var t;if((e=((t=e).trim?t.trim():t.replace(/^\s+|\s+$/g,"")).replace(E,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function M(e,t,n,r){for(var i=0;i<r&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}}.call(this,D("../node_modules/webpack/buildin/global.js"))},"../node_modules/object-inspect/index.js":function(e,a,t){var n="function"==typeof Map&&Map.prototype,r=Object.getOwnPropertyDescriptor&&n?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,y=n&&r&&"function"==typeof r.get?r.get:null,w=n&&Map.prototype.forEach,r="function"==typeof Set&&Set.prototype,n=Object.getOwnPropertyDescriptor&&r?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,_=r&&n&&"function"==typeof n.get?n.get:null,k=r&&Set.prototype.forEach,x="function"==typeof WeakMap&&WeakMap.prototype?WeakMap.prototype.has:null,C="function"==typeof WeakSet&&WeakSet.prototype?WeakSet.prototype.has:null,S="function"==typeof WeakRef&&WeakRef.prototype?WeakRef.prototype.deref:null,T=Boolean.prototype.valueOf,i=Object.prototype.toString,$=Function.prototype.toString,E=String.prototype.match,A="function"==typeof BigInt?BigInt.prototype.valueOf:null,u=Object.getOwnPropertySymbols,O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol.prototype.toString:null,M="function"==typeof Symbol&&"object"==typeof Symbol.iterator,d=Object.prototype.propertyIsEnumerable,P=("function"==typeof Reflect?Reflect:Object).getPrototypeOf||([].__proto__===Array.prototype?function(e){return e.__proto__}:null),n=t(1).custom,D=n&&j(n)?n:null,R="function"==typeof Symbol&&void 0!==Symbol.toStringTag?Symbol.toStringTag:null;function I(e,t,n){n="double"===(n.quoteStyle||t)?'"':"'";return n+e+n}function N(e){return!("[object Array]"!==V(e)||R&&"object"==typeof e&&R in e)}function j(e){if(M)return e&&"object"==typeof e&&e instanceof Symbol;if("symbol"==typeof e)return 1;if(e&&"object"==typeof e&&O)try{return O.call(e),1}catch(e){}}e.exports=function r(n,e,i,o){var a=e||{};if(L(a,"quoteStyle")&&"single"!==a.quoteStyle&&"double"!==a.quoteStyle)throw new TypeError('option "quoteStyle" must be "single" or "double"');if(L(a,"maxStringLength")&&("number"==typeof a.maxStringLength?a.maxStringLength<0&&a.maxStringLength!==1/0:null!==a.maxStringLength))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');e=!L(a,"customInspect")||a.customInspect;if("boolean"!=typeof e&&"symbol"!==e)throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(L(a,"indent")&&null!==a.indent&&"\t"!==a.indent&&!(parseInt(a.indent,10)===a.indent&&0<a.indent))throw new TypeError('options "indent" must be "\\t", an integer > 0, or `null`');if(void 0===n)return"undefined";if(null===n)return"null";if("boolean"==typeof n)return n?"true":"false";if("string"==typeof n)return function e(t,n){if(t.length>n.maxStringLength)return r=t.length-n.maxStringLength,r="... "+r+" more character"+(1<r?"s":""),e(t.slice(0,n.maxStringLength),n)+r;var r=t.replace(/(['\\])/g,"\\$1").replace(/[\x00-\x1f]/g,z);return I(r,"single",n)}(n,a);if("number"==typeof n)return 0===n?0<1/0/n?"0":"-0":String(n);if("bigint"==typeof n)return String(n)+"n";var t=void 0===a.depth?5:a.depth;if(t<=(i=void 0===i?0:i)&&0<t&&"object"==typeof n)return N(n)?"[Array]":"[Object]";var s,l,c,u,d,h,f,p,t=function(e,t){var n;if("\t"===e.indent)n="\t";else{if(!("number"==typeof e.indent&&0<e.indent))return null;n=Array(e.indent+1).join(" ")}return{base:n,prev:Array(t+1).join(n)}}(a,i);if(void 0===o)o=[];else if(0<=F(o,n))return"[Circular]";function m(e,t,n){return t&&(o=o.slice()).push(t),n?(t={depth:a.depth},L(a,"quoteStyle")&&(t.quoteStyle=a.quoteStyle),r(e,t,i+1,o)):r(e,a,i+1,o)}if("function"==typeof n)return"[Function"+((l=function(e){if(e.name)return e.name;e=E.call($.call(e),/^function\s*([\w$]+)/);if(e)return e[1];return null}(n))?": "+l:" (anonymous)")+"]"+(0<(l=q(n,m)).length?" { "+l.join(", ")+" }":"");if(j(n))return l=M?String(n).replace(/^(Symbol\(.*\))_[^)]*$/,"$1"):O.call(n),"object"!=typeof n||M?l:B(l);if(function(e){if(!e||"object"!=typeof e)return;if("undefined"!=typeof HTMLElement&&e instanceof HTMLElement)return 1;return"string"==typeof e.nodeName&&"function"==typeof e.getAttribute}(n)){for(var g="<"+String(n.nodeName).toLowerCase(),v=n.attributes||[],b=0;b<v.length;b++)g+=" "+v[b].name+"="+I((s=v[b].value,String(s).replace(/"/g,"&quot;")),"double",a);return g+=">",n.childNodes&&n.childNodes.length&&(g+="..."),g+="</"+String(n.nodeName).toLowerCase()+">"}if(N(n))return 0===n.length?"[]":(l=q(n,m),t&&!function(e){for(var t=0;t<e.length;t++)if(0<=F(e[t],"\n"))return;return 1}(l)?"["+W(l,t)+"]":"[ "+l.join(", ")+" ]");if(!("[object Error]"!==V(l=n)||R&&"object"==typeof l&&R in l))return 0===(d=q(n,m)).length?"["+String(n)+"]":"{ ["+String(n)+"] "+d.join(", ")+" }";if("object"==typeof n&&e){if(D&&"function"==typeof n[D])return n[D]();if("symbol"!==e&&"function"==typeof n.inspect)return n.inspect()}return function(e){if(y&&e&&"object"==typeof e)try{y.call(e);try{_.call(e)}catch(e){return 1}return e instanceof Map}catch(e){}return}(n)?(c=[],w.call(n,function(e,t){c.push(m(t,n,!0)+" => "+m(e,n))}),U("Map",y.call(n),c,t)):function(e){if(_&&e&&"object"==typeof e)try{_.call(e);try{y.call(e)}catch(e){return 1}return e instanceof Set}catch(e){}return}(n)?(u=[],k.call(n,function(e){u.push(m(e,n))}),U("Set",_.call(n),u,t)):function(e){if(x&&e&&"object"==typeof e)try{x.call(e,x);try{C.call(e,C)}catch(e){return 1}return e instanceof WeakMap}catch(e){}return}(n)?H("WeakMap"):function(e){if(C&&e&&"object"==typeof e)try{C.call(e,C);try{x.call(e,x)}catch(e){return 1}return e instanceof WeakSet}catch(e){}return}(n)?H("WeakSet"):function(e){if(S&&e&&"object"==typeof e)try{return S.call(e),1}catch(e){}return}(n)?H("WeakRef"):"[object Number]"!==V(d=n)||R&&"object"==typeof d&&R in d?function(e){if(e&&"object"==typeof e&&A)try{return A.call(e),1}catch(e){}return}(n)?B(m(A.call(n))):"[object Boolean]"!==V(e=n)||R&&"object"==typeof e&&R in e?"[object String]"!==V(e=n)||R&&"object"==typeof e&&R in e?("[object Date]"!==V(e=n)||R&&"object"==typeof e&&R in e)&&("[object RegExp]"!==V(e=n)||R&&"object"==typeof e&&R in e)?(e=q(n,m),p=P?P(n)===Object.prototype:n instanceof Object||n.constructor===Object,h=n instanceof Object?"":"null prototype",f=!p&&R&&Object(n)===n&&R in n?V(n).slice(8,-1):h?"Object":"",p=(!p&&"function"==typeof n.constructor&&n.constructor.name?n.constructor.name+" ":"")+(f||h?"["+[].concat(f||[],h||[]).join(": ")+"] ":""),0===e.length?p+"{}":t?p+"{"+W(e,t)+"}":p+"{ "+e.join(", ")+" }"):String(n):B(m(String(n))):B(T.call(n)):B(m(Number(n)))};var o=Object.prototype.hasOwnProperty||function(e){return e in this};function L(e,t){return o.call(e,t)}function V(e){return i.call(e)}function F(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}function z(e){var e=e.charCodeAt(0),t={8:"b",9:"t",10:"n",12:"f",13:"r"}[e];return t?"\\"+t:"\\x"+(e<16?"0":"")+e.toString(16).toUpperCase()}function B(e){return"Object("+e+")"}function H(e){return e+" { ? }"}function U(e,t,n,r){return e+" ("+t+") {"+(r?W(n,r):n.join(", "))+"}"}function W(e,t){var n;return 0===e.length?"":(n="\n"+t.prev+t.base)+e.join(","+n)+"\n"+t.prev}function q(e,t){var n=N(e),r=[];if(n){r.length=e.length;for(var i=0;i<e.length;i++)r[i]=L(e,i)?t(e[i],e):""}var o,a="function"==typeof u?u(e):[];if(M)for(var s={},l=0;l<a.length;l++)s["$"+a[l]]=a[l];for(o in e)!L(e,o)||n&&String(Number(o))===o&&o<e.length||M&&s["$"+o]instanceof Symbol||(/[^\w$]/.test(o)?r.push(t(o,e)+": "+t(e[o],e)):r.push(o+": "+t(e[o],e)));if("function"==typeof u)for(var c=0;c<a.length;c++)d.call(e,a[c])&&r.push("["+t(a[c])+"]: "+t(e[a[c]],e));return r}},"../node_modules/p-throttle/index.js":function(e,t,n){"use strict";class l extends Error{constructor(){super("Throttled function aborted"),this.name="AbortError"}}e.exports=({limit:n,interval:r,strict:e})=>{if(!Number.isFinite(n))throw new TypeError("Expected `limit` to be a finite number");if(!Number.isFinite(r))throw new TypeError("Expected `interval` to be a finite number");const o=new Map;let t=0,i=0;const a=[];const s=e?function(){var e,t=Date.now();return a.length<n||(e=a.shift()+r)<=t?(a.push(t),0):(a.push(e),e-t)}:function(){var e=Date.now();return e-t>r?(i=1,t=e,0):(i<n?i++:(t+=r,i=1),t-e)};return i=>{const e=function(...n){if(!e.isEnabled)return(async()=>i.apply(this,n))();let r;return new Promise((e,t)=>{r=setTimeout(()=>{e(i.apply(this,n)),o.delete(r)},s()),o.set(r,t)})};return e.abort=()=>{for(const e of o.keys())clearTimeout(e),o.get(e)(new l);o.clear(),a.splice(0,a.length)},e.isEnabled=!0,e}},e.exports.AbortError=l},"../node_modules/process/browser.js":function(e,t){var n,r,e=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}try{n="function"==typeof setTimeout?setTimeout:i}catch(e){n=i}try{r="function"==typeof clearTimeout?clearTimeout:o}catch(e){r=o}function a(t){if(n===setTimeout)return setTimeout(t,0);if((n===i||!n)&&setTimeout)return(n=setTimeout)(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}var s,l=[],c=!1,u=-1;function d(){c&&s&&(c=!1,s.length?l=s.concat(l):u=-1,l.length&&h())}function h(){if(!c){for(var e=a(d),t=(c=!0,l.length);t;){for(s=l,l=[];++u<t;)s&&s[u].run();u=-1,t=l.length}s=null,c=!1,!function(t){if(r===clearTimeout)return clearTimeout(t);if((r===o||!r)&&clearTimeout)return(r=clearTimeout)(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(e)}}function f(e,t){this.fun=e,this.array=t}function p(){}e.nextTick=function(e){var t=new Array(arguments.length-1);if(1<arguments.length)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];l.push(new f(e,t)),1!==l.length||c||a(h)},f.prototype.run=function(){this.fun.apply(null,this.array)},e.title="browser",e.browser=!0,e.env={},e.argv=[],e.version="",e.versions={},e.on=p,e.addListener=p,e.once=p,e.off=p,e.removeListener=p,e.removeAllListeners=p,e.emit=p,e.prependListener=p,e.prependOnceListener=p,e.listeners=function(e){return[]},e.binding=function(e){throw new Error("process.binding is not supported")},e.cwd=function(){return"/"},e.chdir=function(e){throw new Error("process.chdir is not supported")},e.umask=function(){return 0}},"../node_modules/qs/lib/formats.js":function(e,t,n){"use strict";var r=String.prototype.replace,i=/%20/g,o="RFC1738",a="RFC3986";e.exports={default:a,formatters:{RFC1738:function(e){return r.call(e,i,"+")},RFC3986:function(e){return String(e)}},RFC1738:o,RFC3986:a}},"../node_modules/qs/lib/index.js":function(e,t,n){"use strict";var r=n("../node_modules/qs/lib/stringify.js"),i=n("../node_modules/qs/lib/parse.js"),n=n("../node_modules/qs/lib/formats.js");e.exports={formats:n,parse:i,stringify:r}},"../node_modules/qs/lib/parse.js":function(e,t,n){"use strict";function l(e,t){var n,r,i,o,a={},e=t.ignoreQueryPrefix?e.replace(/^\?/,""):e,s=t.parameterLimit===1/0?void 0:t.parameterLimit,l=e.split(t.delimiter,s),c=-1,u=t.charset;if(t.charsetSentinel)for(n=0;n<l.length;++n)0===l[n].indexOf("utf8=")&&("utf8=%E2%9C%93"===l[n]?u="utf-8":"utf8=%26%2310003%3B"===l[n]&&(u="iso-8859-1"),c=n,n=l.length);for(n=0;n<l.length;++n)n!==c&&((o=-1===(o=-1===(o=(r=l[n]).indexOf("]="))?r.indexOf("="):o+1)?(i=t.decoder(r,f.decoder,u,"key"),t.strictNullHandling?null:""):(i=t.decoder(r.slice(0,o),f.decoder,u,"key"),d.maybeMap(b(r.slice(o+1),t),function(e){return t.decoder(e,f.decoder,u,"value")})))&&t.interpretNumericEntities&&"iso-8859-1"===u&&(o=o.replace(/&#(\d+);/g,function(e,t){return String.fromCharCode(parseInt(t,10))})),-1<r.indexOf("[]=")&&(o=h(o)?[o]:o),v.call(a,i)?a[i]=d.combine(a[i],o):a[i]=o);return a}function c(e,t,n,r){if(e){var i=n.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,o=/(\[[^[\]]*])/g,a=0<n.depth&&/(\[[^[\]]*])/.exec(i),e=a?i.slice(0,a.index):i,s=[];if(e){if(!n.plainObjects&&v.call(Object.prototype,e)&&!n.allowPrototypes)return;s.push(e)}for(var l=0;0<n.depth&&null!==(a=o.exec(i))&&l<n.depth;){if(l+=1,!n.plainObjects&&v.call(Object.prototype,a[1].slice(1,-1))&&!n.allowPrototypes)return;s.push(a[1])}a&&s.push("["+i.slice(a.index)+"]");for(var c=s,e=t,u=n,d=r?e:b(e,u),h=c.length-1;0<=h;--h){var f,p,m,g=c[h];"[]"===g&&u.parseArrays?f=[].concat(d):(f=u.plainObjects?Object.create(null):{},p="["===g.charAt(0)&&"]"===g.charAt(g.length-1)?g.slice(1,-1):g,m=parseInt(p,10),u.parseArrays||""!==p?!isNaN(m)&&g!==p&&String(m)===p&&0<=m&&u.parseArrays&&m<=u.arrayLimit?(f=[])[m]=d:"__proto__"!==p&&(f[p]=d):f={0:d}),d=f}return d}}var d=n("../node_modules/qs/lib/utils.js"),v=Object.prototype.hasOwnProperty,h=Array.isArray,f={allowDots:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:d.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},b=function(e,t){return e&&"string"==typeof e&&t.comma&&-1<e.indexOf(",")?e.split(","):e};e.exports=function(e,t){var n=function(e){if(!e)return f;if(null!==e.decoder&&void 0!==e.decoder&&"function"!=typeof e.decoder)throw new TypeError("Decoder has to be a function.");if(void 0!==e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var t=(void 0===e.charset?f:e).charset;return{allowDots:void 0===e.allowDots?f.allowDots:!!e.allowDots,allowPrototypes:("boolean"==typeof e.allowPrototypes?e:f).allowPrototypes,allowSparse:("boolean"==typeof e.allowSparse?e:f).allowSparse,arrayLimit:("number"==typeof e.arrayLimit?e:f).arrayLimit,charset:t,charsetSentinel:("boolean"==typeof e.charsetSentinel?e:f).charsetSentinel,comma:("boolean"==typeof e.comma?e:f).comma,decoder:("function"==typeof e.decoder?e:f).decoder,delimiter:("string"==typeof e.delimiter||d.isRegExp(e.delimiter)?e:f).delimiter,depth:"number"==typeof e.depth||!1===e.depth?+e.depth:f.depth,ignoreQueryPrefix:!0===e.ignoreQueryPrefix,interpretNumericEntities:("boolean"==typeof e.interpretNumericEntities?e:f).interpretNumericEntities,parameterLimit:("number"==typeof e.parameterLimit?e:f).parameterLimit,parseArrays:!1!==e.parseArrays,plainObjects:("boolean"==typeof e.plainObjects?e:f).plainObjects,strictNullHandling:("boolean"==typeof e.strictNullHandling?e:f).strictNullHandling}}(t);if(""===e||null==e)return n.plainObjects?Object.create(null):{};for(var r="string"==typeof e?l(e,n):e,i=n.plainObjects?Object.create(null):{},o=Object.keys(r),a=0;a<o.length;++a)var s=o[a],s=c(s,r[s],n,"string"==typeof e),i=d.merge(i,s,n);return!0===n.allowSparse?i:d.compact(i)}},"../node_modules/qs/lib/stringify.js":function(e,t,n){"use strict";function O(e,t){r.apply(e,R(t)?t:[t])}function M(e,t,n,r,i,o,a,s,l,c,u,d,h,f,p){for(var m=e,g=p,v=0,b=!1;void 0!==(g=g.get(j))&&!b;){var y=g.get(e);if(v+=1,void 0!==y){if(y===v)throw new RangeError("Cyclic object value");b=!0}void 0===g.get(j)&&(v=0)}if("function"==typeof a?m=a(t,m):m instanceof Date?m=c(m):"comma"===n&&R(m)&&(m=D.maybeMap(m,function(e){return e instanceof Date?c(e):e})),null===m){if(r)return o&&!h?o(t,N.encoder,f,"key",u):t;m=""}if("string"==typeof(w=m)||"number"==typeof w||"boolean"==typeof w||"symbol"==typeof w||"bigint"==typeof w||D.isBuffer(m)){if(o){var w=h?t:o(t,N.encoder,f,"key",u);if("comma"===n&&h){for(var _=I.call(String(m),","),k="",x=0;x<_.length;++x)k+=(0===x?"":",")+d(o(_[x],N.encoder,f,"value",u));return[d(w)+"="+k]}return[d(w)+"="+d(o(m,N.encoder,f,"value",u))]}return[d(t)+"="+d(String(m))]}var C,S=[];if(void 0!==m){C="comma"===n&&R(m)?[{value:0<m.length?m.join(",")||null:void 0}]:R(a)?a:(w=Object.keys(m),s?w.sort(s):w);for(var T=0;T<C.length;++T){var $,E=C[T],A="object"==typeof E&&void 0!==E.value?E.value:m[E];i&&null===A||(E=R(m)?"function"==typeof n?n(t,E):t:t+(l?"."+E:"["+E+"]"),p.set(e,v),($=P()).set(j,p),O(S,M(A,E,n,r,i,o,a,s,l,c,u,d,h,f,$)))}}return S}var P=n("../node_modules/side-channel/index.js"),D=n("../node_modules/qs/lib/utils.js"),u=n("../node_modules/qs/lib/formats.js"),d=Object.prototype.hasOwnProperty,h={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},R=Array.isArray,I=String.prototype.split,r=Array.prototype.push,i=Date.prototype.toISOString,n=u.default,N={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:D.encode,encodeValuesOnly:!1,format:n,formatter:u.formatters[n],indices:!1,serializeDate:function(e){return i.call(e)},skipNulls:!1,strictNullHandling:!1},j={};e.exports=function(e,t){var n=e,r=function(e){if(!e)return N;if(null!==e.encoder&&void 0!==e.encoder&&"function"!=typeof e.encoder)throw new TypeError("Encoder has to be a function.");var t=e.charset||N.charset;if(void 0!==e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=u.default;if(void 0!==e.format){if(!d.call(u.formatters,e.format))throw new TypeError("Unknown format option provided.");n=e.format}var r=u.formatters[n],i=N.filter;return"function"!=typeof e.filter&&!R(e.filter)||(i=e.filter),{addQueryPrefix:("boolean"==typeof e.addQueryPrefix?e:N).addQueryPrefix,allowDots:void 0===e.allowDots?N.allowDots:!!e.allowDots,charset:t,charsetSentinel:("boolean"==typeof e.charsetSentinel?e:N).charsetSentinel,delimiter:(void 0===e.delimiter?N:e).delimiter,encode:("boolean"==typeof e.encode?e:N).encode,encoder:("function"==typeof e.encoder?e:N).encoder,encodeValuesOnly:("boolean"==typeof e.encodeValuesOnly?e:N).encodeValuesOnly,filter:i,format:n,formatter:r,serializeDate:("function"==typeof e.serializeDate?e:N).serializeDate,skipNulls:("boolean"==typeof e.skipNulls?e:N).skipNulls,sort:"function"==typeof e.sort?e.sort:null,strictNullHandling:("boolean"==typeof e.strictNullHandling?e:N).strictNullHandling}}(t),i=("function"==typeof r.filter?n=(0,r.filter)("",n):R(r.filter)&&(a=r.filter),[]);if("object"!=typeof n||null===n)return"";var e=t&&t.arrayFormat in h?t.arrayFormat:!(t&&"indices"in t)||t.indices?"indices":"repeat",o=h[e],a=a||Object.keys(n);r.sort&&a.sort(r.sort);for(var s=P(),l=0;l<a.length;++l){var c=a[l];r.skipNulls&&null===n[c]||O(i,M(n[c],c,o,r.strictNullHandling,r.skipNulls,r.encode?r.encoder:null,r.filter,r.sort,r.allowDots,r.serializeDate,r.format,r.formatter,r.encodeValuesOnly,r.charset,s))}t=i.join(r.delimiter),e=!0===r.addQueryPrefix?"?":"";return r.charsetSentinel&&("iso-8859-1"===r.charset?e+="utf8=%26%2310003%3B&":e+="utf8=%E2%9C%93&"),0<t.length?e+t:""}},"../node_modules/qs/lib/utils.js":function(e,t,n){"use strict";function s(e,t){for(var n=t&&t.plainObjects?Object.create(null):{},r=0;r<e.length;++r)void 0!==e[r]&&(n[r]=e[r]);return n}var c=n("../node_modules/qs/lib/formats.js"),l=Object.prototype.hasOwnProperty,m=Array.isArray,u=function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e}();e.exports={arrayToObject:s,assign:function(e,n){return Object.keys(n).reduce(function(e,t){return e[t]=n[t],e},e)},combine:function(e,t){return[].concat(e,t)},compact:function(e){for(var t=[{obj:{o:e},prop:"o"}],n=[],r=0;r<t.length;++r)for(var i=t[r],o=i.obj[i.prop],a=Object.keys(o),s=0;s<a.length;++s){var l=a[s],c=o[l];"object"==typeof c&&null!==c&&-1===n.indexOf(c)&&(t.push({obj:o,prop:l}),n.push(c))}for(var u=t;1<u.length;){var d=u.pop(),h=d.obj[d.prop];if(m(h)){for(var f=[],p=0;p<h.length;++p)void 0!==h[p]&&f.push(h[p]);d.obj[d.prop]=f}}return e},decode:function(t,e,n){t=t.replace(/\+/g," ");if("iso-8859-1"===n)return t.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(t)}catch(e){return t}},encode:function(e,t,n,r,i){if(0===e.length)return e;var o=e;if("symbol"==typeof e?o=Symbol.prototype.toString.call(e):"string"!=typeof e&&(o=String(e)),"iso-8859-1"===n)return escape(o).replace(/%u[0-9a-f]{4}/gi,function(e){return"%26%23"+parseInt(e.slice(2),16)+"%3B"});for(var a="",s=0;s<o.length;++s){var l=o.charCodeAt(s);45===l||46===l||95===l||126===l||48<=l&&l<=57||65<=l&&l<=90||97<=l&&l<=122||i===c.RFC1738&&(40===l||41===l)?a+=o.charAt(s):l<128?a+=u[l]:l<2048?a+=u[192|l>>6]+u[128|63&l]:l<55296||57344<=l?a+=u[224|l>>12]+u[128|l>>6&63]+u[128|63&l]:(s+=1,l=65536+((1023&l)<<10|1023&o.charCodeAt(s)),a+=u[240|l>>18]+u[128|l>>12&63]+u[128|l>>6&63]+u[128|63&l])}return a},isBuffer:function(e){return!(!e||"object"!=typeof e)&&!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},isRegExp:function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},maybeMap:function(e,t){if(m(e)){for(var n=[],r=0;r<e.length;r+=1)n.push(t(e[r]));return n}return t(e)},merge:function r(i,o,a){if(!o)return i;if("object"!=typeof o){if(m(i))i.push(o);else{if(!i||"object"!=typeof i)return[i,o];(a&&(a.plainObjects||a.allowPrototypes)||!l.call(Object.prototype,o))&&(i[o]=!0)}return i}var e;return i&&"object"==typeof i?(m(e=i)&&!m(o)&&(e=s(i,a)),m(i)&&m(o)?(o.forEach(function(e,t){var n;l.call(i,t)?(n=i[t])&&"object"==typeof n&&e&&"object"==typeof e?i[t]=r(n,e,a):i.push(e):i[t]=e}),i):Object.keys(o).reduce(function(e,t){var n=o[t];return l.call(e,t)?e[t]=r(e[t],n,a):e[t]=n,e},e)):[i].concat(o)}}},"../node_modules/side-channel/index.js":function(e,t,n){"use strict";function s(e,t){for(var n,r=e;null!==(n=r.next);r=n)if(n.key===t)return r.next=n.next,n.next=e.next,e.next=n}var r=n("../node_modules/get-intrinsic/index.js"),i=n("../node_modules/call-bind/callBound.js"),l=n("../node_modules/object-inspect/index.js"),c=r("%TypeError%"),u=r("%WeakMap%",!0),d=r("%Map%",!0),h=i("WeakMap.prototype.get",!0),f=i("WeakMap.prototype.set",!0),p=i("WeakMap.prototype.has",!0),m=i("Map.prototype.get",!0),g=i("Map.prototype.set",!0),v=i("Map.prototype.has",!0);e.exports=function(){var i,o,a,t={assert:function(e){if(!t.has(e))throw new c("Side channel does not contain "+l(e))},get:function(e){if(u&&e&&("object"==typeof e||"function"==typeof e)){if(i)return h(i,e)}else if(d){if(o)return m(o,e)}else{var t;if(a)return(t=s(t=a,e))&&t.value}},has:function(e){if(u&&e&&("object"==typeof e||"function"==typeof e)){if(i)return p(i,e)}else if(d){if(o)return v(o,e)}else if(a)return!!s(a,e);return!1},set:function(e,t){var n,r;u&&e&&("object"==typeof e||"function"==typeof e)?(i=i||new u,f(i,e,t)):d?(o=o||new d,g(o,e,t)):(t=t,(r=s(n=a=a||{key:{},next:null},e=e))?r.value=t:n.next={key:e,next:n.next,value:t})}};return t}},"../node_modules/webpack/buildin/global.js":function(e,t){var n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},"./contentful.js":function(e,t,n){"use strict";n.r(t),n.d(t,"createClient",function(){return r});var t=n("../node_modules/axios/index.js"),i=n.n(t),o=n("../node_modules/contentful-sdk-core/dist/index.es-modules.js"),a=n("./create-contentful-api.js"),s=n("./create-global-options.js");function l(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function c(r){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?l(Object(i),!0).forEach(function(e){var t,n;t=r,n=i[e=e],e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(i)):l(Object(i)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(i,e))})}return r}function r(e){if(!e.accessToken)throw new TypeError("Expected parameter accessToken");if(!e.space)throw new TypeError("Expected parameter space");const t=c(c({},{resolveLinks:!0,removeUnresolved:!1,defaultHostname:"cdn.contentful.com",environment:"master"}),e);e=Object(o.getUserAgentHeader)("contentful.js/9.2.4",t.application,t.integration);t.headers=c(c({},t.headers),{},{"Content-Type":"application/vnd.contentful.delivery.v1+json","X-Contentful-User-Agent":e});const n=Object(o.createHttpClient)(i.a,t),r=Object(s.default)({resolveLinks:t.resolveLinks,environment:t.environment,removeUnresolved:t.removeUnresolved,spaceBaseUrl:n.defaults.baseURL,environmentBaseUrl:n.defaults.baseURL+"environments/"+t.environment});return n.defaults.baseURL=r().environmentBaseUrl,Object(a.default)({http:n,getGlobalOptions:r})}},"./create-contentful-api.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",function(){return r});var g=n("../node_modules/contentful-sdk-core/dist/index.es-modules.js"),v=n("./entities/index.js"),b=n("./paged-sync.js"),y=n("./utils/normalize-select.js"),w=n("./utils/validate-timestamp.js");function o(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function _(r){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?o(Object(i),!0).forEach(function(e){var t,n;t=r,n=i[e=e],e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(i)):o(Object(i)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(i,e))})}return r}const k=172800;function r(e){let{http:o,getGlobalOptions:i}=e;const t=v.default.space["wrapSpace"],{wrapContentType:n,wrapContentTypeCollection:r}=v.default.contentType,{wrapEntry:a,wrapEntryCollection:s}=v.default.entry,{wrapAsset:l,wrapAssetCollection:c}=v.default.asset,{wrapTag:u,wrapTagCollection:d}=v.default.tag,h=v.default.assetKey["wrapAssetKey"],f=v.default.locale["wrapLocaleCollection"],p=e=>{const t=new Error("The resource could not be found.");return t.sys={type:"Error",id:"NotFound"},t.details={type:"Entry",id:e,environment:i().environment,space:i().space},t};function m(e){e.defaults.baseURL=i().environmentBaseUrl}return{getSpace:async function(){o.defaults.baseURL=i().spaceBaseUrl;try{var e=await o.get("/");return t(e.data)}catch(e){Object(g.errorHandler)(e)}},getContentType:async function(e){m(o);try{var t=await o.get("content_types/"+e);return n(t.data)}catch(e){Object(g.errorHandler)(e)}},getContentTypes:async function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};m(o);try{var t=await o.get("content_types",Object(g.createRequestConfig)({query:e}));return r(t.data)}catch(e){Object(g.errorHandler)(e)}},getEntry:async function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if(!e)throw p(e);try{var n=await this.getEntries(_({"sys.id":e},t));if(0<n.items.length)return a(n.items[0]);throw p(e)}catch(e){Object(g.errorHandler)(e)}},getEntries:async function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},{resolveLinks:t,removeUnresolved:n}=(m(o),i(e)),e=Object(y.default)(e);try{var r=await o.get("entries",Object(g.createRequestConfig)({query:e}));return s(r.data,{resolveLinks:t,removeUnresolved:n})}catch(e){Object(g.errorHandler)(e)}},getAsset:async function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};m(o),t=Object(y.default)(t);try{var n=await o.get("assets/"+e,Object(g.createRequestConfig)({query:t}));return l(n.data)}catch(e){Object(g.errorHandler)(e)}},getAssets:async function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};m(o),e=Object(y.default)(e);try{var t=await o.get("assets",Object(g.createRequestConfig)({query:e}));return c(t.data)}catch(e){Object(g.errorHandler)(e)}},getTag:async function(e){m(o);try{var t=await o.get("tags/"+e);return u(t.data)}catch(e){Object(g.errorHandler)(e)}},getTags:async function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};m(o),e=Object(y.default)(e);try{var t=await o.get("tags",Object(g.createRequestConfig)({query:e}));return d(t.data)}catch(e){Object(g.errorHandler)(e)}},createAssetKey:async function(e){m(o);try{var t=Math.floor(Date.now()/1e3),n=t+k,r=(Object(w.default)("expiresAt",e,{maximum:n,now:t}),{expiresAt:e}),i=await o.post("asset_keys",r);return h(i.data)}catch(e){Object(g.errorHandler)(e)}},getLocales:async function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};m(o);try{var t=await o.get("locales",Object(g.createRequestConfig)({query:e}));return f(t.data)}catch(e){Object(g.errorHandler)(e)}},parseEntries:function(e){var{resolveLinks:t,removeUnresolved:n}=i({});return s(e,{resolveLinks:t,removeUnresolved:n})},sync:async function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{paginate:!0},{resolveLinks:n,removeUnresolved:r}=i(e);return m(o),Object(b.default)(o,e,_({resolveLinks:n,removeUnresolved:r},t))}}}},"./create-global-options.js":function(e,t,n){"use strict";function r(t){return function(e){return Object.assign({},t,e)}}n.r(t),n.d(t,"default",function(){return r})},"./entities/asset-key.js":function(e,t,n){"use strict";n.r(t),n.d(t,"wrapAssetKey",function(){return o});var t=n("../node_modules/fast-copy/dist/fast-copy.js"),r=n.n(t),i=n("../node_modules/contentful-sdk-core/dist/index.es-modules.js");function o(e){return Object(i.freezeSys)(Object(i.toPlainObject)(r()(e)))}},"./entities/asset.js":function(e,t,n){"use strict";n.r(t),n.d(t,"wrapAsset",function(){return o}),n.d(t,"wrapAssetCollection",function(){return a});var t=n("../node_modules/fast-copy/dist/fast-copy.js"),r=n.n(t),i=n("../node_modules/contentful-sdk-core/dist/index.es-modules.js");function o(e){return Object(i.freezeSys)(Object(i.toPlainObject)(r()(e)))}function a(e){return Object(i.freezeSys)(Object(i.toPlainObject)(r()(e)))}},"./entities/content-type.js":function(e,t,n){"use strict";n.r(t),n.d(t,"wrapContentType",function(){return o}),n.d(t,"wrapContentTypeCollection",function(){return a});var t=n("../node_modules/fast-copy/dist/fast-copy.js"),r=n.n(t),i=n("../node_modules/contentful-sdk-core/dist/index.es-modules.js");function o(e){return Object(i.freezeSys)(Object(i.toPlainObject)(r()(e)))}function a(e){return Object(i.freezeSys)(Object(i.toPlainObject)(r()(e)))}},"./entities/entry.js":function(e,t,n){"use strict";n.r(t),n.d(t,"wrapEntry",function(){return r}),n.d(t,"wrapEntryCollection",function(){return l});var t=n("../node_modules/fast-copy/dist/fast-copy.js"),i=n.n(t),o=n("../node_modules/contentful-sdk-core/dist/index.es-modules.js"),a=n("./mixins/stringify-safe.js"),s=n("../node_modules/contentful-resolve-response/dist/esm/index.js");function r(e){return Object(o.freezeSys)(Object(o.toPlainObject)(i()(e)))}function l(e,t){var{resolveLinks:t,removeUnresolved:n}=t;const r=Object(a.default)(Object(o.toPlainObject)(i()(e)));return t&&(r.items=Object(s.default)(r,{removeUnresolved:n,itemEntryPoints:["fields"]})),Object(o.freezeSys)(r)}},"./entities/index.js":function(e,t,n){"use strict";n.r(t);var r=n("./entities/space.js"),i=n("./entities/entry.js"),o=n("./entities/asset.js"),a=n("./entities/asset-key.js"),s=n("./entities/content-type.js"),l=n("./entities/locale.js"),n=n("./entities/tag.js");t.default={space:r,entry:i,asset:o,assetKey:a,contentType:s,locale:l,tag:n}},"./entities/locale.js":function(e,t,n){"use strict";n.r(t),n.d(t,"wrapLocale",function(){return o}),n.d(t,"wrapLocaleCollection",function(){return a});var t=n("../node_modules/fast-copy/dist/fast-copy.js"),r=n.n(t),i=n("../node_modules/contentful-sdk-core/dist/index.es-modules.js");function o(e){return Object(i.freezeSys)(Object(i.toPlainObject)(r()(e)))}function a(e){return Object(i.freezeSys)(Object(i.toPlainObject)(r()(e)))}},"./entities/space.js":function(e,t,n){"use strict";n.r(t),n.d(t,"wrapSpace",function(){return i});var r=n("../node_modules/contentful-sdk-core/dist/index.es-modules.js");function i(e){return Object(r.freezeSys)(Object(r.toPlainObject)(e))}},"./entities/tag.js":function(e,t,n){"use strict";n.r(t),n.d(t,"wrapTag",function(){return o}),n.d(t,"wrapTagCollection",function(){return a});var t=n("../node_modules/fast-copy/dist/fast-copy.js"),r=n.n(t),i=n("../node_modules/contentful-sdk-core/dist/index.es-modules.js");function o(e){return Object(i.freezeSys)(Object(i.toPlainObject)(r()(e)))}function a(e){return Object(i.freezeSys)(Object(i.toPlainObject)(r()(e)))}},"./mixins/stringify-safe.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",function(){return i});var t=n("../node_modules/json-stringify-safe/stringify.js"),r=n.n(t);function i(e){return Object.defineProperty(e,"stringifySafe",{enumerable:!1,configurable:!1,writable:!1,value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"";return r()(this,e,t,(e,t)=>({sys:{type:"Link",linkType:"Entry",id:t.sys.id,circular:!0}}))}})}},"./paged-sync.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",function(){return r});var l=n("../node_modules/contentful-sdk-core/dist/index.es-modules.js"),s=n("../node_modules/contentful-resolve-response/dist/esm/index.js"),c=n("./mixins/stringify-safe.js");function o(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function u(r){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?o(Object(i),!0).forEach(function(e){var t,n;t=r,n=i[e=e],e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(i)):o(Object(i)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(i,e))})}return r}async function r(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};if(!t||!t.initial&&!t.nextSyncToken&&!t.nextPageToken)throw new Error("Please provide one of `initial`, `nextSyncToken` or `nextPageToken` parameters for syncing");if(t&&t.content_type&&!t.type)t.type="Entry";else if(t&&t.content_type&&t.type&&"Entry"!==t.type)throw new Error("When using the `content_type` filter your `type` parameter cannot be different from `Entry`.");var{resolveLinks:n,removeUnresolved:r,paginate:i}=u(u({},{resolveLinks:!0,removeUnresolved:!1,paginate:!0}),n);const o=await async function e(t,n,r,i){let o=i["paginate"];r.nextSyncToken&&(r.sync_token=r.nextSyncToken,delete r.nextSyncToken);r.nextPageToken&&(r.sync_token=r.nextPageToken,delete r.nextPageToken);r.sync_token&&(delete r.initial,delete r.type,delete r.content_type,delete r.limit);const a=await t.get("sync",Object(l.createRequestConfig)({query:r}));const s=a.data||{};n=n.concat(s.items||[]);return s.nextPageUrl?o?(delete r.initial,r.sync_token=d(s.nextPageUrl),e(t,n,r,{paginate:o})):{items:n,nextPageToken:d(s.nextPageUrl)}:s.nextSyncUrl?{items:n,nextSyncToken:d(s.nextSyncUrl)}:{items:[]}}(e,[],t,{paginate:i}),a=(n&&(o.items=Object(s.default)(o,{removeUnresolved:r,itemEntryPoints:["fields"]})),e=o.items,t=n=>(e,t)=>(t.sys.type===n&&e.push(Object(l.toPlainObject)(t)),e),{entries:e.reduce(t("Entry"),[]),assets:e.reduce(t("Asset"),[]),deletedEntries:e.reduce(t("DeletedEntry"),[]),deletedAssets:e.reduce(t("DeletedAsset"),[])});return o.nextSyncToken&&(a.nextSyncToken=o.nextSyncToken),o.nextPageToken&&(a.nextPageToken=o.nextPageToken),Object(l.freezeSys)(Object(c.default)(Object(l.toPlainObject)(a)))}function d(e){const t=e.split("?");return 0<t.length?t[1].replace("sync_token=",""):""}},"./utils/normalize-select.js":function(e,t,n){"use strict";function o(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function r(r){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?o(Object(i),!0).forEach(function(e){var t,n;t=r,n=i[e=e],e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(i)):o(Object(i)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(i,e))})}return r}function i(e){if(!e.select)return e;var t=Array.isArray(e.select)?e.select:e.select.split(",");const n=new Set(t);return n.has("sys")?e:(n.add("sys.id"),n.add("sys.type"),r(r({},e),{},{select:[...n].join(",")}))}n.r(t),n.d(t,"default",function(){return i})},"./utils/validate-timestamp.js":function(e,t,n){"use strict";n.r(t),n.d(t,"ValidationError",function(){return r}),n.d(t,"default",function(){return i});class r extends Error{constructor(e,t){super(`Invalid "${e}" provided, `+t),this.name="ValidationError"}}function i(e,t,n){if(n=n||{},"number"!=typeof t)throw new r(e,`only numeric values are allowed for timestamps, provided type was "${typeof t}"`);if(n.maximum&&t>n.maximum)throw new r(e,`value (${t}) cannot be further in the future than expected maximum (${n.maximum})`);if(n.now&&t<n.now)throw new r(e,`value (${t}) cannot be in the past, current time was `+n.now)}},0:function(e,t,n){e.exports=n("./contentful.js")},1:function(e,t){}},r={},i.m=n,i.c=r,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)i.d(n,r,function(e){return t[e]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=0);function i(e){var t;return(r[e]||(t=r[e]={i:e,l:!1,exports:{}},n[e].call(t.exports,t,t.exports,i),t.l=!0,t)).exports}var n,r});
//# sourceMappingURL=angular_combined.min.js.map